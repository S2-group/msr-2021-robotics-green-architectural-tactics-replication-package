[
{"title": "Navigation2 WG moved to 2:00 pm PST tomorrow 1/16/2020", "thread_contents": ["Due to the ROS2 TSC meeting being held at 3 pm tomorrow, we\u2019re meeting at 2 pm PST tomorrow instead. Sorry for any inconvenience this may cause.", "For calendar invites, add yourself to the google group: ", "\n", "Real-time meetings by Google. Using your browser, share your video, desktop, and presentations with teammates and customers.", "Meeting ID", "Phone Numbers", "(\u202aUS\u202c) \u202a+1 402-865-0286\u202c", "PIN: \u202a727 173 290#\u202c", "\nDiscussion of Nav2 WG changes announced ", "\nReview High / Critical Issues", "\nReview / discuss current PRs", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/navigation2-wg-moved-to-2-00-pm-pst-tomorrow-1-16-2020/12346"},
{"title": "Robot-localization porting to ROS2", "thread_contents": ["Hello ", ", as communicated over the email, I would like to thank you for your response. From your update, I understood that you managed to get robot_localization to build for ROS2, but have been running into issues with the ROS1 bridge, so you haven\u2019t really been able to test it. Do you have any further update for that? As I mentioned, Can you also please respond back with your input to following two question for my team?", "We are looking forward to hearing back from you.", "Thanks,", "\nDan", "So we had hoped to cross this bridge at ROSCon, but luck wasn\u2019t with us on the Lightning Talk random selection.", "Here\u2019s the state of\u2026state estimation on ROS2, at least from my (and Locus Robotics\u2019) view.", " is a decent generic EKF implementation, but it has some serious drawbacks, namely", "So my colleague at Locus, Stephen Williams, decided to write a new state estimation package for ROS1 and ROS2, which we are calling ", ". Fuse addresses literally all of the shortcomings of ", " (or will). The core ", " package ", ", but the core package lacks the ability to actually take in ROS sensor data. To that end, I am working on a ", " package that will replicate all of the behavior of ", ", but in the ", " framework. I may even put together a configuration file converter. ", " will contain, among other things, an explicit 2D kinematic model that is appropriate for differential drive robots, as that appears to be the most common use case for the current package. All of the other functionality will remain intact.", "But this post is about ROS2. We don\u2019t yet support ROS2 on ", ", but we are actively working on the problem, as time permits.", "As for ", ", I did put some time in to get it to build on ROS2, but I had some trouble with the ROS1 bridge and ", "'s custom service definitions. We\u2019re not actively using ROS2 yet, and my free time these days is extremely limited, so I was forced to shelve my efforts for now (I admittedly didn\u2019t put a lot of time into this).", "Anyway, this is a very long-winded way of saying that I welcome community involvement in a ROS2 port of ", ", but I expect support to be limited, especially once ", " is released for ROS2. It\u2019s a much more flexible and far better written package, and I think it\u2019ll serve the community well. Having said that, I don\u2019t have a firm timeline on when it will be available, so getting ", " properly working in ROS2 is a worthwhile exercise.", "In any case, the answers to your questions are", "The ROS2 source for ", " lives in the ", " branch of the ", " repo:", "The ", " test suite comprises bagged data from real and simulated robots. It should be sufficient to verify functionality.", "Finally, if you look at the ", " for ", ", you\u2019ll see that ", " has created a ticket to verify the ROS2 functionality of ", ". I only point this out to ensure that we don\u2019t duplicate efforts unnecessarily.", ", thanks for your detail reply. While you are focusing on Fuse core and fuse_rl that will eventually limit the usage of current r_l,  as you mentioned, \u201cgetting  ", "  properly working in ROS2 is a worthwhile exercise\u201d, we can continue to put effort on that line for now.", ", As Tom mentioned that you might be verifying the ROS2 functionality of r_l, please let me know if you want us to assist you in that exercise.", " - thank you for the offer. We haven\u2019t had the cycles to get to this yet, but are hoping to test it with our ROS2 navigation sometime before the Crystal release. However, if you have some time to do some initial testing of it please go ahead and do so. ", " on our team is working on AMCL and could work with you from our side to get it working at the system level with navigation in a week or two. We\u2019re having weekly Navigation WG meetings and we could make this a topic next week if needed.", ", sure and thank you for accepting our offer. We will start initial testing on this as soon as we are done with the current package that team is working. We will keep you posted on outcome once we do  testing on our side.", ", For r_l initial testing, we have pulled r_l source from ros2 branch of the r_l repo and also pulled test folder from kinetic-devel. We are currently workin on migraiting test cases and we have ported/executed only \u201cFilterBaseTest\u201d testcase successfully but for remaining testcases, we have observed few things below.", "We are heading towards migration using below steps.", "\nAs per migration guide, .test(launch) files should be converted into .py (launch.py) files using launch pkg in ros2.", "\nBut we are facing issues in loading yaml file with this launch file as there is no ros2 load param feature available.", "Also, in CMakelists.txt, .test files are added and those are getting executed with ros1 gtest.", "\nBut in ros2 when we convert these .test into .py, we are not able to invoke those files from CMakelist.txt.", "If anyne have any information/suggestion on the same, it will help us to move faster.", "Thanks very much for looking into all of this! Let\u2019s move this discussion to the r_l repo. I say we keep it under this issue:", "Would you mind re-posting this there? Thanks!", "Hi Tom and Everyone,", "Here is our proposal which we followed to test robot localization in ros2 and passed the tests successfully.", "As there are few test cases which depends on the rosbag and rosbag is not available in ros2, ros1 bridge should be used to complete those test scnerios.", "\n", "As per the migration guide, .test files should be converted into launch.py. But it will not work with \u201ccolcon test\u201d as rostest package is not available in ros2. Also it is not sure that how any test which depends on roscore, ros1 bridge, rosbag and then launch.py should work with colcon test as we can not add all these combinations in CMakeLists.txt.", "Test cases have been checked by launching specific launch files with other nodes running simultaneously on terminals.Automated scripts have been developed to test these scenrios which opens multiple terminals and run the specific commands related to that test case.", "As the launch.py files are launching multiple nodes, it is not exiting on its own.The exit is working with ctrlC. We are not sure if it is possible to exit test which depends on rosbag and ros1 bridge.The test cases which are independent of rosbag and ros1 bridge, can exit from launch.py wihtout ctrlC.", "Please provide your suggestions/feedback so that we can confirm on this test environment.", "\nAppreciate your response.", "\nDo let us know in case if you want try these test scenarios and need any help.", "Thanks.", "Let\u2019s keep this discussion over on the source repo, thanks. I\u2019ll respond when I have some time (travelling at the moment).", "Thanks Tom . We will be waiting for your response.", "As there are few test cases which depends on the rosbag and rosbag is not available in ros2", "The upcoming ROS 2 Crystal release does contain ", ".", "rostest package is not available in ros2", "While not complete or fully features the ", " package provides some ways to write tests based on launch files.", "As the launch.py files are launching multiple nodes, it is not exiting on its own", "You should structure you launch-based tests in a way that e.g. one of the processed (usually the one using gtest) terminates after running all tests. You can use event handlers in the launch file to then shutdown all the other processes cleanly. While using the legacy API the tests in the ", " package can serve as an example.", ", Thanks for your response. definitely it will help us and will follow the same.", "I am not sure if I should ask this here or at the repo.", "\nI would like to ask if the aforementioned drawbacks, like \u201cbias estimation for IMU data\u201d and \u201cgeneric 3D omnidirectional kinematic model that isn\u2019t appropriate for all robots\u201d, have been solved in the robot_localization dashing-devel branch.", "I don\u2019t think they\u2019re \u201cdrawbacks\u201d, those are examples of feature requests that no one has stood up to take ownership over to implement. They are not implemented in ROS2 (or ROS1) nor do I nor ", " (I believe) plan on implementing them.", "More than welcome to review PRs implementing though ", "I personally don\u2019t have nearly enough cycles to implement those features, as they represent major changes that will require serious refactoring. I don\u2019t get time to work on ", " for my day job, so those changes will have to come from user contributions.", "We haven\u2019t started the ROS2 port of ", " yet, but it is far easier to extend with new kinematic models, bias estimation, etc.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Where are the ROS2 specific src code /build system changes maintained? Don\u2019t see them in the git source repos.", "To verify ROS2 functionality, will it suffice if we just run existing ROS1 test suite (", ")? But these are all simulation tests ( ", " ).", "It doesn\u2019t handle bias estimation for IMU data", "It uses a generic 3D omnidirectional kinematic model that isn\u2019t appropriate for all robots", "It\u2019s hard to extend", "It needs some serious refactoring", "\n", "\n", "\n", "\n", "\n", "Testcases are dependent on .test (launch) file that needs rostest/rosparam/rosbag etc pkgs that used in ros1 and not avaiable in ros2.", "For \u201cfilter_base_diagnostics_timestamps\u201d testcase, diagnostics code is commented in r_l source.", "For \u201crobot_localization_estimator\u201d and \u201cros_robot_localization_listener\u201d testcase,  estimator and listener related header/class are not available in r_l source.", "\u201cnode_bag_pose_tester\u201d testcase is also depend on  tag (under .test file) for fatching parameter values from multiple .test file.", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n"], "url": "https://discourse.ros.org/t/robot-localization-porting-to-ros2/6379"},
{"title": "Replacement for Waffle.io", "thread_contents": [" is shutting down. Does the ROS2 development team have an alternative tool in the pipeline?", "Good question. Wonder if GitHub project boards cover this use-case.", "The issue is that GH project boards do not support pulling issues / PRs from multiple organizations, that would be the main blocker I believe.", "Is this issue you allude to?", "No, org-wide boards are already supported by GH. It\u2019s cross-org that is the problem.", "I linked to the exact comment that mentioned this, given the ticket seemed to be ill titled:", "Actually, what we need is to create cards referring to issues/PRs across organizations. \u2026 However, the search interface in \u201cAdd cards\u201d is limited to the current organization.", "Also dependencies aren\u2019t supported yet: ", "I love the comparison of Redmine and GitHub interfaces. It reminds me of a textbook I had back in university that had a screenshot of a popular-at-the-time Java development tool, with every possible sub-window open, and a 32x32 pixel area with an arrow pointing to it labeled \u201cwrite your code here\u201d.", "Having said that, the GitHub boards implementation is woefully lacking for anything beyond quickly visualising where issues are in the development process, and it\u2019s not even very good at that. The automation options are really limited and you have to manage most of the issues manually.", "Sorry for the necro, but I was wandering along the Git marketplace, and came across GitKraken Glo Boards. It looks a bit similar to how Waffle was laid out, so I was wondering if it might be a possible alternative?", "Unless it\u2019s just a visualizer for GitHub boards\u2026", "Thanks for the pointer. It\u2019s not really a dead thread, just dormant as we\u2019ll have to deal with this soon.", "Glo looks like a nice visualization but it doesn\u2019t look like it supports multiple repositories in a single board. If people would like to read more I found docs one the GitHub integration here: ", "Has there been any active discussion regarding this issue elsewhere?", "I\u2019m not aware of another thread. We\u2019ll be evaluating replacement options this week and I can make an update on this thread regarding any offline discussions/decisions.", "What was the resolution? For people looking to get involved most of the documentation still points to ", "Currently we are using GitHub Projects, but I don\u2019t think we have a public one just yet. It will likely take some weeks for us to sort out all of the details and then update the documentation, especially since we\u2019re in the middle of a release at the moment.", "As ", " mentioned in May, the ", " still points to ", ". Seems like this went cold after that. What\u2019s the current status of creating a public GitHub project?", "There are a few GitHub projects available under: ", "Their scope is different though from the one we had on ", ". While we used ", " to triage \u201call\u201d incoming tickets the GitHub projects only reference cherry-picked tickets and notes which are specifically related to a new ROS distro and/or patch release.", "What about ", "? Its completely open source and brings a lot of integrations and automation. I installed it on my local machine and it works but I have not used it over a longer time in a productive development team. Has somebody experience with that?", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/replacement-for-waffle-io/8355"},
{"title": "MoveIt 2 Beta Coming Soon", "thread_contents": ["We are planning our official release of MoveIt 2 Beta for February 14th ", "Our feature freeze will be February 1st, at which point we encourage beta testers. Stay tuned for a full write up of available features in the beta version release. Note there is still much more work to be done (that needs funding) to get the full MoveIt 2 completed.", "Which ROS2 Distributions are you releasing into?", " The MoveIt 2 Beta release will target ROS 2 Eloquent (see release versions on ", ").", "Right now we\u2019re completing the features that we want to provide in the release and will follow-up with more information in the upcoming announcements. Are you interested in testing the Beta version?", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/moveit-2-beta-coming-soon/12184"},
{"title": "SLAM Toolbox: The New Default SLAM Implementation for ROS2", "thread_contents": ["Because you haven\u2019t heard enough from me today\u2026", "Per discussions in the official ROS2 TSC Navigation working group (", "), and this thread: ", ", Matt and I with input from the rest of the working group and navigation community have decided to make ", " the new default ROS2 SLAM implementation to ship with ROS2 and Navigation.", "As part of this, we need to create more formality in process and maintainership moving forward to make sure its not a one-man show of Steve.", "On this discussion, we need the following:", "See this ticket for continual followup ", ".", "If you are a user, want to be a user, or have thoughts, please don\u2019t hesitate to reach out here, GitHub or via email. If you have interest in being a maintainer, even better!", "Project link: ", "\nROSCon talk: ", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Additional maintainers with expressed interest and use of SLAM Toolbox. This should include at least 1 additional company using SLAM Toolbox and a member of OSRF with administration rights in case other maintainers are needing to be added due to maintainers abandoning the project.", "Process around reviewing and merging pull requests and issue tickets", "Process or consistency around the release cycles and careful not to break API or functionality after a distribution has been released", "Adding additional testing capabilities for units and integration to increase the reliability of PRs behind builds and checking some basic math.", "\nCreate tutorials and additional documentation about use and examples"], "url": "https://discourse.ros.org/t/slam-toolbox-the-new-default-slam-implementation-for-ros2/12369"},
{"title": "ROS2 Tooling WG - Jan 17, 9AM PST (UTC-8)", "thread_contents": ["The next meeting of the ROS Tooling Working Group will be tomorrow ", "This week, we do not have a presentation scheduled.", "  : The link for the meeting is in the Google Groups invite - you can join that here ", "  :  ", "  :", "If you have anything you\u2019d like to add to this or a future meeting\u2019s agenda, please feel free to let us know at the beginning of the meeting, we have a light agenda tomorrow so we should be able to fit one additional topic.", "  :", "  :", "\nThe objective of this working group will be to develop and maintain select ROS 2 tools. We define a tool to be: software supporting developer productivity or robot operation, outside of the middleware communications functionality. This definition remains intentionally broad until it needs to be narrowed.", "The Tooling WG will focus on the roadmap, contribution, maintenance, and ownership of adopted subprojects. WG-owned GitHub repositories for subprojects will primarily live in the working group GitHub organization: ", ".", "Thanks all for attending!", "The video of the meeting is up", "\n", "High level summary:", "The full notes can be found at ", "As always, please let me know if you\u2019d like to get involved with contributions, help with backlog grooming or documentation, or show off anything at the next meeting!", "The next meeting is scheduled for 9AM PST on Friday January 31st. Let me know if the time zone is an issue for anyone who would like to attend. For this next meeting, we will be moving from Chime over to a Google Meeting, link TBD", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Last meeting action items review", "Project Status Updates\n", "Cross_compile", "System Metrics Collector", "Rosbag2", "GitHub Action", "\n", "Roadmap and Project Board Review", "The cross compile tool now supports ROS1 target workspaces, and is aiming for a release to PyPI before the next meeting", "Rosbag2 file compression has minimal changes left and will be landing soon", "The sysem metrics collector is quickly approaching its first release"], "url": "https://discourse.ros.org/t/ros2-tooling-wg-jan-17-9am-pst-utc-8/12368"},
{"title": "Adding image transport message filter subscription to callback group", "thread_contents": ["Correct me if I\u2019m mistaken, but there currently doesn\u2019t seem to be a good way of associating image transport message filters subscriptions to a node\u2019s specific callback group. I\u2019m using image transport message filter to synchronize stereo image topics, while designating the stereo image vs. IMU message subscriptions to mutually exclusive  callback groups.", "In particular the ", ", a child class of ", ", constructor doesn\u2019t match the the usual ", " function signature, allowing for a ", " option to specify which node\u2019s ", " to use when spinning.", "I\u2019ll first ask if this API was intentional, or just something not yet ported with the recent addition of executors. If the latar, I could try an open a PR to extended ", " to take a option argument, but was noticing some TODOs about QoS deprications, and wanted to check first if this API is to be restructured in some other way soon.", "Also, after adding filter subscriptions to a specified callback group, would additional changes be required to ensure any synchronization work behind the scenes be computed in same callback group? I\u2019m a bit fuzzy on what thread the registered callback for a respective ", " would be executed under.", "As a concrete example using image transport + message filter + callback groups, here are left_sub_ and right_sub_ image subscriptions registered to a synchronizer that should instead be added to ", ":", "I\u2019ll first ask if this API was intentional, or just something not yet ported with the recent addition of executors.", "This is not intentional, ", " and ", " should match the latest-and-greatest APIs available in ", ".", "wanted to check first if this API is to be restructured in some other way soon.", "I think that\u2019s a goal, but I don\u2019t know if anybody has it on their roadmap for ", ", PRs would be appreciated.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["left_sub_.subscribe(this, left_topic, hints.getTransport());", "right_sub_.subscribe(this, right_topic, hints.getTransport());"], "url": "https://discourse.ros.org/t/adding-image-transport-message-filter-subscription-to-callback-group/12413"},
{"title": "How to develop automotive grade applications", "thread_contents": ["Hi all,", "\nI get asked a lot about how do we approach the development of automotive grade applications. Our own Chris has written an excellent blog post about how to design a LiDAR-based (specifically NDT-based) localization algorithm:  ", ".", "The article is 10min long but entertaining and hopefully explains that writing requirements, doing failure analyses or developing test-driven code actually results in fantastically reliable code.", "This is part 1 and we will follow with the part 2 (implementation) and part 3 (testing) in the coming weeks.", "LMK what you think, D.", "This is a fantastic article, and I\u2019m looking forward to reading parts two and three. The explanations are clear and it lays out the steps to follow well. I\u2019d like it to be required reading for the engineers here.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/how-to-develop-automotive-grade-applications/12514"},
{"title": "Getting python argparse to work with a launch file or python node", "thread_contents": ["Hi everyone,", "Here is a quick share about how to get ", " to work with a launch file. To start create a function in your launch file or python node file that contains the following.", "As you can see on the last line, you must index the ", " to the fourth value. If you don\u2019t and just pass ", ", you get the following if you attempt to run ", ":", "The first 4 values passed to ", " are the original commands that you run. If you don\u2019t want to import the ", " library, you can use the ", " library and replace the value in ", " with:", "In your ", " function, you can get your parsed launch or node arguments with:", "Hope that helps!", "very nice ", " , thanks.", "When you call help, however, the thread gets stuck. How to solve that issue?", "Hi ", ", would you mind making a more detailed question on ", "? Discourse is not meant for these kinds of questions. When you do make it send me a message here and I can answer your question there! ", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/getting-python-argparse-to-work-with-a-launch-file-or-python-node/10606"},
{"title": "ROS 2 Real-time Working Group Online Meeting 8 - Jan 8, 2020, 7AM PDT (UTC-8)", "thread_contents": ["Happy NY everyone.", "RTWG folks, here is an agenda for our next meeting. Please add your topics if you have them.", "Previous meeting: ", ".", ":  As Dejan is at CES this week, ", " will coordinate the meeting.", "From previous meeting minutes: ", " ", " FYI", "Meeting coordinates:", "Topic: ROS 2 Real-time Working Group Online Meeting 8 - Jan 8, 2020, 7AM PDT (UTC-8)", "\nTime: Jan 8, 2020 07:00 AM Pacific Time (US and Canada)", "Join Zoom Meeting", "\n", "Zoom is the leader in modern enterprise video communications, with an easy, reliable cloud platform for video and audio conferencing, chat, and webinars across mobile, desktop, and room systems. Zoom Rooms is the original software-based conference...", "\n", "Meeting ID: 439 517 570", "\nPassword: 887389", "One tap mobile", "\n+16699006833,439517570# US (San Jose)", "\n+19294362866,439517570# US (New York)", "Dial by your location", "\n+1 669 900 6833 US (San Jose)", "\n+1 929 436 2866 US (New York)", "\nMeeting ID: 439 517 570", "\nFind your local number: ", " We would like to request a 5 minute slot in today\u2019s RTWG meeting to present our current status on the testing platform.", "Here are the minutes from last week\u2019s meeting. Next one should be January 22, 2020.", "Video recording: ", "I have connected ", " and ", " over email regarding 5.4.", "hi all, the coordinates for today\u2019s call are here:", "Topic: RTWG", "\nTime: Jan 22, 2020 07:00 AM Pacific Time (US and Canada)", "Join Zoom Meeting", "\n", "Zoom is the leader in modern enterprise video communications, with an easy, reliable cloud platform for video and audio conferencing, chat, and webinars across mobile, desktop, and room systems. Zoom Rooms is the original software-based conference...", "\n", "Meeting ID: 601 018 115", "\nPassword: 852952", "One tap mobile", "\n+16699006833,601018115# US (San Jose)", "\n+19294362866,601018115# US (New York)", "Dial by your location", "\n+1 669 900 6833 US (San Jose)", "\n+1 929 436 2866 US (New York)", "\nMeeting ID: 601 018 115", "\nFind your local number: ", "I would like to join the meeting and I\u2019m reading existing minutes.", "\nCould you share the latest one?", "Best regards.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Update: LET executor => ", "\n", "Update: Single-process, real-time rmw  => ", "\n", "\n", ": please provide feedback on  ", "\n", "\n", "DDS direct access\n", "\n", ": provide more concrete set of requirements for this use case", "\n", "ROS 2 F feature roadmap will be finalized early 2020\n", "\n", ":  Please provide your desired features to the roadmap so Dejan can take them to the TSC", "Below is an input from Apex.AI, please feel free to comment on it.", "\n", "Adopt DDS standard for communication. This is the most production-ready", "Strive to the performance parity with the underlying middleware", "Ensure new components are real-time in terms of blocking call and memory management.", "Do not duplicate functionality (e.g. for Logging use ", ", for time use ", ")", "Measure performance: using performance testing framework presented in item 1 here: ", "\n", "Changes affecting API\n", "API review, specifically user facing API in rclcpp and rclpy (also necessary for quality levels) -> ", "\n", "Revisit message allocators, consider using std::polymorphic_allocator to address problems with custom allocators -> ", "\n", "Support for IDL keys in ", "\n", "\n", "New features\n", "RMW interface: notification about event, e.g. new entities, matching of endpoints, etc. -> ", "\n", "RWW configuration: unified/standard way of configuring the middleware -> ", "\n", "rosbag: support recording services (and actions) -> ", "\n", "ros1_bridge: support actions -> ", "\n", "\n", "Executor improvements and determinism -> ", "\n", "Missing features - valuable for porting code\n", "Introspect QoS settings for remote topics (e.g. enables recording reliable and best-effort topics) -> ", "\n", "Logging subsystem: configuration file, per-logger configuration (ala rqt_logger_level) -> ", "\n", "\n", "LET executor update\n", "Working on addressing comments with new PR on rclc (within the next week)", "Planning new/additional features", "Add trigger conditions. In example for multiple sensor data (Lidar+IMU) and trigger for one topic.", "Working on testbench with Nobleo to compare the performance of different executors.", "\n", "Single-process, real-time RMW\n", "Will come back to it next meeting", "\n", "DDS direct access\n", "Will come back to it next meeting", "\n", "ROS 2 F feature roadmap\n", "\n", ": regarding improve ROS 2 performance to match DDS performance. This may imply changes in the ROS 2 API. What is the input of Open Robotics on this?", "\n", "Update on Silexica Performance Testing Platform from ", "\n", "First steps for putting platform on AWS", "Measurements on x86_64 system with RT_PREEMPT using pendulum demo: want to measure stability", "Question about RT pendulum demo: is it up to date with master?\n", "\n", ": currently on dashing, plan on updating it for eloquent. Have been asked for support for crystal.", "\n", "Question about AWS hardware pool (AI for ", " from last meeting, pushed to next one)", "\n"], "url": "https://discourse.ros.org/t/ros-2-real-time-working-group-online-meeting-8-jan-8-2020-7am-pdt-utc-8/12214"},
{"title": "ROS 2 Security Working Group January Meeting", "thread_contents": ["Hey everyone. The January 2020 ROS 2 Security Working Group meeting will be on Tuesday, January 28th, at 18:30 UTC, via ", " (or by phone: +1 385-325-0281\u202c PIN: \u202a422 295\u202c#).", "Agenda: ", "If you have anything you\u2019d like to add to the agenda, either write to it or make a comment here.", "See you all then!", "really appreciate for taking care of WG, but it is really hard to participate in the meeting from Asia Local Time.", "especially on this, i want to hear about opinions from people with security perspective.", "thanks,", "especially on this, i want to hear about opinions from people with security perspective.", "Well I must say I\u2019m very unhappy with the management so far of the security working group. I will share my cents on a few things that must be improved:", "I must say I\u2019m personally a bit concerned about other matters such as the definition of a Vulnerability Disclosure Policy being discussed ", ". In my opinion this is being approached unilaterly and purely from a vendor\u2019s perspective (note that it\u2019s security researchers the ones reporting!) and is leaving aside likely the most important aspect aside: ", ".", "Thank you both for chiming in!", "really appreciate for taking care of WG, but it is really hard to participate in the meeting from Asia Local Time.", "Yeah timezones are hard! Our ", " to account for the varied timezones. For example, our December meeting was at 23:00 UTC. The February meeting is at 22:00 UTC. Is that a time you can make, or shall we add another to the rotation?", "This is not the first time we ask for more friendly-time meetings.", "You\u2019re right. ", " asked ", " to see if we could include an asia-friendly timezone, which is when we started alternating times. Are you referring to another request?", " : Following the ", " of the WG, I filed ", " for more direct participation yet this hasn\u2019t been reviewed so far. This is surprising to me given \u201chow fast\u201d things seemed to be changing in the management of this group. Sometimes even ", "!", "The idea with membership of the github org is that it revolves around projects within the org. Despite merging the community doc, we don\u2019t have any yet, so we\u2019ve been waiting to review applications until we do. I should have mentioned this on the application, that was my mistake, and it\u2019s been rectified now.", " : Since Canonical has taken over the coordination of this group I\u2019ve seen several decisions that were understood as work of the WG but didn\u2019t receive consensus AFAIK. One recent one is ", " which unilaterally sets up vetos for Canonical themselves.", "In accordance with the ", ":", "Each WG must be chaired by a TSC member. The chair of a WG is responsible", "\nfor all aspects of that WG\u2019s operation, including membership, meeting schedule,", "\nand decision-making.", "We\u2019re simply outlining the role of the chair in the community doc. Teams need leaders, and leaders need the ability to effect change. If you disagree with it, let\u2019s chat at the meeting, or in Matrix if the time doesn\u2019t work.", "I must say I\u2019m personally a bit concerned about other matters such as the definition of a Vulnerability Disclosure Policy being discussed ", ".", "That google doc is the perfect place to discuss your concerns, like we\u2019re doing.", " we\u2019ve moved the meetings to twice a month (check out the ", "). Please do let me know if that later slot works for you; we can push it back further if necessary. We ran out of time today to discuss the 1-1 mapping again, so we\u2019ll put it on the next agenda in a few weeks, which should be a better fit for your tz ", " .", "Yeah timezones are hard!", "yes, totally understood. no pressure.", "For example, our December meeting was at 23:00 UTC. The February meeting is at 22:00 UTC. Is that a time you can make, or shall we add another to the rotation?", "that i could manage usually, so we already taking rounds!", "\ni just jumped on this time too early, sorry about that.", "Please do let me know if that later slot works for you; we can push it back further if necessary.", "thanks, 2/11 works for Japan.", "Thanks for the follow up ", ". I\u2019m leaving here a note for compleness as well.", "We\u2019re simply outlining the role of the chair in the community doc. Teams need leaders, and leaders need the ability to effect change. If you disagree with it, let\u2019s chat at the meeting, or in Matrix if the time doesn\u2019t work.", "We had a discussion at the last WG meeting and still found ourselves in disagreement. I further asked for reasoning on these changes and ", " in an attempt to be constructive.", "Each WG must be chaired by a TSC member. The chair of a WG is responsible", "\nfor all aspects of that WG\u2019s operation, including membership, meeting schedule,", "\nand decision-making.", "That last part of the charter seems to be enforced in here in quite a drastic manner ", ", don\u2019t you think? After all, as things are, we introducing lock-in in this WG.", "Also, we want ", " participation and contributions on the WG and decision-making which IMHO, should somewhat be based on the participants, of course while steered by the lead (Canonical as of now).", " ", " (cc: ", ")", "The TSC charter is a bit under-specified on how working groups operate and the exact responsibilities of chairs, probably by design. I don\u2019t like the idea of getting overly-formal and ending up like the ISO, but I\u2019m going to ask that we discuss clause 5 of the TSC charter in the next TSC meeting so we can clarify what it means to be \u201cresponsible\u201d for membership and decision-making. I don\u2019t think the charter drafters intended to give someone a veto or to make groups have a moderated membership, but it\u2019s best we let the TSC discuss and decide.", "Who knows, perhaps the working groups described in clause 5 are a completely separate concept from the working groups we currently have, meant to be of a small number of TSC members for a short-term purpose?", "or to make groups have a moderated membership", "To be clear, it\u2019s not our intent to have a gate to participation in the working group. Meetings and discussions are open to everyone. However the purpose of the github org is to maintain subprojects as a working group, and in that case, levels of access aren\u2019t (and shouldn\u2019t be) handed out to anyone who requests it. That\u2019s the process that we\u2019re currently trying to develop.", "We had a discussion at the last WG meeting and still found ourselves in disagreement. I further asked for reasoning on these changes and ", " in an attempt to be constructive.", "We talked for 30 seconds at the end of a long meeting, with the conclusion being to continue in Matrix. Which we\u2019re doing. And here. And now in github. All these threads are making for a really disjoint conversation. I\u2019m always happy to talk, but I think it would be less confusing for everyone involved if we just focused on one of them. Even better, I suggest we move the conversation to ", ".", "To be clear, it\u2019s not our intent to have a gate to participation in the working group. Meetings and discussions are open to everyone. However the purpose of the github org is to maintain subprojects as a working group, and in that case, levels of access aren\u2019t (and shouldn\u2019t be) handed out to anyone who requests it. That\u2019s the process that we\u2019re currently trying to develop.", "That makes more sense to me.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", ": This is not the first time we ask for more friendly-time meetings. Today\u2019s one is 7.30 PM CET time. There was some \u201cplanning\u201d reaction reflected at ", " but still no action that I\u2019ve felt.", "\n", ": Following the ", " of the WG,  I filed ", " for more direct participation yet this hasn\u2019t been reviewed so far. This is surprising to me given \u201chow fast\u201d things seemed to be changing in the management of this group. Sometimes even ", "!", "\n", ": Since Canonical has taken over the coordination of this group I\u2019ve seen several decisions that were understood as work of the WG but didn\u2019t receive consensus AFAIK. One recent one is ", " which unilaterally sets up vetos for Canonical themselves."], "url": "https://discourse.ros.org/t/ros-2-security-working-group-january-meeting/12481"},
{"title": "C/C++ minimal source-tree-only ROS2 variant?", "thread_contents": ["I\u2019ve been working on producing a ROS2 build for a custom SBC (aarch64) platform and have found that with the latest tree, I am able to carefully produce a build for this custom distro, with no external rosdep dependencies, using the Linaro cross-compiler.", "The build should be perfectly reproducible using the README from the following: ", "Some features of this build:", "The install folder comes out to ~80MB, which is fairly reasonable for lots of SBCs", "This is extremely promising for the \u201cminimal-but-still-Linux\u201d compute use case.", "My question is, (maybe largely directed ", " and/or ", " ), does OpenRobotics also see the value in pursuing this highly limited variant, for allowing users to plug in their own compilers and sysroots, and run ROS2 on their resource-limited boards? The CLI, python client, GUIs, etc, can still all be used from the developer\u2019s machine, but not on the target robot, which seems like a plus for a lot of use cases.", "If so, what would we call it? Since \u201ccore\u201d is taken. Perhaps \u201cminimal\u201d? \u201cCore\u201d could then build on top of \u201cminimal\u201d, keeping the upstream variants intact.", "This variant would probably be more source quality control than binary distribution, since the target  device distributions may not (mine doesn\u2019t) have a package manager. The user would gain some guarantee that the source within the scope of \u201cminimal\u201d has no external dependencies outside a few select common linux libraries (thinking zlib, openssl specifically)", "It seems like it wouldn\u2019t be too hard to set up a CI job for this target variant and ensure it keeps working at least for a \u201cvanilla linaro aarch64 sysroot\u201d situation, if such a thing was desired.", "Let me know what you think!", "Oh, this looks nice!", "\nIt should enable the use of ROS 2 on minimal embedded systems built with ", ".", "I would suggest to propose a ROS variant for this in ", ". The content of the variant should be described in words with a rational why some packages are included while others are skipped. Based on that rational it might be easier to settle on a name for that variant.", "A repos file isn\u2019t needed imo then since the variant should be mapped to a metapackage and the set of packages can be collected using that with the help of ", " (with the advantage of always being up-to-date).", "Thanks for publishing this! I recently went through the exact same process to get ROS2 dashing running on an OpenEmbedded-based i.MX6 device, and came down to a very similar set of workarounds and subest of repos.", "I would find an officially curated variant very useful. Do you plan on submitting a proposal per Dirk\u2019s suggestion? Happy to help if you want.", "Yeah, I am working on a REP-2001 proposal. It hasn\u2019t been very fast going but it\u2019s definitely still on my mind. I\u2019ll make sure to put up a PR by the end of the week. I think there will be a few open questions to resolve, but probably better to put something out there and start the conversation ", "Not quite by the end of the week, but here\u2019s a first shot at proposing this variant. ", " - conversation and feeback please!", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Using cyclone DDS - because no asio external dependency", "disabling log4cxx and just relying on spdlog", "rclcpp only", "No python, therefore no CLI"], "url": "https://discourse.ros.org/t/c-c-minimal-source-tree-only-ros2-variant/11760"},
{"title": "MoveIt 2 Beta - Feature List", "thread_contents": ["With today\u2019s API freeze we\u2019re publishing the official feature list and provide some updates around the progress and Beta testing. The next two weeks until the release we\u2019re still working on completing parameter and launch setup, as well as general debugging, cleanup and documentation.", "Over the last months we\u2019ve been working very hard to migrate a major part of MoveIt to ROS 2. Listed below are all ported packages that will be available for the release (subitems indicate ported libraries in only partially ported packages):", "With the ported packages the feature list of ", " covers pretty much all core functionalities that MoveIt provides, such as motion planning, collision checking, trajectory execution, IK and visualization in RViz.", "Unfortunately, there are still some packages that have not been ported yet due to lack of funding. The high-level interfaces MoveGroup and MoveGroupInterface won\u2019t be ready for the release, just as the dependent MotionPlanningDisplay and MoveItSetupAssistant. You can find a complete list of the migration progress in this ", ". Please contact PickNik if you are interested in funding or otherwise supporting the full migration of MoveIt to ROS 2.", "We will provide a MoveItCpp demo setup with example code that we welcome you to play around with and try to break as much as possible. As a Beta tester you are invited to reproduce the demo with other robot setups as well while documenting and filing any issues you find. Ideally, you would provide PR\u2019s with according fixes as well ;). More information about how to participate in the Beta testing phase will be given with the release announcement. Let us know if you are interested in being a Beta tester.", "If MoveIt2 is more or less a straight port from MoveIt, what\u2019s your plan for keeping them both in sync? I\u2019m curious if you\u2019re going to be moving any substantial development from ROS to ROS2 or if they might deviate over time.", " That\u2019s a point we are still discussing. For now we are performing periodic syncs with the MoveIt 1 master branch. With ongoing MoveIt 2 roadmap progress and larger refactoring efforts this will probably not be feasible anymore, so we will at some point end up with deviating code bases. We are still putting a lot of effort in to MoveIt 1 and the Noetic release is just around the corner, so I wouldn\u2019t say we are moving \u201csubstantial development\u201d away from ROS 1 very soon. However, we hope to see a growing interest and support for MoveIt 2 which would allow us to put more effort on the new features we\u2019ve planned for the future.", "Great stuff seeing the beta release coming out. Well done pushing it out guys.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["moveit_core", "moveit_ros_planning", "moveit_planners_ompl", "moveit_planning_interface\n", "moveit_cpp", "moveit_common_planning_interface_objects", "\n", "moveit_kinematics\n", "kdl_kinematics_plugin", "lma_kinematics_plugin", "srv_kinematics_plugin", "\n", "moveit_ros_visualization\n", "robot_state_rviz_plugin", "planning_scene_rviz_plugin", "rviz_plugin_render_tools", "\n", "moveit_plugins\n", "moveit_simple_controller_manager", "\n", "occupancy_map_monitor"], "url": "https://discourse.ros.org/t/moveit-2-beta-feature-list/12612"},
{"title": "ROS 2 Real-time Working Group Online Meeting 9 - Jan 22, 2020, 7AM PDT (UTC-8)", "thread_contents": ["Previous meeting: ", "Meeting minutes:", "Recordings: ", "See above for context", "Hi RTWG team:", "For the tomorrow and next meetings I implemented 2 suggestions by ", "With this you hopefully do not need to scramble for the meeting coordinates every time before the next meeting.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["LET executor\n", "Jan: ", "\n", "\n", " Wants to have the PR this week.", "William will try to review. For rclc we need a reviewer, William says that we can review and merge ourselves since it is rclc. Carlos should also review.", "Focus of this PR is on determinism.", "\n", "Executor re-work\n", "William clearing existing backlog", "He will then re-work the executor staff. He will start with the issue and the design document. Or instead make it as a PR to rclcpp implementation.", "\n", "rmw_cyclone_dds + iceoryx: in progress\n", "alternative 1: iceoryx built into cyclone", "alternative 2: cylcone bolted on iceoryx as a gateway => some layer => additional process", "\n", "rmw_cyclone_dds\n", "Eric working on: Full QoS support and security", "\n", " ", ": provide a description", "\n", "\n", "Post in the discourse Next Gen Stuff with the executive summary => ", " did you manage to do it?", "\n", "\n", "ADLINK made available:\n", "OpenADx TC Jan 21 meeting minutes ", "\n", "\n", "\n", "distinguishes what is standard and what is vendor specific", "\n", " ", ": is there a standard header to include?", "\n", "\n", "Performance Testing Farm\n", "it would need to be included in the OSRF buildfarm", "test against every change that OSRF makes", "Kai to first get it to run with Carlos and then provides instructions", "\n", "\n", " ", ": provide a description", "\n", " ", ": is there a standard header to include?", "\n", " ", ":  Wants to have the PR this week.", "I created a recurring Zoom meeting which you will find in the calendar of the RTWG group listed here ", ".", "Meeting minutes will be in this GDoc ", " (also linked in the calendar invite)."], "url": "https://discourse.ros.org/t/ros-2-real-time-working-group-online-meeting-9-jan-22-2020-7am-pdt-utc-8/12623"},
{"title": "REP 105 and the outputs of localisers", "thread_contents": ["I was looking at REP 105 today to understand what a localisation node should produce for maximum compatibility with the ROS ecosystem, and I\u2019ve come to the conclusion that we need to specify some more, either in REP 105 or in another REP.", "In ", ", it says this:", "The transform from odom to base_link is computed and broadcast by one of the odometry sources.", "The transform from map to base_link is computed by a localization component. However, the localization component does not broadcast the transform from map to base_link. Instead, it first receives the transform from odom to base_link, and uses this information to broadcast the transform from map to odom.", "This ", " that transforms are published and consumed throughout a navigation system in ROS.", "What is catching me up is that this is not consistent with what I\u2019ve seen elsewhere in the ROS ecosystem or what I remember using myself over the years.", "Although memories can be blurry and impacted by a lack of caffiene, looking around a bit showed that:", "So what should localisation sources publish? Should they publish ", ", or should they broadcast transforms, or should they do both?", "The catch with broadcasting transforms, as ", " pointed out to me, is that there is no covarience information, which makes it hard to do things like combine multiple sources and filter data.", "Are transforms meant only to be broadcast by the end of the localisation chain, after all localisation data sources have been filtered and combined?", "This ", " that transforms are published and consumed throughout a navigation system in ROS.", "I\u2019m not exactly sure where that comment comes from. Can you clarify? From the quoted REP 105, I think the wording is not ideal, its a little verbose for just trying to say: ", ". The rest of the words about how that transform is computed are unnecessary. Also the fact it doesn\u2019t mention SLAM, only localization, is interesting. I\u2019m not sure if that was an intentional exclusion or just wasn\u2019t on the mind at time of writing.", "Just because ", " ", " produces a ", ", doesn\u2019t mean it is required to be REP-105 compliant. You can be compliant and also then provide additional information.", "The ", " takes in \u2026", "Those are indeed 2 valid options of things for robot localization to fuse. In the situation you present where you\u2019re using RL as a localizer, then RL itself is now the \u201clocalization component\u201d, and not the inputs to RL. Its then on RL to produce the transformation to be REP 105 compliant. Regardless, the additional publication of other messages (ie ", ") are not necessary and shouldn\u2019t be explicitly required for the minimum REP standard in my opinion.", "To address your last 3 paragraphs respectively, and to summarize my opinion:", "Separately, if you\u2019re asking what I think a localizer ", " produce, I think that includes a ", ". But REP-105 is concerned with frame convention, not localizer conventions. If you wanted to add the requirement to publish a pose, that should be a separate REP since REP-105 is dealing exclusively with frames, usually in TF, which doesn\u2019t take in covariance information. If you\u2019re working with multiple localization components, fusing them, and outputting a composite localization component, I agree each of them should be compliant so they are independently valid as localization components themselves (to have reusability). However, as far as the block diagram of your system is concerned, the \u201clocalization component\u201d is the entire entity of the individual elements going into the fusion method and then served to the system. So REP-105 applies to the entirety of it, which is really then just on RL, and the individual localization components do not need to strictly follow the existing REP (but should, if you don\u2019t want to make trouble for yourself).", "Summary of this opinion:", "Just because ", " ", " produces a ", " , doesn\u2019t mean it is required to be REP-105 compliant. You can be compliant and also then provide additional information.", "This is the crux of my question. You can produce a pose or a transform, with or without a covariance, and there are advantages to each, but REP 105 only allows one.", "I guess the best solution then is that any localisation system should produce both, with ", " output being used if you feed its result into another localisation system, and the TF transform being used if it\u2019s the end result? So that section of REP 105 only applies to end-of-pipeline localisation results.", "In otherwords, this:", "Probably, yeah we should make a new REP for localization / mappers to provide not only REP-105 frames, but also the pose with covariance on update for a potential upstream use.", " Any thoughts on this topic?", "Also ", ".", "I\u2019ve realised I\u2019m probably misusing the word \u201clocaliser\u201d in the above posts. Everywhere you see \u201clocaliser\u201d, think \u201csource of robot position information\u201d. I\u2019m not just concerned with things that localise in a map, but also things like IMUs, GNSS sensors, visual odometry updates, and so on. Some produce an instantaneous pose in their coordinate system and some produce an offset since their last frame.", "\u2026 but also things like IMUs, GNSS sensors, visual odometry updates, and so on. Some produce an instantaneous pose in their coordinate system and some produce an offset since their last frame.", "That drastically changes the scope of the discussion, and likely invalidates my commentary above.", "With that said, all the examples you provided above have standard messages in ", " or ", " which already include covariance information.", "I think if you want to expand the scope, we\u2019d need to create some coherent narrative or theme that ties all of those sensor / derivative / localization / motion estimators together. I think that might be a challenge. I would restrict it to localizers. When you start talking about things that just compute changes in pose, it becomes unclear whether that should apply to the ", " or ", " transform. And in fact, they could be applied more conventionally to the ", " problem.", "And in fact, they could be applied more conventionally to the  ", "  problem.", "+1", "Are transforms meant only to be broadcast by the end of the localisation chain, after all localisation data sources have been filtered and combined?", "The main link in your transform tree defined in the REP should be your final fused best estimate of the combined result that\u2019s published as the ", " trasform. The most robust localization will usually be a fusion of multiple sources with different uncertainties. If these are broken apart and structured in different nodes they will need to communicate that information through various mechanisms such as ", " messages. They can potentially provide even more information. A lot of these interfaces are often defacto provided by the first implementation. I agree with ", " a new REP to define a standard way to share different odometry or localization estimates would likely be valuable as we get more implementations and start to consider different domains.", "If you\u2019re providing an intermediate localization solution the transform output can be suppressed or often is published as a child/leaf transform for convenient debugging and visualization.", "Also the fact it doesn\u2019t mention SLAM, only localization, is interesting. I\u2019m not sure if that was an intentional exclusion or just wasn\u2019t on the mind at time of writing.", "This is not excluding SLAM, The SLAM is simultaneous ", " and mapping. SLAM is just one class of localization algorithm that happens to be building the map at the same time.", "If you produce a transform, you need to know where you are in the tree, either via configuration or querying TF2. This makes it more annoying for the publisher and harder to just shove a localisation source into your system and let the consumers decide what frame they want the information in. On the other hand it makes things more absolute in terms of knowing exactly what the message means, which is a bonus for debugging.", "The goal of REP 105 is that users of the transform frames don\u2019t need to worry about the choice of the implementers of the localization methods. It is the responsibility of the developer setting up the localization to make sure that there\u2019s the appropriate end product that\u2019s easy for downstream developers to be able to rely on generic frames. The main point of the REP is to avoid the problem of \u201clet the consumers decide what frame they want the information in\u201d. The consumers have a list of frames with specific semantic meaning that are defined in the REP. If your implementation provides an additional frame with different semantics that\u2019s great and people can use that. But if it\u2019s not in the standard any code written against that will not translate to other implementations. As the implementer you can add any complexity you want or need. The ability to \u201cjust shove a localization source into your system\u201d should not change the output that downstream developers expect.", "The majority of consumers of transform information do not care about anything other than that they have the best estimate possible of the odometry or localization available. And the REP just defines specifically that output.", "I think if you want to expand the scope, we\u2019d need to create some coherent narrative or theme that ties all of those sensor / derivative / localization / motion estimators together. I think that might be a challenge. I would restrict it to localizers. When you start talking about things that just compute changes in pose, it becomes unclear whether that should apply to the ", " or ", " transform. And in fact, they could be applied more conventionally to the ", " problem.", "Indeed the majority of fusion right now is focused on the odometry layer usually merging, wheel encoders, IMUs, and potentially visual odometry. There are different semantics of localization versus odometry but there are also a lot of primitives that overlap especially when implementing various SLAM algorithms. A REP to homogenize either or both would be valuable.", "The majority of consumers of transform information do not care about anything other than that they have the best estimate possible of the odometry or localization available. And the REP just defines specifically that output.", "I think this was the source of my confusion. REP 105 applies specifically and solely to the end product, and I was mentally trying to fit the entire pipeline up to that point into its model.", "I have nothing useful to add, but will loop in ", "It looks like there isn\u2019t a lot to add at this point, but as long as I\u2019m here:", "The ", " takes in  ", "  and  ", "  and produces the same message types (I think; ", " will correct me if I\u2019m wrong).", "The package takes in all sorts of messages: ", ", ", ", ", ", ", ", and ", ". It outputs:", "To me, the only ", " output of a localizer or odometry node should be the transforms mentioned in REP-105. We just publish the other data because it can be more convenient for consumers to fire up a single topic sub than to instantiate a TF2 buffer and use that. It also lets you visualize things using ", " (yes, you can visualize the transforms, but you can\u2019t persist N of them like you can with the other types). I\u2019m all for coming up with (and adhering to) any new REPs that come out of this discussion.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["AMCL in ROS 1 outputs ", " and a ", " transform", "The ", " stack\u2019s AMCL does the same thing", "The ", " takes in ", " and ", " and produces the same message types (I think; ", " will correct me if I\u2019m wrong).", "They should only publish transforms to be minimally compliant", "If you\u2019re fusing multiple sources of data together, using RL or otherwise, then that fused output is now the localization transformation source and that should be complient with REP-105, not the components that came into it.", "Like in publishing addition information (like ", "), you\u2019re welcome to also publish intermediate calculations for other frame transformations. However at the end of the day, a source should be providing the ", " transformation. The intermediate steps or additional things you do are application specific and with in the blackbox of a localizer as far as the rest of your system is concerned.", "Probably, yeah we should make a new REP for localization / mappers to provide not only REP-105 frames, but also the pose with covariance on update for a potential upstream use.", "Technically as far as REP-105 is concerned, if you use AMCL and a few other methods to fuse together, AMCL nor the other methods are localization components. Only the fusion of them is the localization component requiring to publish the frames.", "I see no drawbacks for this but I\u2019m not sure it should be strictly required. I think it should be an option called out with an explanation for why you might want to include the ", ". If you\u2019re using a single algorithm, what you propose doesn\u2019t matter to a user.", "If you produce a pose, it\u2019s in ", " so you don\u2019t need to know about the TF tree until you are a consumer. The publisher doesn\u2019t care about what its parent in the tree is.", "If you produce a transform, you need to know where you are in the tree, either via configuration or querying TF2. This makes it more annoying for the publisher and harder to just shove a localisation source into your system and let the consumers decide what frame they want the information in. On the other hand it makes things more absolute in terms of knowing exactly what the message means, which is a bonus for debugging.", "If you produce a pose, it\u2019s easy to attach covariance. If you produce a transform, which REP 105 asks for, you can\u2019t include covariance data which makes REP 105 only applicable to the end of a localisation pipeline, even though it may not be.", "A transform from ", " -> ", ", if the ", " is set to ", ", OR a transform from ", " -> ", " if the ", " param is set to ", ". You ", " turn off the transform broadcast, if you want.", "The filter is producing a full state estimate, including velocity and acceleration, so it publishes an ", " message with pose and velocity, and, optionally, an ", " message."], "url": "https://discourse.ros.org/t/rep-105-and-the-outputs-of-localisers/12585"},
{"title": "ROS 2 and Real-time", "thread_contents": ["In one of the previous ROS 2 TSC meeting it was suggested that we form a Working Group in which we will try to analyse the current state of ROS 2 and make it real-time.", "To this date we have the following articles about real-time in ROS 2:", "Since real-time is not something that can start and stop within the ROS 2 \u201cborders\u201d, we would like to propose to analyse an entire stack, from the hardware platform to the applications written with ROS 2.", "There is many details that we could get lost into but we think that we could start with the following list and elaborate on the items:", "We are requesting for comments:", "We are aiming for our first video meeting next week.", "D.", "This looks like a massive amount of effort. I commend you for even trying, but would caution that only very few people will be able to take part in this.", "At the same time, it\u2019s lacking a clear use case. Maybe we don\u2019t need all of that in the first shot. Without a use case, we don\u2019t know. Without a use case we don\u2019t have requirements. So, maybe starting with step 11 would be an idea ", "FWIW, I quite liked ROS1\u2019s \u201cjust have a real-time capable publisher\u201d approach. It\u2019s, by far, not enough in the long run, but it did get us into the kinds of system we were interested in. It\u2019s also a very modular approach, because it essentially by-passed the \u201cnormal\u201d core.", "As for the regular ROS2 core, I would love to see some analysis. Maybe we could convert some of your goals into code analyzer rules, and then run it over the code-base to see how many problems there are and where they are located (yes, all of us who have looked know there are quite a few, but it always helps to have some numbers to get a better grasp of the issue).", "For the record, in the micro-ROS effort, we are currently targeting Cortex-M class micro-controllers with a POSIX RTOS (NuttX). Reference platforms are mostly single core.", "We are aiming for our first video meeting next week.", "Next week are Easter holidays for many people.", "Happy to see this kicking off and willing to collaborate as pointed out previously.", "To this date we have the following articles about real-time in ROS 2:", "I\u2019d add the following articles to the list above which comes from a ", ":", "and this session in the last ROS-I conference in Europe: ", "Since real-time is not something that can start and stop within the ROS 2 \u201cborders\u201d, we would like to propose to analyse an entire stack, from the hardware platform to the applications written with ROS 2.", "This is the right approach. Same applies to safety and security.", "Pick real-time capable hardware platform. Decide if we go multi-core many-core or uP.", "This is a very troublesome topic. One of the points we should answer before selecting any hardware platform is answering the question of \u201cwhat\u2019s the actual (real-time) ", " of this WG?\u201d Is it going to be soft real-time? hard-real time? What are the use cases we have in mind for real-time? (this should probably come from the groups driving the work).", "Things are ", " different depending on where we want to go.", "We\u2019ve worked on this topic for several years already and humbly accumulated a few good (and not so good) experiences. We ended up moving into a ", " in close collaboration with Xilinx (Intel has similar, rather good alternatives) however I wouldn\u2019t claim such platform will be valid for (hard) real-time in any scenario. Obtaining (hard) real-time typically requires a good definition of the target (whether it\u2019s a joint driver, a LIDAR driver or a motion planner within MoveIt).", "There\u2019s no silver bullet and maintaining a specific hardware platform for hard (or even soft) real-time  requires a huge amount of resources.", "Create CI for RT testing (e.g. ", ")", "That\u2019s us. I\u2019ll be giving an update today but should be ready in a couple of months. Again, very open to include additional hardware platforms, reach out for more information on how to do so.", "We are requesting for comments:", "We are aiming for our first video meeting next week.", "We\u2019re obviously ", " in. Do you need help organizing the meetings? Happy to support  and plan the events or organize the meeting notes.", "At the same time, it\u2019s lacking a clear use case. Maybe we don\u2019t need all of that in the first shot. Without a use case, we don\u2019t know. Without a use case we don\u2019t have requirements. So, maybe starting with step 11 would be an idea ", "Agree with this and aligned with my paragraph above, we need to specify not only the level of real-time we\u2019re aiming for but also the particular use case", " this group is willing to maintain to serve as study cases for the community.", "For the record, in the micro-ROS effort, we are currently targeting Cortex-M class micro-controllers with a POSIX RTOS (NuttX). Reference platforms are mostly single core.", "I\u2019m somewhat concerned about the \u201creal-time\u201d capabilities we may end-up achieving with ", "\u2019s existing architecture. While the project is still ongoing and much work is left (almost half its way though), the architecture of DDS-XRCE requires a \u201cbridge\u201d to transform XRCE\u2019s client/server (or peer-to-peer if it ends up being implemented) communications into DDSI-RTPS ones (the ones in common ROS 2). Beyond communications between XRCE-native entities, communications won\u2019t interoperate directly with the ROS 2 network and such bridging will introduce a compromise for real-time applications. Including such \u201cbridge\u201d as one of the cases of study will benefit  the (micro-ROS) project.", "I\u2019m somewhat concerned about the \u201creal-time\u201d capabilities we may end-up achieving with ", "\u2019s existing architecture.[\u2026] the architecture of DDS-XRCE requires a \u201cbridge\u201d", "From our (Bosch CR) side, we only target the MCU itself as the real-time capable device.", "Apart from pragmatic reasons (this makes it much easier), in our current products that\u2019s all we need.", "I would guess that this assumption is true for many products, because it is a very common architectural approach to keep the real-time safe parts a very small part of the overall system. Of course, AD is a notable exception, which is probably why Dejan is so interested in a more comprehensive approach ", "Last, but not least, we\u2019re very interested in wireless communications and ", " real-time is out with that anyway.", "such bridging will introduce a compromise for real-time applications", "It depends on the implementation of the bridge. Assuming the transport layer is real-time capable (e.g., wired), the bridge itself could maintain real-time guarantees.", "Including such \u201cbridge\u201d as one of the cases of study will benefit the (micro-ROS) project.", "Very much agreed!", "Last, but not least, we\u2019re very interested in wireless communications and ", " real-time is out with that anyway.", "While I can\u2019t speak on its behalf ", " (or how deterministic it\u2019ll be), there\u2019s some interesting work we\u2019ve been exploring with a local research group here in our area that\u2019s extending TSN for wireless communications. Let me know if you\u2019re interested and I\u2019ll connect you.", "It depends on the implementation of the bridge. Assuming the transport layer is real-time capable (e.g., wired), the bridge itself could maintain real-time guarantees.", "Soft real-time guarantees probably, but hard real-time ones require the bridge itself to also be hard-real-time. Not only the transport layer but everything above as well, from the data link layer (OSI layer 2) up to the ROS 2 rcl (OSI layer 7, and going through all middle layers including the network and transport layers (which we typically refer to as the networking stack), the communication middleware (e.g. DDS), etc.).", "AFAIK, real-time isn\u2019t a goal in micro-ROS project but I\u2019d agree that we should indeed consider it and commit resources to it.", "Soft real-time guarantees, probably but hard real-time ones require the bridge itself to also be hard-real-time. [\u2026]AFAIK, real-time isn\u2019t a goal in micro-ROS project but I\u2019d agree that we should indeed consider it and commit resources to it.", "I just want to highlight that having a bridge, ", ", does not prevent us from achieving real-time capability. Of course, the ", " of the xrce-dds-bridge we use in micro-ROS is a different story. A lot of work remains to be done there, on all the layers you mentioned and probably internally as well.", "Do you want to join this working group? We will form a regular ROS working group that uses Discourse for discussions and holds video and in-person meetings.", "I would like to join this working group and contribute.", "Ingo, I agree with you that this is a significant effort - however there are many many use cases. If you are relying on low cost camera sensors (either 2D or 3D) for localization and obstacle avoidance you are most likely going to be piping that data through the CPU. If you want to go faster than a crawl you better have some level of determinism as to when that data is going to be processed and a stop/continue decision is made. There are certain types of camera based navigation that just don\u2019t work unless you have deterministic timing and that deterministic timing needs to occur between cameras and things like IMU.", "I have customers today (for example in warehouse) who both want the robot to go as fast as possible (to increase throughput) but also want to spend as little on the robot as possible - hence lower cost sensors. Now, I can easily build a fast low cost robot, but unless I am using systems that are outside of ROS its hard for me to ensure it is safe.", "Even if I could get part of the system to have deterministic timing that would be a huge boon - for example - if the safety sensors could pass messages direct to the motor controller over a deterministic data fabric (say AVB ethernet) such that the motor controller knows that it has to either slow down or stop that would already help a lot.", "I might start there - with that simple subset - a safety sensor that has a RTOS uC and a motor controller that has a similar RTOS uC and them passing DDS messages with deterministic characteristics.", "If we can get that to work then we can move on to the CPU oriented applications of camera based navigation.", "David, I\u2019m all sold on real-time. It\u2019s essential for many applications. I hope my comments above are not implying otherwise. Real-time is essential for ", ", which is what I think you\u2019re aiming for.", "I\u2019m even more sold on determinism. In fact, I\u2019m usually credited with putting it prominently on the ROS map through a talk at the ROSCon in 2017. That\u2019s not the same as real-time, however.", "When I say that those are big efforts, I\u2019m not saying we don\u2019t have to do this. I\u2019m mentioning it because I care about the ", ".", "And in particular, I think that the ", " depends a lot on the ", ". And Dejan didn\u2019t specify that. So, all I\u2019m asking is that people seriously think about the ", " before embarking on this journey.", "At the very least, these thoughts will give us some requirements and some metrics. And then we can think about how to achieve that in the easiest way.", "It will also give us some common ground to speak about.", "For me personally, I care about small consumer robots. So, my answers to the stack Dejan posted are:", "Now, if you ask Dejan, I\u2019m pretty sure his answers will be ", " different. That\u2019s because he has a ", " application (autonomous driving). Not sure about what Victor will say, but he\u2019s working on manipulation, which ", " again be quite different.", "So, from my perspective, we\u2019d like to collaborate on some of the points under bullet point 6, and that\u2019s also the core thing for ROS2. For the rest of the things, we are very likely to have a radically different approach.", "Therefore, please, before embarking on a \u201cfull stack\u201d approach, get your use cases clear and then maybe people will know what they\u2019re getting into and what the goals are.", "Great! Now we are getting some good discussion. Ingo, yes we\u2019ve dived in to actions and solutions before getting clear on the problem statement. We\u2019ve also generated a list of actions that mix both development and process and could be more clearly MECE. We are missing chunks - determanistic message passing requires known allocations of bandwidth - which is available with standards like AVB but not, so far, included on the list - we also need to talk a little bit about hardware. How about if we reformulate the discussion as follows for everyone to throw rocks at:", " To enable universal robotic service", " ROS robots cannot operate safely in many domains due to a lack of predictability and determanism that means sensors can\u2019t be relied on to prevent human injury", " ROS2 robots can guarantee safety in environments with unprotected humans by using sensors and by passing data from those sensors through the ROS2 messaging infrastructure.", " How can we create deterministic responses to sensor inputs in ROS2?", "Hardware", "Software", "Process", "I\u2019d propose to do the bold italic items first with the image of the initial target state being a sensor (say a sonar) passing a message to a motor controller for E-Stop.", "As the author of the Ada client library, I\u2019m interested in this topic. Not sure I can contribute much at this time but I will in any case try to keep the Ada library in sync with developments in this area.", "Do you want to join this working group? We will form a regular ROS working group that uses Discourse for discussions and holds video and in-person meetings.", "Yes, I\u2019d like to join the working group and contribute.", "Please count me in for teleconferences!", " and ", ", unless I\u2019m traveling, I\u2019ll be in the meeting but to would it be possible for you to participate  also and provide a small update of the RT build farm we\u2019re building? I think it\u2019s a great opportunity to get input.", "I guess some of people interesting in ROS 2 and Real-time are aware of the future DDS/TSN mapping but I did not see any material related to it linked in the discussion, so I think it is worth adding the links here:", "I\u2019d also like to attend the working group meetings.", " ", " ", " et al thank you very much for your feedback and also apologies for not replying earlier.", "I am with you and I agree that we need a use case. Not listing an item to decide on the use case was an oversight on my side. However I got the following use cases from your replies:", "If you want to plus one any of above items or add another use case please let me know.", "Otherwise it is clear that alone above 4 use cases are vastly different and will have different requirements, different HW, different middleware and probably also different control and data flows (which will result in different node architectures).", "Said that I guess we have 2 options to start from here:", "I am leaning towards the second option.", "I\u2019d like to invite for a meeting next week to decide on above and to kick off the work. Could you guys meet on", "Note that we have an interest across the globe, so getting a meeting friendly time in every zone will be impossible.", "That starting time is very Europe-friendly, so yes, it works for me ", "How much time do you expect the meeting would take? More than 90 minutes?", "That time works for me.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Original article by Jackie: ", "\n", "ROS 2 ported on some RTOS (", ", ", ")", "Apex.AI article about porting ROS 1 applications to ROS 2 applications: ", "\n", "Bosch proposing how to make Callback-group-level Executor real-time ", "\n", "Pick real-time capable hardware platform. Decide if we go multi-core many-core or uP.", "RTOS (real time operating system). Decide if we go posix or not posix. Add adaptive partitioning scheduler.", "Create/Get BSP (board support package) and do modifications (e.g. patch RT PREEMPT for Linux, configure the kernel (e.g. isolate CPUs, remove all unwanted drivers, add other applications))", "Explore use of real-time hyper-visor (QNX has one)", "Use/create static and real-time middleware", "rmw, rcl, rclcpp layers:\n", "introduce safe data types (bounded, check type integrity)", "perform memory audit (remove unneeded memory allocations)", "split memory allocation in init and runtime phases, avoid memory fragmentation", "remove all blocking calls (or replace with timed calls, e.g. ", " vs ", ")", "implement real-time safe log output handler (no logging to console or  file)", "implement real-time pub/sub (either using Waitset or modified Callback/Executor)", "convert ros2 launch to C++", "run tools for static and dynamic code analysis (PCLint, LDRA, Silexica, LTT-ng)", "\n", "Check everything above in the STL library", "Node architecture for deterministic execution (policy for message aggregation, nodes cohesion, parallelization, \u2026)", "Global error handling (history of failures, core dumps, fail-safe mechanism, \u2026)", "Real-time safety for higher level concepts, e.g.:\n", "services", "parameters", "actions", "\n", "Create reference applications and porting guidelines from ROS1 to ROS2:  ", "\n", "Create CI for RT testing (e.g. ", ")", "Do you have items to be added/removed from above list?", "Do you want to join this working group? We will form a regular ROS working group that uses Discourse for discussions and holds video and in-person meetings.", "Do you have items to be added/removed from above list?", "Do you want to join this working group? We will form a regular ROS working group that uses Discourse for discussions and holds video and in-person meetings.", "We use micro-controllers and they are real-time capable and usually single core, some multi-core, usually homogeneous.", "We use a POSIX RTOS, NuttX", "We chose hardware that\u2019s supported by 2. Still a pain though.", "Not necessary", "We use Micro-XRCE-DDS", "\u2026", "\n6.1) don\u2019t care", "\n6.2) got some ideas, interest to collaborate", "\n6.3) got some ideas, interest to collaborate", "\n6.4) unclear\u2026", "\n6.5) don\u2019t care", "\n6.6) HERE\u2019S THE BIGGIE", "\n6.7) don\u2019t care", "\n6.8) got it", "don\u2019t care", "working on it, using SPA approach", "proposing system modes approach", "don\u2019t care", "maybe", "we use a HIL approach", "CPU", "\n", " *", "Communications infrastructure\n", "\n", " *", "Low speed (e.g. SLIP)", "\n", "\n", " *\n", "modifications???", "\n", "CPU RTOS (e.g. QMX deriv)", "\nmodifications (e.g. patch RT PREEMPT for Linux, etc)", "\ndrivers for determanistic communications (e.g. bandwidth allocation on AVB)", "Libraries (rmw, rcl, rclcpp)\n", "Cleanup for safe implementation\n", "introduce safe data types (bounded, check type integrity)", "perform memory audit (remove unneeded memory allocations)", "split memory allocation in init and runtime phases, avoid memory fragmentation", "implement real-time safe log output handler (no logging to console or file)", "remove all blocking calls (or replace with timed calls, e.g. mutex vs timed_mutex)", "\n", "Cleanup for desirability\n", "convert ros2 launch to C++", "\n", "\n", " *\n", "Real-time pub/sub will need to request bandwidth allocation from shared comms infrastructure (e.g. AVB ethernet)", "Define message length standards", "Other", "\n", "\n", "\n", " *", "Services\n", "Global error handling (history of failures, core dumps, fail-safe mechanism, \u2026)", "Real-time safety for higher level concepts, e.g.: services, parameters, actions)", "\n", "run tools for static and dynamic code analysis (PCLint, LDRA, Silexica, LTT-ng)", "Check everything above in the STL library", "Create reference applications and porting guidelines from ROS1 to ROS2: ", " 9", "\n", " *", "Create BSP", "Create reference applications and porting guidelines from ROS1 to ROS2: ", " 9", "consumer robots (Ingo)", "warehouse logistics robots (David)", "mobile manipulation robots (Victor)", "autonomous driving robots/cars (Dejan, Geoff)", "select one of the use cases above and probably loose interest from people having other uses case.", "focus on somewhat generic parts of ROS 2 that will help independently of the selected use case.", "\nMy reading of your comments is that these parts are the following ones:\n", "create rmw layers for static and real-time middleware (RTI Connext Micro, Micro-XRCE-DDS)", "perform memory audit in rmw, rcl and rclcpp (remove unneeded memory allocations)", "split memory allocation in init and runtime phases, avoid memory fragmentation", "remove all blocking calls (or replace with timed calls, e.g.  ", "  vs  ", " )", "implement real-time pub/sub (either using Waitset or modified Callback/Executor)", "integrate tools for static and dynamic code analysis (PCLint, LDRA, Silexica, LTT-ng)", "Create node architecture for deterministic execution (policy for message aggregation, nodes cohesion, parallelization, local error handling \u2026)", "Create a design for global error handling (history of failures, core dumps, fail-safe mechanism, \u2026)", "\n", "Create CI for RT testing (e.g. ", ")", "\n", "\n", "Mon, May 20@7AM PST: ", " ?"], "url": "https://discourse.ros.org/t/ros-2-and-real-time/8796"},
{"title": "ROS2: Create Shared Message from ROSCon 2014", "thread_contents": ["Hi,", "I was going through old slides and came across some lines ", " in the slide deck from the state of ROS2 in 2014 [1].", "While that\u2019s clearly been long going since at least beta3, ", ". That seems actually very useful and from some discussions we\u2019ve had on the real-time front regarding getting loaned messages from the middleware to take some reserved memory, this seems like a natural way to do it from a user-level API. Recreating it, or some derivative, could get folks in the work flow that will be necessary later on when that is implemented.", "I see some comments on loaned messages that didn\u2019t quite make it for Eloquent [2], but I can\u2019t really find any reference other than this slide deck to the ", " incarnation of the API in ", ", ", ", or ", " (no tickets or PRs reference it). Clearly [1] and [2] are not directly correlated, just noting the value that a method like this may have for wrapping that concept to a user.", "CC ", "[1] ", "\n[2] ", "I can\u2019t speak to why that specific API is no longer around, but you can find what did land in Eloquent here in terms of zero-copy support: ", "While many of the structures and apis are in place, currently the only middleware that supports it is ", ".  ", " gave a presentation on this at ROSCon 2019: ", " ", "I think that the closest current analogy is the new ", " api: ", " , which should return either a) a shared memory segment or buffer (if the underlying rmw supports it), or b) use a user-provided allocator to internally allocate the message.", "You may also be interested in the ", "I see some comments on loaned messages that didn\u2019t quite make it for Eloquent [2]", " which comments are you referring to in terms of loaned messages which didn\u2019t make it? Or asked differently, which functionalities are you currently missing for working with loaned messages?", "I\u2019m just purely going off the checklist of tasks undex Apex that wasn\u2019t checked with loaned messages.", "I can\u2019t speak to why that specific API is no longer around", "This just seems to be a far more natural user-facing API than ", " for the typical user that really shouldn\u2019t need to care how it was made. It\u2019s just giving them a message to work with.", "This just seems to be a far more natural user-facing API than ", " for the typical user that really shouldn\u2019t need to care how it was made. It\u2019s just giving them a message to work with.", "That\u2019s exactly what ", " does, lends them a message which may or may not be allocated on demand. They can work with that message, and when done they can return the loan.", "If you just want a new message and don\u2019t care where it comes from, then I suggest you just use ", ", right?", "Based on:", "That seems actually very useful and from some discussions we\u2019ve had on the real-time front regarding getting loaned messages from the middleware to take some reserved memory, this seems like a natural way to do it from a user-level API.", "It seems like you do want the middleware to optimize this if possible and if not, give the user a heap message to work with, which again is what ", " does, I think.", "It seems like you do want the middleware to optimize this if possible and if not, give the user a heap message to work with, which again is what ", " does, I think.", "Got it. I think then the remaining comment is then more pedantic in naming.", "I know that\u2019s exactly descriptive about what it does, but I strongly disagree with much of the ROS2 user-facing APIs. I think its far too \u201cpowerful\u201d for the average or novice user to a point of making it unapproachable without detailed knowledge of what\u2019s happening under the hood. Whenever that API review comes around, I\u2019ll give a more formulated argument on it\u2026 I have a reasonable understanding of what\u2019s going on because I sit here doing this all day, but I don\u2019t think that\u2019s representative of the userbase of ROS1.", "but sounds like my question was answered: it basically is there, just under another name, but not widely used as its not widely implemented by RMWs.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-create-shared-message-from-roscon-2014/12736"},
{"title": "ROS2 Tooling WG Next Meeting", "thread_contents": ["I\u2019m going to experiment with opening one thread to use on an ongoing basis - we\u2019ll see how it goes", "Announcing the next meeting of the ROS Tooling Working Group", ": Friday ", " \u2192 ", "  : The link for the meeting is kept up to date in the Google Groups invite - you can join that here ", "Chime Meeting: ", "\nOr you can call in:", "\nUnited States Toll-Free: +1 855-552-4463", "\nMeeting PIN: 3344 03 0334", "\nOne-click Mobile Dial-in (United States (1)): +1 206-462-5569,3344030334#", "\nUnited States (1): +1 206-462-5569", "\nInternational: ", "  :", "\nSee ", " for ongoing notes", "If you have anything you\u2019d like to add to this or a future meeting\u2019s agenda, please let us know.", "  :", "  :", "\nThe objective of this working group will be to develop and maintain select ROS 2 tools. We define a tool to be: software supporting developer productivity or robot operation, outside of the middleware communications functionality. This definition remains intentionally broad until it needs to be narrowed.", "The Tooling WG will focus on the roadmap, contribution, maintenance, and ownership of adopted subprojects. WG-owned GitHub repositories for subprojects will primarily live in the working group GitHub organization: ", ".", "Unfortunately we don\u2019t have a recording from Friday\u2019s meeting due to technical difficulties.", "Regardless, thanks to everyone for attending - those who weren\u2019t there can see the minutes here", "\n", "ROS 2 Tooling Working Group 2020-02-14 Agenda  2020-01-31 Agenda Attendance Dirk Devin Emerson Karsten Zach Anas Joe Speed Last meeting action items review Presentation: quick overview of new cross_compile tool release from Emerson Project Status...", "\n", "If anybody wants to show off anything tool-related at the next meeting, or has discussions they\u2019d like to bring up, feel free to suggest items for Show and Tell (or message me directly), and suggest items to the \u201cOther Discussions\u201d section for the upcoming meeting.", "The plan remains to have the next meeting on Feb 14 at 9am PST", "Cheers!", "Announcing the next meeting! Tomorrow!", " : ", " \u2192 ", "  : The link for the meeting is kept up to date in the Google Groups invite - you can join that here ", "Chime Meeting: ", "\nOr you can call in:", "\nUnited States Toll-Free: +1 855-552-4463", "\nMeeting PIN: 3344 03 0334", "\nOne-click Mobile Dial-in (United States (1)): +1 206-462-5569,3344030334#", "\nUnited States (1): +1 206-462-5569", "\nInternational: ", "  :", "\nSee ", " for ongoing notes", "I\u2019m seeing the chime link as invalid", "Hello everyone! Update! Our usual chime bridge seems to be broken!", "You can dial in here this week", "\n", "Thanks everyone for attending today! Sorry about the mixup with the meeting link, looks like we got everyone in though.", "\n", "I wanted to call out that we are now keeping a ", " via ", ". Currently cross_compile and rosbag2 are well-groomed, we\u2019re working towards getting everything in that state. We are trying to utilize the \u201cGood First Issue\u201d and \u201cHelp Wanted\u201d labels - always appreciate contributed work, and the Backlog is the place to look for things to do, but at the very least this can inform viewers what our priorities are.", "A quick overview", "You can also view the board info in GitHub if you install the Chrome or Firefox browser extension for ZenHub", "Cheers and see you all in 2 weeks, next meeting is ", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Attendance", "Last meeting action items review", "Presentation: quick overview of new cross_compile tool release from Emerson", "Project Status Update\n", "Rosbag2", "Cross Compile", "System Metrics", "Github Actions", "\n", "Community PRs", "Project board review", "Rosbag2 Design Discussions - dig in on the following\n", "Transaction based sqlite3 inserts ", "\n", "Framework for performance testing ", "\n", "Remove plugin interface get_metadata ", "\n", "\n", "Attendance", "Last meeting action items review", "Presentation: none this week", "Project Status Update\n", "Rosbag2", "Cross Compile", "System Metrics", "Github Actions", "\n", "Community PRs", "Project board review", "New Issues have not been triaged yet", "Icebox is valid issues that we have no priority to work on", "Backlog is a prioritized list of items that we plan to work on", "In Progress - work ongoing, assigned to someone", "Review - in code review"], "url": "https://discourse.ros.org/t/ros2-tooling-wg-next-meeting/12545"},
{"title": "ROS 2 Security Working Group Meeting", "thread_contents": ["Hey everyone. The next ROS 2 Security Working Group meeting will be on Tuesday, February 11th, at 22:00 UTC, via ", " (or by phone: +1 385-325-0281\u202c PIN: \u202a422 295\u202c#).", "Agenda: ", "If you have anything you\u2019d like to add to the agenda, feel free to either add it yourself or make a comment here.", "Hi All, introducing ourselves here as the coordinators of ", " and calling for a contributor to one of the 2 workshops at the ERF on Cybersecurity in Malaga from this workgroup perspective. Specifically for the 2nd workgroup on security solutions for robotics.", "Hey there ", ", welcome to the community! A link to the event would have been helpful, but I believe you\u2019re talking about ", "? That\u2019s very soon, I\u2019m not sure anyone will be able to make it happen on that kind of time frame. The program is a little light on details; can you give us some idea of what you intend to present?", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros-2-security-working-group-meeting/12674"},
{"title": "Enabling the ABI checker for your next ROS2 F releases", "thread_contents": ["Hi all,", "\nas we\u2019re approaching the ROS 2 F release date, I wanted to highlight a feature in Bloom that we didn\u2019t advertise and you should probably be using!", "It is now possible to enable ", " on Bloom release branches.", "Every time you open a PR on a release branch, the ROS buildfarm ", " indicating whether or not this PR would break ABI.", "As a reminder, stable packages should keep a stable ABI throughout any ROS distribution (can break ABI between E and F, but not between F patch releases).", "Getting the report for your Bloom release packages is as simple as switching a flag to true in rosdistro!", "The documentation is in the REP 153: ", "Some examples of packages already having the ABI checker enabled: ", "Thank you!", "edit: this work was done by ", " - thanks Jose!", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/enabling-the-abi-checker-for-your-next-ros2-f-releases/12811"},
{"title": "ROS 2 Real-time Working Group Online Meeting 10 - Feb 5, 2020 - Meeting Minutes", "thread_contents": ["The meeting minutes of the previous meeting are here: ", ".", "Next RTWG meeting will be on Feb 19 2020, the agenda is here: ", ".", "D.", "what time is it scheduled? do we have an invitation?", "thanks", "I\u2019m interested but not a WG member, may I join the meet and see if there is something I can help?", "what time is it scheduled? do we have an invitation?", "Working group meetings are posted on the ", "You can find information about it here: ", "And if you\u2019d like an invitation to working group meetings, please join the associated google group listed on the page above. In this case: ", "thanks, that helps.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros-2-real-time-working-group-online-meeting-10-feb-5-2020-meeting-minutes/12809"},
{"title": "Get ROS2 working on ArchLinux", "thread_contents": [" might be one of the most radical(or just the most?) Linux distributions, with a rolling update strategy, Arch makes everything latest. So we can enjoy the new versions of every package, while at the same time, annoyed by the version compatibilities. But for ROS2, Arch is a great distribution to think about. For Linux distributions beside Ubuntu, the only way getting ROS2 work is to build it from the source code, so a flexible and friendly package manager is really NEEDED to make all dependencies collaborate. That is what pacman(Arch\u2019s package manager) is really good at.", "For now ROS2 doesn\u2019t have a explicit package grouping like ROS1, I mean, something like ros-core, ros-desktop and ros-desktop-full. (Maybe I\u2019m wrong on this point, if there are, let me know and I would be very glad to maintain AURs for ros2 on Arch). So what we get in the post is a full version of ROS2, as you may see, there will be some UI & visualization dependencies like qt5 and rviz.", "Just like Arch Linux, let\u2019s be radical:) We will use the latest Eloquent in this post, the .repos file is from the eloquent branch on github:", "The ", " will lead you to the Arch wiki on ROS2 here:", "For Arch, there is already an AUR package to install ROS2 dependencies: ", ". While it is already outdated, we can still get the basic deps from its installation. So first step, is to install the deps with an AUR package manger(I use yaourt here, you can definitely choose your favorite):", "After that, we install some of the essential deps from official sources, with pacman:", "Before moving on, let me first show you some hair scratching troubles that you may have when building ROS2 by your own. Relax, I\u2019ve already scratched my hair and detected all the mines. It would be easy for you to get them over.", "OK, here comes the first pitfall, the package ", " relies on ", ", which refers to ", ", and ", " interfaces change in the latest 2.34. Since Arch by default keeps everything latest, we have to downgrade the ", " package to version 2.32. Thanks to the design of pacman, this can be easily done with the command:", "colcon is used to build ROS2, according to the Arch wiki, the ", " will install colcon related AUR packages, but these package are not maintained up to date, when building ROS2 with the outdated colcon package, an error complaining \u201cvariable \u2018done\u2019 is assigned before declare\u201d will occur. We can fix this by installing the latest colcon related packages with pip command:", "The package ", " will need some display environment, under Linux, the ", " package is needed, but not listed explicitly above, so install it manually:", "The ", " module will need a qt SIP binding for python, we have installed the qt5 bindings above, while the binding also needs a configuration in path ", ". The latest package ", " does not provide the configs after an architectural change, while the package for python2 still provides it. So here is a trick to make python-pyqt5 work for ROS2:", "After the installation, make sure the path ", " is there.", "We\u2019ve get everything ready for installation, we can now follow the Arch Wiki guide to prepare local environment and get code:", "Then build the project with colcon:", "Follow the Arch Wiki, let\u2019s run a topic pub/sub example:", "Open a new ssh session and sub the toplic, the message \u2018data: Hello World\u2019 should be printed on the screen:", "Something I didn\u2019t mention in the post above, is that some packages are not fully built since the missing of some features, some might give you warnings. That\u2019s OK, that\u2019s what we should think about in the next steps. There are some points I can come up with for the future.", "For now ROS2 doesn\u2019t have a explicit package grouping like ROS1, I mean, something like ros-core, ros-desktop and ros-desktop-full.", "I believe there are, see: ", ".", "Aha, thanks ", " that\u2019s really helpful. I\u2019ll try to build them separately and see if there are issues to fix. ", " So at least we can have ros2_base, ros2_core, and ros2_desktop to maintain.", "If you start working on improving support for a new distribution, consider:", "Add Arch Linux support to ", ". Given the sheer number of packages in ROS, doing it by hand is not really an option, unless you are determined to only ever support a small number of core ROS/ROS2 packages. superflore, like Bloom, rely on ROS internal packaging information (", ") to generate a package for a target distro. The suggestion here is to add Arch as a target. Given the nature of Arch packages, it is likely to be do-able. It is tricky if you\u2019re targeting official inclusion, but that definitely should do the trick for AUR.", "Add/update/maintain ", " keys for everything arch related. ", " is used by ", " to generate the commands required to install system deps for any package (", ") on the target distro.", "\nIt is likely that Arch ", " support could use some help, so adding the keys, and making sure ", " is using whatever makes the most sense on Arch would be a very valuable contribution.", "Hi, Thomas, thanks for the great advices, I\u2019ll look into that, hope we can make Arch a good choice for ROS fans.", "Add Arch Linux support to ", ".", "I seem to remember some earlier interest in this and work towards implementing it (ie: ", " support for Arch).", "May be good to first try and find it ", ".", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Make the ros2-arch-deps AUR package updated", "Split the ros2 project into groups(ros2-core, ros2-desktop, ros2-desktop-full, just like ROS1)", "Possibilities on other distributions(like CentOS) outside ROS2\u2019s support list", "Try ros2 on Raspberry Pi Arch Linux, we will need ROS2 on the Arch powered edge devices", "Make the ros2-arch-deps AUR package updated", "Split the ros2 project into groups(ros2-core, ros2-desktop, ros2-desktop-full, just like ROS1)", "Possibilities on other distributions(like CentOS) outside ROS2\u2019s support list", "Try ros2 on Raspberry Pi Arch Linux, we will need ROS2 on the Arch powered edge devices", "\n", "\n", "\n", "\n"], "url": "https://discourse.ros.org/t/get-ros2-working-on-archlinux/12827"},
{"title": "OpenSplice move to Eclipse Cyclone DDS in ROS 2", "thread_contents": ["Based on community demand and user feedback we\u2019d like to focus our ROS efforts on the", " project. What do you think? OpenSplice users can switch to", " which is easier, 3x faster, 1/3 CPU and uses less memory than OpenSplice. Eclipse Cyclone DDS will be familiar and easy for OpenSplice users. We contributed both and Eclipse Cyclone DDS is the new generation. Please reach our if there\u2019s anything you use in OpenSplice not already in Eclipse Cyclone DDS and we\u2019ll work hard to make sure it is in Foxy. We are here to support you ", ". You can also DM ", " ", " ", ". ", " on Eclipse Cyclone DDS.", "How to switch from OpenSplice to CycloneDDS in ROS 2:", "Install CycloneDDS:", "Run ROS with CycloneDDS: Set env variable and run as usual", "Confirm RMW: In Eloquent, to confirm which RMW you\u2019re using", "note: OpenSplice has not been removed from the current ROS 2 distros.", "the", " project", "That\u2019s quite a mouthful.", "thanks for the information,  ", " works fine with good stability and footprint !", "I moved forward with the removal of OpenSplice for Foxy:", "Thanks for being open and straightforward with this ", ", makes total sense. Given our discussion about this it might be worth clarifying for others: this isn\u2019t a change on existing ROS distros. OpenSplice will continue to be supported there. The change in focus (and subsequent RMW impl removal) applies to Foxy and beyond.", "OpenSplice removal from ", ": ", "A few more dependencies to OpenSplice removed: ", "Thanks ", "! ", " More info for those looking at Eclipse Cyclone DDS RMW ", " a project of ", " and ", " autonomous driving WG and testbed", "\n", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Remove OpenSplice from the list of supported RMW impl. in Foxy in REP 2000: ", "\n", "Remove the OpenSplice repos from the ", " file: ", "\n", "Remove OpenSplice CI job from ", ": ", "\n", "Remove OpenSplice from nightly job on ", ": ", "\n"], "url": "https://discourse.ros.org/t/opensplice-move-to-eclipse-cyclone-dds-in-ros-2/12370"},
{"title": "Introducing ROS2 Sanitizer Report and Analysis", "thread_contents": ["AWS Robotics has been working on ROS2 code quality and infrastructure improvements since January 2019. Our project specifically focused on issues reported by the ", " and ", " C/C++ runtime analysis tools. Issues the sanitizers surfaced include:", "The scope of our project  was to analyze as much of the ROS2 core code base as possible (everything included when building with \u2014packages-up-to system_test), fix issues, develop a process so the community can also fix issues, and integrate sanitizers into nightly CI. These topics, as well as what we have done, are outlined in this document.", "Sanitizers capture very detailed information during runtime about code quality issues and print them to stderr. Many of the surfaced issues are duplicates as the code path that has them can be encountered multiple times. Just by looking at stderr output, it\u2019s difficult to see how many issues there are and which ones are duplicates. To make it easy to see, we implemented a colcon plugin that parses the output of sanitizer issues as they are printed to stderr, deduplicates them, and writes them in a readable CSV. If the same issue is printed 500 times to stderr during colcon test, it shows up as a single CSV line with a count of 500. The line also includes the relevant information needed for debugging the issue.", "When we started the project, we created two reports \u2014 one for ASan and one for TSan \u2014 using the colcon tooling we created. The general workflow for generating the reports is as follows.", "First, ROS2 code needs to be compiled with ASan or TSan enabled. We created colcon mixins to make it easier to do that.", "Then, run the tests with the sanitizer_report event handler enabled. This event handler parses all printed sanitizer issues, consolidates duplicates, and writes them to a CSV file.", "See our ", " for a complete walk-through of building and testing with ASan or TSan enabled.", "We limited our testing to a subset of ROS2 core packages including those in rcl, rclcpp, rmw (Fast-RTPS only), rosidl (Fast-RTPS only), and system_tests repositories, which contain 83,760 source lines of code. While we started with only Fast-RTPS, we will include all DDS implementations in the future as we need to surface sanitizer issues in their associated rmw implementations.", "The raw ASan report created on 2019-05-01 showed that the sanitizer raised 1,128 issues. Our deduplication logic reduced them to 37 unique (root) issues.", "The raw TSan report created on 2019-05-01 showed that the sanitizer raised 7,656 issues. Our deduplication logic reduced them to 61 unique (root) issues.", "TSan report includes errors that originate from ROS2 core packages and from DDS libraries.", "To date, we\u2019ve opened 21 pull requests in ROS2 fixing sanitizer issues in low-level ROS2 Core packages. Our strategy is to fix all sanitizer issues in ROS2 Core packages starting with the lowest-level dependencies and working up the ROS2 stack. While fixing issues, we created a ", " which can be used by the community to discover and fix sanitizer issues. Below is a breakdown of our pull requests.", "With the above fixes, tests in rcutils and rcpputils run without raising any sanitizer issues. The total number of reported ASan issues dropped from 1128 to 117 (an 89% decrease) and the number of deduplicated root issues dropped from 37 to 19.", "Most of the above fixes are in test code, as sanitizers are runtime analysis tools with significant overhead and are only practical to use during tests. They capture issues from any code that is exercised (including test code) and we can\u2019t initially tell if an issue is in source or test code. Though we need to resolve all sanitizer issues for CI to be green, issues in source code are more concerning for production scenarios.", "We reviewed our results with eProsima and they already submitted fixes for the following TSan issues in Fast-RTPS.", "One important aspect of this project was to integrate these sanitizers into the nightly ROS2 CI jobs. Once we have them integrated and all issues resolved (jobs are green), we can begin to block the build if any new issue is detected in these packages (new regressions). You can see the sanitizer nightly jobs here", "Initially, we focused on fixing sanitizer issues in the rcpputils and rcutils packages as they\u2019re at the lower level in ROS2 dependencies and we knew we could address all the issues in these packages within the project timeline. As a result, both jobs are green (they run with zero sanitizer issues). Going forward, we want to work our way up the ROS2 stack, adding packages to these jobs while keeping them green.", "We created new tools to make it easy to use ASan and TSan with ROS2, used those tools to identify issues in the ROS2 core code base, fixed many of those issues, created ASan and TSan nightly CI jobs, and got a few of the base ROS2 packages to green in those jobs. We will continue to improve our sanitizer tools and explore other means of ensuring good quality code.", "We feel we\u2019re in a state where we can also solicit input and involvement from the ROS2 community. We encourage the community to use our ", " to learn how to use the new ASan and TSan tools to improve code quality of ROS2 and any project built on top of it.", "I\u2019d be interested to see this work linked to a steppable simulator. Then, even with the overhead, you\u2019d be able to test application code.", "Thanks for this contribution ", ", ", " and everyone in the AWS Robotics team!", "After putting together a few nights and weekends of free time, I managed to reproduce your work and got some additional understanding on several of the sanitizers for dynamic bug finding. I\u2019ve documented my attempts for ", " while applying it with the Dashing release in ", " (there\u2019s an attempt to run it in OS X but I eventually gave up since I had very limited time, the Dockerfile should help reproduce the setup I\u2019ve used).", "Beyond applying this to the ROS 2 codebase, I thought this could have a decent impact in the ", " development and wanted to see whether I could gain some quick insights including this together with the MoveIt 2 alpha release (which already includes some tests we\u2019ve ported). My second attempt is described in ", ". By solely analyzing ", ", I was able to find several memory leaks so it seems we definitely want to include this in our development process. Not sure how much bandwidth myself or my colleagues will have in the short term but ideally, we should aim to get this into the ", " (raised ", " for it).", "I\u2019d be interested to see this work linked to a steppable simulator. Then, even with the overhead, you\u2019d be able to test application code.", "This would definitely be of my interest as well (at least sounds like a fun project to try during a few  nights). Particularly in combination with Gazebo, such toolset could become a rather powerful helper to diagnose vulnerabilities while simulating the actual robot behaviors intended to happen in the real world.", "I\u2019ve given it a thought but I\u2019d like to ask for advice. I can certainly benefit from additional input. Do you have any intuition ", " (or anyone else) on how you\u2019d start with this in Gazebo? Do you foresee any modification required in Gazebo or rather, simply build the application code with the right set of flags to enable sanitizers\u2019 reports (as demonstrated already)?", "Thanks for trying this out ", "! This would be a great addition to MoveIt 2 IMHO, motion planning can be memory intensive so fixing leaks could lead to noticeable improvements.", "Regarding simulation, a \u201cnormal\u201d Gazebo could communicate with ASan/TSan enabled nodes. The only issue I expect would be that any code relying on timeout values will be fragile as the sanitizers induce a performance penalty. I saw a few ROS 2 tests relying on timeouts failing when ASan or TSan is enabled.", "I think it would work best with code that is designed to run in real-time with known execution times per step. That could possibly allow you to adjust the execution rate to account for the overhead of running the analysers. You would probably need to profile how much overhead the analysers add to your code first.", "I don\u2019t have any ideas off-hand for how to handle timeouts.", "Sorry for replying old topic.", "I\u2019m trying to fix remaining sanitizer issues.", "\nI first tied rcl and found almost of them are about test code but a few are about rcl code.", "I sent PR about these(I related them with [rcl isses 469 \u201cMemory leak in test_subscription__rmw_fastrtps_cpp\u201d](Memory leak in test_subscription__rmw_fastrtps_cpp)).", "Also I found rcl line-coverage by UT is 75.2%.", "\nSome functions are not tested in graph.c, init_options.c, node_options.c, publisher.c, subscription.c, timer.c.", "\nSo I plan to write more tests and send PR.", "The same can be said about rmw.", "\nRmw passes ASan test, but test coverage is 58.6%(lines), 43.3%(functions).", "\nI plan to address them too.", "If there is a goal for test coverage or quality, please tell me.", "Thank you.", "Thanks a lot for your work on this ", "!", "Did you take a look at the (future) ", " ?", "For ROS core packages, there is an ambitious goal set to reach 95% line code coverage.", "On another note, we setup an ASAN nightly job there: ", "Currently, it only builds until ", " as only those few packages are 100% clean.", "\nIf merging your PRs could allow us to get more of ROS 2 core packages green, please consider updating the job to start building more code with ASAN every night by replacing ", " in the following code:", "Thanks again for your help with this!", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["lock order inversion (potential deadlocks)", "data races", "heap-use-after-free (accessing heap memory after it is freed)", "memory leaks", "signal handler spoils errno (a signal handler overwrites errno)", "colcon build with flag for ASan mixin: ", "\n", "see ", "\n", "\n", "colcon build with flag for TSan mixin: ", "\n", "see ", "\n", "\n", "\n", "\n", "see ", "\n", "\n", "34 memory leaks", "3 heap-user-after-free", "47 data races", "10 potential deadlocks", "2 heap-use-after-free", "2 signal handler spoils errno", "4 fixes in source code\n", "heap-use-after-free in rclcpp - ", "\n", "memory leaks in rcl\n", "\n", "\n", "17 fixes in test code\n", "memory leaks\n", "rosidl - ", "\n", "rcpputils - ", "\n", "rcutils\n", "\n", "rcl\n", "\n", "system-tests - ", "\n", "\n", "\n", "data race\n", "\n", "asan_build_args = data['build_args_default'].replace('--cmake-args',", "    '--cmake-args -DOSRF_TESTING_TOOLS_CPP_DISABLE_MEMORY_TOOLS=ON') + \\", "    ' --mixin asan-gcc --packages-up-to rcpputils'", "\n", "create_job(os_name, 'nightly_{}_address_sanitizer'.format(os_name), 'ci_job.xml.em', {", "    'cmake_build_type': 'Debug',", "    'time_trigger_spec': PERIODIC_JOB_SPEC,", "    'mailer_recipients': DEFAULT_MAIL_RECIPIENTS + ' ros-contributions@amazon.com',", "    'build_args_default': asan_build_args,", "    'test_args_default': (", "        '--event-handlers console_direct+ --executor sequential '", "        '--retest-until-pass 10 --packages-up-to rcpputils'),", "})"], "url": "https://discourse.ros.org/t/introducing-ros2-sanitizer-report-and-analysis/9287"},
{"title": "Navigation2 WG changes and HELP WANTED", "thread_contents": ["All,", "\nI\u2019m saddened to say that the Nav2 team at Intel that has been on the project for the last 18+ months is being disbanded.", "What this means is that ", " to continue moving Navigation2 forward to make it even better.", "I\u2019m passing the torch of leadership of the Navigation2 WG to Steve Macenski at Samsung, who has been a major contributor to the project. My hope is to continue contributing as much as I can, time allowing, and to stay active in the ROS2 community.", "Matt", "Discourse needs a \u201cdon\u2019t like this post\u201d button next to the \u201clike this post\u201d button.", "It\u2019s sad to hear that Intel\u2019s nav2 team is going away. You\u2019ve all done a huge amount of work over the last 18 months to bring navigation to ROS 2.", "Is Intel cutting back its ROS 2 contributions in general or is this just a refocusing?", "Is Intel cutting back its ROS 2 contributions in general or is this just a refocusing?", "It\u2019s part of an overall restructuring and re-organization that is happening. I can\u2019t answer with more than that right now.", "I was looking for the sad button on Discourse to react on this post,", "\nalthough I have to say, you did a great job until now, and passing the leadership to Steve is the best for that project to keep going on", " you forget what gifs are for:", "I definitely appreciate any help I can get. Both from junior software developers wanting to get into ROS to experts in algorithms to help modernize our technologies and anywhere in between. Matt and his team has been crucial to getting the stack to where it is today and the skeleton crew of ", " isn\u2019t enough waking hours to do navigation and my other research oriented goals.", "If any company wants to donate a robot to me to develop on and have first class support in ROS2 Navigation, let me know ", "We\u2019ll miss you and your great open source leadership Matt!", "Thanks for all the blood, sweat, and tears you\u2019ve given us ", ". It won\u2019t be forgotten.", "Just a random user(developer?) passing by. This is my first thought.", "Still, thanks for your awesome contribution to ROS2 and Nav2.", "Thanks for the contributions ", " and everyone else in your team!", "This is indeed sad news ", ", but like ", " ", " and others said, many thanks for the awesome contributions that you have made up to this point! ", " ", " ", "Thank you, ", " and team for your work. Was a real pleasure to talk with you at the ROS-I conference. I wish we can still see you around.", "at the ROS-I conference", "in case you missed it\u2026 here\u2019s the video of Matt giving a ROS2 Robot Dev Kit feat. Navigation2 Overview at ", "\u2026 more videos to be released soon\u2026", "\n", "Sorry yo hear that ", ". Thanks ", " for your work", "Thanks everyone for the nice comments.", "I want to make sure that everyone in the team is acknowledged:", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "Thanks to all of them for the hard work they\u2019ve done to this point and hopefully to more opportunities in ROS2 in the future!", "Yeah, big thanks to you and all of the nav2 team. I didn\u2019t have the opportunity to work with you all often, but I really appreciate the value you guys helped bring to the community.", "Thanks to the entire Nav2 team at Intel for their contributions, and for spearheading much of the ros2 migration process. The navigation2 project wouldn\u2019t be anywhere as far along as it is today without the time and effort they\u2019ve put in. It was a pleasure to collaborate with you all, and I hope to see you continually around the community.", "I wanted to acknowledge all the efforts put down by you guys. And a great thank you for building such a good piece of software.", "Feeling sad that our team is getting disbanded ", "We were just getting started! With plenty of ideas on the ", ".", "Anyhow, thanks ", ", for your great leadership. ", " and Intel-team, it\u2019s been a pleasure working with all of you.", "Its been a pleasure working with you too!", "I\u2019m sure we\u2019ll cross paths again. It\u2019s a small community.", "Thanks Matt and the team\u2019s excellent work on leading Navigation2 WG and its development. It is also my pleasure and honor to work with you as part of Intel\u2019s contribution to ROS2 community.", "I wish you all the best in the future and keep touch.", "\n", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/navigation2-wg-changes-and-help-wanted/12348"},
{"title": "Proposed Edge AI WG", "thread_contents": [" is being proposed. We\u2019d like to get your feedback and interest in contributing to this effort.", "Edge AI WG thus far:", ": make Edge AI easier and ubiquitous in ROS 2", ": Edge AI, specifically ML has important applications in ROS 2. For example navigation, perception & picking, inspection, motion planning. We\u2019ll work to integrate and support technology for ML. We\u2019ll approach this via a process of assessing the current state and working to make it easier for ROS 2 users.", "The WG seeks to do the following for ROS 2:", "Hi Joe,", "\nI\u2019ll check internally, but I believe Intel should be able to attend / contribute also.", "I\u2019ll let you know. I assume this would kick off in January 2020?", "CPU", "Something I\u2019m really interested by, and hopefully something Intel can help with, is an apples-to-apples comparison of a few classes of machine learning models with OpenVino-optimized model, raw CPU, and TensorRT-optimized models on a comparable Nvidia GPU (which, you know is a question of itself. But I have a Jetson Nano, a TX2, and I\u2019m sure I could get access to a Xavier if we wanted to run the gambit).", "In particular, starting from a common basis tensorflow model, instructions for how to run, instructions for how to optimize with openvino, instructions on how to optimize with TenorRT (which I can provide). This way you have a full document for \u201chey I trained this model, and now I want to deploy it on [all the major options]\u201d and as the instructions we can use to reproducably get test results for different classes of models.", "Now what classes of models am I interested in?", "This is a really valuable investigation but perhaps not ", " ROS related", "Could someone explain to me what the difference is between \u201cEdge AI\u201d and perception / computer vision? How would this be different than a perception working group? I would be more than glad to help out but I would prefer we keep the buzz words to a minimum.", "I would prefer we keep the buzz words to a minimum", "I think its just buzz words and the specific application of AI-concepts on embedded vs cloud hardware (CPU, GPU, FPGA, AI accelerator\u2026). I think the perception working group would be more higher level to perception tasks, which may also include some AI-concepts but also more general perception frameworks/SLAM/etc.", "Great! Yes, the intent is to kick off in January 2020", " One suggestion for topic of discussion would be better support for GPU builds of software. I recall frustration when trying to use OpenCV compiled with CUDA for ROS, as many packages depend on it and they all would have to be build from source. Similarly, PCL offers limited CUDA functionality but it runs into the same source-compilation issues as OpenCV. If we want Edge AI to be a big part of ROS2, we need better support for GPU acceleration, and CUDA is where a large part of the community is at right now. GPU opens up so many possibilities for ROS and it\u2019s currently underutilized. I might like to see alternate builds of binaries with CUDA support. I understand such an endorsement of proprietary software might be a controversial step, but it would be immensely useful.", " sounds like something you\u2019re passionate about! You should join the working group and help make that a reality!", " CUDA libraries are proprietary but endemic. Doing something about it maybe fits in ", ". ", " is right, you can be part of the solution\ud83d\ude01", "Hello, I would be interested in contributing to this effort. My background is on the FPGA embedded systems side, and I am working on a basic Ultra96 project to this end.", "Thanks,", "Bob Anderson", "Some robotics-capable CNN detection model. Preference for SSD mobilenet V1/2 or inception. This class of model is typical and will give a good basis for DL solutions that are generally capable of running on the edge on Nvidia hardware, but I\u2019d love to know if I can run int on intel CPUs as well.", "These features have been supported by ", ".", "I hope our work about ROS/ROS2 OpenVINO Toolkit projects can contribute a bit to this topic.", " loved seeing that work in ", " and ", ", ", " is working on having Intel contribute to Edge AI WG.", "Hi Katherine,", "\nImagine many autonomous cars all being driven by NNs.   Each of these cars could gather vast data sets from all their cameras, lidars and other sensors and transmit this data back to the manufacturer.  This would be a prohibitively huge amount of data, but would be useful for training and improving the next generation of NNs for the cars.", "If instead, any small improvements, ie changes in the weightings of the NN, were transmitted back, these could be averaged over all the cars, and then the improved weightings could be sent back to the cars.", "All the cars will be learning from each other\u2019s experiences.   This is just one example.", "Hi Joe,", "We here at Fraunhofer IPA are also interested in the topic of how to deploy AI modules to robotics systems running ROS. Recently, we have started a research project that touches the area.", "\nI think this can be one major differenciator of ROS in the future compared to other industrial robot systems.", "We should certainly also focus on FPGA and neuromorphic chips as this seems to be an upcoming topic.", "Best regards", "\nChristoph", "Great proposal, is there some designs on architecture yet? If possible, I would like to make contributions, we have our smart device which accelerate the deep neural network, hope the arch will adapt multiple devices.", "Sounds lovely, happy to include you", "Hi Folks, ", " that can work for you next week, thanks!", "\n-Joe", "Hi ", ", great initiative. This in lines of something I have been ideating on in the past few months. I have also jotted down some ideas and approaches to attack this type of task. I am relatively a new comer to ROS but have extensive background in a variety of computer vision / machine learning / deep learning algorithm and product development including academic research, working on mine and other\u2019s startups. I definitely want to contribute and be part of this.", "I have worked on Intel Movidius, Jetson, Tegra GPU platforms, sensors such as RealSense, embedded boards such as RasberryPI, Tinkerboard etc. Portability and reusability of implementations and compute hardware / sensor support for widely varying hardware platforms has been a common challenge I have faced and continue to do so. Anything I can do to help the greater community and help speed up the overall pace of work in this domain is very much my intent.", "I am currently working on Robotics Perception Problems at Rapyuta Robotics, Tokyo. We are a cloud robotics platform based on ROS. Kindly have a look at my profile ", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Joe Speed ", " ADLINK Technology (contributor)", "Steve Macenski ", " Samsung (contributor)", "Geoff Biggs ", "  (will assign) TierIV (contributor)", "Aaron Blasdel ", "  Amazon (member)", "perform a survey of ML use in ROS and ROS 2", "identify gaps and build a roadmap to close them", "make it easier to use machine learning in ROS 2", "enable machine learning on embedded processors found in typical mobile robots", "enable HW acceleration of ML when present e.g. CPU SIMD, GPUs, FPGAs", "Some robotics-capable CNN detection model. Preference for SSD mobilenet V1/2 or inception. This class of model is typical and will give a good basis for DL solutions that are generally capable of running on the edge on Nvidia hardware, but I\u2019d love to know if I can run int on intel CPUs as well.", "Some lower dimensional detection or classification model. Think: IMU, laser scan, or narrow/shallow CNN. This class of model is interesting to test for simplier problem sets, how much the optimizations really help, and again with an eye for \u201ccan I run this on my i5 CPU tractably\u201d without needing a separate GPU unit.", "[other] I\u2019m sure there\u2019s another good extreme to test here with other types of machine learning interests.", "It supports ROS and ROS 2 frameworks.", "It supports Intel OpenVINO and encapsules the utility of openCV.", "It supports Intel CPU / GPU / FPGA. (FPGA is not fully tested although).", "It support SSD mobilenet, YovoV2, master RCNN and other Intel trained models and public pre-trained modles."], "url": "https://discourse.ros.org/t/proposed-edge-ai-wg/12011"},
{"title": "Edge AI WG kickoff call - pick a date", "thread_contents": ["Hi, For our first ", " call, please click all the times that work for you. Look forward to it!", "\n", "\n", "\n", " ", " ", " ", " ", " ", " ", " ", " ", " ", "Just an idea, will there be a critical mass of Edge AI WG people at the ROS Industrial meeting the following week? Perhaps we can kick it off in person if we have three or four people in the same room.", "May I ask, what will be the mode of connecting in remotely ? Hangout link or such or phone number ? I am keen to join this meeting and maybe share by 2 bits.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/edge-ai-wg-kickoff-call-pick-a-date/12875"},
{"title": "ROS2 memory usage in large networks", "thread_contents": ["It seems to me that the decentralized approach of ROS2 has a hard time of scaling with larger networks (100 to 10000 Nodes). For comparison, I have implemented a most minimal Node in both ROS1 and ROS2:", "I launched multiple copies of these nodes and recorded the physical memory use via ", ".", "Under Connext RTI I began seeing the following error after having started about 100 Nodes, which is why I labeled the attempts to spawn more than that as \u2018failed\u2019:", "With OpenSplice, my nodes seem to suffer from a memory leak. The leak occurs once OpenSplice throws the following error:", "With few nodes (50 is fine for example)  I do not see the error and no memleak occurs either.", "Among the three tested middlewares, only FastRTPS appears to be able to support larger networks of nodes. Even then however, the memory usage quickly ramps up and essentially bottlenecks the possible network size.", "Since this is only considering the absolute most bare-bone node one could implement, I have concerns about how well ROS2 can scale up with large networks of hundreds of nodes. Seeing that the overhead of a very simple node could easily go into the 100s of MB with increasing network size, this puts further constraints on embedded devices running such a node in a large network.", "I would be very interested in hearing what kind of strategic choices have been made with respect to a large number of nodes. Are networks of >1000 nodes considered outside the scope of ROS2?", "Furthermore, what techniques do exist to cope with this hunger for memory?", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-memory-usage-in-large-networks/12916"},
{"title": "Robotics Distributed System based on Kubernetes", "thread_contents": ["Hi All,", "we have been through feasibility and experience using ROS/ROS2 based on Kubernetes. Now we can create ROS2 distributed system on Kubernetes Edge Cluster ", ". we would like to hear about if anyone interested in this stuff, so that we could maybe share some intel and thoughts about fleet management, architecture and use cases.", "using ", " (which btw open source and maintained by CNCF), we can have a lot of things described above. we can actually create ROS2 distributed system with ", " and even auto recovery and no downtime for upgrade.", "if anyone interested in details, we are willing to have online syncup including demonstration. so if you are interested, just ping me!!!", "We\u2019ve lately been looking at some fleet management systems from a security perspective and would be interested in this indeed. Please let me know if something gets organized.", "Nice!", "we would like to hear about if anyone interested in this stuff, so that we could maybe share some intel and thoughts about fleet management, architecture and use cases.", "I\u2019m very interested in this.", "I am also very interested in this. Is there a project that could come out of this to help with general ROS-Kubernetes applications?", "We\u2019re hiring a Cloud Native open source engineer soonish. When that happens, I\u2019d love to have him and I work together on something like this if there\u2019s an opportunity.", "\n", "\n", "appreciate for the quick response, guys!", "\nI will organize date for sync, expecting 2/M-2/E. anyway let me get back to you.", "Is there a project that could come out of this to help with general ROS-Kubernetes applications?", "no i do not think so, but I really like that idea.", "Great!", "I\u2019m very interested in this.", "This looks great! I\u2019m very interested too!", "I\u2019d like to hear about how this works in intermittent connectivity situations.", "This sounds really interesting. Anyway we could potentially record the sync-up? I would be more than happy to help.", "I\u2019m also interested in this too", "Hi\u2026 I\u2019ve been looking for similar solutions. Please let me in the sync-up. I\u2019ll appreciate it.", "Anyway we could potentially record the sync-up?", "i\u2019m just okay to do that.", "I would be more than happy to help.", "thanks for the help, i\u2019ll let you know!", "What a success ", "!", "Hi,", "could you please fill in your available time? we will take the majority.", "Robotics Distributed System based on Kubernetes", "could you help me to setup online meeting and recording, if it is not problem for you. i really appreciate for your offer.", "? We can then add the video back into the thread.", "could you please fill in your available time? we will take the majority.", "You might consider making those checkboxes, multiple options work for me anyway.", "? We can then add the video back into the thread.", "That requires G Suite Enterprise; I assume you have it? We can facilitate that if needed, as well.", "It looks like we don\u2019t have GSuite Enterprise either. ", " I would love it if you could record the hangout and post it to YouTube. I\u2019m trying to get more meetup content recorded so it can be available to community members across the globe.", "No problem. ", " let me know the final time slot and we\u2019ll create an event in the calendar for it with a HO link and record it.", "Adding my best available time (and replying so I get notified of the happenings in this thread)", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Robots Orchestration", "Development Environment", "Limit and Constrain the resources / Access to the host system", "Distributed System (fails independently, also appears to be a single use experience.)", "Multiple Robots/Fleet Management (10, 100 and 1000+)", "Application Lifecycle Control (roll up and down without downtime)", "Maintenance (automatically redeploy the application container if it gets crashed)"], "url": "https://discourse.ros.org/t/robotics-distributed-system-based-on-kubernetes/12558"},
{"title": "About the Next Generation ROS category", "thread_contents": ["This is a forum to talk about the next generation of ROS.", "This is a new forum for the ROS SIG NG ROS: ", "\nPlease browse there for past conversations. For continuity and archival purposes we will setup a forwarder to forward emails from this category to that mailing list but will disable posting to that list to focus the conversation here.", "This forum is for discussing the development of ROS 2.0.", "Developer events can be found in the ROS Events Calendar:", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/about-the-next-generation-ros-category/538"}
{"title": "Nav2 WG Cancelled today (Nov 21 2019) - Notes from last week meeting", "thread_contents": ["Thursdays 3:00 pm Pacific Time - No meeting Nov 28th (US Holiday)", "Link to meeting on ROS2 Calendar: ", "To receive invites, add yourself to the google group: ", "\nAttendees: Geoff Biggs, Brian Wilcox , Carl Delsey, Carlos Orduno, Steve Macenski, Shivang Patel, Matt Hansen, Yathartha Tuladhar, Mohammad Haghighipanah, Melih Erdogan, Francisco Rico, John Connolly", "Issues:", "\n", " - Controller PR from Steve Macenski needs new reviewer - Carlos will look into it.", " Travis build is failing", " Waypoint Following:", "Next meeting: Dec 5th", "Thanks to ", " for taking notes!", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Carl is talking a look at it. It is timing out (even without the tests).", "\nThey had same issues in Autoware (Geoff) - could ask for longer timeout, Autoware was increased from 50 minutes to 100.", "\nTest failing even when just building (Carl). It could be Gazebo ros plugins.", "\n(Carlos) Multi behavior nodes add build time.", "\n(Carl) Travis is probably a second/third opinion of whether things are working.", "\n(Carl) It will take effort to make it passing. Ruffin maintains Circle, so we can just use Circle.", "Option 1: try to get more time.", "Option 2: try to get the time down. reduce the number of tests. Multi-robot test takes a lot of time.", "Option 3: remove Travis.", "\nVOTE: Disable Travis. Put effort into Circle CI.", "(Matt) First come up with use cases. E.g., agricultural use cases where it has to go through different points to complete a task.Another example is a patrol robot with geofenced area.", "\n(Mohammad) Waypoint following should be in different repo.", "\n(Steve) neutral; Most people use it in warehouse; Lets not put complexity in deeper levels; Option 1 favorable.", "\n(Matt) Could this be a performance bottleneck if we keep everything very separate.", "\n(Steve) The point to point waypoint following is very naive and noone would ever use it, and he wouldn\u2019t suggest anyone to use it that way.", "\n(Carlos) What does waypoint following actually mean? What if we need to stop at a point, and then do something else?", "\n(Matt) Mixing navigation with other tasks would be a mission execution.", "\n(Carlos) What if we need different velocities at different section of the waypoints? Carlos has different implementation methods in the issue.Is P2P is the most basic primitive? Or should there be other primitives?", "\n(Steve) He likes option # 1 better. We should push all of the complexity to application layer.", "\n(Francisco) He thinks option 1 is the one that meets the requirements of what we really want to do.", "\nDecision: Option 1 - PR ", " is the best option, we will integrate into our repo"], "url": "https://discourse.ros.org/t/nav2-wg-cancelled-today-nov-21-2019-notes-from-last-week-meeting/11605"},
{"title": "ROS2 Real-time Working Group Online Meeting 5 - Nov 13, 2019, 7AM PDT (UTC-7)", "thread_contents": ["Hi ROS2 RTWG members, our next meeting will be in 8 hours (sorry for the late notice).", "Agenda:", "Please add if you have more topics.", "Call coordinates are in the calendar invite for RTWG and below:", "Time: Nov 13, 2019 07:00 AM Pacific Time (US and Canada)", "Join Zoom Meeting", "\n", "Zoom is the leader in modern enterprise video communications, with an easy, reliable cloud platform for video and audio conferencing, chat, and webinars across mobile, desktop, and room systems. Zoom Rooms is the original software-based conference...", "\n", "Meeting ID: 171 629 184", "\nPassword: 803967", "One tap mobile", "\n+16699006833,171629184# US (San Jose)", "\n+19294362866,171629184# US (New York)", "Dial by your location", "\n+1 669 900 6833 US (San Jose)", "\n+1 929 436 2866 US (New York)", "\nMeeting ID: 171 629 184", "\nFind your local number: ", "i wish i could join, but cannot make it cz of the time difference.", "\ncould you share minutes later as usual?", "thanks,", "unfortunately, I could not attend this meeting as I was on a business trip. In the next meeting, we (", ", ", ", ", ") would like to present and discuss the LET executor for rcl and the corresponding PR: ", "A small suggesting for the announcement of the WG meetings: Could you please add them to the ROS 2 WGs calender at ", " ?", "In the next meeting, we (", ", ", ", ", ") would like to present and discuss the LET executor for rcl and the corresponding PR: ", " great. How much time do you need for the presentation and what would be the objective that you\u2019d like to achieve after the presentation (asking just to organize and make the meeting efficient)?", "Could you please add them to the ROS 2 WGs calender at ", "I have the meeting added to the Events calendar as suggested by ", " here: ", " (see at the bottom).", "I see that this calendar ", " is not being used anymore. ", " is that correct?", ", thank you for the quick reply. Let us stick with the calendar ", " that you already used.", "Regarding the presentation on November 27th: I propose to plan 5 to 10min presentation + 10min discussion. The goal is to decide whether the LET Executor functionality should be included into the rcl repo and how to organize it with respect to the package structure.", " where do I find the meeting minutes of yesterdays RTWG meeting?", ", I should have talked to my colleague ", "  first ", " I was not aware that he already presented the LET Executor in the meeting on November 13. Nevertheless, at the next meeting, we should please discuss with the WG participants and in particular ", " where and how to integrate the LET Executor and the C convenience functions for RCL, cf. ", ". Several options are conceivable (rcl, rclc, \u2026). As the next meeting will be after the Eloquent release, that\u2019s probably the right point in time to discuss this PR.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Recap workshop RosCon 19", "Update on WIP", "Performance measurement\n", "Erik says that there are different and biased performance test benchmarks for DDS floating around.", "\n", "\n", "\n", "Bosch and Nobleo are running the experiments and also measuring the performance with this code:\n", "testbench Generator: ", "\n", "testbench for the static rclcpp executor (nobleo): ", "\n", "With above packages you can: split up benchmark, configure the number of publishers, subscribers, essentially it is a benchmark generator, simple way to generate test cases & can see overhead in DDS, rmw, \u2026", "\n", "\n", "Different contributors to the ROS 2 ecosystem use benchmarks & tools that are either all different - and thus cannot be compared - or simply provide invalid results.\n", "ADLINK\n", "benchmark for Cyclone DDS", "\n", "eProsima\n", "benchmark for Fast-RTPS", "\n", "Bosch & Nobleo\n", "benchmarks/analyses for:\n", "Static executor", "LET ", " executor", "\n", "using:\n", "\n", " + ", " (instrumentation, tracing, and analysis/visualization)", "\n", "\n", "New ROS 2 real-time inverted pendulum demo (from Carlos)\n", "looking at memory allocation, page faults, context switches, etc.", "using ", " + ", " (instrumentation, tracing, and analysis/visualization)", "\n", "\n", "LET rcl executor\n", "Bosch created a pull request on ", " which includes the LET rcl executor and some helper functions (rcl_ext) (to simplify Setting up rcl handles (like Publishers, Subscribers, timers ) on C API", "\n", " says that it should  go into a different repository. Possibly rclc could be revived.", "\n", "Single-process, real-time rmw\n", "\n", " writing of GitHub issues", "\n", "\n", " => ", "  and ", "  discussed inclusion of LTTng tracing\n", "\n", "  Common package for real-time settings would be nice => memlock, setting scheduling policies, cpu affinity", "\n", "  thinks that there are 2 objectives for such a package: to either make it easier to use or portable.", "\n", "AI: Dejan to write a longer Discourse post on how to measure performance correctly", "AI2: Silexica to implement their Performance Testing Platform for ROS community", "AI3: ", " to finalize the issues for  single-process, real-time rmw", "\n", " LET executor: ", "\n", "\n", "  single-process, real-time rmw"], "url": "https://discourse.ros.org/t/ros2-real-time-working-group-online-meeting-5-nov-13-2019-7am-pdt-utc-7/11460"},
{"title": "ROS2 Logging Format", "thread_contents": ["Hi,", "I threw out this PR on rcutils for changing the logging format by default to include the timestamp, which it currently is missing.", "I was hoping to get some feedback from folks that this is something valuable on a general case. I can say in my experience the timestamps are critical to debug timing or see relative event times.", "I\u2019d like to hear from other people if they agree or disagree!", "I do agree on your PR,", "\ntimestamp is really critical information for debugging between nodes and system.", "I don\u2019t see a reason not to include timestamps and can think of many cases where the information is indeed very helpful.", "Timestamp is often crucial indeed.", "I\u2019d even love to have ISO 8601 style datetime (to be exact ", ") instead of Unix timestamps, but that would require a few more changes I guess.", "I wouldn\u2019t be totally opposed to that,  but it does bring in the ambiguity of the timezone. I like unix time to abstract out that background process in my mind of \u201cok, what time zone would this be in\u201d when looking at logs for a machine potentially thousands of miles from me", "I like that something like ", " would be more easy to read, but I do understand smacs concern of having to deal with timezones to some degree. However, is the timezone really an issue ", "? Your own argument for adding timestamps to logging is for easier debugging. Whether or not the timestamp matches the timezone you are currently in does not take away a lot from the added readability. On top of that I think it is quite easy to detect what timezone the system is in and doing some conversion at some point. Just brainstorming here.", "yes, I\u2019d say timezone is a really annoying thing to deal with. Also putting it in that format is harder to look at relative timing when I really just care about how many seconds (milliseconds, microseconds) passed between events. Its extremely rare that timing on the hours scale is all that interesting.", "I agree with ", "\u2019s approach. The purpose of the time stamp is less to understand when in absolute time things happened, and more to understand when they happened relative to system start and to each other, often at a very fine scale.", "I really just care about how many seconds (milliseconds, microseconds) passed between events.", "So do I. i would organize and sort date into files if needed.", "Btw, ", " has been merged.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-logging-format/11549"},
{"title": "Supporting / maintaining SLAM in ROS2 - input requested", "thread_contents": ["Our Nav2 WG has been using a ROS2 ported fork of ", " for doing SLAM.", " has been kindly keeping this updated but it is forked from the upstream ", " project, which doesn\u2019t have a ros2 branch. My previous attempt to broach the subject there was ", " which basically boomeranged back to me to create an RFC and take it to the google cartographer ", ", which hasn\u2019t met in 7 months, in order to get it approved and a ROS2 branch created. This is obviously a hassle, but I\u2019d be potentially willing to do it, except it doesn\u2019t look like that meeting is happening anymore and I\u2019m not even sure that repo is being maintained anymore, based on the last commit having been back in May.", "If anyone ", " what is going on with cartographer and whether it is still being supported / maintained, I\u2019d love to hear that.", "BUT, based on what I\u2019m seeing, I believe we need a well-supported, maintained SLAM for ROS2, and I\u2019m opening the discussion here for suggestions as to who and what that should be going forward.", "Is this meant to be just 2D SLAM or also 3D? Also does it make sense to simply fork Cartographer and maintain it separately until (if) we see any more activity from the original project (though like, it\u2019s a Google project so there\u2019s every reason to believe that it\u2019s just dead now). What about Karto?", "I\u2019d also like to shamelessly plug one of my projects as a possible contender. I\u2019ve been working on what is essentially a rewrite of open_karto but built to be \u201cpython first\u201d and more flexible (e.g. supply scan matching for a new kind of sensor and the SLAM would come for free). It\u2019s also faster than Karto based on what I\u2019ve seen and the ultimate goal is to unlock life long mapping. It\u2019s almost ready for primetime (just finished the ROS 1 node). I\u2019m committed to working on it and maintaining for at least a few more years and I\u2019ve deliberately kept the code as simple as possible. I believe I can explain the code fully to another engineer in a single afternoon (in fact I did that for a colleague just a few days ago). This should help with maintainability. If there\u2019s interest I can accelerate work on a ROS 2 wrapper.", "A complete 2D and 3D graph SLAM implementation using plagiarized code from Karto - safijari/yag-slam", "From the weekly, I finally (one armed, no less ", " motorcycles are dangerous, don\u2019t get one) ported slam toolbox to ROS2. You\u2019ll get mapping, localization, and lifelong mapping capabilities in complete if I did everything right. The only non-ported items are related to the rviz plugin and interactive markers which I have tickets open in the appropriate repos.", "Slam Toolbox for lifelong mapping and localization in potentially massive maps - SteveMacenski/slam_toolbox", "Building in build farm as we speak and should be installable in the next dashing sync. I\u2019m not sure if anyone at Intel has the cycles to play with it, but expect a similar level of support for this project as I give navigation2.", "So I guess I should clarify, I\u2019d really like something that meets these criteria:", "Basically, something that would be a workhorse for ROS2, always reliable and very good performance, and well-maintained.", "I also think it\u2019s a good thing if there are more than one that meet those criteria.", "I think that\u2019s both incredibly reasonable and unrealistic for the moment. Different options meet different bullets. I\u2019d say my work meets the bullets of that that are most important: efficient, documented, debians, and open (sure, not apache, but I make no terms against commercial use, just to give back, which I find very rational given the time organizations I\u2019ve been in have dumped into it). Gmapping if ported would be 4 of those. Karto 3.", "Karto nor gmapping provided PR testing or have really been maintained at all in the last 5 years. Gmapping for the majority of its life was non-commercial and Karto is GPL. The only example I could give that had all that is cartographer@ros1. I would like very much so to have gmapping die in ROS1, its really past its prime by really any other available option.", "Do you see another non-cartographer example in ROS1 that provided those that we could look to port? These are important points but tempering with past projects is useful.", "I\u2019m not even sure that repo is being maintained anymore, based on the last commit having been back in May.", "It looks like the official print cloud project for cartographer has been rather active as of late: 11hr ago", "View billions of points in your browser. Contribute to googlecartographer/point_cloud_viewer development by creating an account on GitHub.", "But I don\u2019t see a large overlap in active viewer maintainers and original cartographer_ros maintainers.", " - I\u2019m not excluding your slam toolbox as the potential right solution, just trying to clarify what I think requirements are. I\u2019m sure others have their opinions as to what is needed, I\u2019m trying to get some of those as input too.", "I don\u2019t know of any other non-cartographer example in ROS1 that meets all the criteria I listed, which is partly why I started this thread. I\u2019d really like to see someone in the community or TSC step up and volunteer to take ownership. It seems like there are quite a few SLAM implementations out there but they\u2019re generally released as part of a conference or academic paper, maintained for a little while, then abandoned. This is the problem I see that I\u2019d like to see solved for ROS2.", " - thanks for the info on the point cloud repo. I still have my concerns however, until I hear some commitment from the maintainers themselves.", "When ", " I discussed this earlier, I think we came to the conclusion:", "I believe that we left off with wanting to propose this to the ", " developers, but as you said, there hasn\u2019t been much traction there.", "I guess I\u2019m confused as to why the wrapper needs to be upstream and can\u2019t be a repo under OSRF.", "You are correct, and it could be.  I think ideally it would be maintained in the same place that the ", " wrapper is maintained, so that improvements can be ported across the versions.  That saves a bit of effort in shuttling things back and forth across forks.", "Another thread mentioned that the OSRF ros2 port doesn\u2019t contain recent changes which the cartographer folks say make substantial  improvements. I think Matt\u2019s goal is to have it committed to and maintained by Google so OR isn\u2019t constantly chasing changes in Cartographer/ros1 wrapper that they (probably?) don\u2019t have time or long term resources to do if we can get Google to do it.", " my goal with that comment wasn\u2019t to push ST as much as point out that our options with that check list are very limited and we might want to temper expectations from looking at history unless there\u2019s someone standing up saying they\u2019ll do the work & maintain under a ROS org long term. With that list of requirements, I see 2 most reasonable options: we reapproach Google folks again on ROS2 and re-explain the importance or we port Gmapping and write the testing infrastructure ourselves. With that said, the last substantive change to gmapping was years ago so I\u2019m not entirely sure the automated testing pipeline is totally necessary with the small cadence of changes.", "I\u2019d prefer option 1 since I really hoped to leave gmapping behind. Then there are 3rd party options like what Jari and I have presented amongst others, I can create an overview of the other ones I know about that are more or less equivalent (REP105 frames + lidar) but I wouldn\u2019t place much hope there will be a long term support plan as many are as you mentioned for a paper and widely untouched afterwards. Something used by companies in production is more attractive to me since there\u2019s a group that has invested interest in it working, which at minimum Jari and I\u2019s would have.", "To add to this: having used gmapping, and then Karto and Slam Toolbox in production I\u2019m 100% with ", " on letting gmapping die with ROS 1. Karto and Slam Toolbox work infinitely better and are more lightweight*.", "*And the more I look into Cartographer the more I\u2019m convinced the original framework presented by Karto is much more straight forward (trying to follow code paths in Cartographer make my head spin) and seemingly just as flexible as the one present in Cartographer. I feel like this matters for maintainability even if the original maintainers drop off.", "trying to follow code paths in Cartographer make my head spin", "Couldn\u2019t agree more. I\u2019ve found reading the standard template library to be easier than that. SLAM Toolbox has 50% less code in entirety than Cartographers ", ". Reading their paper I\u2019m in love with their ideas but I can\u2019t match that up to the actual code that exists. Not to say our stuff is trivial to understand, but its at least readable and well commented.", "Edit: sorry this is here nor there. I think Cartographer is a reasonable option regardless. I\u2019d just like to narrow down to finite options and discuss what\u2019s the best direction amongst them to move forward with. I think there will be some compromises any way we go- but step 1 is what are the options. So far I\u2019m hearing: cartographer, karto, gmapping, slam toolbox, and yag", "I\u2019m surprised that nobody suggested the idea of starting a ROS2 SLAM effort from scratch. Therefore let me do so.", "My SLAM experience is mostly ROS1 based and over the years I got to \u2018play\u2019 with many - if not most - of the SLAM frameworks out there. During that time I always had a feeling of frustration because (choose any, non exhaustive) the framework \u2026", "I believe all these cons already somewhat make the case for developing a ROS2 SLAM framework.", "Notice that I am not suggesting to re-implement karto, or cartographer, or ORB-SLAM but a framework organizing the data-flow much like ", " with defined API, base classes and tooling. Such framework would be fully ROS2 based and emphasize modularity and flexibility. As for the initial demo, a simple 2D pose-graph (karto-like) could be implemented.", "I do realize this is a substantial effort, likely one for a dedicated WG, thus I\u2019m only mentioning the idea to see the interest and feedback it gathers.", "Post post edit: I fear we may be leaving the domain of the original discussion.", "I can\u2019t comment on if it would be beneficial to set up SLAM similar to the nav stack but all the reasons you mention are the reasons I wrote my own SLAM package (or rather, rewrote most of Karto, ", "). Most SLAM/VIO/VSLAM/LOAM implementations seem to ultimately come down to", "So, yeah. If those 4 pieces are sufficiently abstracted the choice of hardware should be meaningless as long as folks can supply 1 and 3, I think (I\u2019m not very good at this stuff so maybe there\u2019s nuance I\u2019m missing).", "Agreed, I think in concept its totally possible. I\u2019ve spent some time thinking about that for about a year but never had really the motivation or resources to \u201cdo it right\u201d so I haven\u2019t even started.", "Would that be awesome? Yes, absolutely, and I\u2019d love to be part of it as its happening, but for the more immediate need of a ROS2 reliable SLAM solution that\u2019s going to be looked after, we should steer back towards that. A modular-SLAM metapackage would be at least a 6-12 month undertaking.", "Post post edit: I fear we may be leaving the domain of the original discussion.", "As per the fairly open title of this thread, I don\u2019t think we are. But I\u2019d be happy to start a new thread if people prefer to.", " has essentially summarized the 4 \u2018modules\u2019 of any regular SLAM out there (others include graph-sparsification, planning and whatnot). This would be one of the layer of abstraction. Others can be devised, especially from the implementation perspective.", ", glad to see that you would like to be part of such project! I have been thinking about it for a while too and I think that ROS2 now offers pretty much all the basic pieces to build an awesome framework on top, action/srv, components etc.", "\nI agree this would be more of a mid to long-term project and does not respond to the immediate need for a mapping solution in ROS2. But you know, the earlier we talk about it \u2026", "This also assumes graph slam remains the flavor of the day, which I think will be true for awhile, but has to be extendable beyond it as well if we want it to be useful into the general future. Probably have a PF unit and plugins for deep learning units while making sure that its super performant with all that generalization.", "Mapping is one of the robot tasks I think new flavors of deep learning could eventually outshine our meaty human brains in, especially since its a non-safety critical task there\u2019s alot of leeway it can be given", "My current assumption is indeed that such framework would rely on graph-based SLAM as it is currently the ", " standard formulation. However since the framework would essentially organise data and its production, the solving aspect is therefore just another module, possibly one that allows for different formulation. But this aspect of the modularity is not quite clear to me yet.", "I do agree with you that machine learning is growing in SLAM. My view is that it \u2018only\u2019 going to be a particular implementation of a particular task (e.g. feature detection/extraction, place-recognition, odometry etc\u2026) rather than a larger (partially) end-to-end thing. In this context I\u2019m not worried about fitting those algorithms.", "\u2018only\u2019 going to be a particular implementation of a particular task", "IG, I agree with you when it comes to general perception tasks as it relates to ", " robotics. IG, I agree that most slam implementations that use deep learning use it as a feature extractor or for one of the specific tasks. IG, I think its hard for even something like an RNN or similar to have the memory to accurately accumulate data as to remove structure emposed by a graph or tree.", "But I\u2019m seeing work that is slowly changing that. I think there\u2019s going to be some structural elements to aid a DL approach, but I think we\u2019ll be seeing effective methods that aren\u2019t structured so rigidly as graphs in the near term future.", "*in general", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["High quality & performance mapping (obviously)", "Liberally licensed for use in production (BSD 3-clause or Apache 2.0 preferred)", "In a mainline ROS github organization such as \u2018ros2\u2019 or \u2018ros-perception\u2019, similar to slam_karto and openslam_gmapping", "Maintained by more than one maintainer, with a commitment to keep it current with new ROS2 releases and respond in a timely fashion to issues", "Released as debian packages", "Well documented ROS2 topic / services interfaces, tutorials", "With maintained CI, including testing pull requests, to maintain quality", "High quality & performance mapping (obviously)", "Liberally licensed for use in production (BSD 3-clause or Apache 2.0 preferred)", "In a mainline ROS github organization such as \u2018ros2\u2019 or \u2018ros-perception\u2019, similar to slam_karto and openslam_gmapping", "Maintained by more than one maintainer, with a commitment to keep it current with new ROS2 releases and respond in a timely fashion to issues", "Released as debian packages", "Well documented ROS2 topic / services interfaces, tutorials", "With maintained CI, including testing pull requests, to maintain quality", "\n", " itself is completely independant from ROS/ROS 2, so the upstream source should be valid for both.", "\n", " needs (and currently has) a port for ROS 2, but the ideal scenario would be to get it upstream into a ", " branch or as part of a unified repo (a single repo that could build for ROS/ROS2).", "\u2026 feels outdated, be it the code and/or the actual algorithm", "\u2026 has no flexibility, extending it essentially means re-writing a substantial portion of it", "\u2026 has little to no modularity. SLAM is a set of algorithms put together, but often there are no easy way to only change a chunk of it", "\u2026 does not have a somewhat standardized API that would make comparison easier", "\u2026 is too task specific, 2D-only/vision-only etc.", "\u2026 is a pain to set up (I\u2019m not pointing a finger at cartographer)", "Do some form of odom correction or odom calculation, compute uncertainty", "Build graph that encodes uncertainty", "Look for loops", "Optimize graph given some condition"], "url": "https://discourse.ros.org/t/supporting-maintaining-slam-in-ros2-input-requested/10986"},
{"title": "ROS Tooling Working Group Online Meeting 3 - Friday Nov 18 3:00PM PST (UTC-8)", "thread_contents": ["The third meeting of the ROS Tooling Working Group will be at the end of this week.", "We are experimenting with rotating times, this time meeting at 3PM PST, to accommodate more time zones. We will evaluate and continue iterating on scheduling as necessary.", ": The link for the meeting is in the Google Groups invite - you can join that here ", ": ", " \u2192 ", ":", "If you have anything you\u2019d like to add to this or a future meeting\u2019s agenda, please feel free to reach out.", ":", ":", "\nOngoing context of the working group for new readers:", "The objective of this working group will be to develop and maintain select ROS 2 tools. We define a tool to be: software supporting developer productivity or robot operation, outside of the robot middleware / ROS2 core.", "This definition of tooling is broad and could cover many things. We are taking a work-centered approach. The Tooling WG will focus on the roadmap, contribution, maintenance, and ownership of adopted subprojects. WG-owned GitHub repositories for subprojects will live in the working group GitHub organization: ", ".", "Thanks everybody who attended this Tooling WG meeting!", "The minutes have been updated with the details from the meeting ", "The next meeting is planned for Friday, Dec 6 at 9am PST", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", " will tell us about ROS installer tooling ", "\n", "Project status updates (cross compile, system metrics, github actions)", "Board review and task allocation", "WG Housekeeping (new repos/subprojects, governance model discussion, membership)"], "url": "https://discourse.ros.org/t/ros-tooling-working-group-online-meeting-3-friday-nov-18-3-00pm-pst-utc-8/11553"},
{"title": "Next Generation Navigation Localizer (AMCL, QMCL, Non-MCLs, Oh My!)", "thread_contents": ["Hi, Friendly neighborhood Nav stack maintainer here.", "I\u2019ve started a discussion analog to the default SLAM discussion regarding localization techniques to support in ROS2 navigation for the foreseeable future. AMCL is not awesome, and I think many folks would like to see it die. Here\u2019s your chance to make your thoughts known! If you have other non-MCL localization techniques you\u2019d like to throw out, I\u2019d love to hear them and any links to existing implementations that might exist (not required). See discussion below in link and comments to follow.", "There's an on-going discussion here (VorpalBlade/quickmcl#15) about potentially moving away from the software package that implements an MCL, AMCL, to another,...", " is awesome. The song is very clear about this fact.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/next-generation-navigation-localizer-amcl-qmcl-non-mcls-oh-my/11658"},
{"title": "ROS2 \"Global Parameter Server\" Status", "thread_contents": ["Hi All,", "We did see some articles about ros2 global parameter server as followings,", "Configuration management system. We see these use cases which ROS 2 parameters do not satisfy:", "It would be possible to create a node called the \u201cglobal parameter server\u201d which allows anyone to set", "\nparameters on it and read parameters from it. We\u2019ve discussed implementing this and even providing", "\nAPI\u2019s in rclcpp and rclpy to make is easy to use it, but we\u2019ve not had time to do that.", "we understand that", "but wondering if any development is on-going or not?", "\nsince above article tells that there seems to be a plan to implement API\u2019s in rclcpp and rclpy.", "could anybody share the current status or requirement discussion?", "thanks in advance,", "\nTomoya", "I wonder how different this would be from the ", " example contained in ", "\n", "\n", "I wonder how different this would be from the  ", "  example contained in  ", "So do I.", "there seems to be requirement and API\u2019s, not actually server node.", "\nso we would like to know the requirement and API\u2019s what has considered.", "thanks,", "\nTomoya", "FYI I opened a ticket on Github about adding some functionalities to the ROS2 parameters.", "It seems to me we could promote the parameter_blackboard from demos to be a standard component, in a package of its own. With it living in demos, it sounds like it isn\u2019t supposed to be used in a real robot.", "Parameter_blackboard would work for us as is.", "That is ok by me. I hesitated to do it at the time (I wrote the ", " demo) just because I felt like it needed more documentation and probably a tutorial for which I didn\u2019t have time.", "Also, you could image that there could be a C++/Python \u201cglobal parameter API\u201d in a separate package which handles the communication and discovery of the \u201cglobal parameter server/blackboard\u201d for you, and which only worked if you also ran the global parameter server separately (sort of like ", " from ROS 1). Which is something else I thought about doing rather than just literally just putting that demo into ", " or something.", "We could really use some help getting this use case better supported. ", "\n", "It seems to me we could promote the parameter_blackboard from demos to be a standard component, in a package of its own. With it living in demos, it sounds like it isn\u2019t supposed to be used in a real robot.", "i do agree on this.", "also i would like to hear about parameter lifetime or persistent parameter.", "\ni do understand that ", " design, but global parameter server would need to support the persistent parameter in general.", "parameters are modified in runtime and cache it into persistent volume as well. and next boot or next re-spawn, modified parameter will be loaded at initialization. (lifetime is dependent on use case, sometimes system lifetime, sometimes node lifetime.)", "could you share your thoughts on this?", "thanks,", "\ntomoya", "I feel like there may be lots of different ways that people want to make parameters persistent. You mentioned how parameters have different lifetimes. Others may want to store parameters in a database instead of a file perhaps.", "Rather than try to build all this into the ", ", maybe it would be better to create a separate node that stores the parameters.", "Right now, the ", " can load parameters from a YAML file. A tool like is presented in ", " can dump all the current values to a YAML file to be used the next time the ", " is loaded.", "Alternatively, maybe the base ", " could have one simple storage mechanism. People can then extend that example to create packages with other types of persistence", "thanks for sharing your thoughts, good to know that.", "there are a lot of use cases, and we cannot support everything as generic. always trading-off. i was just calling for the ideas for this stuff, appreciate it.", "thanks,", "\ntomoya", "As mentioned in this thread there are many different aspects of parameters that add significant complexity. Depending on your application there are many different levels of persistence that might be necessary, for some ephemeral is fine, for others there should be backups mechanisms to recover state following hardware failures. Similarly there are parameters that need to be validated within ranges or enums, or otherwise validated sometimes with runtime constraints.", "Generic nodes and blackboards are very convenient but they lead to unclear ownership and lack the ability to define semantics in documentation. In particular the lifecycles needs of different parameters may be quite different. For example if you have a parameter that needs high persistence and one that doesn\u2019t want it, then you now need to be able to set policies per parameter on the generic parameter server. And potentially try to tie their lifetimes and data management correctly to external events it starts to get much more complicated.", "Whereas if we provide good tools for managing parameters within nodes the data can live with the nodes which own the data. A simple example is setting a parameter on a sensor, the parameter is limited by the capabilities of the sensor. The parameter must be validated by the sensor driver, so there needs to be a mechanism for the driver to get callbacks for the changes and then maybe revert the change to the global parameter, and this can get into fighting updates for the state of the parameter. Also if you do something like plug in a new version of the sensor, and it doesn\u2019t have a parameter that the previous sensor had. That parameter will still exist, and the user might be surprised that when they change the parameter there\u2019s no behavior change. There\u2019s no visibility into the fact that that parameter is now useless. It\u2019s just vestigial but will persist as long as the parameter server stays online.", "As more of the system state evolves this vestigial state will accrue. It might be that some of these parameters overlap between nodes that ran before and suddenly you\u2019ll get different behavior based on the order of previous launches.", "It\u2019s much cleaner to actually keep the parameters in nodes that have semantic meaning. It may make sense to have specific nodes that are standalone and part of a launch file for a particular application. But these nodes should plan to own the lifecycle of the parameters, document the semantics, provide appropriate persistence models. As we look towards supporting security these nodes can have appropriate access control. (Access control on a blackboard type nodes add a lot of complexity.", "Similarly a \u201cglobal\u201d parameter server has undefined behavior if you have two robots that are operating independently then roam onto the same network. If you do need or want state to be persisted, you can launch a specific node that\u2019s setup to have a specific backup to a database or other storage mechanism and will reload state. But if you\u2019re thinking about doing that what is the benefit of having the parameters stored in an external process? Does requiring a network connection improve anything? If we had good libraries such that any node could easily set validation policies for parameters, and have modules that can enable persistence for parameters, then the node that owns the parameter can provide it with semantic meaning and provide the necessary persistence for each parameter.", "So what I\u2019d like to suggest is that instead of focusing on providing a separate node that just holds parameters and add lots of features to that, instead we provide methods and libraries that can build on and extend the node\u2019s parameter API to allow semantically meaningful parameters integrated into the nodes that use them.  And this is not to say that you can\u2019t leverage a parameter from another node, but don\u2019t just try to put all the parameters in one place. They are all accessible from any node on the system independent of which node is hosting them so centralizing them just breaks down the modularity of the system. We may also want to develop standard parameter interfaces that multiple interchangeable nodes can implement, but that\u2019s much more introspectable than just putting the \u201cexpected\u201d parameter onto the parameter server and hoping that the other node will read the same parameter with the same semantic meaning.", "Generic nodes and blackboards are very convenient but they lead to unclear ownership and lack the ability to define semantics in documentation. In particular the lifecycles needs of different parameters may be quite different.", "As we look towards supporting security these nodes can have appropriate access control. (Access control on a blackboard type nodes add a lot of complexity.", "I was going to chime in to make clear my unease about this regressive trend towards globalized parameters on the grounds of security, but ", " gladly beat me to it!", "This design pattern was notorious to try and account for in SROS1, where the parameter server was hosted in the ros-master, and ownership was unclear. The width of the global parameter API and its pervasive use was so much in conflict with principle of least privilege (POLP) that there was little we could do of secure parameter to any meaningful degree without breaking the establish API. See slide 14 from a previous ROSCon 2017:", "3.69 MB", "I\u2019m already quite uneasy with the growing trend of flat level ", " topics and its current  read and write access requirements for all basic nodes:", "This defeats much of our efforts to restrict data flow within the computation graph at the starting line, as every node on the network must then be given both read/write access to a commonly shared global topic. Thus much of the access control efforts in SROS2 lose their teeth, as a means for strict policy enforcement point for isolating/protecting subsystems in the same computation graph is rendered unachievable by design.", "thanks for your thoughts, that is really appreciated!!!", "i think that most of parameter should be bound to the driver node such as sensor node as you mentioned previously. the point is who is responsible for that parameter. and im not saying that every single parameter should be taken care by parameter server. but some parameters like system configuration, system property, awareness level, attention level for perception or recognition to be shared in the system for our use cases.", "appreciate for sharing thoughts with security aspect, that really helps!", "but some parameters like system configuration, system property, awareness level, attention level for perception or recognition to be shared in the system for our use cases.", "There\u2019s a difference between a \u201csystem\u201d and \u201cglobal\u201d. If you\u2019re running one robot, \u201csystem\u201d and \u201cglobal\u201d can be relatively easily interchanged. But if you think about being able to instantiate two copies of that same robot, the robot configuration is no longer \u201cglobal\u201d. It needs to be able to be pushed down into a namespace with the robot because it may not be appropriate for both or, if there\u2019s more, all robots to be required to have the same \u201cawareness level\u201d or any other system setting. Instead if you have a robot configuration management node that has these parameters each robot instance can be pointed at the appropriate configuration management node and get all this functionality with the potential additional functionality of having semantically meaningful validation and potentially application specific logic that can do things like cause one parameter change to adjust another one. This could be useful if you have a mode property that changes the validation ranges on other properties.", "And if you use an introspection tool to check on robot configurations it can discover all the configuration nodes and then display what it finds for each configuration node.", "One of the most valuable things about ROS APIs is that we make sure that the messages have specific semantic meaning so that they can\u2019t be misinterpreted. As we develop the ROS 2 tools and best practices we should make sure to bring that same level of rigor to parameters too for greater reusability and correctness.", "There\u2019s a difference between a \u201csystem\u201d and \u201cglobal\u201d. If you\u2019re running one robot, \u201csystem\u201d and \u201cglobal\u201d can be relatively easily interchanged. But if you think about being able to instantiate two copies of that same robot, the robot configuration is no longer \u201cglobal\u201d.", "yes, that is correct.", "\nas you mentioned, we may need to use namespace.", "Instead if you have a robot configuration management node that has these parameters each robot instance can be pointed at the appropriate configuration management node and get all this functionality with the potential additional functionality of having semantically meaningful validation and potentially application specific logic that can do things like cause one parameter change to adjust another one. This could be useful if you have a mode property that changes the validation ranges on other properties.", "understood, technically i do agree with you.", "thank you for the insights!", "ROS2 parameter server which caches parameter into the storage if necessary and reload it during initialization. - fujitatomoya/ros2_persist_parameter_server", "This is the PoC project for ROS2 Persistent Parameter Server, that resides in the ROS2 system to serve the parameter daemon. The other nodes can write/read the parameter in Parameter Server, and ", "if anyone interested on ", ", we like to discuss if we could port this feature into mainline.", "How will this interact with the launch system, especially parameters that are set during launch?", "you can still use parameter via launch system, of course.", "parameter server is only aware of \u201cpersistent parameter\u201d via persistent yaml file or /parameter_events, since i did not change any ROS2 core libraries such as rclcpp, rcl. I will add more example including launch system.", "That\u2019s my point: You need to clearly define what happens to parameters that are both set by the launch step and by your persistence node.", "Just FYI, description and samples are added.", "ROS2 parameter server which caches parameter into the storage if necessary and reload it during initialization. - fujitatomoya/ros2_persist_parameter_server", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Global configuration that many nodes share (e.g. RTOS priorities, vehicle dimensions, \u2026)", "ROS2 Parameter is combined with Node. This is actually anti-centralized(distributed) system architecture which ROS2 targets.", "ROS2 Parameter Server can be constructed just as one node with parameter APIs. (more like \u201cwrite your own parameter server\u201d)", "<topics publish=\"ALLOW\" subscribe=\"ALLOW\" >", "  <topic>parameter_events</topic>", "</topics>"], "url": "https://discourse.ros.org/t/ros2-global-parameter-server-status/10114"},
{"title": "SingleThreadedExecutor creates a high CPU overhead in ROS 2", "thread_contents": ["Hello,", "We are looking into the performance of ROS 2 on Embedded boards and we find out that ROS 2 consumes high CPU because of the overhead introduced by SingleThreadedExecutor. We did some tests to profile the CPU usage and we observed that if we run 20 publishers and 200 subscribers in one ROS node, 70% of the CPU is consumed by SingleThreadedExecutor and 20% of the CPU is consumed by DDS implementation.", "By running the same example in Fast RTPS directly, it consumes 3.5 times less CPU as compared to ROS 2. The tests that we have performed along with their results can be found in this link: ", ".", "Is anyone else is also looking into measuring the CPU usage of ROS 2? Please share your findings here and let us know if we are doing something wrong.", "Our current analysis suggests that the SingleThreadedExecutor needs to be optimized otherwise normal ROS 2 cannot work properly on \u2018ARM A-class\u2019 embedded boards. We are willing to look more into this problem and can help by performing more tests and providing feedback to improvements. Please let us know if there is any other way to contribute to this.", "Thank you,", "\nIshu Goel", " and myself are also currently looking at this, but I\u2019m going to give him some time to work more on it by replying in his stead ", " He has looked into this based on his tracing work, see ", " It uses LTTng to directly instrument rclcpp and rcl.", "First of all, many thanks for describing your results so openly and so early, particularly for providing the initial benchmark programs. This makes it much easier to compare and combine results.", "In general, what I\u2019ve heard from the OSRF and others is that people are somewhat aware of the inefficiencies in the executor, but nobody had exact numbers so far, and therefore this problem was so far not prioritized. I think this has now changed ", "Regarding your analysis, one thing I would caution is that \u201cperf record\u201d is a sampling approach. This means it can miss executions which are too short. I don\u2019t think this compromises your results, but since you were asking, I wanted to mention it.", "Therefore, in our work, we use LTTng, which integrates both perf event and userspace tracepoints. We have tried both instrumenting every function automatically (which has noticeable overhead), and manual instrumentation of just the most relevant functions. The latter is a bit more work, but also gives more precise results.", "About the single-threaded executor, one thing that I noticed is that it operates in the following way:", "Could the overhead of the executor be due to the fact that after every message it checks again all the entities? this can potentially be very expensive in cases like the one that you tested (200 subscriptions in the same executor)", "Moreover, the ", " function in ", " is marked as ", ".", "\n", " do you already have any idea on how it should be improved?", " Yes, that is a big part of the overhead.", "Since the wait_set only really needs to be update whenever there is a change to the entity list, it is likely that some of this effort could be avoided, or made less expensive. However, without having had a more serious look at the design, I cannot currently say what the best option would be. Maybe ", " or ", " have some ideas.", "I noticed it operates in the follow way (although I could have missed something):", "There is a list of nodes, a node has multiple callbackgroups, a group has multiple executables (eg timer, subscription, client, service, any). So basically a tree: node -> group -> executable", "The tree can be quite large, and is walked often. There seems to be room for improvement by walking/copying/searching the list of executables less (mainly step 5 & 6).", "It\u2019s all weak_ptr by design, but it must keep the memory valid (shared_ptr) as long as it\u2019s in rcl_wait, which is a bit conflicting. It\u2019s also the reason for lots of lookups in the original tree: the only way to see if something disappeared is to rebuild it.", "Is there some information on the design somewhere? Typically a executor works by just submitting executables/callables/callback to a thread(pool), where the executor just maintains a queue of work to do. This is a more complicated design that is implemented in three different layers (rclcpp/rcl/rmw).", "I also saw something on the roadmap about changing the relation between nodes/groups en refactoring the executor. Are there already more concrete ideas about this?", "Could the overhead of the executor be due to the fact that after every message it checks again all the entities?", "i had the same concern with quick code scan and tried the following patch if it affects cpu consumption,", "so far it DOES NOT reduce cpu consumption.", "my environment is", "\ndocker: 18.09.8 ros:dashing", "\nHost: Ubuntu 16.04.6 LTS / Intel\u00ae Core\u2122 i7-4790 CPU @ 3.60GHz", "Hi all,", "what do you think about this?", "already checked if i can reduce cpu consumption, it does some but not a big deal\u2026", "will dig deeper.", "Hi ", ",", "Thanks a lot for your efforts. We are also working on creating a static scheduler to see how much performance gain can be achieved. We will share our result as soon as we complete our work. Please keep sharing the results of your work.", "got it, thanks!", "\nwe will do the same!", "tomoya", "Sorry for the delay! Here are the results of the investigation done by ", " and me.", "We could replicate the earlier results, showing that the Executor consumes a lot of CPU. In that, we could distinguish two cases:", "Compared to earlier work with similar results, we took care to minimize overhead and only count time spent actually on the CPU. Therefore, we consider not just the qualitative result, but also the absolute numbers to be trustworthy.", "This has been non-trivial, because the executor calls very many, very short functions (mainly to do with ", "s). This causes problems both for traditional profiling (which adds lots of overhead) and for sampling-based profiling (which may not notice these). Just to give an idea, initialising the nodes took at least a good 10 seconds when using ", "! Without profiling, it takes ~100 ms.", "To achieve this, we use 1) explicit instrumentation of only the relevant high-level functions and 2) we capture scheduling events. This allows us to sum CPU time only when the thread is actually executing on the CPU.", "Specifically, we only looked at the main ", " functions:", "See our executor instrumentation ", ".", "As mentioned before, based on scheduling information, we only count CPU time when the thread is running on the CPU, not when it is blocked.", "We chose the ", " test case, since it has the highest CPU usage. We traced it for a few seconds. The thread itself has a CPU usage of 55.87% (this is less than the 70% overall CPU usage reported earlier, because it does not include time spent in the dedicated middleware threads).", "In our first analysis, we looked at ", " in some detail, because of the high overhead numbers reported earlier.", "As you can see, from the \u201cfunction\u201d bar, the core ", " function indeed only takes ~32% CPU, the rest is Executor overhead. However, as you can also see from the \u201cthread\u201d bar, the whole method only makes up ~18% of the CPU usage of overall thread. This means that other parts of the Executor are more important.", "Therefore, we took at step back and looked at the two high-level functions in ", ": ", " and ", ".", "The ON CPU time for each function is compared to the whole thread and to the parent function. In this case, 79.21% of the CPU time for the whole thread is spent in ", " vs. 8.22% for ", ". These numbers are similar to ", ".", "Since ", " is likely dominated by running user code, we took a closer look at the functions inside ", ": ", " and ", ".", "Here, ", " represents 67.02% of ", "'s CPU time, and 53.09% of ", " the actual CPU time for the thread!", "Looking at the code, ", " checks its lists of timers/subscriptions/services/clients/waitables and returns once it has found one that is ready to execute. As a side note, having to loop over all the lists would explain the large CPU usage difference between the ", " test case and the ", " test case, since the latter has only one node.", "If we look at the CPU usage for each function individually, we can see that ", " is indeed the most CPU-intensive function.", "The full data is below.", "In conclusion, the executor should be optimized. Figuring out if \u2013 and which \u2013 executable is ready seems to take ", " of CPU time.", "We used LTTng and the ", " & ", " packages. The Jupyter notebook which was used to get the results above can be found ", ". This post can also be found ", ", which also shows how profiling overhead can really mess with the results.", "Thank you Christophe, very nice results. Good to see that we came to the same conclusions, this makes our case even stronger. I\u2019m currently working on posting an issue on the rclcpp github where I will reference this discussion. I think your findings will be very helpful!", "Edit: The issue is now available here: ", "btw, for reference with respect to the changes ", " did: No single call is to blame. The main issue is that, for every single timer-invocation or message, the whole internal representation is traversed. In contrast, if you use the middleware directly, you can attach a listener directly to each communication objects. This avoids traversal ", ".", "However, the listener approach has the problem that we have very little control over when which message is being executed. That\u2019s precisely why ROS 2 adds executors, and can even have different ones.", "IMHO, it would help to look at the interface between rmw and the executor, to pass more information across and thus avoid traversal.", "The main issue is that, for every single timer-invocation or message, the whole internal representation is traversed. In contrast, if you use the middleware directly, you can attach a listener directly to each communication objects. This avoids traversal ", " .", "i need more time to dig deeper but i do agree on this.", "besides, since this is optimization, we might as well define reasonable goal to achieve.", "tomoya", "Just FYI,", "\ncreate \u201cexecute_any_executable_list\u201d and \u201cget_next_ready_executable_list\u201d to reap the executable event as much as possible in single iteration. (that is said if the multiple executables are ready to fire, number of iteration to reap the executables will be much less.)", "so far, we do not see much improvement.", ", and all", "could you take a look at the following PR?", "\n", "\n", "thanks,", "\nTomoya", "Hello everyone,", "Our first POC for a Static version of the Executor can be found here ", " . This version works with the latest stable release of dashing giving the following results:", "\n", "Our StaticExecutor has been added to rclcpp in such a way that the old functionality remains intact. To use our executor please follow the README. The package also contains dockerfiles to quickly inspect the CPU usage on your PC for different executors (the LET executor created by Bosch for micro-ROS is also included in this comparison).", "If you try out the docker example please share your results. It would be even better if you could use our executor with your own source code. This way it can be tested for more use-cases. If you run into bugs, please let us know! We did make some assumptions with respect to the source code, given that this is a POC (assumptions are mentioned in the README).", "We think this POC is a good first step to highlight possible performance gains. The final goal is to get an optimized Executor with proper scheduling mechanics in the core ros2 stack. We are currently working on a fork from ros2 master to create a proper PR for this version. We will keep you updated on the PR progress here.", "Rather than a fork, you could probably provide your new executor as a separate library.", "Great!!! we will look into that.", "Rather than a fork, you could probably provide your new executor as a separate library.", "+1 on this.", "thanks", "Hello everyone,", "For now we created this PR for rclcpp ", " . We are considering making the code a separate library. Having the static executor as an optional package would prevent the bloating of ROS2. However, the package would also require a maintainer. Since we are a relatively small team that plans on doing more work (creating more packages in the future), we have to consider if and what packages we want to maintain. The static executor is a relatively small package, so we could consider picking it up (this is an internal discussion we are yet to have).", "Please leave your comments and thoughts on the code under the PR. Even if the PR does not get approved, we hope to at least draw attention to the CPU overhead of the current implementation.", "Small update: We updated the dashing version of our static executor to be semi-dynamic. The node guard_conditions are used as event trigger to rebuild the wait-set and executable list. This means that when a subscriber, timer etc. is added during spin(), the executor will notice (by checking the guard_condition) and rebuild, making the use of the static executor less restrictive.", "This updated version can (still) be found here ", ".", "We will create a master (eloquent) version of this, but we first want to fix some Jenkins linter errors and do some clean up on our PR.", "If you try out our code please share your results here. Please report any bugs you find. Possible optimizations are best posted on the PR when we apply the changes there.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["a node starts spinning", "receives a message (awakening from spin)", "the executor calls ", " to retrieve the entity that has to handle the message", "the message is handled by the subscription", "the executor checks again all the registered entities", "if no entities have work to do, the executor goes to sleep again", "It populates a list of all executables by walking the mentioned tree into a memorystrategy. (promote weak to shared_ptr)", "The memory strategy is then converted into a wait-set (to call the rcl)", "The wait set is waited upon. Implementation is all the way down into the RMW layer. It differs per RMW implementation.", "After the wait, only ready executables are left in the waitset (not null).", "The memory strategy is updated with this list (remove all that are not ready, to allow weak_ptr to cease)", "For a ready executable, the group is retrieved from the original tree by searching the entire tree.", "Execute", "Go back to step 6, if more executables where ready, otherwise go to step 1", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "when there are few or no messages (e.g., for a timer-driven node), then the ", " method causes the majority of the overhead, with 70% of its time spent in ", " and only 30% (excluding waiting) spent in the RMW layer and below. We determined this using the \u201cnopub\u201d, pure timer benchmark.", "when there are many messages, the majority of the CPU usage \u2013 up to about ", " in our tests \u2013 is caused by the ", " function. This is pure ", ". We determined this using scg\u2019s \u201cros\u201d benchmark, which sends 10000 small messages per second.", "\n", "\n", "\n", "\n", "\n", "\n"], "url": "https://discourse.ros.org/t/singlethreadedexecutor-creates-a-high-cpu-overhead-in-ros-2/10077"},
{"title": "ROS2 bagging w.r.t. services and actions", "thread_contents": ["Hi, I was hoping to get a bit of clarity on something that\u2019s been in the back of my mind regarding a migration to ROS2. At one point long ago, I remember reading that there was some consideration for building services over DDS pub/sub, and I thought \u2018great, that means we\u2019ll probably get first-class support for service bagging\u2019. Lack of services is a huge pain point with using bags as a system logging mechanism in ROS1.", "At some point, the landscape shifted and ROS2 services were implemented via DDS-RPC instead of pub/sub, which I imagine precludes using a side-channel recording mechanism like bagging. Sadly, with ROS2 actions being (rightfully) implemented via services, this means neither services nor actions are baggable in ROS2. That\u2019s really a shame - I\u2019m sure I\u2019m not the only one who occasionally used ROS1 ", " in some capacity just because they were baggable.", "Understanding that ROS2 development is a sea of shifting priorities - is this something that would even be possible to resolve without fundamentally upending the design? Can it be \u2018solved\u2019 at the rmw implementation layer, or would it require more fundamental changes?", "I had never even thought about bagging services and actions. Now I also want this!", "At some point, the landscape shifted and ROS2 services were implemented via DDS-RPC instead of pub/sub,", "DDS-RPC uses topics to implement services.", "And other implementations, like OpenSplice, use our own version of this on based on topics.", "However, Services in ROS 2 do not have to implemented with Topics, as you pointed out. They are their own concept in the rmw API, this was done to allow for optimizations for Services if desired. Making them on top of Topics always would perhaps not be the most efficient thing to do.", "What\u2019s prevented us from recording them is having some rmw API for observing the exchanges between a client and server by a third party (like rosbag). We could add this API, though it may make it hard for future rmw\u2019s which don\u2019t use a one/many to many mechanism to implement services, which presumably would be where the efficiency gains would come from (by using a one to one comm pattern like gRPC/HTTP2 or something).", "One thought, that wouldn\u2019t require changes to ", ", is that we could simply republish requests and responses on a well known topic name. For example, if the service were called ", ", there might be a ", " and ", ", publish to by the client and service respectively. They could be activated selectively (to keep overhead low, activating this by default for all services would be expensive I think), and that would enable recording of the services.", "I think recording is the only thing that makes sense though. I don\u2019t see how replaying requests or responses directly makes sense.", "One thought, that wouldn\u2019t require changes to ", " , is that we could simply republish requests and responses on a well known topic name", "That\u2019s an interesting suggestion. I would potentially take that one step further and introduce a new generic topic similar to ", " or ", " that has all the service and action request, response, and feedback logged to it. I think that could actually have a variety of useful consequences.", "For example the topic may have the information like action/service name, type, timestamp, a string/serialized-version of the request/response/feedback and the caller (assuming that\u2019s available, which I think it is). The downside clearly is in trying to make a general message to go over that topic, the request/response/feedback wont be in their native types but as strings or serialized blobs. Though it could be conceivable that with the type and string/serialized a ", " tool could convert them into real types for playback/reading.", "there might be a  ", "  and  ", " , publish to by the client and service respectively. They could be activated selectively (to keep overhead low, activating this by default for all services would be expensive I think)", "That\u2019s a great approach! What would be the expensive part? I imagine if a bag recorder exists that whitelists ", " for recording, it could just subscribe to those topics. If no bag recorder exists, isn\u2019t it a performance no-op to create a topic with no subscribers?", "I think recording is the only thing that makes sense though. I don\u2019t see how replaying requests or responses directly makes sense.", "I imagine there\u2019s some esoteric cases where someone may want a bag playback to emit service calls to an external node, but I can\u2019t think of anytime I\u2019ve seen a practical application.", "new generic topic similar to  ", "  or  ", "This would probably not be as useful as the namespaced version proposed by ", ". A topic like that would be an all-or-nothing firehose, and potentially prohibitive to subscribe to from a large node\u2026 short of a DDS mechanism like keyed topics, which may not even be exposed in ROS2 (yet).", "I would personally just find it annoying to have to enumerate all the servers to bag up, ", ", ", ", ", " for ", " servers. I perfer the one-stop-shop firehouse that I can pare down on debug.", "If no bag recorder exists, isn\u2019t it a performance no-op to create a topic with no subscribers?", "There\u2019s always overhead to having more things, even if there\u2019s no actual match. There\u2019s discovery traffic and memory usage at least. And since every node will likely have a few services the impact is large even if the individual fixed cost is small.", "I would potentially take that one step further and introduce a new generic topic similar to ", " or ", " that has all the service and action request, response, and feedback logged to it. I think that could actually have a variety of useful consequences.", "How would you log them? As a string? You cannot have different types on the same topic (or you shouldn\u2019t). If you\u2019re logging them as a string, you could just use ", ".", "I would personally just find it annoying to have to enumerate all the servers to bag up, ", " , ", " , ", " for ", " servers. I perfer the one-stop-shop firehouse that I can pare down on debug.", "A parameter to rosbag could be used to toggle recording all topics matching ", " and ", ". It wouldn\u2019t require the user to manually enumerate all services to record.", "I guess action feedback can already be recorded since it is a topic.", "I had never even thought about bagging services and actions. Now I also want this!", "That\u2019s\u2026 surprising. ", "How about bagging-via-tracing?", "It\u2019s a bit of a wild idea, and make it feasible, we would need to support the Windows and MacOS tracing frameworks, in addition to Linux, and we would need to look at making this location transparent, but it ", " an existing, low overhead, tunable, configurable, data capture mechanism which can support any source.", "That\u2019s an intriguing idea, but I\u2019m curious about how low the overhead would really be? One of the advantages of capturing via subscription is that you don\u2019t directly impact the execution time of the sender (assuming you allow for enough computing resources, etc., of course). How much would capturing large data via tracing impact the execution time? Or is there zero impact?", "How about bagging-via-tracing?", "That honestly sounds like a great idea, although probably a completely separate discussion :). Between that or something like bagging-via-pcap, it would be great to have an option to record data without having to depend on the underlying connections to function reliably.", "It looks like the rosbag2 storage backend is pluggable, but unless I\u2019m missing something, transport is not.", "How much would capturing large data via tracing impact the execution time? Or is there zero impact?", "In general, I would expect it to have less impact than the current rosbag approach. Before going down that route, we should probably test this hypothesis, however.", "The way this works is as follows: The tracing frameworks I\u2019ve looked at make a copy of the data and store it in a lock-free ring-buffer inside the process for later retrieval by the capture process. That happens at the point where the tracepoint inserted, and it will block until the data has been copied.", "The later retrieval and disk storage by the capture process happens asynchronously, however, so \u2013 apart from consuming CPU and disk bandwidth \u2013 storage does not impact the traced process.", "Of course, the exact impact also depends on where you\u2019re putting the tracepoint. The easiest way would be trace messages when they are serialized. That way, you don\u2019t have to deal with the exact type, and just store a byte array. This would be the same pathway that also sends data to rosbag via subscription.", "Now, when you have an application that sends around images intra-process, they would not normally be serialized. Adding ", " kind of recording will change that, and thus impact the system. With tracing, you could, in principle, generate a message-type specific tracepoint, however, and avoid (DDS) serialization. That\u2019s advanced stuff, but it could be done.", "What I\u2019m not sure about is how this all compares, performance-wise, to the new shared-memory transports that are currently being introduced.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-bagging-w-r-t-services-and-actions/11618"},
{"title": "RQT in ROS2", "thread_contents": ["Hello ROS community!", "We are excited to announce that ", " is working with ", " to port the plugin-based graphical user interface ", " to ROS2 for the December Crystal release. The RQT packages provide an easier entry-point for a broader user base than command line usage. RQT is built using the open source cross-platform framework ", ".", "Our primary approach to this effort will be:", "We invite the community to provide feedback and suggestions on RQT by replying to this thread. While this is an ideal time to break API, given time and resource constraints, enhancements will be secondary to porting existing functionality. However, this thread will also act as a rough roadmap to guide future enhancements.", "We believe this is an excellent opportunity to contribute to the ROS2 development effort and a first step in preparing PickNik to migrate ", " to ROS2. We are grateful to the community and corporate partners like Amazon that help drive improvements for ROS.", "Thanks,", "\nThe PickNik Team", "This is my rqt wishlist, in an order that is a rough combination of increasing difficulty and decreasing priority:", "This is my rqt wishlist", "Please do not mistake porting effort with arbitrary feature development. The main goal is to port the existing framework and several plugins to ROS 2 (Python 3 as well as Windows).", "If you would like to specific features please feel free to contribute them - either to the current ROS 1 branches or to the -to-be-created ROS 2 branch. A couple of brief notes to your bullets:", "rqt_plot - \u2026 implement from scratch \u2026", "There is no reason to implement \u201cyet another\u201d plotting plugin. There is already (at least) two: ", " as well as ", "rqt dynamic reconfigure", "Dynamic reconfigure conceptionally / intentionally doesn\u2019t exist in ROS 2. The ROS 2 parameters are node specific and replace the ROS 1 parameters as well as dynamic reconfigure.", "Individual crashed or unresponsive plugins", "In the past Qt offered the ability to embed widgets from separate processes (at least on X11). That is not available in Qt 5 anymore and therefore this way of isolating plugins in ", " isn\u2019t possible anymore. If you see another way to achieve this please feel free to propose it.", "rviz-in-rqt", "There is already a ", " plugin for ", " (it has some severe issues though). That could be ported as is. Publishing and rendering the ", " views and relaying the mouse / keyboard interaction sounds like a big no-go to me.", "Convert a .perspective file to a webserver + html5/js, or an android app", "This sounds like an incredible complex task - even ignoring that there are no html5/js or Android components atm which could be the target of any mapping.", "Please do not mistake porting effort with arbitrary feature development. The main goal is to port the existing framework and several plugins to ROS 2 (Python 3 as well as Windows).", "I\u2019m responding to the \u2018While this is an ideal time to break API, given time and resource constraints, enhancements will be secondary to porting existing functionality. However, this thread will also act as a rough roadmap to guide future enhancements\u2019 above.  If there were decisions to be made in immediate porting effort that would benefit the sorts of features outlined above then that is the substance to take away.  For instance, if only a subset of the common plugins where to make the cut for the targeted release, the first few items are what I would like to see- and others will have an opinion, and maybe some shouldn\u2019t be ported at all?  (I\u2019m drawing inspiration from other ros2 threads about if a given package or part of a package isn\u2019t used much, or has been superseded, or just is way less useful than some other parts or packages, don\u2019t bother porting right now or ever)", "There is no reason to implement \u201cyet another\u201d plotting plugin. There is already (at least) two:  ", "  as well as  ", "If it were quicker to do it from scratch, or just narrow support to a single back end, and that would make the difference between having rqt_plot by the desired time or not, and/or it would end up with better performance, then that would be the reason to consider not just a direct port.  (Maybe it should publish the plot as an Image, or a generic vector image message type if pixels seem clunky?  Maybe every visual plugin should publish an Image instead of drawing directly to a window- that would simplify several of them, to the point where they are no longer even rqt plugins, just regular ros2 nodes with parameters set through a generic ros2 param setting rqt plugin?  If there are strong reasons not to that ties into the rviz-rqt idea)", "Dynamic reconfigure conceptionally / intentionally doesn\u2019t exist in ROS 2. The ROS 2 parameters are node specific and replace the ROS 1 parameters as well as dynamic reconfigure.", "Instead of direct porting there would be an equivalently functional rqt ros2 plugin for viewing and changing per node parameters.  (Being able to hide some parameters and save that into the .perspective would be useful if every node has a lot of boiler plate parameters.)", "In the past Qt offered the ability to embed widgets from separate processes (at least on X11). That is not available in Qt 5 anymore and therefore this way of isolating plugins in  ", "  isn\u2019t possible anymore. If you see another way to achieve this please feel free to propose it.", "That\u2019s unfortunate.  In the much longer term maybe the qt in rqt should be something else (which could also benefit the web/android/whatever cross platform capability, or some of the other items here).", "Publishing and rendering the  ", "  views and relaying the mouse / keyboard interaction sounds like a big no-go to me.", "I\u2019d be curious to know why- if it has anything to do with underlying limitations of ros or qt it will help me guide my future pull-request efforts and comments (if it is just timeframe this is something for the longer term, e.g. \u2018rviz2.5\u2019 or \u2018rviz3\u2019).  I\u2019ve done similar things on a limited scale in ros1 with satisfactory results, I assume ros2 will perform better.", "Convert a .perspective file to a webserver + html5/js, or an android app", "This sounds like an incredible complex task - even ignoring that there are no html5/js or Android components atm which could be the target of any mapping.", "Yes that is true, but again I throw it in here in case someone else knows something can contribute, or in some decision between x or y it turned out x could be more easily converted to those platforms.  The short term would probably be a few of those components- a generic node parameter configuration widget, an image viewer, plotter, echo, publish, etc. and just a document to guide how to manually assemble them into something similar to the rqt file, and automation later.", "If you would like to specific features please feel free to contribute them - either to the current ROS 1 branches or to the -to-be-created ROS 2 branch.", "Of course, I\u2019ve always done this in the past.  I\u2019m hopeful that if the right minimum coverage of standard ros interfaces have good general ui plugins then writing ui code now will pay off in my (or someone else in my place) not having it to write much or any application specific ui code in the future, it will just be a matter of selecting and positioning and configuring the widgets (we\u2019d be writing ros nodes with ros interfaces mainly meant to be part of a ui that is a thin layer of generic plugins, but that is an improvement over having to write qt).", "Do we actually need two separate ways to build graphical user interfaces in ROS2? There is ", ", which provides dockable widgets, and ", ", which provides dockable widgets and also 3D visualization.", "\nI don\u2019t know why ROS1 has two separate GUI widget plugin architectures, but porting GUI widgets from ROS1 to ROS2 is a good opportunity to reconsider this. Is there a reason ROS2 needs to have two GUI widget plugin systems?", "I consider RViz as the more useful GUI to visualize a robot\u2019s state and control it, and I think that ROS2 should establish RViz plugins as the default way to compose GUIs. I do not see the advantage of having two plugin systems for widgets. In some cases (e.g. image view), it even creates multiple versions of the same visualization functionality.", "The only remaining issue I see with RViz is that the 3D view in RViz is not dockable at the moment, i.e. it is always visible and cannot be removed. I think developer time is better spent by making the 3D view dockable and porting Rqt widgets directly to RViz(2).", "I actually don\u2019t agree. The docking system in rviz is minimalistic and used primarily with things related to rviz\u2019s activities. rqt\u2019s docking system is far more sophisticated and necessary for some of the features it supports.", "One important difference is that rviz panels share state with each other though C++ interfaces whereas rqt plugins can either be c++ or Python and exchange (almost) all information via ROS topics, services, and actions.", "I actually see them having different goals, if anything were to be elided, I\u2019d say it should be that rviz\u2019s application code (docking and extra widgets) could be replaced with rqt, such that the rviz panels (i.e. the render window, panels, and tool bars) would become rqt plugins and the \u201crviz\u201d application would simply be a specially crafted rqt layout.", "I\u2019m actually not sure it\u2019s worth doing this, because of the aforementioned shared state between rviz parts which would require either rebuilding those interfaces as ROS interfaces (unnecessary and would have more overhead) or changing rqt so that different plugins could communicate with each other directly (a difficult issue to be sure, given you cannot assume the existence of other plugins nor that they\u2019re c++ or Python).", "Any update on rqt for ROS2?", "Hello Lalit,", "We ported most of the rqt common plugins to ROS2 for the Crystal release. Please see the tutorial page for more information.", "Stephen", "Thanks Stephen, I will check it out.", "If anyone wants to help, I plan to port ", " to ROS2. Any help from people with experience in DDS/ROS2 is welcome.", "Is there any plan to port ", "?", "There is no reason to implement \u201cyet another\u201d plotting plugin. There is already (at least) two: ", " as well as ", "If it were quicker to do it from scratch, or just narrow support to a single back end, and that would make the difference between having rqt_plot by the desired time or not, and/or it would end up with better performance, then that would be the reason to consider not just a direct port.", "This is the only thing I have to say about the latter comment ", "Is anyone porting* the rest of the rqt plugins? In particular, is anyone porting rqt_graph?", "(*Edit, fixed)", "rqt_graph has been ported and released!", " - Where? Can you point me to it?", "is any one porting rviz plugin for rqt?", "To install ", ". ", ", ", "I tried on ", ".", "Contribute to ros-visualization/rqt_graph development by creating an account on GitHub.", "@ harderthan- I am working on Ubuntu 18.04, ROS2 Dashing", "\nI have already installed rqt-graph what you have mentioned.", "rqt is listing only \u201cImage View\u201d and \u201cPlot\u201d options  under \u201cplugins/Visualization\u201d", "Do I need to install any other plugins to get rviz plugin for rqt?", "I\u2019m not sure anyone has taken on the port of the rqt_rviz plugin. When we ported the RQT plugins to ROS2, this one was specifically avoided due to the large amount of work involved and the timeline we were working under. Alberto from iRobot also looked into it, but I\u2019m not sure if they were able to make any progress on it. It\u2019s likely a large undertaking and would require some dedicated effort from knowledgeable individuals.", "Related thread:", "Stephen", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Target only the RQT-common plugins and dependencies", "Add support of Python3 and ament build system", "Support OSX and Windows", "Rework ROS middleware plugins to work with DDS", "Support the other core ROS libraries that are currently being developed by being first adopters of their new APIs, such as rosbag, roslaunch, and actionlib.", "rqt_image_view - I\u2019d like to see this before much anything else.", "rqt_plot - maybe just choose or implement from scratch a simple single plot type rather than integrating multiple ones, make it work well enough, don\u2019t consume tons of cpu with default settings.", "rqt dynamic reconfigure with an interface more like rqt_image_view- I\u2019ve made my own ros1 version of this: ", " (it has some issues with reloading and servers not responding I need to clear up) - instead of a tree of all possible servers there is just one that is saved as a setting into the perspective file, but it can be switched with a drop down menu.  I\u2019ll make a ros2 version myself given ros2 dynamic reconfigure (?).", "message publishing and echoing, service calling and action calling could also use similar treatment to be more like rqt_image_view, and with the configuration hidden be presentable to an end user who knows nothing about ros.  Save configuration to the perspective file so it would be possible to set up a widget in a ui that is meant to do something specific on a single pre-configured topic or service as opposed to a tool to explore all possible topics and services etc. on a system in a big tree or list.", "Individual crashed or unresponsive plugins ought to not bring down the entire rqt instance.", "rviz-in-rqt - I know rviz2 work is already underway but it would be fantastic if the whole of it could be a small number of rqt plugins.  A render core would publish the view/s as Images and be configured through standard ros2 interfaces.  rqt_image_view would need to send all mouse events rather than just left mouse clicks.  The side panels could be special rqt plugins, or some functions could be generic service caller or dynamic reconfigure plugins and corresponding servers within the render module.  Eliminate redundant plugins for rviz like the image viewer (though the one that under/overlays rendered objects is still useful).", "Convert a .perspective file to a webserver + html5/js, or an android app."], "url": "https://discourse.ros.org/t/rqt-in-ros2/6428"},
{"title": "Add `visibility_control.h` to the API as standard usage", "thread_contents": ["The ", " is present in most of the projects. Why isn\u2019t it simply added to the RCL API to avoid replication?", "Is there a reason for this file to be copy-pasted in each project with renamed macros or is it bad practice because it was not present at first?", "Is there a reason for this file to be copy-pasted in each project with renamed macros", "that last bit would be why the file gets copied: those macros are project-specific.", "But these macros, apart from being renamed, are identical.", "The ", " library should probably be the one included as it defines:", "Yes, they are identical, except the name.", "As in some cases, you\u2019d need to be able to control how specific projects either import or export symbols.", "The ", " library should probably be the one included as it defines:", "Note how it says: \u201cfor ", "\u201d.", "I\u2019m not saying the situation cannot be improved. I just answered your question: why are these files copied?", "(we could consider creating another layer of macros that only takes a name and then specialises a template, another possibility could be to use CMake\u2019s ", " module (but there may be requirements/constraints that made this impossible/undesirable for the ROS2 codebase))", "Unfortunately, due to Windows linkage, it really does need to be per-project.", "When you build a library on Windows, all symbols are private (meaning nothing can call them).  For each symbol that you want public and callable by the outside world, you need to mark them with ", " during compile time of the library.  When you want a downstream consumer to use them, you need to mark them with ", " during compile time of the downstream consumer.  So far, this is all pretty clear from the macros.", "The trouble comes when you want library A to depend on library B.  In that case, you need to mark the symbols of library B as ", " (so library A can call them), but you need to mark the public symbols of library A as ", ".  So you can\u2019t just have one set of macros to accomplish this.  This is why there are per-project macros.", "(we could consider creating another layer of macros that only takes a name and then specialises a template, another possibility could be to use CMake\u2019s ", " module (but there may be requirements/constraints that made this impossible/undesirable for the ROS2 codebase))", "We\u2019ve traditionally shied away from using ", " because it locks you into using CMake as your build system, while separate visibility macros don\u2019t.  I honestly don\u2019t know if there is substantial interest in building ROS packages without CMake, so I can\u2019t comment on whether that is a good enough reason or not.  (There\u2019s also my personal bias that ", " is \u201cmagic\u201d, while the hand-coded macros are straightforward to read, but I can get over that).", "Unfortunately, due to Windows linkage, it really does need to be per-project.", "Exactly.", "I honestly don\u2019t know if there is substantial interest in building ROS packages without CMake,", "Probably (not). In any case, replacing an entire build system seems like it would be more involved than just worrying about some generated files.", "Wouldn\u2019t it be possible to create a template macro that wraps all the visibility macros and takes a single argument: an identifier (which would take values such as ", ", ", ", etc).", "Calling the macro results in the template being expanded which turns it into the classical content of a ", " header, but for a specific package.", "The macro could be shared among all packages, any language with a C-compatible preprocessor could use it (so no build system specific functionality required) and it would avoid the duplication ", " asks about.", "Wouldn\u2019t it be possible to create a template macro that wraps all the visibility macros and takes a single argument: an identifier (which would take values such as ", " , ", " , etc).", "Yeah, with token pasting I think this would work.  Assuming there are no other problems that others have with this scheme, I\u2019d be happy to review patches to the core to add this functionality.", "We\u2019ve traditionally shied away from using ", " because it locks you into using CMake as your build system, while separate visibility macros don\u2019t.", "The independence of the build system is that the driving factor why we are currently having separate headers.", "The reason we kept the header files in the source of each package is that IDEs as well as static analysis tools are able to find the header and know about these macros. When being generated by the build system that is commonly an issue since the header isn\u2019t present in the source space of the package.", "See ", " for a longer discussion around this topic.", " (and others) great explanation. I\u2019m not involved at all in this but just want to put in a vote for documentation: can this rationale be copied by someone (", "?)  as comments at the top of some/all of the ", " files to avoid revisiting this topic by others in the future?", "can this rationale be copied [\u2026] as comments at the top of some/all of the ", " files", "so you want to even further increase the amount of duplicated content? ", "I honestly don\u2019t know if there is substantial interest in building ROS packages without CMake,", "People build ROS 1 with bazel at least.", "Probably (not). In any case, replacing an entire build system seems like it would be more involved than just worrying about some generated files.", "That\u2019s probably also true.", "I have to admit that the current state is at least partially due to my preferences, because I prefer not to have to generate files if it can be avoided. As Dirk mentioned, it makes it easier to integrate into IDEs and state code analyzers, but the reality is that we generate code in other places anyways (though at the time that we added the visibility headers we didn\u2019t have any other generated code, aside from messages).", "Despite my preference to the contrary, if many others want it to be generated then that\u2019s fine by me, but it does seem like a sideways move to me.", "Half of this header is dealing with GCC/MSVC difference of syntax. We could at least extract that out and avoid duplicating this logic everywhere, by factoring it out in ", ".", "In ", ":", "Duplicated code in every other package (here ", "):", "Less duplicated code, still no generated header, and as this is a new header, this does not break existing code, people can refactor their package if they want later.", "I just went and sent a PR for this: ", "While your solution certainly works to deduplicate code, this brings another burden to the user. Now, every package has to depend on ", ". In order to use the macro, every package has to set the dependencies straight in their ", " and ", ".", "The current situation is not ideal right now, but it\u2019s essentially one search-and-replace command to get the visibility macros to compile with your package.", "EDIT: One thing to mention is that ", " ", " that visibility header for you. So there is actually no need to copy paste anything in the first place when starting a new project.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/add-visibility-control-h-to-the-api-as-standard-usage/11681"},
{"title": "A more unified and standard way of configuring the DDS layer", "thread_contents": ["Hi all,", "It was great meeting many of you at ROSCON.", "In our iRobot presentation (", ") we discussed, among other things, some of the scalability issues when developing for hundreds of robots in the same network. We proposed some workarounds that involved accessing the configuration of the DDS layer (mainly the discovery settings) through its configuration file. However, this workaround has the problem that it is DDS implementation specific.", "I talked to some people at ROSCON, such as ", " from ApexAI, that were also interested in augmenting the ROS 2 client APIs to enable more control over the DDS settings. Particularly, for iRobot\u2019s use-case, we would like to be able to specify the discovery settings, maybe passing some arguments through ", ".", "I would like to know how many people are already thinking of these issues and see if we can kick-start a discussion about it.", "Also DDS specific, but your presentation reminded me of the \u201caccess to native handles\u201d functionality that some (all?) RMWs have (", ", ", " and ", "), which is described in the ", " section of the ", " design doc (and has a demo ", ").", "Would that be ", " DDS specific?", "could you specify what you want to control via rclcpp? what is that supposed to mean by discovery settings? while and black list? (BTW, localhost restriction is already implemented ", ")", "i think that the question is it has to be ROS2 generic or DDS specific.", "thanks for pointing out native handles, i was gonna mention that as well.", ", in our case we are interested in setting discovery options such as enabling multicast/ unicast, settings the list of initial peers and specifying the ports for discovery.", ", the native handlers are still a workaround, since as you say, the implementation will vary among different DDS vendors.", "i am not sure what exactly your requirement is or actual use cases and reason, but maybe that is something we can take as a 1st step to share information. i would like to join that discussion.", ", in the initial post I added a link to the ROSCON presentation we gave, in which we talked about some of the scalability issues we run into when having hundreds of robots in the same network. For some use-cases, for example, discovery done using multicast communication can be prohibitive due to network saturation.", "so disabling multicast means your use case is NOT distributed system, right?", "\nwhy these robots(or system) have to in the same network? what about software defined network? for me, it sounds like network configuration.", "so disabling multicast means your use case is NOT distributed system, right?", "You can still have unicast-based discovery for a distributed system if you have an initial peers list. Multicast just gives you the advantage that the network package multiplexing is done by the switch, rather than the DDS participant itself.", "why these robots(or system) have to in the same network? what about software defined network? for me, it sounds like network configuration.", "Having multiple software defined networks is impractical for us. A single network has the capacity to handle all of these robots (most of the discovery packages are useless most of the time) if the system were correctly configured. DDS scalability problems have also been investigated by some researchers [1].", "[1] ", "thanks for enlightening me,", "unicast-based discovery for a distributed system", "so you saying all of the system/robots under the network globe, they can be connected directly? (i believe this is no, you mean more like P2P discovery and connection, right?)", "\ni was thinking that your use case is one host is kind of server to connect to each one of the robots in specific network.", "I am really interested in this flexibility via ROS2, but since RMW implementation does not have to be DDS(as far as I know), I do feel like this could be something too specific for DDS. I really would like to hear more opinion.", "I am really interested in this flexibility via ROS2, but since RMW implementation does not have to be DDS(as far as I know), I do feel like this could be something too specific for DDS. I really would like to hear more opinion.", "Yes, the RMW does not have to be DDS.", "However:", "most of the RMW implementations currently available are DDS-based and also some of the latest features introduced (QoS liveliness, deadline, etc) are part of the DDS specification, it\u2019s up to the non-DDS implementations to decide whether to implement them or not.", "I think that the reason why it would be nice to have control over discovery and connection APIs is due to the way in which DDS work (for example multicast by default). In an eventual non DDS implementation the main problem wouldn\u2019t  be present and it should be easy to enable a P2P based connection mechanism.", " ", "maybe we could have online discussion on this? no commitment, we can just talk frankly.", "\nit could be better to include someone who knows about dds aspect and use cases.", "how does it sound to you? or do you think of any suitable WG is already there? if so, we could take this into consideration as agenda.", "I\u2019m no expert of WGs, but I don\u2019t see one of them where this discussion would be particularly relevant.", "We can definitely schedule a meeting for everyone interested in the topic!", "I\u2019m no expert of WGs", "me neither\u2026i am interested, at least you have me on this.", "I\u2019m no expert of WGs, but I don\u2019t see one of them where this discussion would be particularly relevant.", "It would fit in this WG ", ".", "We can definitely schedule a meeting for everyone interested in the topic!", "Can I get an invite if the meeting discussion happens?.", "\nI am working in the micro-ROS rmw layer, which is not DDS based, and I am personally interested in this matter.", "I am also interested in this question.", "Now we have to list all possible IP-numbers for the computers that can participate in the discovery and list it in a vendorspecific xml file whose syntax seems to change sometimes\u2026  A ROS2 way to do that would be very good.", "We also want to have things like forbidding communication between certain peer. For example if we have 100 agents we want them to communicate to a control station but we would like to not allow them to communicate directly between each other. Or maybe allow just certain topics to be sent between these agents.", "And so on\u2026", "[\u2026] Or maybe allow just certain topics to be sent between these agents.", "That\u2019s ", ".", "\n", "\n", "\n", "let\u2019s bring this up in ", ", i really like to know the actual use cases and possible profiles for each vendor.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", "\n", "\n", "\n"], "url": "https://discourse.ros.org/t/a-more-unified-and-standard-way-of-configuring-the-dds-layer/11372"},
{"title": "ROS2 and OpenVPN level 2", "thread_contents": ["I am playing around with Bouncy. Will Bouncy work when all computers are connected using OpenVPN level 2. That is broadcast is not supported. I saw somewhere that in DDS if you know the IP numbers of the compuetrs they can be specified in DDS and DDS works. Is this possible to do in ROS2?", "If you are using the default ROS2 DDS implementation, then Fast RTPS is able to load a default XML file, and inside this file you can set the default QoS for the ROS2 internal\u2019s DDS participants.", "The XML file should be named ", " and it must be located in the root directory where you will execute your application.", "Here you have an example of XML file. It disables multicast setting an empty metatraffic unicast locator and set two initial peers where other ros2 nodes will be running.", "I hope this is helpful for you.", "The talker/listener example actually worked without any modification but your example is still very useful.", "I was now looking for how to specify that only one network interface should be used. I have on LTE network and one WiFI network and want to start a ros1 bridge that only used WiFi and one that only uses LTE.", "Can I choose which profile to use when starting a ros2 node?", "About specify the network interface, current release version of Fast RTPS supports it through code, but not through XML. It is incoming a new ", " and it brings the setting this transport\u2019s property though XML.", "Currently ROS2 only loads the default profile (which is tagged with ", "). Before starting the ros2 node you might copy the DEFAULT_FASTRTPS_PROFILES.xml file you need.", "I start my application with:", "Is the directory were DEFAULT_FASTRTPS_PROFILES.xml are looked for then the directory were I do the ros2 run command? In that case I can just start two parameter_bride programs in different directories.", "I will solve my problem now with specifying the IP numbers of possible robots (I assume I can specify numbers that do not exist) and will look forward to the functionality of specifying the interface in the XML file.", "I tested a bit and the file in the directory were I run \u201cros2 run\u2026\u201d is used. Perfect!", "I\u2019m glad to heard that.", "Is this still the case?", "\nWe tried with xml in same directory, even with an invalid xml, but nothing changes\u2026", "Ubuntu 18.04, Dashing, FastRTPS", "According to", "you can also specify the file in an environment variable:", "\u201cUsing an XML file which location is defined in the environment variable FASTRTPS_DEFAULT_PROFILES_FILE\u201d", "sorry to interrupt you digging old thread,", "OpenVPN level 2. That is broadcast is not supported.", "this is because of OpenVPN? tunnel interface does not accept broadcast? is that what you mean?", "\ni am not specialist here, but i like to use ROS2 communication with software defined network.", "if possible, could you enlighten me a little bit about this aspect?", "thanks", "Now when I tried to find the text I readabout this I find things saying that layer 2 VPN can support broadcasting (using bridge mode).", "What I know is that using a standard OpenVPN server UDP broadcasting was not working for me. And that is probably because it is not running in bridge mode.", "I read about bridge mode and it seemed complicated to setup and not recommended unless you really needed it. But maybe I should look at this again since I still suffer from the limitation of not having UDPbroadcast working\u2026", "I don\u2019t have too much knowledge about VPN. Only for helping, maybe using a TCP transport could help you. Fast-RTPS supports TCP connections. Documentation ", ".", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-and-openvpn-level-2/6259"},
{"title": "Navigation2 WG Thursday 12/5/19 3:00 pm PST", "thread_contents": ["Real-time meetings by Google. Using your browser, share your video, desktop, and presentations with teammates and customers.", "\u202a+1 402-865-0286\u202c PIN: \u202a727 173 290\u202c#", "Agenda topics are issues labeled with \u201cnav2_wg\u201d in the repo:", "\n", "ROS2 Navigation. Contribute to ros-planning/navigation2 development by creating an account on GitHub.", "\n", "To get on the calendar invite, add yourself to the google group:", "\n", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/navigation2-wg-thursday-12-5-19-3-00-pm-pst/11810"},
{"title": "Proper way to write a driver \"component compatible\"", "thread_contents": ["What is the correct way to write a sensor driver?", "ROS2 provides a new way to write the nodes that allow composition and by extension zero-copy.", "In ROS1, many drivers are written with a ", " loop such as:", "How do we implement properly such drivers in ROS2 in a Composable way? Do we create it in a thread? Do we have (mandatory) to use ", "?", "Is the method that Velodyne uses for their Lidar the proper way?", "Is the method that Velodyne uses for their Lidar the proper way?", "The basic thing for composability that you need is to have all actions and configuration done by the class itself; nothing can be external, since your \u201ccomponent container\u201d won\u2019t have any idea how to do any of that.", "Thus, I\u2019d say that there are two basic ways to achieve it, which you mentioned in your initial post.", "Which you choose depends on your application.  I wrote that Velodyne driver loop with the thread, so I obviously think that is a good way to do it.  But your mileage may vary.", "Yeah, you can just have your own thread to do the polling, though I\u2019ll note that in your original example, there\u2019s no ", " calls made, so that\u2019s not good ", ". If you wanted to spin (recommended) and not interfere with the original while loop, you\u2019d probably use an async spinner, which just spins in a thread, so in both cases (ROS 1 and ROS 2) you either need to time share with the spin thread or create a separate one.", "I will say that the use of a future in the Velodyne case may be overkill, so don\u2019t let that scare you. You could instead continue to check ", " or use a (atomic) bool to signal shutdown. The future is fancier and maybe they\u2019re using it for other reasons, but it isn\u2019t necessary.", "The other option, other than creating your own thread, is to have a callback that does the polling, sharing the executor\u2019s thread (or threads depending on the type executor). One way to do that now is to have a timer which fires regularly.", "But we\u2019ve also talked about it in the past that it would be nice to have an \u201cidle\u201d callback which gets fired when there\u2019s nothing else going on, but right now that doesn\u2019t exist. Other event systems have this, e.g. wxWidgets has the IdleEvent (", ") and Qt recommends using a timer with a period of ", " (", ").", "Given how most drivers work, where you want to either poll very regularly, in order to reduce latency of acquisition, a dedicated thread for polling the sensor and publishing data seems like the best option.", "It would be nice to have an executor that can be externally-triggered. I\u2019m not sure how the mechanism would or should work, but it would allow a driver developer to set up an executor that gets triggered when there is data available on a network socket (using ", "), for example.", "though I\u2019ll note that in your original example, there\u2019s no ", "Indeed, I now added the ", " as the example doesn\u2019t make sense without it.", "As you suggest I will remove the exit signal & future and use ", "\nIt will avoid someone to forget about the exit signal.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["You use a thread to do the work, and then check if the thread needs to shutdown.  This is how the Velodyne driver works.  The benefit to this is that it is completely independent of the ROS 2 executor loop, so can block for arbitrary amounts of time without holding up other things like subscriptions.  The downside is that it is another thread to manage, and you have to worry about locking between the data touched by the thread and the main thread.", "Register a callback with the event loop so that it executes on a fixes schedule.  The benefit here is that you are using the same mechanism as the rest of ROS 2.  The downside is that you have to be sure that your driver ", " method returns in a reasonable amount of time, otherwise you can end up starving the rest of the callbacks (this can be mitigated with callback groups)."], "url": "https://discourse.ros.org/t/proper-way-to-write-a-driver-component-compatible/11809"},
{"title": "ROS2 Tooling Working Group Meeting 2019-12-06", "thread_contents": ["The fourth meeting of the ROS Tooling Working Group will be at the end of this week. This week, Benjamin Goldschmidt from Silexica will be showing the group their ROS2 performance profiling tooling.", "The time for this meeting will be 9AM PST", " : The link for the meeting is in the Google Groups invite - you can join that here ", " :  ", " \u2192 ", " :", "If you have anything you\u2019d like to add to this or a future meeting\u2019s agenda, please feel free to reach out.", " :", " :", "\nThe objective of this working group will be to develop and maintain select ROS 2 tools. We define a tool to be: software supporting developer productivity or robot operation, outside of the middleware communications functionality. This definition remains intentionally broad until it needs to be narrowed.", "The Tooling WG will focus on the roadmap, contribution, maintenance, and ownership of adopted subprojects. WG-owned GitHub repositories for subprojects will primarily live in the working group GitHub organization: ", ".", "Is the meeting still happening? The Chime meeting seems to be empty.", " are you using ", "?", " thanks, I wasn\u2019t.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Benjamin@Silexica ROS2 performance tooling presentation", "Project status updates (rosbag2, cross compile, system metrics, github actions)", "Project board review", "WG Housekeeping (new repos/subprojects, governance model discussion, membership)"], "url": "https://discourse.ros.org/t/ros2-tooling-working-group-meeting-2019-12-06/11796"},
{"title": "Welcome to the upgraded ROS SIG NG", "thread_contents": ["As you likely are aware we\u2019re bringing ROS discussion forums together on ", ". This is one of the last active SIGs to migrate. But it\u2019s time to take this last step.", "We\u2019ve now migrated to the ", " on ", ".", "Discussions on this category will be forwarded to ", " to not drop anyone out of the discussion. However direct postings to the old mailing list will be disabled.", "Please take the minute to create an account on ", " and you can setup your notification preferences for this and potentially other categories.", "Testing email routing. Please ignore.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/welcome-to-the-upgraded-ros-sig-ng/541"},
{"title": "Directory structure", "thread_contents": ["I don\u2019t understand.", "\nShould I make: \u201c~/example_ament_ws/ros2_ws\u201d and \u201c~/example_ament_ws/ros2_ws/src\u201d?", "\nor, if I make: \u201c~/ros2_ws\u201d and \u201c~/ros2_ws/src\u201d what is the porpose of \u201c~/example_ament_ws\u201d?", "\nThanks in advance.", "\nLuis Vital", "This looks like an oversight when the tutorial was moved from its previous location. I fixed and simplified the steps in ", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/directory-structure/634"},
{"title": "Before begin", "thread_contents": ["Hi,", "\nIt seems I can\u2019t post in \u201c", "\u201d.", "\nSo I assume that page is only for browsing and that for creating new Topics I must use this one.", "\nAm I right?", "\nThanks,", "\nLuis Vital", "Hi ", ",", "Yes please use the ", " to continue ROS 2.0 discussions. I\u2019m going to recategorize this and the other thread you started.", "Hi ", ",", "\nMy apologies and thanks.", "\nBest regards,", "\nLuis Vital", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/before-begin/632"},
{"title": "Maximum number of nodes in ROS2", "thread_contents": ["I\u2019ve been playing around with launching lots of nodes in the ROS2 alpha7 infrastructure.", "\nI\u2019m facing a hard limit of 10 maximum nodes.", "After snooping around in the opensplice docs and google searching the issue, I think I\u2019m running out of Participant IDs.", "After reading up on the Alpha8 release notes, the Opensplice portion of this issue isn\u2019t as relevant, but maybe FastRTPS will suffer from the same issue?", "Is there a design methodology for supporting more than 10 nodes in a subsystem that skirts the Participant Id issue? Or is there a way to increase the available Participant Ids to allow more than 10?", "Has anyone else encountered this issue, or have recommendations?", "Thanks.", "It should be possible to have many more than 10 nodes. I\u2019d assume this is a bug in our code. I\u2019ll try to reproduce it when I get a chance.", "The error I get is on the DDS layer. It is:", "rtps_init: failed to find a free participant index for domain 0", "For your reference, I looked at this Vortex documentation:", "\n", "specifically these sections appeared to me to be the cause of the failure:", "12.7.3.6. ", "\nThis element specifies the maximum DDSI participant index selected by this instance of the DDSI service if the Discovery/ParticipantIndex is \u201cauto\u201d.", "\nFull path: //OpenSplice/DDSI2Service/Discovery/MaxAutoParticipantIndex", "\nFormat: integer", "\n", "\nOccurrences min-max: 0-1", "\n12.7.3.7. ParticipantIndex", "\nThis element specifies the DDSI participant index used by this instance of the DDSI service for discovery purposes. Only one such participant id is used, independent of the number of actual DomainParticipants on the node. It is either:", "\nauto: which will attempt to automatically determine an available participant index (see also Discovery/MaxAutoParticipantIndex), or", "\na non-negative integer less than 120, or", "\nnone:, which causes it to use arbitrary port numbers for unicast sockets which entirely removes the constraints on the participant index but makes unicast discovery impossible.", "\nThe default is auto. The participant index is part of the port number calculation and if predictable port numbers are needed and fixing the participant index has no adverse effects, it is recommended that the second be option be used.", "\nFull path: //OpenSplice/DDSI2Service/Discovery/ParticipantIndex", "\nFormat: string", "\nDefault value: auto", "\nOccurrences min-max: 0-1", "The crazy thing is that if I try to add these fields into the ros_ospl.xml file, DDS can\u2019t recognize them and fails.", "I was aware of the 120 participants per machine per domain limit, I\u2019m not sure why it\u2019s starting out at 9. Again I\u2019ll try to reproduce it and try changing the configs when I have time.", "none:, which causes it to use arbitrary port numbers for unicast sockets which entirely removes the constraints on the participant index but makes unicast discovery impossible.", "After playing with this some more, changing the ParticipantIndex tag in the ros_ospl.xml file actually works, and setting it to \u2018none\u2019 allows 10+ nodes to launch successfully. Of course, you loose unicast discovery, but this is at least a temporary workaround.", "Cool, sounds like a workaround for now. I probably won\u2019t pursue it further since we\u2019re going to be moving away from OpenSplice, but if you think it makes sense to change this open a pr. Or you could add a wiki page which describes how to change this setting.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/maximum-number-of-nodes-in-ros2/598"},
{"title": "Alpha8 hard coded paths", "thread_contents": ["As a continuation of", "\n", " and", "\n", "I noticed a lot of unexpected hard coded paths in the binary releases of alpha 8. Note that I only checked Windows and Linux.", "In the Linux installation directions at ", ", it mentions putting the release in \u201c~/ros2_install\u201d and yet I see a lot of references to /home/rosbuild/ci_scripts/ws. In the Windows installation instructions at ", ", it mentions putting the release in \u201cC:\\dev\\ros\u201d and yet I see a lot of references to \u201cC:\\J\\workspace\\packaging_windows\\ws\u201d.", "The biggest issues that I noticed so far is the inability to link to the TF2 library on Windows and the inability to run ament directly on Linux. Can we get the binary releases to match the installation instructions?", "Specific details are below:", "\nin ros2-windows\\share\\ament_index\\resource_index\\parent_prefix_path", "\nEverything is prepended with C:\\J\\workspace\\packaging_windows\\ws\\install", "py3.5.egg-info", "\nros2-windows\\Lib\\site-packages*-0.0.0-py3.5.egg-info\\SOURCES.txt", "\nor", "\nros2-linux\\lib\\python3.5\\site-packages*-0.0.0-py3.5.egg-info\\SOURCES.tx", "ros2-windows\\CMake\\console_bridge-config.cmake", "\nLine 6: set(console_bridge_INCLUDE_DIRS \u201cC:/J/workspace/packaging_windows/ws/install/include\u201d)", "\nLine 11:     PATHS \u201cC:/J/workspace/packaging_windows/ws/install/lib\u201d", "all the scripts in the ros-linux/bin/python and ros-linux/bin/launch have the #!/home/rosbuild/ci_scripts/venv/bin/python shebang", "in ros2-linux\\lib\\console_bridge\\cmake\\console_bridge-config.cmake", "\nLine 6: set(console_bridge_INCLUDE_DIRS \u201c/home/rosbuild/ci_scripts/ws/install/include\u201d)", "\nLine 11:     PATHS \u201c/home/rosbuild/ci_scripts/ws/install/lib\u201d", "ros2-linux\\local_setup.sh (2 hits)", "\nLine 5: : ${AMENT_CURRENT_PREFIX:=/home/rosbuild/ci_scripts/ws/install}", "\nLine 11: _ament_python_executable=\"/home/rosbuild/ci_scripts/venv/bin/python\"", "\nC:\\Users\\Geoffrey.Viola\\Downloads\\ros2-linux\\", " (1 hit)", "\nLine 5: : ${AMENT_CURRENT_PREFIX:=/home/rosbuild/ci_scripts/ws/install}", "\nros2-linux\\share*\\local_setup.sh (1 hit)", "\nLine 5: : ${AMENT_CURRENT_PREFIX:=\"/home/rosbuild/ci_scripts/ws/install\"}", "\nros2-linux\\share\\ament_index\\resource_index\\parent_prefix_path*", "\n/home/rosbuild/ci_scripts/ws/install", "I will focus on the Linux release in this post. Can you please clarify what exactly you mean with \u201ca lot of unexpected hard coded paths\u201d. I could guess and will also comment on some classes of cases below but I think it would be helpful if you could state specific examples when referring to issues.", "The following groups of cases are the ones I am aware of. If you noticed more cases please add them explicitly:", " scripts need to embed the absolute path. As long as you source ", " files (or similar) these fallback absolute paths in the ", " files won\u2019t be used. ", " does not have a mechanism to determine the absolute path of a sourced file so I assume this can not be fixed.", " Fixed by ", " Fixed by ", " Fixed by ", "The CMake config file of ", ". This is a package we use as-is from upstream so the problem should be addressed there.", "The pkgconfig file of ", ". Afaik pkgconfig doesn\u2019t support this so there might not be a way around that.", "Thanks Dirk. By \u201ca lot of unexpected hard coded paths\u201d, I meant that I wasn\u2019t sure if they needed to be there or how they influence the system. You touched on all the details. They seemed like a red flag, but it sounds like you\u2019re aware of them.", "I took the opportunity to also look at the Windows archive and found the following cases:", "The CMake config file of ", ".", "So the list seems to be much shorter on Windows since:", " files can get their own path like ", " files can.", "The Python scripts are actual executables (when been generated from an entry point).", "No ", " on Windows.", "Therefore I would conclude that we need to follow up on two items:", "Double check on the ament resource index. Maybe there is a way to avoid absolute paths at least if they are referring to something within the same prefix where the resource is being stored in.", "We really need to resolve the shebang line issue. I would think that even in a non venv the hardcoded path is a problem as it needs to match with the target system. Maybe instead we could postprocess the archive to rewrite the shebang line to something like ", ". Not sure what others think of that idea?", "Based on your post I spend some time on these \u201cannoying details\u201d and was able to resolve three of them:", "The shebang line for Python scripts: ", "The ", " files: ", "The ", " files: ", "I have updated the previous posts with the current state. If anyone has an idea how to resolve the remaining ones I would be more then happy to hear them. (Or if you would like to create a pull request for ", " please feel free to do so.)", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n"], "url": "https://discourse.ros.org/t/alpha8-hard-coded-paths/723"},
{"title": "Why is Parameter_event being written?", "thread_contents": ["Hi,", "\nI\u2019m running the talker example in alpha 7 with an RTI 5.2  and using the Spy tool to see traffic being generated. The following is being captured by Spy:", "1477496933.683665  W +N  C0A801C3    parameter_events    rcl_interfaces::ms", "\n\u2026                      g::dds_::Parameter", "\n\u2026                      Event_", "\n1477496933.684083  W +N  C0A801C3    chatter             std_msgs::msg::dds", "\n\u2026                      ", "\nMy question is why is the parameter_event present and not only chatter?", "Thanks", "\nVince", "Each ROS 2 node has a parameter API to configure node-specific parameters (similar to ", " in ROS 1). The details are described in ", " The topic you are seeing is used to notify anyone interested about parameter changes.", "Hi Dirk,", "\nThanks for the links It seems that from the articles this is replacing the parameter server logic. I did see Thibault Kruse comments:", "Subscribing to param changes via callback services is clumsy, so updates should be sent over topics.", "\nSetting params over topics has the disadvantage that no feedback can be given (such as error codes), so services are to be chosen. The final decision is whether to use a single topic or individual topics for publishing current parameters and updates, and who is responsible for publishing.", "\nA node param will be set using a service of the node. Global params will be set using a service of master. The node, after validating the param, updates it internally. After that, any interested 3rd party needs node to be informed of that change. The node publishes the updated set of its params on its own param state topic.", "Is there a design decision for not having this an option (notification topic) and it seems that the topic name should be unique or follow the node name. For example, nodename_parm_event.vs parameter_event as a topic? It seems that generating a separate topic becomes messy when having a lot of nodes/topics in a network. Could the change event or flag be part of the node itself vs separate?", "Thanks", "\nVince", "There are many questions remaining open atm regarding what names should be global vs. namespaced by each node. So the current approach doesn\u2019t mean it is final. In this specific case I could see both topics as being useful depending on your use case.", "Also with the option to remap topics in the future if the node only publishes on one of these topics you could always change the name of the topic when starting the node.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/why-is-parameter-event-being-written/734"},
{"title": "Interested in contributing", "thread_contents": ["I\u2019m just getting started diving into ROS2. I\u2019ve read most of the design docs, I have the environment set up, and I\u2019ve gone through a few tutorials for ROS.", "\nI\u2019d love to have a good pointer for a bite-size project to get started contributing to ROS2.", "\nThanks!", "Hi Kevin - thanks for the post! It\u2019s great to hear that you\u2019re interested in contributing to ROS 2.", "We are just in the process of identifying a few bite-sized tasks that would be good starting points. We\u2019ll post some ideas here in the coming days.", "I\u2019m also fairly interested in seeing what I can contribute, even if it\u2019s just some front-end tools, or small back-end drivers.", "Is there any ToDo lists for the ROS2 projects? I would think that something using the ", " List would already exist.", "Having a page on the Wiki that branches out to several lists of needed contributions, even for just the core components, would probably get a lot of attention. Especially if the lists were given some form of difficulty/work/time estimate.", "Thanks dhood! Looking forward to it.", " Yes: ", "Hi Kevin, pryre,", "We updated the ", " page with pointers to issues that are available for contributions. These issues have a detailed description of what to do and pointers to relevant parts of the code base. They are pretty narrow-scope and self contained so that you can work on it without needing a broad understanding of the ROS 2 stack.", "It\u2019s a work in progress and you can expect several other issues that are good places to start for contributions to appear in the near future.", "\nIf any of them seem like something you\u2019re interested in working on, please comment on the tickets:", "Thanks for your interest in the ROS 2 project!", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["to let people know that you are working on it", "to ask questions if you\u2019re stuck or something is unclear"], "url": "https://discourse.ros.org/t/interested-in-contributing/735"},
{"title": "Own message generator and building tests", "thread_contents": ["For my C# wrapper I wrote my own message generator and implemented a rosidl_generator_cs package ( ", " ).", "This works fine when doing a normal build but today I tried building ros2 with the  --build-tests option. With this option the build fails at the builtin_interfaces package.", "Only english (sry that I\u2019m working on a german system) the error is (translated):", "Then it says the same for the Time message.", "\nI\u2019ve got absolutely no idea why everything works fine if I\u2019m building without tests but fails with tests enabled.", "When you build with ", ", the ", " cmake option is set to true.", "From looking at your project, I think you are only appending the target to the list of message targets if ", " is true:", "\n", "\n", "That might explain why it\u2019s only failing when you build with ", "As for why it\u2019s failing, ", " says that ", " should be used instead of ", " if you\u2019re looking to add a dependency on another target, which looks to be your case with ", " - not sure if that helps", "Thanks a lot. Sometimes it\u2019s hard to see the most obvious things. ", " has by the way the same problem as the ", " statement.", "\nI had to use this rather ugly solution:", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["set(_generated_srv_sources \"\")", "set(_message_targets \"\")", "foreach(_idl_file ${rosidl_generate_interfaces_cs_IDL_FILES})", "get_filename_component(_parent_folder \"${_idl_file}\" DIRECTORY)", "get_filename_component(_parent_folder \"${_parent_folder}\" NAME)", "get_filename_component(_msg_name \"${_idl_file}\" NAME_WE)", "get_filename_component(_extension \"${_idl_file}\" EXT)", "string_camel_case_to_lower_case_underscore(\"${_msg_name}\" _header_name)", "\n", "if(_extension STREQUAL \".msg\" OR _extension STREQUAL \".srv\")", "\tif(BUILD_TESTING)", "\t\tif(NOT WIN32)", "\t  \t\tadd_custom_target(", "\t   \t\t\t\"generate_cs_messages_${_msg_name}\" ALL", "\t    \t\t\tCOMMAND mono ${rosidl_generator_cs_BIN} -m ${_idl_file} ${PROJECT_NAME} ${_output_path}", "\t    \t\t\tCOMMENT \"Generating CS code for ${_msg_name}\"", "\t    \t\t\tDEPENDS ros2cs_message_generator", "\t    \t\t\tVERBATIM", "\t  \t\t\t)", "\t\telse()", "\t\t\tadd_custom_target("], "url": "https://discourse.ros.org/t/own-message-generator-and-building-tests/796"},
{"title": "QOS history depth", "thread_contents": ["Playing around with QOS depths, I noticed you can set the depth to 0.", "\nNot sure if that\u2019s allowed? Will it really set it to 0, or does it just force it to 1 in the DDS layer?", "\nI couldn\u2019t tell a difference between a depth of 1 and 0, but maybe I just didn\u2019t test the right combo of Pub/Sub to see a difference.", "Playing with the OpenSplice demo_ishapes executable, they don\u2019t even allow a depth size of 0.", "I believe that is a special (\u201creserved\u201d) value that indicates that it should use the system default depth:", "Where the system default may be influenced by some global configuration file or something. In fact you can see that we have a condition in each of our implementations to handle this, for example in our fast rtps code:", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["uint8_t data[RMW_GID_STORAGE_SIZE];", "} rmw_gid_t;", "\n", "typedef struct RMW_PUBLIC_TYPE rmw_message_info_t", "{", "// const rmw_time_t received_timestamp;", "rmw_gid_t publisher_gid;", "bool from_intra_process;", "} rmw_message_info_t;", "\n", "enum {RMW_QOS_POLICY_DEPTH_SYSTEM_DEFAULT = 0};", "\n", "#if __cplusplus", "}", "#endif", "\n", "#endif  // RMW__TYPES_H_", "  case RMW_QOS_POLICY_VOLATILE_DURABILITY:", "    sattr.qos.m_durability.kind = VOLATILE_DURABILITY_QOS;", "    break;", "  case RMW_QOS_POLICY_DURABILITY_SYSTEM_DEFAULT:", "    break;", "  default:", "    RMW_SET_ERROR_MSG(\"Unknown QoS durability policy\");", "    return false;", "}", "\n", "if (qos_policies.depth != RMW_QOS_POLICY_DEPTH_SYSTEM_DEFAULT) {", "  sattr.topic.historyQos.depth = static_cast<int32_t>(qos_policies.depth);", "}", "\n", "// ensure the history depth is at least the requested queue size", "assert(sattr.topic.historyQos.depth >= 0);", "if (", "  sattr.topic.historyQos.kind == KEEP_LAST_HISTORY_QOS &&", "  static_cast<size_t>(sattr.topic.historyQos.depth) < qos_policies.depth", ")", "{"], "url": "https://discourse.ros.org/t/qos-history-depth/813"},
{"title": "Questions related to gazebo/turtlebot supported in ROS 2", "thread_contents": ["Hi,", "\nA couple of questions:", "I\u2019m looking to see when gazebo/turtlebot_simulator would be supported", "\nby ROS 2. I saw that ROS 2 beta in dec will not have it.", "I was looking at the gazebo_ros_pkgs and wasn\u2019t sure if this is a migration to ROS 2", "\nor something more. Could you please comment? I saw that in the plugins", "\ndirectory that some of the functions aren\u2019t supported in ROS2 common interfaces or have been redesigned e.g. dynamic reconfiguration, nodelet, etc", "Is there a description of work effort for the support and if anyone else is interested (potential collaboration)?", "In ROS 2 the turtlebot demo supports only astra\u2019s camera and inorder to support asus camera.", "\nShould the same be used; Astra driver: we forked and ported the existing ROS 1 package (there\u2019s no roscpp-independent package separation).?", "Thanks", "\nVince", "Hello Vince:", "I\u2019ve created a ", " to follow the information about the port of ", " to ROS 2.0. Some answers inline here:", "I think that ", " is not consider as a core part of ROS 2.0 so I won\u2019t expect to see it in the early stages of the Roadmap. [quote=\u201cvdiluoffo, post:1, topic:830\u201d]", "\n2) I was looking at the gazebo_ros_pkgs and wasn\u2019t sure if this is a migration to ROS 2 or something more. Could you please comment? I saw that in the pluginsdirectory that some of the functions aren\u2019t supported in ROS2 common interfaces or have been redesigned e.g. dynamic reconfiguration, nodelet, etc", "\n[/quote]", "If you have checked the current ", ", there is nothing related to ROS 2.0 in there, just ROS 1.0.", "I\u2019m not aware of any at this point but sounds like a very interesting first work that can be done right now.", "Thanks.", "Hi Jose,", "\nThanks for the reply and I\u2019ll post shortly to your tracker.", "Thanks", "\nVince", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "I\u2019m looking to see when gazebo/turtlebot_simulator would be supported by ROS 2. I saw that ROS 2 beta in dec will not have it.", "Is there a description of work effort for the support and if anyone else is interested (potential collaboration)?"], "url": "https://discourse.ros.org/t/questions-related-to-gazebo-turtlebot-supported-in-ros-2/830"},
{"title": "Questions related to the new examples", "thread_contents": ["Lately there came some new examples on how to use ros2 publisher/subscriptions with c++.", "\nThey suggest inheriting from a node and implementing your publisher in this inherited class. The reason given in the comments is:", "We do not recommend this style anymore, because composition of multiple nodes in the same executable is not possible", "I\u2019ve read quite a lot of the rclcpp code and as far as I can see there is no reason why I couldn\u2019t have multiple nodes with the \u201cclassic\u201d version. Could you explain this to me?", "Thank you for raising this point. We\u2019ll change the code comment to make it more clear. You are correct in that you can have multiple nodes in the same executable without inheriting from Node.", "The main goal of subclassing Node is to push all functionality into the Node subclass, so that the ", " function in a standalone executable has approximately no code.", "Then, you will be able to both run your node in a standalone executable, or inside a generic \u201clauncher\u201d executable, much like nodelets in \u201cclassic\u201d ROS. We\u2019ll be creating minimal examples of this use case very shortly.", "The idea of making Node subclasses even in cases like ", " is more to get in the mindset of being able to write code can compile to a shared-object that works in both generic standalone executables and generic multi-node launcher processes, where the performance benefits of intra-process communication for large data streams (e.g., vision pipelines) could be significant.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/questions-related-to-the-new-examples/917"},
{"title": "Smaller Rosbags with hashed strings", "thread_contents": ["Hi,", "As we know rosbag can be quite big. In many real world scenarios a considerable space is used by strings, since ros message use extensively names as identifiers (example: name of joint or frame_id).", "LZ4 compression does a very good job in term of speed vs size reduction.", "I wonder if raw rosbag might use hashed string to reduce the serialize size? It can be done quite easily, I think, using a library like this one ", "What do you think?", "If the community consider this upgrade useful, I can try implementing it myself ", " and do a pull request.", "Davide", "Rosbags already support compression. On the command line, run ", " to try it out. The only supported compression algorithm is BZ2, which is really slow. Perhaps there are people who would appreciate having LZ4 as an alternative option?", "LZ4 is already supported. It\u2019s actually a requirement for our 3D data because BZ2 is so slow.", "I would find it surprising if such a technique had a significant impact on already compressed bags. Have you done any experiments? Or do you need uncompressed bags for some reason? LZ4 seems fast enough.", "yes, maybe I didn\u2019t explain myself well.", "LZ4, as ", " mentioned, is ", " supported and works pretty well (I personally believe it should be the default one, rather then BZ4 that is indeed very slow).", "My proposal is related to NOT compressed (i.e. \u201craw\u201d) rosbags.", "But since LZ4 is already very fast, maybe there is no need for improving the not compressed rosbag.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/smaller-rosbags-with-hashed-strings/942"},
{"title": "Announcing Objective C on macOS and iOS for ROS2", "thread_contents": ["Hi folks,", "I just made public ros2_objc [1], a set of tools for building ROS2 applications in Objective C (including iPhones and iPads!), I had the code on a shelf getting all dusty and never found time for writing proper (-ish) instructions on how to build it.", "Anyway, it\u2019s on GitHub and it\u2019s licensed under the Apache 2.0 license, so feel free to tinker with it and let me know what you think.", "There\u2019s a bunch of ROS2 pull requests that need to be merged for this to work though [2][3][4][5][6][7][8][9][10], but I hope I\u2019ll have time to address any feedback this week.", "The list of features include:", "Unfortunately, the bindings and the generator are not complete and currently lack:", "Have fun!", "1 - ", "\n2 - ", "\n3 - ", "\n4 - ", "\n5 - ", "\n6 - ", "\n7 - ", "\n8 - ", "\n9 - ", "\n10 - ", "I am not very familiar with the Apple ecosystem of languages, but Swift looks like a pretty interesting language.", "Will the Objective C bindings be accessible from within a Swift programming, or will there need to be a separate Swift client library? How about when using Swift on Linux?", "It is great to see ROS2 supported on so many different platforms/languages!", "Yes, it\u2019s possible to add Swift into the mix, just follow Apple\u2019s instructions:", "I targeted Objective C because it\u2019s easier to integrate with existing code, and generating ROS2 code for it is fairly straightforward, compared to Swift. But in the end, you can just write an application in Swift and import the Objective C bindings.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Generation of all builtin ROS types", "Support for publishers and subscriptions", "Clients and services", "Support for iOS (iPhone, iPad)", "Support for QoS", "Support for complex types, constants, lists and default values", "Access to the ROS2 graph"], "url": "https://discourse.ros.org/t/announcing-objective-c-on-macos-and-ios-for-ros2/946"},
{"title": "Ament build for Release", "thread_contents": ["I was under the impression that ament build chose to compile things for Release by default.", "\nIs that a correct assumption?", "The default is the same as for CMake, which is ", ". Build type of None is neither release nor debug. It does not use the ", " flag, but also does not define the ", " definition and does not use any ", " flags if I remember correctly. You need to explicitly set a build type if you want Release or Debug or RelWithDebInfo or something else. For example: ", "It might make sense to do release builds by default for ament. The default configuration does not have much utility, since it is not optimized or has debug information.", "My general CMake development process is to use either release or debug mode. Then, if there is a build that only has errors in release mode, I use release with debug information mode.", "I did a (very unscientific) test to see how much slower a Release build is than a regular build. Using cmake to build ros_comm on kinetic, I timed just the \u201cmake\u201d portion. It took 3 minutes when I did not set the build type, and 4 minutes when I set the build type to \u201cRelease\u201d. That\u2019s fairly significant.", "The build type can make a huge difference though, particularly for planner code. Some planners I\u2019ve written run 5 to 10 times faster when compiled with Release mode.", "Personally, I always use ", ", but I do so with an alias, something like:", "As for changing the default, I suppose we could change it in the tool, but I\u2019m hesitant to do so because it only makes sense for CMake building C/C++ code (whereas the tool also builds other things like Python packages, i.e. the cmake build type cannot be generalized to all build system types), and it is a departure from typical CMake development (where the default is None) and catkin development (also where the default is None).", "Just to put one more variable in the discussion, building with Release or RelWithDebInfo mode disables the asserts in most code (due to the -DNDEBUG flag), so I am a bit against making either of those the default.", "\nI agree that uninformed people just compile using catkin_make/ament and find that the code runs slower than expected so maybe better documentation about that would be good, maybe even show a warning at the start of build that no optimizations are enabled by default.", "I think the confusion was created because Windows build default to Release using ament.", "\nOr, at least, the executables show up in the Release folder. Whether or not all the right flags were set, I haven\u2019t verified.", "\nBut because of that, we thought it was the same across the board.", "I think helping people be informed is probably the right choice, and leaving it as None is appropriate.", " behaves very different compared to ", " when it comes to the ", ".", "When using the ", " generator of CMake you select a specific build type by passing ", ". The subsequent make invocation builds all the code with that build type. If you don\u2019t specify any it is neither a ", " nor a ", " build but something else (called ", ").", "When using the ", " generator of CMake the generated visual studio project will have configuration for all possible build types. The build type is ", " selected at CMake configure time. When you then build the Visual Studio project you must select a valid build type (", " is not an option here). When ", " invokes VS it considers the build type you have passed via the command line. If none was passed it has to make a decision and chooses ", " (see ", ").", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ament-build-for-release/915"},
{"title": "RFC: using C++14", "thread_contents": ["Hello friends@sig-ng,", "An excellent issue report and set of pull-requests was recently submitted:", "The issue report is in regards to the potential perils of including global custom C++11 literals, which we\u2019re using to simplify syntax when specifying durations using std::chrono. Fortunately, there are now standardized duration literals in C++14 that are supported on all compilers we are currently targeting. By moving to C++14, we can use those standardized literals for time/duration, rather than creating our own.", "So, we propose to target C++14 for the upcoming ROS 2 beta. There are a few other features that also seem quite nice in C++14 and could simplify/shorten the codebase over time, such as std::make_unique, return auto, and so on:", "C++14 is a version of the standard for the programming language C++. It is intended to be a small extension over C++11, featuring mainly bug fixes and small improvements. Its approval was announced on August 18, 2014. C++14 was released on December 15, 2014. Because earlier C++ standard revisions were noticeably late, the name \"C++1y\" was sometimes used instead until its approval, similarly to how the C++11 standard used to be termed \"C++0x\" with the expectation of its release before 2010 (althou...", "Because C++14 seems to be well-supported now by modern toolchains, we do not expect this to be disruptive to anyone [1]. However, please discuss on this thread if you feel otherwise, so we can better understand your use case. Conversely, if you\u2019re a big fan of C++14 for various reasons, please chime in!", "Cheers,", "\n-mq", "[1] the potential breakages described in this post seem relatively minor: ", "I can\u2019t think of any reason for not switching to C++14, besides compiler support. Support for C++14 in GCC and Clang is complete, but VS2015 seems to be lacking:", "In any case, VS2017 is around the corner. In the meantime, it\u2019d might be useful to enable C++14 in VS2015 and see if anything breaks, and then start introducing new features in ROS2 (e.g. std::make_unique):", "C++14 is pretty great. You can do stuff like this:", "auto my_function() {", "\nreturn SomethingWithAComplicatedReturnType();", "\n}", "auto crazy_generic_lambda = [](auto generic_parameter, int known_typed_parameter){", "\nreturn generic_parameter + known_typed_parameter;", "\n};", "If C++ is asymptotically approaching Python, then should we just give up now and do everything in Python? ", "Depends on how much you like strong typing and C backwards compatibility ", "Depends on how much you care about sane notions of scope\u2026 ", "As you mentioned: the only thing that restrains moving to C++14 is the compiler support.", "\nAs far as I know there were some efforts building ROS2 on arm microcontrollers. Perhaps it would be wise to check if the most common compilers for embedded platforms are supporting C++14.", "The arm-gcc-none-eabi compiler that is often used for STM32Fxxx series supports C++14. ( ", " )", "The toolchain supports it (except maybe the ARM stuff mentioned by ", "), and ROS2 isn\u2019t even in beta yet, so I\u2019m all for requiring C++14.", "This is only tangentially related to the question of \u201cshould we use C++14\u201d, but anyway this is an attempt to simplify the minimal examples using generic lambas:", "For example, this C++11 code:", "requires the message type to be listed twice: once for the create_subscription<> template, and once for the lambda parameter. It would be nice if we could do this:", "However, that code change explodes spectacularly into a few hundred lines of gcc errors.", "Does anybody know if that style of usage (mixing generic lambas with template instantiations) is just impossible in C++14 ? The overlap between lambdas and templates still seems a bit mysterious to me.", "The second example (the one with ", " in the lambda) is ambiguous, I think. What should the type of ", " be? ", " or ", " or something else? I don\u2019t think the compiler can implicitly infer which type you mean in this situation.", "What you\u2019re doing might work if you also supplied the ", " template argument to ", ".", "I\u2019ll play around with the example and see if I can simplify it. It should be possible, in principle, to do implicit template specialization on the ", " method, such that you can drop the ", " explicit template specialization. Then you\u2019d just need to explicitly type the ", " parameter to the lambda.", "I wrote a quick hack to remove the need to pass message type as a template argument in ", " and submitted it as a pull request in ", " and updated some of the examples in ", "I haven\u2019t tested this heavily, and unfortunately the changes fail to compile the allocator example ", "PS: when in doubt, ", ", that\u2019s my motto.", "It was a very silly bug, just fixed the order of the parameters in the template list and the allocator example compiles again:", "We were hoping to target ROS2 development on the IntegrityOS, since they\u2019ve recently updated their compiler to be C++11 compliant.", "\nPushing to C++14 will stop any hopes of deploying to a GreenHills IntegrityOS environment. ", "GreenHills seemed like a favorable target since most DDS vendors sell a compliant version for Integrity, and GreenHills is big in the Safety space (getting safety ratings like SIL2 or ASILC, etc). So for critical components of vehicle automation systems, it would have been really great to have your lower-level safety components running ROS2 and also your high-level stuff.", "Hi ", ", That\u2019s unfortuate to hear. Thank you for raising this issue.", "Has Green Hills provided a timetable for when their compiler will support C++14? Because the difference between C++14 and C++11 is ", " smaller than the difference between C++11 and C++0x, hopefully they will pick it up soon (?)", ", yours is an interesting use case for us. IntegrityOS is not one of our supported platforms, but if there\u2019s something that could be done to make life easier there, we\u2019re interested in discussing it. But first, as ", " said, we\u2019d like to learn more about what is and isn\u2019t supported from the C++ spec on IntegrityOS, as well as what their future plans are in that regard. We\u2019ve poked around a bit on the GreenHills site, but haven\u2019t found much public information.", "ROS 2 will be used for a long time after its release, probably a decade for new development and much longer in maintenance. Requiring users to work within the limits of C++ 11 for that period seems very restrictive. ROS 2 should support the latest version of C++ available for mainstream system when it is released. Let the end users push the vendors to provide the compiler support on systems that don\u2019t keep up.", "While I like to use the latest and greatest myself whenever i can, I think you have it a bit backwards. If the baseline for ROS2 development is C++11 or 14 or whatever, that should not prevent you from ", " it with more recent standards in your own code. The inverse however, is not true, so ROS 2 should continue to support the initialially chosen baseline dependencies for some period if time. I find that more often than not ROS is not the only dependency.", "Long term support with stable dependencies is important. I believe the distribution model of ROS 1 works quite well in that case.", "In any case I also agree that C++14 at this point makes sense for ROS2 beta.", "I will have to consult with some of my colleagues about what their support roadmap is.", "\nAlthough I wouldn\u2019t hesitate to say it\u2019ll be a slow transition.", "Even if ROS2 isn\u2019t supported on that platform, DDS is, and we can still interoperate. It would have just made things cleaner and simpler from a Platform/Ecosystem perspective if everything we create was on the same foundation.", "The issue with IntegrityOS supporting C++14 is not the difference in feature set, but the time and cost required to certify their compiler and tool chain again. Unfortunately, certification methods don\u2019t cope well with re-certifying modified software; you often have to treat it as a whole new system. If IntegrityOS has only recently got C++11 support certified then I don\u2019t have much hope that C++14 will be coming very soon, but maybe they have a well-oiled certification programme and we\u2019ll get lucky.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/rfc-using-c-14/921"},
{"title": "Creating PointCloud2 in ROS2", "thread_contents": ["Is there a way to create and fill a PointCloud2 message in ROS2?", "You can certainly create and manipulate a PointCloud2:", "But I don\u2019t know what you mean by fill. You mean from a PCL type or OpenCV type?", "Sorry, I mean actually adding the points. In Ros1, I think the easiest way to create a PointCloud2, was to create a pcl::PointCloud and convert it to PointCloud2, since the pcl::PointCloud allowed you to push_back points.", "Now I\u2019m wondering how to go from a list of points to a PointCloud2, preferably without just copying pcl::toROSMsg", "Thanks for the reply.", "Unfortunately we don\u2019t have anything like that at the moment. You might be able to use this header from ROS 1 as a starting point:", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/creating-pointcloud2-in-ros2/986"},
{"title": "DDS Security Specification", "thread_contents": ["Has there been any discussion of the DDS Security specification and how to handle it within the RMW \u2013 especially with the move to Fast RTPS as the default DDS/RTPS provider?", "I know there are plenty of other priorities for ROS2 implementation, but was just curious what the status of this was and if eProsima has any plans to support the security spec? I poked around their repository and did not see anything as of yet but also understand it\u2019s probably a significant investment to implement.", "One aside question \u2013 is there a well known RTPS implementation for the JVM? I see jRTPS and maybe Kiara by eProsima?", "Thanks much for your time!", "Hi Steve,", "Thanks for the question! And yes! Security of great interest to many of us. We are actively iterating with some ideas for how to integrate ROS 2 with DDS-Security. Everything is very much under construction at the moment, of course, but there are a few \u201csros2\u201d branches that are getting closer to being a usable prototype.", "We have been trying to put all of the security-related stuff in the ", " or lower layers. The goal is that the higher layers (i.e. the vast majority of code) won\u2019t need any changes, since at least in theory, the security features are implemented by the middlewares and shouldn\u2019t clutter up the application code which is only dealing with highly abstracted views of middleware. At the moment, you can set an environment variable called ", " before running ROS 2 nodes, to point to a path in your filesystem where it can find the necessary piles of keys and configuration files for DDS-Security to do its thing.", "At the moment the prototype only works with RTI Connext Secure, but we are taking pains to implement this in ", " in a way that could (in theory) be applied to any middleware, DDS or not, and certainly any vendor of DDS-Security, since it\u2019s really just passing a path from the filesystem down, and the ", " implementation do whatever it wants, ideally following a simple set of conventions for how to contruct filenames from that path so that, for example, DDS-Security governance and permissions files can be used by more than one vendor.", "We are assembling our prototype in the \u2018sros2\u2019 repo in the ROS 2 organization:", "sros2 - tools to generate and distribute keys for SROS 2", "It includes a vcs repos file to check out of a bunch of sros2 branches. We\u2019re currently working on a few python scripts to make it easier to generate all of the certificates/keys and DDS-Security configuration files, and distribute them using ssh/scp. It\u2019s not polished yet, but I expect it will get there in a week or two.", "I\u2019ll let the eProsima folks chime in, if they want to describe their plans for DDS-Security in FastRTPS.", "Cheers!", "Hi Steve,", "Good news: ", "Yes, we will support the DDS-Security specification. We have been working on that the last months, and we will have a first release in February 2017 supporting the ROS2 Security.", "About the Java implementation, yes. You can use KIARA. It is not at the same level of development as Fast RTPS, but we can support you and help you if you have issues.", "Regards!", "Hi,", "\nA alternative setup is to use the USER_QOS_PROFILES to locate the policy files. I would be interested in how your governance/permission files are setup to handle the paramter_event topic being generated (as of alpha 8)?", "Thanks", "\nVince", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/dds-security-specification/1015"},
{"title": "ROS 2 on embedded platform", "thread_contents": ["I have been following ROS 2 development since seeing the ROScon 2015 on ROS 2 on embedded platforms.", "\nI purchased a NUCLEO-F767ZI and this has a newer RTOS mbed-OS 5.0 and I have been able to get broadcast UDP working with two tasks.  I have been looking at a lot of the older code on github and I asked this question in the google group.  Is there any new work with getting ROS 2 on embedded platforms?  I would love to create a C++11 class that would be usable for all mbed-os 5.0 devices.  Make it as portable as possible.  Any tips on where to get started?", "Thanks,", "\nSeth", "No one at OSRF has had time lately to work on embedded platforms recently, but we are still really interested in them.", "I\u2019m not 100% certain what OS primitives mbed-OS gives you, but you might consider trying to get one of the DDS/RTPS implementations to compile for it, though it might not meet your needs. The other option would be to try and write the RTPS protocol yourself, potentially borrowing code from ", "\u2019s FreeRTPS project as needed:", "freertps - a free, portable, minimalist, work-in-progress RTPS implementation", "The RTPS wire format is described in the \u201cDDSI-RTPS\u201d document:", "Once you have an RTPS (or DDS) implementation going, you need to use it to implement the \u201crmw\u201d (ROS Middleware Interface), see:", "After that you just need to be able to compile the rcl and then optionally the rclcpp libraries on top. There has been some discussions lately with how to build these parts of the stack into static libraries, which I imagine you\u2019d need to do:", "And finally, we\u2019re using C++14 now, so if that\u2019s something you cannot handle with the mbed-os then, you might want to chime in here:", "Thanks for the feedback.  I have been manually switching the mbed-os to C++14 and have not run into any issues with gcc so I don\u2019t think that will be a problem.  Thanks for the steps, now I have something to work through.", "Regards,", "\nSeth", "I had a look at the different ros2_embedded_* variants a while back. IMHO ", " seems much more promising compared to mbed(-OS) as it is POSIX compliant, not geared towards IoT, and even tries to be compatible with many Linux APIs. Different STM32 variants are well ", ". However, you might need to create a board config for your eval board.", "Contribute to ros2_embedded_nuttx development by creating an account on GitHub.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Interface declaration (headers): ", "\n", "FastRTPS implementation: ", "\n"], "url": "https://discourse.ros.org/t/ros-2-on-embedded-platform/1034"},
{"title": "Turtlebot2_demo with Beta 1 build issue", "thread_contents": ["Hi,", "\nI was trying to build the turtlebot2_demo with Beta 1/RTI and received the following errors during build:", "/path/src/turtlebot2_demo/turtlebot2_drivers/src/kobuki_node.cpp: In function \u2018int main(int, char**)\u2019:", "\n/path/src/turtlebot2_demo/turtlebot2_drivers/src/kobuki_node.cpp:99:3: error: \u2018Pose2D\u2019 is not a member of \u2018ecl\u2019", "\necl::Pose2D pose;", "\n^", "\n/path/src/turtlebot2_demo/turtlebot2_drivers/src/kobuki_node.cpp:99:15: error: expected primary-expression before \u2018double\u2019", "\necl::Pose2D pose;", "\n^", "\n/path/src/turtlebot2_demo/turtlebot2_drivers/src/kobuki_node.cpp:102:5: error: \u2018Pose2D\u2019 is not a member of \u2018ecl\u2019", "\necl::Pose2D pose_update;", "\n^", "\n/path/src/turtlebot2_demo/turtlebot2_drivers/src/kobuki_node.cpp:102:17: error: expected primary-expression before \u2018double\u2019", "\necl::Pose2D pose_update;", "\n^", "\n/path/src/turtlebot2_demo/turtlebot2_drivers/src/kobuki_node.cpp:106:32: error: \u2018pose_update\u2019 was not declared in this scope", "\ng_kobuki->updateOdometry(pose_update, pose_update_rates);", "\n^", "\n[ 75%] Built target dumb_teleop__rmw_connext_cpp", "\n/path/src/turtlebot2_demo/turtlebot2_drivers/src/kobuki_node.cpp:113:5: error: \u2018pose\u2019 was not declared in this scope", "\npose *= pose_update;", "\n^", "\n/path/src/turtlebot2_demo/turtlebot2_drivers/src/kobuki_node.cpp:113:13: error: \u2018pose_update\u2019 was not declared in this scope", "\npose *= pose_update;", "\n^", "\nCMakeFiles/kobuki_node__rmw_fastrtps_cpp.dir/build.make:62: recipe for target \u2018CMakeFiles/kobuki_node__rmw_fastrtps_cpp.dir/src/kobuki_node.cpp.o\u2019 failed", "\nmake[2]: *** [CMakeFiles/kobuki_node__rmw_fastrtps_cpp.dir/src/kobuki_node.cpp.o] Error 1", "\nCMakeFiles/Makefile2:67: recipe for target \u2018CMakeFiles/kobuki_node__rmw_fastrtps_cpp.dir/all\u2019 failed", "\nmake[1]: *** [CMakeFiles/kobuki_node__rmw_fastrtps_cpp.dir/all] Error 2", "\nmake[1]: *** Waiting for unfinished jobs\u2026", "\nCMakeFiles/kobuki_node__rmw_connext_cpp.dir/build.make:62: recipe for target \u2018CMakeFiles/kobuki_node__rmw_connext_cpp.dir/src/kobuki_node.cpp.o\u2019 failed", "\nmake[2]: *** [CMakeFiles/kobuki_node__rmw_connext_cpp.dir/src/kobuki_node.cpp.o] Error 1", "\nCMakeFiles/Makefile2:104: recipe for target \u2018CMakeFiles/kobuki_node__rmw_connext_cpp.dir/all\u2019 failed", "\nmake[1]: *** [CMakeFiles/kobuki_node__rmw_connext_cpp.dir/all] Error 2", "\nCMakeFiles/kobuki_node.dir/build.make:62: recipe for target \u2018CMakeFiles/kobuki_node.dir/src/kobuki_node.cpp.o\u2019 failed", "\nmake[2]: *** [CMakeFiles/kobuki_node.dir/src/kobuki_node.cpp.o] Error 1", "\nCMakeFiles/Makefile2:173: recipe for target \u2018CMakeFiles/kobuki_node.dir/all\u2019 failed", "\nmake[1]: *** [CMakeFiles/kobuki_node.dir/all] Error 2", "\nMakefile:138: recipe for target \u2018all\u2019 failed", "\nmake: *** [all] Error 2", "Thanks", "\nVince", "Looks like you have a new version of ecl underneath but not the latest version of the kobuki sources.  Check that first.", "Hi Daniel,", "\nThanks for the reply. I went to the following url ", " and downloaded the kinetic branch of files. I compared the two diff_drive.hpp and kobuki.hpp, which are the same as what I have in the files downloaded from sudo apt-get install ros-kinetic-kobuki-driver ros-kinetic-kobuki-ftdi.  I did find that in kobuki.hpp the usage of ecl::LegacyPose2D is different from kobuki_node.cpp, which was ecl::Pose2D at lines 99 and 102. I changed them and the build works.", "Thanks", "\nVince", "Thanks", "\nVince", "The new debs for kinetic should have this (0.7.2) so you shouldn\u2019t need the sources. I suspect you simply had an outdated deb.", "Hi Daniel,", "\nThe kinetic debs are fine it\u2019s the urtlebot2_demo/turtlebot2_drivers/src/kobuki_node.cpp file that needs to be corrected, as stated above.", "Thanks", "\nVince", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/turtlebot2-demo-with-beta-1-build-issue/1051"},
{"title": "Circular dependency within rmw_implementation and rmw_opensplice_cpp", "thread_contents": ["Hi all,", "I am following the Ament tutorial, and I have found a circular dependency within rmw_implementation and rmw_opensplice_cpp:", "I removed the dependency in rmw_implementation, but it seems to be mandatory. as it does not compile. I could not find the dependency in the package.xml file in ./ros2/rmw_opensplice/rmw_opensplice_cpp/package.xml", "Best", "\nFrancisco", "This was brought up on the issue tracker too: ", "I think the consensus was that this broke in some recent refactoring of the type support and that we\u2019re not going to spend time on fixing issues with opensplice at the moment (see ", ").", "If this matters to you, then you can chime in there or work on a fix with guidance from us where necessary.", "Thanks William!!", "I did not see the issue in github. That was the right place to report this problem. I have overcome it by not compiling opensplice.", "Best", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/circular-dependency-within-rmw-implementation-and-rmw-opensplice-cpp/1065"},
{"title": "FastRTPS throughput issues", "thread_contents": ["I am publishing some data at a very high frequency (1000 Hz). It\u2019s essentially a time server, so the data isn\u2019t huge. Just seconds and nanoseconds. This is my way of replicating the ROS Time that exists in ROS 1.", "I created another node that subscribes to this time data.", "\nI am hitting a roadblock using Alpha8 and FastRTPS, where I call spin_some(node) and it basically never comes back.", "\nMy intuition is that it spends the whole time processing messages for the subscription, never gets ahead of the incoming data, so the spin_some can never return.", "Any experience with this? Or pointers? Is this something that\u2019s an inherent limitation of FastRTPS?", "\nI didn\u2019t notice this with Alpha7, but I was using OpenSplice. I assume the ROS layer didn\u2019t change enough to make this a ROS issue, but rather a FastRTPS issue. I can run that test to verify.", "Thanks.", "Hi,", "1000 Hz is not so high, and I think you should be able to do it with our Fast RTPS. We have throughput tests sending at higher rates with larger data.", "Without seeing the actual test you are running is hard to answer. Could you try to reproduce the problem on Fast RTPS and post an issue on our Github ?", "Thanks,", "\nJaime Martin Losa", "\nCEO eProsima - The middleware experts", "Phone: + 34 607 91 37 45", "\nTwitter: ", "\n", "It\u2019s hard to say why you\u2019re experiencing this behavior. If you can provide a simple example where ", " doesn\u2019t return, we can have a look at it. I\u2019d have to look into how ", " is implemented, but I was aware of that pitfall when we were writing it. It could still be broken though.", "I finally had some time to revisit this. It\u2019s pretty reproducible for me on a Windows 10 machine.", "\nIt could very well be that I\u2019m doing something incorrect in my setup.", "\nThe code is essentially 1 ", " node that publishes \u201ctime\u201d (It\u2019s fake time, just a static counter starts at 0 and increments every millisecond). And a ", " node that creates an object that contains a subscription to this time. The desire is that the Time object can be called on during program execution to get the current time (similar to the ROS::Time::now() concept).", "The behavior is that the ", " node gets stuck just processing the subscription to the Time. It never exits the spin_some(node) function call.", "Here\u2019s the code:", "\n", "Any pointers or attempts to replicate would be appreciated. I want to switch to use FastRTPS, but unless this type of mechanism works, I\u2019m stuck on OpenSplice.", "Thanks.", "HI SecretaryBirds,", "We are going to test this. I will keep you posted.", "In the meanwhile, could you please send me a message with your contact details just in case we need more information about the case?", "It looks like the fastrtps part works with the latest code from the ros2 package (i.e. ", ").", "\nI packaged the demo code at ", ".", "I see two issues", "Thanks geoffviola,", "For us works also. Are you in the SecretaryBirds team?", "Yeah, we work together.", "Hi ", ",", "\nI just tested this code:", "Cheers", "I recompiled with the latest code as of today. The typesupport problem is definitely fixed. With fast RTPS The talker uses 12% CPU even if no one is subscribed. Talker uses 25% CPU, when there is one subscriber. The listener takes 100% CPU.", "Ctrl-C works on the listener if there is no publisher. When the talker is publishing to the listener, Ctrl-C does not close it. Holding Ctr-C does stops it from using so much CPU and printing to the screen.", "Also, this package does not compile in Linux alpha 8 opensplice binary. It seems that some symbols don\u2019t generate. I see the following error:", "\n[ 66%] Linking CXX executable talker", "\n[ 66%] Linking CXX executable listener", "\nlibtime.a(Time.cpp.o): In function ", "rosidl_message_type_support_t const* rosidl_typesupport_opensplice_cpp::get_message_type_support_handle_opensplice<builtin_interfaces::msg::Time_<std::allocator > >()'", "\ncollect2: error: ld returned 1 exit status", "\nCMakeFiles/listener.dir/build.make:164: recipe for target \u2018listener\u2019 failed", "\nmake[2]: *** [listener] Error 1", "\nCMakeFiles/Makefile2:173: recipe for target \u2018CMakeFiles/listener.dir/all\u2019 failed", "\nmake[1]: *** [CMakeFiles/listener.dir/all] Error 2", "\nmake[1]: *** Waiting for unfinished jobs\u2026", "\nCMakeFiles/talker.dir/src/talker.cpp.o: In function ", "rosidl_message_type_support_t const* rosidl_typesupport_opensplice_cpp::get_message_type_support_handle_opensplice<builtin_interfaces::msg::Time_<std::allocator > >()'", "\ncollect2: error: ld returned 1 exit status", "\nCMakeFiles/talker.dir/build.make:171: recipe for target \u2018talker\u2019 failed", "We are still seeing some issues with this. Now we are trying to enable beta1 with fastRTPS. With a similar node to SecretaryBirds, publishing time at rmw_qos_profile_sensor_data, and the subscribing node subscribing at the same qos, we see the subscribing node using 100% cpu. Ths subscriber is calling spin(). If we try using spin_some or spin once we see the cache fill up and errors. Even when the loop rate is 2000 Hz.", "We found a way to get the cpu usage down by subscribing and publishing at qos_default. However, now the publisher slowly climbs up to 100% cpu (takes about 30 seconds to a minute on my machine).", "Also, please note that even if we only publish the time 1x per second, we still see the subscriber at 100% cpu.", "During my testing, I found that the listener is capable of keeping up at least for a time on my machine.  However, at some point, it fails to keep up, at which point it doesn\u2019t return from Spin Some, which makes sense.  However, if I close the talkers at this point, I would expect that spin_some would eventually return, which it never does.", "Because I don\u2019t like dealing with high rate items (hard to see), I slowed everything down to 10 Hz (talker/listener) and started 1 talker, then 1 listener, waiting for a bit to make sure things were operating as expected, then started another 2 talkers.  It ran fine for awhile, but eventually (within 1 minute) the spin some stopped working.  At this point, I stopped all the talkers, expecting the spin some to return.  Never did.  I was able to re-start a talker and the callback was still functional, but spin some would never return.", " I believe what you\u2019re seeing is ticketed here: ", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["A problem with sourcing the setup.bash, which is probably not related: ", ".", "The listener program does not close with ctrl-c. I haven\u2019t explored why it acts this way. The talker program does close with ctrl-c.", "As been solved on my side by ", "\n", "On my machine (xenial) the code is still stuck in the spin_some. I didn\u2019t have time to investigate but changing ", " to 1000Hz allowed me to get both spin_some and  ctrl+c to work as expected"], "url": "https://discourse.ros.org/t/fastrtps-throughput-issues/625"},
{"title": "ROS2 behind a firewall", "thread_contents": ["Hey,", "\nwhich ports/services do I have to allow if I want to operate ROS2 on a system with an active firewall?", "Lennart", "The canonical explanation is deeply buried in the RTPS spec (aka \u201cDDS", "\nInteroperability Protocol\u201d), section 9.6.1:", "\n", "Four UDP ports are needed. The port numbers are a function of the DDS/RTPS", "\ndomain ID, which in ROS 2 is populated with the ROS_DOMAIN_ID environment", "\nvariable and defaults to zero.", "The expressions and magic numbers are on pages 190-191 of the PDF (document", "\npage numbers 178-179).", "Best regards,", "\nMorgan", "I\u2019ve seen this page by RTI which might be useful: ", "It has a spreadsheet for calculating the ports used by RTI Connext (one of the supported ROS 2 middleware implementations) which might also apply to other vendors. I haven\u2019t used it myself.", "Morgan mentioned the domain ID - note that the participant ID that\u2019s used in these equations isn\u2019t currently exposed/set by ROS 2, but it may be set by vendor-specific config files.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-behind-a-firewall/1178"},
{"title": "Finer control of messages forwarded using ros1_bridge", "thread_contents": ["Suppose I want to not forward some topic ro ROS2. For exampe /tf. How would I do that? Is the best way to add an argument to dynamic_bridge that takes a list fo topics not to forward.", "And suppose I want to reduce the data. Suppose I have a GeoPose in 10 Hz in ROS1 but only need it in 1 Hz in ROS2. How would I do that?", "I kind of need this functionality and will try to implement something and contribute it back. But if there are some prefered way to do these kind of things it could be good to know.", "There is currently no way (that I am aware of) to avoid forwarding topics across the bridge. I guess the situation you\u2019re describing is that you have publishers and subscribers on the topic ", ", for example, on both the ROS 1 and ROS 2 sides but you don\u2019t want them to talk? If you only had ", " publishers and subscribers on the ROS 1 side, then even though it would \u201cbridge\u201d that topic, there would be no one listening or contributing from the ROS 2 side anyways. If this is a feature you need, then I\u2019d ask you to open an issue about it on the ros1_bridge\u2019s issue tracker:", "ros1_bridge - ROS 2 package which provides bidirectional communication between ROS 1 and ROS 2", "As for the message rate throttling, we could implement that into the bridge, but it could also be implemented on the ROS 1 side with some of the topic tools:", "It is clearer, in my opinion, to separate the bridging and throttling code unless there is a compelling reason to combine them.", "We\u2019re always happy to have contributions, it sounds like the \u201cblacklist\u201d of topics on the bridge would be a useful one.", "Can you provide a little bit more information about your goal of \u201cnot forwarding\u201d topics. If they don\u2019t have a matched subscriber on the other side they won\u2019t get forwarded.", "You can relatively easily remap any topic to a non-matching topic and it won\u2019t get forwarded.", "For your example of throttling a topic there\u2019s already tools for that like ", " you\u2019ll end up publishing the data at a slower rate on a different topic and remap that to connect to your ROS2 system.", "In general I do not believe that we want to support blacklisting topics for the bridge. If every other topic passes through but one topic doesn\u2019t, if you didn\u2019t configure the blacklist yourself it would be very surprising behavior and break everyone\u2019s assumptions about connectivity.", "Your use case is more general than just the bridge which is having tools to selectively expose lower datarate representations of robot data externally. There\u2019s been lots of though experiments and we plan to attack this sort of tool in the future as the new QoS features will help it a lot too. This tool can be written to run on either side of the bridge. But we expect that the introspection and orchestration APIs in ROS2 will help with this tooling a lot.", "I want to use the bridge to forward messages to different robots that runs on different cores.", "So there are messages for example /diagnostics or internal messages that are on a topic that does not have a namespace to indicate that it belongs to a specific robot. And these messages should not be forwarded but they are subscribed to on each platform so if I just use dynamic_bridge they will be forwarded and mess up things.", "The messages that are forwarde either have a prefix or are messages that are global to the whole system of robots.", "On the other hand, when our ROS1 implementation is converted to ROS2 then what is needed is something else.  What that is I do not know. Maybe a way to group node together and automatically add a prefix to topics from that group.", "You could also compile a custom static bridge that specifies the exact messages that need to be converted. That would be a whitelist. Each message type and topic name would have to be specified in the static bridge. I don\u2019t think it is capable of passing through groups of messages.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/finer-control-of-messages-forwarded-using-ros1-bridge/1183"},
{"title": "Python binding to Connext vs FRTPS", "thread_contents": ["I know that Python layer isn\u2019t complete, but would like to understand if I can bind python to rmw_connext now and if so,  how? I saw a utility ", " a wrapper for python to dds, but not sure if this is correct step to take.", "Thanks", "\nVince", "You could use pyDDS to \u201ctalk\u201d with any DDS compliant system, including ROS 2, but you would be missing a lot of functionality provided above and beyond the DDS API, which will be provided by our Python bindings (like namespaces, parameters, timers, actions, etc).", "If you are asking if the ROS 2 Python client library can use rmw_connext, then the answer is yes, it can. It does so via the C client library.", "If you are asking if the ROS 2 Python client library can use rmw_connext, then the answer is yes, it can. It does so via the C client library.", "One detail to point out though, is that ROS2 doesn\u2019t implement C services with connext yet. As a result the Python bindings for services will not work for Connext while they work for FastRTPS.", "\nEverything else should work the the same way with both implementations within the limits of what the current Python layer supports.", "Hi William, Geoffrey and Mikael", "\nThanks for your replies and yes, I was asking if Python can bind with rmw_connext implementation layer. Currently, I have Python to FRPTS working (default), but would like to use Connext. The package.xml only has ament_python as an element for configuration. So is it supported or as Mikael stated not implemented yet? Both _rclpy_implementation_rmw_agnostic.c and _rclpy.c are the sources for rclpy.", "  are you using Beta1 or the current master ?", "If using Beta 1, you can define the rmw_implementation to use with rclpy by defining the environment variable ", ":", "\n", "\nIf using master, there is a single env variable used for both rlcpp and rclpy: ", ":", "\n", "Hope this is what you\u2019re looking for", "to add to what the others have said, in order to use the rmw_connext_cpp implementation, you will have to ensure that that package itself has been built. the binaries only provide support for rmw_fastrtps_cpp, but you can get Connext support if you are building from source.", "This page gives some more information about switching RMW implementations: ", "I using Beta 1 release", "Sorry mistyped that was supposed to be I\u2019m using Beta 1 release and thanks for the link. The following worked RCLPY_IMPLEMENTATION=rmw_connext_cpp talker_py", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/python-binding-to-connext-vs-frtps/1207"},
{"title": "ROS2 beta on Ubuntu 16.04 fails", "thread_contents": ["I downloaded and installed ROS2 beta on Ubuntu 16.04, 64 bits as explained here:", "\n", "ros2 - The Robot Operating System, is a meta operating system for robots.", "\n", "\nWhen I start to execute the talker I get the following error message:", "\nufechner@tuxedo:~$ . ~/ros2_install/ros2-linux/setup.bash", "\nufechner@tuxedo:~$ talker", "\ntalker: error while loading shared libraries: librclcpp.so: cannot open shared object file: No such file or directory", "\nufechner@tuxedo:~$", "Any idea?", "Uwe", "I would try to replace the first command with:", "\nsource ~/ros2_install/ros2-linux/setup.bash", "Thanks for the hint, but it didn\u2019t help:", "\nufechner@tuxedo:~$ source ~/ros2_install/ros2-linux/setup.bash", "\nufechner@tuxedo:~$ talker", "\ntalker: error while loading shared libraries: ", ": cannot open shared object file: No such file or directory", "\nufechner@tuxedo:~$ locate ", "\n/home/ufechner/ros2_install/ros2-linux/lib/librclcpp.so", "\nufechner@tuxedo:~$", "The file ", " does exist, though.", "Any more tips?", "The following changes solved two problems:", "Firstly, the environment variable LD_LIBRARY_PATH is deleted by", "\nUbuntu for security reasons. Additional paths have to be added", "\nto a new file in the directory /etc/ld.so.conf.d", "For example by doing", "sudo gedit /etc/ld.so.conf.d/ros2.conf", "and adding the line:", "and executing", "Furthermore, one package was missing:", "sudo apt-get install libpocofoundation9v5", "Now I get a different error message:", "Any idea, how to fix this?", "Uwe", "Firstly, the environment variable LD_LIBRARY_PATH is deleted byUbuntu for security reasons. Additional paths have to be addedto a new file in the directory /etc/ld.so.conf.d", "That\u2019s surprising since we\u2019ve never run into this on our Xenial machines. Perhaps you have a flavor of Ubuntu that is setting some additional security settings? According to their wiki you can set ", " so long as it is in an interactive shell:", "This sounds like one of the features macOS\u2019s SIP system (which we have to disable to get our binaries to work on macOS):", "System Integrity Protection (SIP, sometimes referred to as rootless) is a security feature of Apple's macOS operating system introduced in OS X El Capitan. It comprises a number of mechanisms that are enforced by the kernel. A centerpiece is the protection of system-owned files and directories against modifications by processes without a specific \"entitlement\", even when executed by the root user or a user with root privileges (sudo). Apple says that the root user can be a significant risk factor...", "Furthermore, one package was missing:", "sudo apt-get install libpocofoundation9v5", "We should probably add this to the prerequisites list (at least) on the binary installation wiki page: ", "Any idea, how to fix this?", "As for the new error you\u2019re seeing, that\u2019s something we\u2019ve seen before, basically for some reason it is trying to use two different backends for ROS 2 at the same time (one for message passing and a different one for type support) which results in that error. This usually doesn\u2019t happen in the binaries (unless I\u2019m just unfamiliar with this problem with beta 1 on Linux) since we only build for Fast-RTPS in our binaries.", "Can you double check you are not mixing the binaries and older binaries or builds of ROS 2?", "We should probably add this to the prerequisites list (at least) on the binary installation wiki page: ", " can you confirm this is the right package to install?", "We should probably add this to the prerequisites list (at least) on the binary installation wiki page: ", " can you confirm this is the right package to install?", "For use from binary ", " looks correct. For building from source you will likely need ", ".", "That\u2019s surprising since we\u2019ve never run into this on our Xenial machines. Perhaps you have a flavor of Ubuntu that is setting some additional security settings? According to their wiki you can set LD_LIBRARY_PATH so long as it is in an interactive shell:", "This sounds like one of the features macOS\u2019s SIP system (which we have to disable to get our binaries to work on macOS):", "System Integrity Protection", "System Integrity Protection (SIP, sometimes referred to as rootless) is a security feature of Apple\u2019s macOS operating system introduced in OS X El Capitan. It comprises a number of mechanisms that are enforced by the kernel. A centerpiece is the protection of system-owned files and directories against modifications by processes without a specific \u201centitlement\u201d, even when executed by the root user or a user with root privileges (sudo). Apple says that the root user can be a significant risk factor\u2026", "I ran into this reference suggesting that if you\u2019re in the group utmp it will be removed?", " are you running your tests inside a temporary user account or have you turned on higher than usual security?", "In the man for ", "(8)", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-beta-on-ubuntu-16-04-fails/1236"},
{"title": "Subscription topic not connecting to sensor output data", "thread_contents": ["I\u2019m trying to create a python script as shown below to acquire sensor data. The sensor output data works in a cpp program, but not a Python script. No output from print statement in callback, any thoughts?", "Output from pdb", "Hi ", ",", "I tried your code on my machine and the callback is called every time a message is received. Could you give more detail about your configuration? (version of the code, rmw_implementation used).", "\nHow are you publishing your images?", "Note: I tested it running ", " in a terminal and your code sample in another one.", "Cheers,", "\nMikael", "Hi Mikael,", "\nThanks for your reply and interesting on your results.", "Thanks", "\nVince", "Another test that I did was run the showimage with astra camera publishing. That worked, but the image window was very grainy and gray. No picture was shown.", "I was also looking at the difference between orbbec/ros_astra_camera and ros2/ros_astra_camera ( forked from orbbec/ros_astra_camera), It seems that these aren\u2019t sync\u2019d. The CMakeLists.txt is pulling from  GIT_REPOSITORY ", " for ros2/ros_astra_camera and GIT_REPOSITORY ", " for orbbec/ros_astra_camera. Is this correct? Also no issue tab on ", " site", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Beta 1 using RTI 5.2.5 on Linux 16.04", "I tried both FRTPS and Connext with same results", "I was using Turtlebot_demo code from here: ", "\n", "The camera is astra camera", "Follower works with connext", "Line 132, 133 from astra_driver.cpp:", "\npub_depth_raw_ = nh_->create_publisher<sensor_msgs::msg::Image>(\u201cimage\u201d, rmw_qos_profile_sensor_data);", "\nthis->depthConnectCb();", "\nThe node is up with starting depth stream", "Ok tried your test and works with both FRTPS and Connext"], "url": "https://discourse.ros.org/t/subscription-topic-not-connecting-to-sensor-output-data/1245"},
{"title": "Prebuilt ros2 packages", "thread_contents": ["I\u2019ve automated a built of a set of ros2 debian packages with checkinstall for x86. They are built each morning at 8am (MET). I build them from the current master branches. Because they are built with checkinstall they don\u2019t include any dependencies. You will still have to follow the instructions in the ros2 wiki regarding the dependencies. The workspace is installed to /opt/ros2_ws. You will have to source it afterwards.", "The link to the packages is : ", "Perhaps it\u2019s useful for a couple of people interessted in ros2.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/prebuilt-ros2-packages/1289"},
{"title": "GTest v1.8", "thread_contents": ["From ", ", it looks like the beta1 gmock and gtest come from version 1.7, but there is a new version 1.8. When compiling gtest.h, GCC emits a warning with the -Wextra flag. The warning was addressed in 1.8: ", ". I haven\u2019t tested that there are no warnings in the 1.8 release, but what is the process of including that in the next ROS2 binary release?", "The best way would be to open an issue on ", " asking for a sync with upstream gtest.", "\nIdeally we would be able to sync and integrate the latest release of gtest and gmock now that they are developed and hosted on the same repo.", "Thanks. I created an issue at ", ".", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/gtest-v1-8/1327"},
{"title": "RFC: Using DDS Partitions to implement ROS 2 Namespaces", "thread_contents": ["We\u2019ve changed our proposal for how to implement ROS 2 namespaces. Now we are proposing to use DDS Partitions. Previously we proposed replacing the ", "'s in the ROS namespaces with ", " since ", " are not allowed in DDS topic names.", "Anyone who\u2019s interested in this, please have a look at the pull request:", "Thanks!", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/rfc-using-dds-partitions-to-implement-ros-2-namespaces/1390"},
{"title": "Current status of FreeRTPS?", "thread_contents": ["I\u2019m evaluating the availability of communication between ", " and ", ".", "I tried to make the native-posix version of FreeRTPS communicate with the ROS2 on FastRTPS. But it seems that the native-posix sample(e.g. talker_no_rosidl) won\u2019t be able to communicate with the ROS2(e.g. listener_best_effort).", "Is there anyone who can make FreeRTPS communicate with ROS2 or knows which features to be developed?", "\nIt seems that the talker_no_rosidl is able to add its messages to the internal history of FastRTPS. But the upper layers won\u2019t retrieve the messages.", "Greetings! Thanks for your interest in the project. Development of FreeRTPS has been paused for a while. Current development efforts are using FastRTPS and RTI Connext.", "At some point it would be to resume development of a microcontroller-friendly middleware option, but at the moment we (OSRF) are not spending time on it. Of course, this is all open-source, so if you have time and energy to spend on FreeRTPS, it\u2019s certainly there for the taking. It would need a significant amount of effort, though. Cheers!", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/current-status-of-freertps/1396"},
{"title": "Optional Fields in Message", "thread_contents": ["I was taking a look at ", " and ", ". I noticed that there were additions to the .msg format and I started thinking of another addition.", "I propose adding an optional tag in front of the field type in the .msg format.", "I know users generally assign a sentinel value (i.e. NaN or 0xFFFF), when there no value is present; but it would be more semantic to build it into the message.", "In C++14, it could be implemented in the experimental optional implementation. Then, when the code base moves to C++17, the experimental tag could be removed.", "It might be useful for making different measurements in a compatible format. For example, my 1D gyro could produce a 9D imu message with just that one optional measurement field filled in.", "Can you clarify what you goals for optional values are. Do you want to distinguish an unset value from any other value? If the value is not set do you want it to not use any space on the wire? Do you want an older message definition (without the optional field) be compatible with a newer variation of the message (with the optional field added)?", "I don\u2019t understand how C++14 / C++17 is related to this and what you mean with \u201cexperimental optional implementation\u201d. Maybe you can clarify that part.", "Do you want to distinguish an unset value from any other value?", "Yes, the goal is to specify an unset or unused value from another value, but maintain compatibility.", "If the value is not set do you want it to not use any space on the wire?", "I don\u2019t care about the wire representation at this point. I was concentrating on the user perspective.", "Do you want an older message definition (without the optional field) be compatible with a newer variation of the message (with the optional field added)?", "That would be nice and could be another way of getting the same thing. For example, somehow relating the 1D gyro to the 9D IMU message without much overhead or specification. I was mostly thinking about the inherent compatibility with one message type.", "I don\u2019t understand how C++14 / C++17 is related to this and what you mean with \u201cexperimental optional implementation\u201d. Maybe you can clarify that part.", "Sorry, I started to get into the weeds. I like the use of std::array and std::vector in the C++ message API. I thought it would be nice to use std::optional, which is available in C++14 as a pseudo experimental feature: ", ". Basically, some compilers added it in the std::experimental namespace before it was officially released in C++17.", "+1", "I would also appreciate support for optional fields in ROS2. The best use case I can currently think of is to get rid of the ", " message types and merge them into one ", " message with an optional covariance field (not considering backwards compatibility in this case). A node that is only interested in the actual value and not in the covariance information would not need to implement different subscribers for the two types or apply shape shifting. Other tools like rviz could optionally visualize the covariance, if available.", "In general, having native optional field support in many cases removes the need to define different, but very similar messages and - depending on how the presence of optional fields is encoded in the wire format - can also help to reduce wire size because unavailable data does not have to be represented by a full 8-byte NaN double.", "Protobuf 2 also has ", ", but apparently this feature has been removed in ", " for a good reason\u2026", "The ", " has a rant about the required field that elucidates (in part) the history behind it.", "Note also that both Capn Proto and Protocol Buffers 3 still support the notion of optional - Capn Proto via ", " and Protocol Buffers 3 via ", ".", "As for a direct use case, we ran into one recently when wanting to write a ROStful (ROS-REST conversion interface) client. As a client to a REST server api, it may need to set outgoing optional fields and parse incoming optional fields. A fixed ros message is not rich enough to transmit/receive this kind of information.", "The best use case I can currently think of is to get rid of the geometry_msgs/FooWithCovariance message types and merge them into one geometry_msgs/Foo message with an optional covariance field", "While I agree that there may be valid use cases for optional fields, I don\u2019t think this is one of them. In a different robot framework that I regularly use, there is no ", " message, only a ", ", which is the logical conclusion of what you propose and which has these fields:", "In contrast, I like the ROS messages (", ", ", ", ", " \u2026) better. The signature of the topic tells me immediately which fields are used or supposed to be filled. I don\u2019t have to do a ", " or read the code to find out, and if they later decide to use a covariance, the API changes, so my code breaks and I know I have to adjust it.", "Thanks for the pointer to the changes between Protobuf 2 and Protobuf 3. A few other searches found some other interesting opinions about proto2 vs proto3 such as ", " and that the proto3 version is ", ".", "Although the answer that \u201ceverything is optional\u201d is a bit tongue in cheek. I think that it actually has a valuable insight. In particular for the API, some fields may not need to be filled. And this depends completely on the message documentation. Messages are both a datatype as well as a documented standard on how to fill them out. Some messages provide multiple fields but ", ". Similarly some messages use ", " where there are some configurations where some arrays may be empty. Which is basically using the implicit flag of the length of the array, which is an introspectable property of the message.", "Using the empty arrays gains the benefit of not needing to send the empty data fields. (Less the overhead inherent to communicating that the array is empty.)", "Two other advantages of \u201coptional\u201d data fields are the ability to not send the data if it\u2019s not used and \u201cbackwards\u201d compatibility between two versions of a message where an \u201coptional\u201d field has been added and the receiver can automatically drop the extra field that it does not know about.", "Not actually sending blank data can be covered as above by using variable length arrays. And the linked article above from the Capn Proto FAQ covers how the \u201ccompatibility\u201d breaks down quickly.", "The other major change that supporting optional fields as protobuf does is that it requires us to switch to method based access. Such that you must query whether or not a field exists before you ask for it. Our community has shows a strong preference for having member based access to the datatypes for the ability to implement high performance methods using things like iterators without going through accessors or making a local copy that would cause significant overhead.", "With the new bounded arrays, we could pick up a new common message pattern in the case that you want to have an optional field.", "Though when designing messages like this it needs to be kept in mind that adding this complexity will force all subscribers to handle both cases. Or if there\u2019s multiple optional fields the number of cases can grow combinatorically.", "That would be nice and could be another way of getting the same thing. For example, somehow relating the 1D gyro to the 9D IMU message without much overhead or specification. I was mostly thinking about the inherent compatibility with one message type.", "I\u2019m not sure that optional fields are the best approach for this. In this case I\u2019d recommend that using the full 9D message with the appropriate zero entries in the covariance. This means that all the tools can be written against a single message. We\u2019ve developed the same policy for 2D vs 3D poses. Where if you\u2019re working in 2D you still use the 3D points. And then the messages can be rendered following the same code path in all the tools instead of needing to have two different code paths.  This approach has proven very powerful as primatives used by the 2D navigation stack which only supports 2D navigation can be reused when people are starting to do 3D free space navigation and almost all the tools still work.", "As for a direct use case, we ran into one recently when wanting to write a ROStful (ROS-REST conversion interface) client. As a client to a REST server api, it may need to set outgoing optional fields and parse incoming optional fields. A fixed ros message is not rich enough to transmit/receive this kind of information.", "Can you clarify what you mean by this? Are you trying to represent an arbitrary REST message?", "To clarify what ", " was talking about, it is serializing/deserializing from json to rosmsg and vice versa (since most REST apis use json messages), in order to interface ROS systems (a robot) with a potentially useful REST API (a server somewhere).", "Note the ROS system can be a client, but also a server, such as when someone writes a WebApp for a Robot UI, interfacing with ROS, using some \u201crobot REST API\u201d derived from existing ROS services.", "As a Reference, here is how one would specify a message for a REST API : ", " by default all fields are optional. required fields need to be specified explicitly. Same as current protobuf design from what i understood.", "An unset field has a different meaning than a field set to a default value automatically by the message type, without explicit user intent\u2026", "And I would personally add a even more obvious usecase : ", ".", "\nA function can have optional arguments, and since python works with references and implicit typing, a safe simple default for any type is ", "if I have a function :", "and I want to expose it to other nodes via a service :", "Nullable default arguments are core part of the language so it is not unusual to see such APIs in python.", "So I think having some standard way to represent a nullable/optional field in a message would be very useful.", "Can you clarify what you mean by this? Are you trying to represent an arbitrary REST message?", "Alexandre is the technical guy ", "More simply, yes we were trying to represent or parse an arbitrary REST message. I wanted our ROS guys to talk to an external REST service without having to know or use REST.  Once the REST API is known, in most cases we can spec the ROS engineers a set of messages and services they can use that will talk to the REST service via ROStful. Unfortunately that REST service is not always something we design/control, so it will often have optional fields in it.", "Vice versa also happens - if we do have control over the design of the REST api, then the REST lads are then forced to become aware of the non-optional constraint.", "By the way, I\u2019m not necessarily arguing for the increase in complexity such a feature would bring, just presenting a use case where it would have been useful.", "I\u2019m have trouble coming up with a good pub/sub use case for optional. In my example, Instead of a gyro driver producing an IMU message, it probably makes more sense to create a converter. Maybe, type masquarading and an ease of building small message converters has more value right now. Type masquerading is already on the roadmap: ", ".", "I agree that remote function calls could use an optional field. Remote function calls are less common.", "The protobuf history is interesting. I didn\u2019t really get their problem. It seemed to be a testing problem, which they didn\u2019t address. In the Cap\u2019n Proto FAQ, the author mentioned protobuf 2\u2019s required field caused parsing failures when that part of the message definition was modified. DDS is strict on message types as well and will not allow reading part of a message. So the main point seems less relevant here.", "There are a lot of ways to implement optional. Mathematically, setting the covariance to 0 may work if it is a final output; but it will not work if that data needs to be fused. This post is about treating optional as a first class message feature so that the interface is explicit. When it is explicit, the user is more likely to deal with it not being set.", "As a little bit of context, my main motivation for proposing this feature was this talk called \u2018", "\nCppCon 2016: Ben Deane \u201cUsing Types Effectively\"", "\n\u2019 at ", ". The presenter argues why C++17\u2019s std::optional and std::variant are fundamental to types. I thought it would apply to ROS messages as well. I\u2019d argue that we should add something like variant, but I don\u2019t quite understand it yet.", "I think that good cases both for an against optional fields have been made here and elsewhere.", "To add to them, I also think that the Python experience shows the value of optional fields for ", ". It can give an API more expressiveness and make more explicit how it is intended to be used correctly. I agree that it can also add a lot of complexity, but at least for services that complexity may be worth it. I think it depends on how the majority of ROS users are creating services. Are they being used as remote procedure calls, or are they more often used as two-way or pull-style pub/sub communication (e.g. pull a copy of the map only when wanted)? If it is the former, then perhaps optional fields should be considered for service definitions. Of course, that raises the prospect of reducing the compatibility between .svc and .msg definitions, which I think is probably not desirable.", "I have a use case for optional fields. I store a vector map. This map has a name, a few other fields, and list of polygons. The polygons are large. If I just want to rename the map, I want to be able to publish an update message that leaves the polygons unset. That would in turn be interpreted as \u201ckeep the current polygons I already know about\u201d at the receiver. I don\u2019t want a separate update message for each map field. It seems that I would still need a separate message to update individual polygons, but I would still hope to leave fields that shouldn\u2019t change out of the message. JSON typically utilizes this principle: if a property is null for the serializer the property name isn\u2019t included and, vice-versa, when deserializing absent properties don\u2019t change the existing value in the target.", "I have a use case for optional fields. I store a vector map. This map has a name, a few other fields, and list of polygons. The polygons are large. If I just want to rename the map, I want to be able to publish an update message that leaves the polygons unset. That would in turn be interpreted as \u201ckeep the current polygons I already know about\u201d at the receiver. I don\u2019t want a separate update message for each map field.", "I think that this can relatively easily be covered by an update message with variable length arrays of changed elements for each type. Empty would imply no updates. There could also be defined additional flags for each type to tell the merge algorithm the expected policy, \u2018merge\u2019, \u2018replace\u2019, \u2018drop\u2019 etc.", "JSON typically utilizes this principle: if a property is null for the serializer the property name isn\u2019t included and, vice-versa, when deserializing absent properties don\u2019t change the existing value in the target.", "This seems to be conflating the message and the merge logic. If you have an update message and a data type you\u2019re merging it with, the policy of keeping existing values is defined by your merging function and not the message itself or the transport of that message. And as mentioned above the merge logic could be informed by message elements.", "I think part of the challenge is that there are two concepts of optional fields. One is that you can state if an element is set or unset. The other is that you can send and receive somewhat compatibly using a partial definition if the other side only has additional optional fields. (Ala what protobuf2 had but has been cut from protobuf3)", "Rereading this thread it sounds like a lot of what people are looking for is not necessarily the different version compatibility but actually improved API for communicating an element is set or not. Which can be done using the [<=1] idiom, but requires you to be pretty verbose and dereference into the list etc.", "For which we could consider adding syntactic sugar to make the user faceing API a little bit easier to use.", "Clearly something like ", " would be nice. However that\u2019s not available until C++17. And we would want to replicate this across all languages so keeping it unified would be valuable. But however it\u2019s implemented I\u2019d suggest that this is mostly client library syntactic sugar instead of a need to necessarily change the primitives if we use this as an extended API on top of the basic primitives we already have.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["position, cov_position", "orientation, cov_orientation", "velocity, cov_velocity", "angular_velocity, cov_angular_velocity", "sending timeout == 0 (how the ROS1 msg type ", " function initialize it) means return right away.", "sending timeout == None (how the python api is built) means no timeout, ie. run for ever."], "url": "https://discourse.ros.org/t/optional-fields-in-message/991"},
{"title": "Downloading Dependencies", "thread_contents": ["I looked at ", ", but I didn\u2019t see anything about plans for a new rosdep for ament. Based on the ROS 2 binary installations, I figure that the remote dependencies are managed by brew for Mac, Chocolatey for Windows, and apt for Ubuntu. Are there plans to have a generic tool to download these dependencies based on the package.xml like rosdep? Also, are there plans to generate the necessary files for these dependency managers from a package?", "Unfortunately, the previous version of rosdep didn\u2019t handle downloading repositories directly. It seems useful to enable a complete stack source code build like Mike Purvis\u2019 ROSCon 2016 talk: ", ". Building from source enables cross compiling, link time optimization, cross package bug fixes, native architecture optimization, and dependency artifacts on the fly without a binary server.", "Ultimately, it would be nice to have one command to convert a repository/package(s) into artifact(s). Another tool to help get there would be to convert a package or packages into workspace.", "To answer this properly, I need to layout the workflow we usually use and the different tools we use to accomplish this.", "Here\u2019s the steps first (without details):", "This basic formula is how I start working on everything (except maybe redistributing binaries).", "\nYou can see the pattern in our from source instructions on the wiki:", "And now that list again with more notes in between:", "Ok, so that\u2019s the breadth of what we do with some details.", "\nNow I\u2019ll try to answer you directly by quoting your questions:", "I didn\u2019t see anything about plans for a new rosdep for ament.", "Though ", " does have some ROS specific capabilities, at its core is just takes dependency names, like ", " or ", ", and decides what needs to be done on a system to \u201csatisfy\u201d those as dependencies.", "\nThis is a pretty generic \u201cabstraction\u201d over the OS\u2019s package manager, and is not really ROS specific.", "\nAnd so it should work perfectly fine with ROS 2 as-is.", "That being said we have thought about improvements to ", " and dreamed of removing the the ROS specific stuff from it so that it\u2019s more generic and potentially useful to many other projects outside of ROS.", "\nSpecifically ", " worked on something called ", " while interning at OSRF, and it was meant to be the spiritual successor to ", ":", "xylem - A tool for resolving dependencies in a platform agnostic way.", "Despite his really awesome work, I\u2019ve not had the resources to capitalize on it and push for it to replace ", ".", "\nI\u2019ve always hoped we could make use of it in ROS 2, but it\u2019s really an orthogonal issue as ROS 2 could easily use ", " as well, it would just be nice to use ", "'s new hotness ", ".", "\n", " put together some extensive design documentation and the tool is really close to being ready for use.", "\nIf you\u2019re interested in tools like ", " I highly encourage anyone to have a look at his work:", "So, to answer you, we don\u2019t need a new ", " for ", ", but we\u2019d like to have one ", ".", "Based on the ROS 2 binary installations, I figure that the remote dependencies are managed by brew for Mac, Chocolatey for Windows, and apt for Ubuntu. Are there plans to have a generic tool to download these dependencies based on the package.xml like rosdep?", "Yes, we\u2019ll likely use ", ".", "\nWe are currently working on packaging some dependencies like ", " and ", " for chocolatey on Windows, and still sort of feeling out what the best thing to do there is, see:", "These aren\u2019t official, and will likely move, but for those interested in seeing what\u2019s been tried\u2026", "Unfortunately, the previous version of rosdep didn\u2019t handle downloading repositories directly.", "Actually ", " does have this ability, it\u2019s called \u201crosdep source installer\u201d (I think).", "\nThey\u2019re not used much anymore, because they\u2019re terribly difficult to maintain.", "\nThey looked something like this:", "Since then we\u2019ve deliberately chosen to avoid stuff like this and try to only use OS package managers to resolve dependencies.", "\nThe other point is that you can emulate this by creating a cmake package (or catkin/ament package) which does this \u201cfrom source build\u201d for external dependencies.", "\nWe do this some for ROS 2, for example with ", " (cmake based) because we needed it on Windows and didn\u2019t know how to package it yet, see:", "poco_vendor - CMake shim over the poco library: https://github.com/pocoproject/poco", "Basically, if it cannot find the right version of poco, then it downloads and builds it in place.", " also touched on this topic:", " (search for ", ")", "As for cross-compiling, there are entire toolchains for achieving this, like OpenEmbedded, Yocto, and others.", "\nI am not confident that is a role ", " needs to play, but we can certainly make sure to help support those patterns if we can (i.e. not get in the way).", "Ultimately, it would be nice to have one command to convert a repository/package(s) into artifact(s).", " can provide you with Debian packaging files on a per package basis, and the Debian packaging toolchain can provide you with binary artifacts.", "\nThe same is true for any packaging scheme (Fedora, Homebrew, Chocolatey), in principle.", "\nROS Answers on how to do this locally, see:", "Another tool to help get there would be to convert a package or packages into workspace.", "Not sure what you mean by that.", "\nWe have tools that will build lots of local packages into a single destination folder.", "\nWe have people using this ability to wrap up the result and distribute that, see ", "\u2019s presentation.", "\nI think these tools should continue to work for ROS 2 with little to no changes.", "Sorry for the long post, but hopefully it answered your questions.", "Thanks for the detailed article.", "It\u2019s smart to use a package manager instead of building yet another one. I looked at Conan(", ") and vcpckg(", "), but I guess they are C++ specific.", "For clarification, of that last point. I was thinking of a tool/script that takes a repository/package and builds a workspace around it. Basically, create a workspace folder with a src subfolder and move the package into the src folder. That way ament can run shortly after cloning a repository/package in an arbitrary location. It takes some time to understand the workspace structure and to know how to convert arbitrary packages into runnable nodes.", "I was thinking of a tool/script that takes a repository/package and builds a workspace around it.", "There is no tool that automates so much of the process, but there is an issue on ", " to add an option which would help you do it in a few commands:", "Basically it would be like \u201cI have some package(s) in this folder, and some things installed from binaries, please get me the list of things that are missing for me to build these package(s) I already have.\u201d", "It would be a cool contribution to extend the tool in that direction ", ".", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Generate a list of things to download, i.e. \u201cwhat do I need to download to build ", "?\u201d", "Download everything based on that list", "Install the remaining dependencies, e.g. non-ROS things like ", " and ", "\n", "Build everything, in the correct order", "Redistribute binaries", "Generate a list of things to download, i.e. \u201cwhat do I need to download to build ", "?\u201d\n", "We use ", " for this and it draws on data in the \u201crosdistro\u201d", "it generates a ", " file based on your query", "it only gets the location of things that are \u201cROS packages\u201d, i.e. things released in the rosdistro", "it does not figure out how to download things like qt or boost", "it is used in ROS 1 and will likely be used more-or-less unchanged in ROS 2", "can also answer \u201cwhat do I need to download to use ", ", minus ", " and its dependencies?\u201d\n", "you might want to do this so you can install ", " and down from binaries", "\n", "\n", "Download everything based on that list\n", "We use ", " for this (some power users use ", ", we use it in ROS 2)", "Given a ", " (or a similar list of things to go get), it can fetch all the source code", "We\u2019ll likely use both in ROS 1 and ROS 2", "\n", "Install the remaining dependencies, e.g. non-ROS things like ", " and ", "\n", "It can also install binaries for \u201cROS things\u201d if you don\u2019t intend to build them locally and there are binaries for them on the target OS.", "In ROS 1 we use ", " for this, it would install remaining dependencies", "In ROS 2 we just have instructions in the ros2 github wiki on what to install, we don\u2019t use ", " yet", "\n", "Build everything, in the correct order\n", "used to help us build software locally\n", "either to do development or", "to build for a new OS/architecture which lacks binaries", "\n", "software might be anything supported by the build tool, like:\n", "catkin or", "ament or", "cmake or", "python with ", " files", "etc\u2026", "\n", "we use mostly catkin in ROS 1 and mostly ament in ROS 2, but that doesn\u2019t really affect this part of the process", "all result in an \u201cinstall-like\u201d folder which can be used locally", "\n", "Redistribute binaries\n", "One option is to use ", " and release on ", " through rosdistro\n", "\n", " converts the contents of ", " to debian (or others like fedora) packaging files", "this happens on a per package basis (no bundling)", "\n", " uses these files to build binaries and upload them to ", "\n", "\n", "Another option is something like what ", " presented at ROSCon, which builds lots of things at once and bundles the result", "Both options should work for ROS 2, we\u2019re currently looking at any changes that would need to be made for ", " to work on ROS 2 packages (shouldn\u2019t be much)", "\n"], "url": "https://discourse.ros.org/t/downloading-dependencies/1489"},
{"title": "So many trailing underscores", "thread_contents": ["Can somebody explain to me the trailing underscore usage in the out-of-the-box IDL files? It shows at the end of \u201cmodule dds_\u201d and at the end of every struct name in the IDL. It also shows up at the end of every field in those structs. I believe this last usage can be traced to the Google coding standard, which says class fields need to use trailing underscores. While it\u2019s debatable whether the IDL specifies \u201cfields\u201d or \u201cproperties\u201d, I especially don\u2019t understand the first two usages, module and struct.", "The trailing underscore on struct names ensures that the full name is guaranteed to be a valid C++ struct name. Without the underscore depending on how the use names the message it might not be. E.g. a user might use a message which collides with a keyword. The same holds true for the fields.", "It would certainly be possible to state in the docs \u201cdon\u2019t use any C++ keywords as message/field names\u201d. But that would not be sufficient for all generated code. It would need to be \u201cdon\u2019t use any keywords from any programming language\u201d which is much more difficult to follow. (An alternative would be that the language specific generator adds trailing underscores on demand in cases where the name would collide with a keyword in that language.)", "Since the generated DDS API is only internally within the vendor specific typesupport and rmw implementation we didn\u2019t spend more time on this. For the future in my opinion ROS 2 needs to be able to interface with existing DDS types defined not by ROS. So there needs to be either a mapping from one DDS type to the ROS-specific DDS type or the ROS-specific DDS type needs to be able to use a custom (not following our convention of ", " with ", ") mapping. But neither of these topics have been address so far (and are not scheduled on the roadmap atm).", "For the ", " module I don\u2019t recall if there was a rational why it was chosen.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/so-many-trailing-underscores/1511"},
{"title": "ROS1/ROS2 Bridge Design and Performance", "thread_contents": ["We are performing some research and eventually testing to determine the effort to convert ROS1 nodes to ROS2 vs the performance of the bridge instead of porting the nodes.", "\nI\u2019ve been searching for a design description of the bridge and have not yet come up with anything.  I did find ", " paper that which describes the testing and results of various ROS1 and ROS2 communication scenarios including using the bridge.  I was wondering how the bridge is designed in order to determine how the bridge performs when there a many nodes on both side.  Can multiple bridges be instantiated (multiple processes) with higher/lower priority topics divided and distributed across the multiple bridges to sort of ensure that higher priority topics get through the bridge(s) first?  Or is it multi-threaded (guess I could dig into the code to figure that out)?  If it is multi-thread it would be nice if the QoS configuration for each topic could play into the priority of a topic being sent to a thread.", "\nSorry, if I\u2019m not clear and not using the correct ROS lingo but I\u2019m very new to ROS1 and ROS2.", "Hmm, I see in the source that there is a static bridge that I guess one could compile specifically for a topic that needs immediate passing on publishing.", "\nIn the mean time, I\u2019ll dig through dynamic bridge to find out if it is multi-threaded and how threads are allocated if it is.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros1-ros2-bridge-design-and-performance/1507"},
{"title": "Talker example issue with Beta 1", "thread_contents": ["Hi,", "\nI built the beta 1 release against RTI 5.2.5 install and tested the build with these results", "100% tests passed, 0 tests failed out of 27", "Label Time Summary:", "\ncppcheck      =   2.09 sec (8 tests)", "\ncpplint       =   7.23 sec (8 tests)", "\nlinter        =  13.45 sec (27 tests)", "\npep257        =   0.34 sec (1 test)", "\npep8          =   0.40 sec (1 test)", "\npyflakes      =   0.25 sec (1 test)", "\nuncrustify    =   3.15 sec (8 tests)", "Total Test time (real) =  13.46 sec", "I tried to run the talker example with both ./talker and the following", "./talker__rmw_connext_cpp", "\nterminate called after throwing an instance of 'std::runtime_error\u2019", "\nwhat():  could not create publisher: type support handle implementation \u2018rosidl_typesupport_cpp\u2019 (0x7fd53c4eb76d) does not match valid type supports (\u2018rosidl_typesupport_connext_cpp\u2019 (0x7fd53bca0650), \u2018connext_static_c\u2019 (0x7fd53c0a7659)), at /path/src/ros2/rmw_connext/rmw_connext_cpp/src/functions.cpp:225, at /path/src/ros2/rcl/rcl/src/rcl/publisher.c:81", "\nAborted (core dumped)", "I have an installed and working environment with alpha 8. Any thoughts?", "Thanks", "\nVince", "Have you done a clean build in a fresh workspace or iterated on a previously existing workspace?", "Hi Dirk,", "\nClean build in new workspace.", "Thanks", "\nVince", "I am not sure what the difference is . It works fine for me locally, on the CI as well as with the binary package.", "What package are these test results from? Anyway they look unrelated.", "Maybe if you describe the exact steps and post the output we can spot something different.", "What I posted was from these steps that I performed", "Since I already have alpha 8 running I created a new directory/workspace for the beta 1 source release code. I already had RTI installed, so I built against that.", "Executed the following:", "\nsrc/ament/ament_tools/scripts/ament.py build --build-tests \u2013symlink-install", "Executed the following:", "\nsrc/ament/ament_tools/scripts/ament.py test", "\nThe results of the test are above", "Executed ./talker__rmw-connext-cpp  from the /install/bin output is shown above", "Thanks", "\nVince", "You mentioned that ", " as well as ", " failed with the same error. That implies that you have somehow disabled / removed FastRTPS from the build. Otherwise ", " would be using FastRTPS. That difference could be related to the problem you are seeing and that\u2019s why it is important to post the exact steps.", "In step 3 you are running all tests on all packages. But the output you quoted is only the summary of the last processed package. For a summary across all packages you need to run ", " (optionally with ", ").", "Hi Dirk,", "I should have stated the difference", "For ./talker error message was terminate called after throwing an instance of \u2018Poco::LibraryLoadException\u2019  what():  Cannot load library", "I did install Poco", "libpoco-dev is already the newest version (1.3.6p1-5.1build1).", "\nlibpocofoundation9v5 is already the newest version (1.3.6p1-5.1build1).", "\nlibpocofoundation9v5-dbg is already the newest version (1.3.6p1-5.1build1).", "I didn\u2019t not install # dependencies for testing and  # dependencies for fastrtps", "For ./talker__rmw-connext-cpp as shown above", "Thanks for the pointer on test_results. These are the results:", "Summary: 9962 tests, 9 errors, 85 failures, 24 skipped", "Here are the list of errors", "build/demo_nodes_cpp/test_results/demo_nodes_cpp/test_tutorial_add_two_ints_server_add_two_ints_client__rmw_connext_cpp.xunit.xml: 1 tests, 0 skipped, 1 errors, 0 failures", "\nbuild/demo_nodes_cpp/test_results/demo_nodes_cpp/test_tutorial_add_two_ints_server_add_two_ints_client_async__rmw_connext_cpp.xunit.xml: 1 tests, 0 skipped, 1 errors, 0 failures", "\nbuild/demo_nodes_cpp/test_results/demo_nodes_cpp/test_tutorial_list_parameters__rmw_connext_cpp.xunit.xml: 1 tests, 0 skipped, 1 errors, 0 failures", "\nbuild/demo_nodes_cpp/test_results/demo_nodes_cpp/test_tutorial_list_parameters_async__rmw_connext_cpp.xunit.xml: 1 tests, 0 skipped, 1 errors, 0 failures", "\nbuild/demo_nodes_cpp/test_results/demo_nodes_cpp/test_tutorial_parameter_events__rmw_connext_cpp.xunit.xml: 1 tests, 0 skipped, 1 errors, 0 failures", "\nbuild/demo_nodes_cpp/test_results/demo_nodes_cpp/test_tutorial_parameter_events_async__rmw_connext_cpp.xunit.xml: 1 tests, 0 skipped, 1 errors, 0 failures", "\nbuild/demo_nodes_cpp/test_results/demo_nodes_cpp/test_tutorial_set_and_get_parameters__rmw_connext_cpp.xunit.xml: 1 tests, 0 skipped, 1 errors, 0 failures", "\nbuild/demo_nodes_cpp/test_results/demo_nodes_cpp/test_tutorial_set_and_get_parameters_async__rmw_connext_cpp.xunit.xml: 1 tests, 0 skipped, 1 errors, 0 failures", "\nbuild/demo_nodes_cpp/test_results/demo_nodes_cpp/test_tutorial_talker_listener__rmw_connext_cpp.xunit.xml: 1 tests, 0 skipped, 1 errors, 0 failures", "Most of the failures were related to the", "build/intra_process_demo/test_results/intra_process_demo/test_demo_cyclic_pipeline__rmw_connext_cpp.xunit.xml: 1 tests, 0 skipped, 0 errors, 1 failures", "\nbuild/osrf_pycommon/test_results/osrf_pycommon/nosetests.xunit.xml: 32 tests, 0 skipped, 0 errors, 1 failures", "\nbuild/pendulum_control/test_results/pendulum_control/test_demo_pendulum_teleop__rmw_connext_cpp.xunit.xml: 1 tests, 0 skipped, 0 errors, 1 failures", "\nbuild/test_communication/test_results/test_communication/test_publisher_subscriber__BoundedArrayNested__rclcpp__rclpy__rmw_connext_cpp__rmw_fastrtps_cpp.xunit.xml: 1 tests, 0 skipped, 0 errors, 1 failures", "To (Most of the failure cases are here)", "build/test_communication/test_results/test_communication/test_publisher_subscriber__StaticArrayPrimitives__rclpy__rmw_fastrtps_cpp__rmw_connext_cpp.xunit.xml: 1 tests, 0 skipped, 0 errors, 1 failures", "build/test_communication/test_results/test_communication/test_requester_replier__Primitives__rclcpp__rclpy__rmw_fastrtps_cpp.xunit.xml: 1 tests, 0 skipped, 0 errors, 1 failures", "\nbuild/test_communication/test_results/test_communication/test_requester_replier__Primitives__rclpy__rmw_fastrtps_cpp.xunit.xml: 1 tests, 0 skipped, 0 errors, 1 failures", "Thanks", "\nVince", "Maybe figuring out the reason why the ", " fails helps in determining the cause for the ", ".", "I assume you have sourced the ", " file before trying to run any of the binaries?", "Can you test which library poco is failing to load. E.g. run the ", " within ", " and print the ", ".", "Hi Dirk,", "\nYes, I have sourced the local_setup.bash. I have secured another HD and will try a clean install. Will also try the figure out why poco lib isn\u2019t being found.", "Thanks", "\nVince", "Hi Dirk,", "\nI tried a clean install on new HDD and machine.", "src/ament/ament_tools/scripts/ament.py test_results", "\nbuild/osrf_pycommon/test_results/osrf_pycommon/nosetests.xunit.xml: 32 tests, 0 skipped, 0 errors, 1 failures", "\nbuild/pendulum_control/test_results/pendulum_control/test_demo_pendulum__rmw_connext_cpp.xunit.xml: 1 tests, 0 skipped, 1 errors, 0 failures", "\nSummary: 9962 tests, 1 errors, 1 failures, 24 skipped", "Also tried to run", "\n./talker", "\nterminate called after throwing an instance of 'std::runtime_error\u2019", "\nwhat():  could not create publisher: type support not from this implementation, at /path/src/ros2/rmw_fastrtps/rmw_fastrtps_cpp/src/functions.cpp:782, at /path/src/ros2/rcl/rcl/src/rcl/publisher.c:81", "\nAborted (core dumped)", "ran it with gdb turned on:", "Starting program: /path/install/bin/talker", "\n[Thread debugging using libthread_db enabled]", "\nUsing host libthread_db library \u201c/lib/x86_64-linux-gnu/libthread_db.so.1\u201d.", "\n[New Thread 0x7ffff3ed9700 (LWP 25894)]", "\n[New Thread 0x7ffff36d8700 (LWP 25895)]", "\n[New Thread 0x7ffff2ed7700 (LWP 25896)]", "\n[New Thread 0x7ffff26d6700 (LWP 25897)]", "\n[New Thread 0x7ffff1ed5700 (LWP 25898)]", "\n[New Thread 0x7ffff16d4700 (LWP 25899)]", "\n[New Thread 0x7ffff0ed3700 (LWP 25900)]", "\nterminate called after throwing an instance of 'std::runtime_error\u2019", "\nwhat():  could not create publisher: type support not from this implementation, at /path/src/ros2/rmw_fastrtps/rmw_fastrtps_cpp/src/functions.cpp:782, at /path/src/ros2/rcl/rcl/src/rcl/publisher.c:81", "Thread 1 \u201ctalker\u201d received signal SIGABRT, Aborted.", "\n0x00007ffff6882428 in __GI_raise (sig=sig@entry=6)", "\nat \u2026/sysdeps/unix/sysv/linux/raise.c:54", "\n54      \u2026/sysdeps/unix/sysv/linux/raise.c: No such file or directory.", "\n(gdb) exit", "Also tried", "./talker__rmw_connext_cpp", "\nterminate called after throwing an instance of 'std::runtime_error\u2019", "\nwhat():  could not create publisher: type support handle implementation \u2018rosidl_typesupport_cpp\u2019 (0x7fa59d40a76d) does not match valid type supports (\u2018rosidl_typesupport_connext_cpp\u2019 (0x7fa59cbbf650), \u2018connext_static_c\u2019 (0x7fa59cfc6659)), at /path/src/ros2/rmw_connext/rmw_connext_cpp/src/functions.cpp:225, at /path/src/ros2/rcl/rcl/src/rcl/publisher.c:81", "\nAborted (core dumped)", "With gdb turned on", "alker__rmw_connext_cpp", "\n[Thread debugging using libthread_db enabled]", "\nUsing host libthread_db library \u201c/lib/x86_64-linux-gnu/libthread_db.so.1\u201d.", "\n[New Thread 0x7ffff34a1700 (LWP 25959)]", "\n[New Thread 0x7ffff2ca0700 (LWP 25960)]", "\n[New Thread 0x7ffff2205700 (LWP 25961)]", "\n[New Thread 0x7ffff1a04700 (LWP 25962)]", "\n[New Thread 0x7ffff1203700 (LWP 25963)]", "\n[New Thread 0x7ffff0a02700 (LWP 25964)]", "\n[New Thread 0x7fffe3fff700 (LWP 25965)]", "\n[New Thread 0x7fffe37fe700 (LWP 25966)]", "\nterminate called after throwing an instance of 'std::runtime_error\u2019", "\nwhat():  could not create publisher: type support handle implementation \u2018rosidl_typesupport_cpp\u2019 (0x7ffff44d376d) does not match valid type supports (\u2018rosidl_typesupport_connext_cpp\u2019 (0x7ffff3c88650), \u2018connext_static_c\u2019 (0x7ffff408f659)), at /path/src/ros2/rmw_connext/rmw_connext_cpp/src/functions.cpp:225, at /path/src/ros2/rcl/rcl/src/rcl/publisher.c:81", "Thread 1 \u201ctalker__rmw_con\u201d received signal SIGABRT, Aborted.", "\n0x00007ffff5457428 in __GI_raise (sig=sig@entry=6) at \u2026/sysdeps/unix/sysv/linux/raise.c:54", "\n54      \u2026/sysdeps/unix/sysv/linux/raise.c: No such file or directory.", "\n(gdb) quit", "Thanks", "\nVince", "The type support for C++ has been heavily refactored before the beta 1. So that might be related. On the other hand it passes all unit tests and works for me (and others) just fine.", "The two locations where the exception is thrown are: ", " and ", "In order to figure out what is wrong can you please debug a few local variables in ", ":", "I haven\u2019t tried the following line but something like this:", "Hi Dirk,", "\nResults:", "Machine ", "Program", "./talker", "\nbreak /path/src/ros2/rmw_fastrtps/rmw_fastrtps_cpp/src/functions.cpp:782", "Results from commands", "(gdb) print type_supports", "\n$3 = (const rosidl_message_type_support_t *) 0x7ffff684c0b0 <rcl_interfaces::msg::rosidl_typesupport_cpp::ParameterEvent_message_type_support_handle>", "(gdb) print type_supports.typesupport_identifier", "\n$4 = 0x7ffff5cb476d \u201crosidl_typesupport_cpp\u201d", "(gdb) print type_supports.data", "\n$5 = (const void *) 0x7ffff684b5e0 <rcl_interfaces::msg::rosidl_typesupport_cpp::_ParameterEvent_message_typesupport_map>", "(gdb) print type_supports.func", "\n$6 = (rosidl_message_typesupport_handle_function) 0x7ffff5cb3040 <rosidl_typesupport_cpp::get_message_typesupport_handle_function(rosidl_message_type_support_t const*, char const*)>", "(gdb) print (type_support_map_t *)(type_supports.data)", "\n$7 = (type_support_map_t *) 0x7ffff684b5e0 <rcl_interfaces::msg::rosidl_typesupport_cpp::_ParameterEvent_message_typesupport_map>", "(gdb) print ((type_support_map_t *)(type_supports.data)).size", "\n$8 = 2", "(gdb) print ((type_support_map_t *)(type_supports.data)).package_name", "\n$9 = 0x7ffff664853b \u201crcl_interfaces\u201d", "(gdb) print ((type_support_map_t *)(type_supports.data)).typesupport_identifier[0]", "\n$10 = 0x7ffff6648420 \u201crosidl_typesupport_connext_cpp\u201d", "Program:", "./talker__rmw_connext_cpp", "break /path/src/ros2/rmw_connext/rmw_connext_cpp/src/functions.cpp:225", "Results from commands", "(gdb) print type_supports", "\n$1 = (const rosidl_message_type_support_t *) 0x7ffff50360b0 <rcl_interfaces::msg::rosidl_typesupport_cpp::ParameterEvent_message_type_support_handle>", "(gdb) print type_supports.typesupport_identifier", "\n$2 = 0x7ffff40e876d \u201crosidl_typesupport_cpp\u201d", "(gdb) print type_supports.data", "\n$3 = (const void *) 0x7ffff50355e0 <rcl_interfaces::msg::rosidl_typesupport_cpp::_ParameterEvent_message_typesupport_map>", "(gdb) print type_supports.func", "\n$4 = (rosidl_message_typesupport_handle_function) 0x7ffff40e7040 <rosidl_typesupport_cpp::get_message_typesupport_handle_function(rosidl_message_type_support_t const*, char const*)>", "(gdb) print (type_support_map_t *)(type_supports.data)", "\n$5 = (type_support_map_t *) 0x7ffff50355e0 <rcl_interfaces::msg::rosidl_typesupport_cpp::_ParameterEvent_message_typesupport_map>", "(gdb) print ((type_support_map_t *)(type_supports.data)).size", "\n$6 = 2", "(gdb) print ((type_support_map_t *)(type_supports.data)).package_name", "\n$7 = 0x7ffff4e3253b \u201crcl_interfaces\u201d", "(gdb) print ((type_support_map_t *)(type_supports.data)).typesupport_identifier[0]", "\n$8 = 0x7ffff4e32420 \u201crosidl_typesupport_connext_cpp\u201d", "I\u2019ll try to capture the same on other machine", "Thanks", "\nVince", "Since the size is ", " can you please also output ", ". But I assume it will be ", " since everything else looks consistent and correct.", "./talker", "\n(gdb) print ((type_support_map_t *)(type_supports.data)).typesupport_identifier[1]", "\n$1 = 0x7ffff6648440 \u201crosidl_typesupport_introspection_cpp\u201d", "./talker__rmw_connext_cpp", "\nprint ((type_support_map_t *)(type_supports.data)).typesupport_identifier[1]", "\n$9 = 0x7ffff4e32440 \u201crosidl_typesupport_introspection_cpp\u201d", "Thanks", "\nVince", "The meta typesupport ", " is being used correctly and contains both typesupports: ", " as well as ", ". I don\u2019t see why both rmw implementations can\u2019t extract their matching typesupport.", "Reviewing the conversation you mentioned that you have sourced the setup file after building the workspace but your steps above don\u2019t include that (", "). Can you please post the ", " from the shell you run the talker from.", "I am sorry. I don\u2019t know what else to debug.", "Hi Dirk,", "\nI\u2019ve tried local_setup.bash also with same result", "path/install$./setup.sh", "\npath/install$ cd bin", "\npath/install/bin$ echo $LD_LIBRARY_PATH", "\n/opt/rti_connext_dds-5.2.5/lib:/opt/rti_connext_dds-5.2.5/lib/x64Linux3.xgcc4.6.3:/opt/rti_connext_dds-5.2.5/lib/java", "\npath/install/bin$ ./talker", "\nterminate called after throwing an instance of 'std::runtime_error\u2019", "\nwhat():  could not create publisher: type support not from this implementation, at path/src/ros2/rmw_fastrtps/rmw_fastrtps_cpp/src/functions.cpp:782, at path/src/ros2/rcl/rcl/src/rcl/publisher.c:81", "\nAborted (core dumped)", "Thanks", "\nVince", "The ", " should contains the ", " folder from the install space of the workspace. That seems to be missing and that could be the reason why the typesupport libraries are not found.", "Please make sure to source ", " and check that ", " is in the ", " afterwards.", "Hi Dirk,", "\nlocal_setup.bash wasn\u2019t setting the install/lib, but hard coded it into bash startup script and things are working. Thanks for you help.", "Thanks", "\nVince", "I am glad we found a workaround. It would be good to find the actual problem though. Can you please set ", " before sourcing the ", " file. That should output a long list tracing which files are being sourced. Maybe that sheds some light into why the variable isn\u2019t being set for you. (You are using ", ", right?)", "Hi Dirk,", "\nYes, on bash.", "$ ./local_setup.bash", "\n. \u201c/path/install/local_setup.sh\u201d", "\n. \u201c/path/install/share/*\u201d", "Since there is a cap on size to post, I\u2019ll state that all files under the share directory were included in the output. The * is sub directories above.", "Thanks", "\nVince", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "print type_supports", "print type_supports.typesupport_identifier", "print type_supports.data", "print type_supports.func", "print (type_support_map_t *)(type_supports.data)", "print ((type_support_map_t *)(type_supports.data)).size", "print ((type_support_map_t *)(type_supports.data)).package_name", "print ((type_support_map_t *)(type_supports.data)).typesupport_identifier[0]", "print type_supports", "print type_supports.typesupport_identifier", "print type_supports.data", "print type_supports.func", "print (type_support_map_t *)(type_supports.data)", "print ((type_support_map_t *)(type_supports.data)).size", "print ((type_support_map_t *)(type_supports.data)).package_name", "print ((type_support_map_t *)(type_supports.data)).typesupport_identifier[0]"], "url": "https://discourse.ros.org/t/talker-example-issue-with-beta-1/992"},
{"title": "Looking for Input on Proposal for Remapping Names in ROS 2", "thread_contents": [" is a proposal for name remapping in ROS 2. Feedback on it or ideas about remapping would be appreciated. Please do so by commenting on the document at ", ".", "Cheers!", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/looking-for-input-on-proposal-for-remapping-names-in-ros-2/1589"},
{"title": "Help to implement an other RMW", "thread_contents": ["This post is following ", ".", "Thank you for your answer, ", "I understand better. But I have an other question.", "If for example I want to receive a message of type ", ", does it implies that the parameter ", " of ", ", which is a ", " should be casted in ", " ? (I tried so, and the ", " worked)", "Does it mean that if an example is written in an other language (C, for example), it should be casted into ", " ? How do rmw manages that ?", "I guess all this should be handled by \u201crosidl typesupport things\u201d, but since it is generated, I have a hard time to understand what happens there.", "If for example I want to receive a message of type std_msgs::msg::String, does it implies that the parameter ros_message of rwm_take, which is a void* should be casted in std_msgs::msg::String ? (I tried so, and the c++ listener example worked)", "Yes. The type you need to pass to ", " and ", " is determined by the ", " structure you give when creating the ", " or ", ".", "For messages in C, there is a macro ", " which when given a message type as arguments will resolve to a C function name:", "In C++, the same thing is done, but using a template instead of a macro to get the specialized function name:", "In either case the resulting function name/namespace encapsulates:", "This function will return a ", " structure which is tailored to that combination.", "The \u201ctypesupport system\u201d is basically a way to select one of a few typesupport implementations. Some are specific to a particular DDS vendor, like ", " for C", "\nor ", " for C++, but other implementations (like Fast-RTPS) use a general type support implementation called ", "\nfor C or ", " for C++.", "These different implementations of typesupport essentially determine how serialization occurs, but can be responsible for other things as well.", "The message package and name uniquely identify the message, so the same type support structure cannot be used for ", " and ", ". You need a unique one for each message type. This is typically ok, since publishers and subscriptions only work with one type at a time (at least for now).", "Finally, the rosidl structure is unique to the native language for the message type. I use the term native language because a C client library and the Python client library might both use the C type support system. We have a specialized C++ type support system so we don\u2019t have to use the C message structures directly in C++ and so that we don\u2019t have to convert C++ message structures to C at any point. Practically it means that if you, for example, create a ", " of type ", " using the ", " structure for C, then you can only publish ", " with it and you cannot publish messages of the C++ type ", ".", "I know that seems complicated, but it\u2019s the most straightforward way we have found to delegate serialization of custom types. DDS uses a very similar system for separating message type agnostic code from the message specific code.", "Unfortunately the C code requires us to lose type safety when calling ", ", for example. Nothing stops you from creating a publisher for one type but passing a different type into the ", " argument of ", " except that we say it\u2019s undefined behavior.", "In C++, however, we\u2019re able to use templates and RTTI to enforce the types match, at least. We\u2019re even able to enforce this at compile time in some cases.", "Hopefully that gives you (and others that come across this) a basic understanding of the moving parts are and why they exist.", "Does it mean that if an example is written in an other language (C, for example), it should be casted into std_msgs__msg__String ? How do rmw manages that ?", "As I described above, if you want to use C++ message types, then you need to specify that when creating the publisher or subscription. If you have a C message type, but the publisher is C++, then you\u2019d need to convert (i.e. copy not cast) the C data structure to a C++ one first.", "Thanks for your detailed answer !", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["#define ROSIDL_GET_MSG_TYPE_SUPPORT(PkgName, MsgSubfolder, MsgName) \\", "ROSIDL_TYPESUPPORT_INTERFACE__MESSAGE_SYMBOL_NAME( \\", "  rosidl_typesupport_c, PkgName, MsgSubfolder, MsgName)()", "template<typename T>", "const rosidl_message_type_support_t * get_message_type_support_handle();", "The typesupport system", "The message package", "The message name", "The native language (C or C++)"], "url": "https://discourse.ros.org/t/help-to-implement-an-other-rmw/1639"},
{"title": "Talker example on macOS failed.(ROS2)", "thread_contents": ["I just followed through the installation tutorials and installed ROS2 on my mac. (Version 10.12.4).", "\nAfter type in the following command in terminal:", ". ~/ros2_install/ros2-osx/setup.bash", "\ntalker", "It just gives back an error like this:", "dyld: Library not loaded: /usr/local/opt/pcre/lib/libpcre.1.dylib", "\nReferenced from: /Users/lander14/ros2_install/ros2-osx/lib/libPocoFoundation.46.dylib", "\nReason: image not found", "\nAbort trap: 6", "Can someone help me please?", "Would you mind giving me a few more details about your installation? Did you install from source or binary?", "Then further, can you verify that you installed poco and pcre correctly from homebrew?", "\nOn my machine this looks similar to:", "Hi,", "\nI installed the Binary packages. And because I\u2019m very new to ROS2, I followed strictly as the website told me to( ", " ).", "\nDuring the process, I didn\u2019t encounter anything as poco or pcre.", " can you try running ", " to see if that resolves your issue. If so I\u2019ll update the install instructions for OS X that you linked to above.", "Thanks.", "Actually, my previous comment doesn\u2019t make anysense. Please ignore it.", "Actually it looks like you\u2019d need to do ", ". If that command resolves your issue we\u2019ll put that in the instructions. You should not, however, need to have ", " installed from Homebrew for the binary to work.", "Sorry for the confusion.", "Yes, it worked after installed ", "\nThank you very much!", "Cool, I updated the wiki pages.", "For anyone interested, this seems to be an optional dependency of poco which it will pick up if installed from Homebrew. I was getting installed as a dependency of ", " which we have in our \u201cdevelopment\u201d or \u201cfrom source\u201d instruction, but not in our binary install instruction.", " thanks for pointing it out for us.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/talker-example-on-macos-failed-ros2/1649"},
{"title": "Ros2 LifecycleNode memory corruption issues", "thread_contents": ["We are experimenting with ROS2 and the LifecycleNode and started to observe crashes in our code. When we use regular nodes everything seems to be working fine. I tried to use valgrind to see what might be happening and indeed there are many warnings coming out from the tool (see some of the stuff below).", "I guess my question is - in what shape is the lifecycle package and are you guys aware of these problems?", "Thanks ", "Invalid write of size 2", "\n==4948==    at 0x4C32723: memcpy@", " (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)", "\n==4948==    by 0x7009998: concatenate (in /home/breh/ros2_ws/build/rcl_lifecycle/librcl_lifecycle.so)", "\n==4948==    by 0x7009B68: rcl_lifecycle_com_interface_init (in /home/breh/ros2_ws/build/rcl_lifecycle/librcl_lifecycle.so)", "\n==4948==    by 0x700A8AC: rcl_lifecycle_state_machine_init (in /home/breh/ros2_ws/build/rcl_lifecycle/librcl_lifecycle.so)", "\n==4948==    by 0x5AF59F7: rclcpp_lifecycle::LifecycleNode::LifecycleNodeInterfaceImpl::init() (in /home/breh/ros2_ws/build/rclcpp_lifecycle/librclcpp_lifecycle.so)", "\n==4948==    by 0x5AF3CDF: rclcpp_lifecycle::LifecycleNode::LifecycleNode(std::__cxx11::basic_string<char, std::char_traits, std::allocator > const&, std::shared_ptr", ", bool) (in /home/breh/ros2_ws/build/rclcpp_lifecycle/librclcpp_lifecycle.so)", "\n==4948==    by 0x5AF3985: rclcpp_lifecycle::LifecycleNode::LifecycleNode(std::__cxx11::basic_string<char, std::char_traits, std::allocator > const&, bool) (in /home/breh/ros2_ws/build/rclcpp_lifecycle/librclcpp_lifecycle.so)", "\n==4948==    by 0x40B4D1: LifecycleTalker::LifecycleTalker(std::__cxx11::basic_string<char, std::char_traits, std::allocator > const&, bool) (in /home/breh/ros2_overlay_ws/install/bin/lifecycle_talker)", "\n==4948==    by 0x413E62: ", " (in /home/breh/ros2_overlay_ws/install/bin/lifecycle_talker)", "\n==4948==    by 0x413437: ", " (in /home/breh/ros2_overlay_ws/install/bin/lifecycle_talker)", "\n==4948==    by 0x412855: std::_Sp_counted_ptr_inplace<LifecycleTalker, std::allocator, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<char const (&) [10]>(std::allocator, char const (&) [10]) (in /home/breh/ros2_overlay_ws/install/bin/lifecycle_talker)", "\n==4948==    by 0x4115B6: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<LifecycleTalker, std::allocator, char const (&) [10]>(std::_Sp_make_shared_tag, LifecycleTalker*, std::allocator const&, char const (&) [10]) (in /home/breh/ros2_overlay_ws/install/bin/lifecycle_talker)", "\n==4948==  Address 0xe620f3a is 26 bytes inside a block of size 27 alloc\u2019d", "\n==4948==    at 0x4C2DB8F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)", "\n==4948==    by 0x7009946: concatenate (in /home/breh/ros2_ws/build/rcl_lifecycle/librcl_lifecycle.so)", "\n==4948==    by 0x7009B68: rcl_lifecycle_com_interface_init (in /home/breh/ros2_ws/build/rcl_lifecycle/librcl_lifecycle.so)", "\n==4948==    by 0x700A8AC: rcl_lifecycle_state_machine_init (in /home/breh/ros2_ws/build/rcl_lifecycle/librcl_lifecycle.so)", "\n==4948==    by 0x5AF59F7: rclcpp_lifecycle::LifecycleNode::LifecycleNodeInterfaceImpl::init() (in /home/breh/ros2_ws/build/rclcpp_lifecycle/librclcpp_lifecycle.so)", "\n==4948==    by 0x5AF3CDF: rclcpp_lifecycle::LifecycleNode::LifecycleNode(std::__cxx11::basic_string<char, std::char_traits, std::allocator > const&, std::shared_ptr", ", bool) (in /home/breh/ros2_ws/build/rclcpp_lifecycle/librclcpp_lifecycle.so)", "\n==4948==    by 0x5AF3985: rclcpp_lifecycle::LifecycleNode::LifecycleNode(std::__cxx11::basic_string<char, std::char_traits, std::allocator > const&, bool) (in /home/breh/ros2_ws/build/rclcpp_lifecycle/librclcpp_lifecycle.so)", "\n==4948==    by 0x40B4D1: LifecycleTalker::LifecycleTalker(std::__cxx11::basic_string<char, std::char_traits, std::allocator > const&, bool) (in /home/breh/ros2_overlay_ws/install/bin/lifecycle_talker)", "\n==4948==    by 0x413E62: ", " (in /home/breh/ros2_overlay_ws/install/bin/lifecycle_talker)", "\n==4948==    by 0x413437: ", " (in /home/breh/ros2_overlay_ws/install/bin/lifecycle_talker)", "\n==4948==    by 0x412855: std::_Sp_counted_ptr_inplace<LifecycleTalker, std::allocator, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<char const (&) [10]>(std::allocator, char const (&) [10]) (in /home/breh/ros2_overlay_ws/install/bin/lifecycle_talker)", "\n==4948==    by 0x4115B6: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<LifecycleTalker, std::allocator, char const (&) [10]>(std::_Sp_make_shared_tag, LifecycleTalker*, std::allocator const&, char const (&) [10]) (in /home/breh/ros2_overlay_ws/install/bin/lifecycle_talker)", "Sorry to hear you encounter issues with it and thanks for bringing that issue forward. The state of the package is pretty much as it was by the end of 2016 for beta1. There was not major development since then.", "I can\u2019t reproduce your error locally on my machine, the tutorial runs as expected. Can you provide me a few more details:", "We are currently refactoring our allocators in ROS2, and given the backtrace, it looks like the lifecycle implementation does use plain malloc. I\u2019ll open a github issue on that.", "I build ROS 2 beta 1 from sources. Running it on Linux ubuntu16-vb 4.8.0-41-generic #44~16.04.1-Ubuntu SMP Fri Mar 3 17:11:16 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux", "The tutorials work, don\u2019t get me wrong, but after seeing some serious crashes in our code, I tried to check the samples with valgrind to see what is happening. Running  \u201cvalgrind ./lifecycle_talker\u201d always gives me many warnings like that, so I suspect there some issues with the lifecycle code. Running valgrind with some other tutorials not using lifecycle nodes seems to be relatively fine (besides a couple of mem leaks).", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Are you running the beta1 tutorial?", "Which DDS implementation?", "And which ROS2 version? Beta1 binary or master checkout?", "Can you easily reproduce? Is it a consistent behavior?"], "url": "https://discourse.ros.org/t/ros2-lifecyclenode-memory-corruption-issues/1666"},
{"title": "Of clocks and simulation, betimes and otherwise", "thread_contents": ["I wish to make some commentary and discussion on this article: ", "First, it appears that there has as yet been no attempt to support non-wall-clock time (er, simulator or playback time) in ROS2. True? It appears that rcl/time.c has some support for that, but I can\u2019t see that this support is exposed in rclcpp::Time. Is there something I missed there or is anyone working on a newer use_sim_time? I feel a little bit late to the party. Sorry.", "At ASI we\u2019ve worked around this by publishing our own clock signal at high frequency, but I feel like arbitrary clock support needs to be built into the core framework. I believe that non-realtime playback is a critical feature because I believe simulation and playback should work out of the box.", "In addition to simulation, though, there is a need to support hardware platforms that don\u2019t have (wall) clock chips. This is not mentioned in the design document. Although rare, there still exists plenty of embedded processor boards without clocks or batteries. On the other hand, there aren\u2019t any remaining embedded devices without runtime frequency counters. I think we\u2019re safe to assume that all platforms have timers accurate to the millisecond, and that 99% of the platforms have timers accurate to the microsecond.", "I want to discuss a few options for the /clock topic:", "A \u201csteady clock publisher\u201d or simulator would publish this value at high frequency. Use the most recent value if you get it (or fallback to wall clock time otherwise) for any timestamps on messages published. Rely on NTP to synchronize networked nodes\u2019 wall clock sources. This is what is proposed in the design doc.", "We keep the /clock message, but it includes more than a timestamp. It would also include a realtime multiplier. It would be published as frequently as the realtime multiplier changed.", "The clock message would have a uptime offset and a multiplier but no timestamp.", "Assume all nodes have synchronized realtime clocks. Send out the realtime multiplier and the wall clock offset.", "The timestamp in the message header would include information about its source, epoch, realtime scale, and futurity.", "Concerning more sophisticated clock message schemes, the design document states that \u201call of these techniques will require making assumptions about the future behavior of the time abstraction. And in the case that playback or simulation is instantaneously paused, it will break any of these assumptions.\u201d I don\u2019t believe that to be entirely true. There will be some propagation delay of a \u201cpause\u201d in any situation. I\u2019ve also pondered some other IPC mechanisms for synchronizing clocks between processes, but I think I would disfavor all of them as being too platform-specific.", "For ", ", what publishing frequency is enough? Can we really go at 1000Hz? We aren\u2019t running typically on RTOS platforms, and even for an RTOS that\u2019s a hard constraint to meet. I think 200Hz is more realistic. Going much faster than that will just fill up the loopback buffer with multiple clock messages that never see the light of day. It turns into a waste of CPU and networking resources. The cartographer (or other mapper) utilizes the difference in time between IMU readings and laser scans. This is a critical part of the algorithm. Do we really want that rounded to the nearest millisecond (or 5ms)? Even a single millisecond may be too long for a high-speed robot.", "Option ", " allows us to publish the clock less frequently. It also allows (requires) us to utilize our onboard timer. We start the timer whenever we receive a clock message. Anything we publish gets timestamped with last_timestamp + timer * realtime_multiplier.", "For ", ", I can\u2019t guarantee that all nodes have the same system uptime, but it seems common in simulation.", "Option ", " doesn\u2019t meet the requirement to support a platform without a clock. However, it may be handy for rosbag replay if you are using real timestamps. Those are helpful for video synchronization.", "Option ", " is more sophisticated. The output timestamp on any published message would typically be derived from the input timestamps on data that went in to that calculation. Sensors would still need access to a real or simulated clock. However, transformer nodes would need no external clock. Transformer nodes would need to throw an exception if the timestamps on their input were too disparate. Tools to make these calculations easier would need to be included in the library.", "We have traditionally shied away from automatically adding message subscriptions behind the scenes, but is that where we want to go on the clock? And do we have some other general node coordination data that should be part of the magic-message-subscribed-to-behind-the-scenes? Something like a machine ID and a wall clock timestamp so that the message delay could be estimated?", "Thoughts? Progress? Do we have a list of out-of-the-box nodes that need this work?", "As a precursor, I am definitely not an expert in the field. Also I\u2019m not 100% versed on ROS2, so some of this may be off.", "For the end goal, I think a good aim would be a local node that runs in the background and serves out time requests to other nodes as they request then (similar to how roscore is launched if it isn\u2019t running when using roslaunch). If this node is not running, then any other given node should interface with the system wall clock.", "If the clock node is run, then it should publish to a clock topic. If a clock topic is already published, then the clock node should subscribe and run time calculations based off of the topic. This could also allow for a clock node to be run on multiple machines, and allow them to semi-transparently sync to a common node (step time forward to the message most in the future by default?).", "As for the message itself, I think that a default rate of 1Hz should cover enough for most uses. When a system connects to another, there will have to be some ping exchange to make sure the network delay is accounted for (and maybe the clock nodes should do this every so often to keep calculating delay). If it is set up well, then it should be quite accurate at low frequencies, but it also should inherently allow much higher frequencies (perhaps 1000Hz might be overkill in most applications simply due to flooding the link?).", "An approach for the clock nodes to use should follow something like ntp, and I feel that most of the diagnostic info shown in things like chrony (", ") would be key in allowing the clock skew and frequency skew be automatically calculated by the clock node.", "I think having a multiplier set in the message would be a good call, as it would allow systems with conflicting expectations to reject sync messages (sure this adds more configuration, but it ensures your system is all on the same page). This would also allow you to run a stand-alone system in slower or faster time easily by specifying such parameters in the launch file.", "Another advantage is that for systems that my disconnect and then reconnect, a system like this could allow for a graceful handover in those moments without disrupting each individual local ROS clock node.", "Another improvement may be to allow a \u201ctime-since-node-start\u201d (rather than just the current ros::Time() wall time) function to allow nodes that rely on difference in time for loop control to not panic as time syncs externally. Could also allow for ROS_INFO to log with the synced wall time while the node runs on its own \u201cclock\u201d for relative time calculations.", "Hopefully that makes enough sense to be useful for you!", "The other thing I needed to mention about the time message that has to change: two fields for the timestamp. Two fields \u2013 really? Is there some advantage to it? A single 64bit nanosecond value would be infinitely more handy in my mind. I can read and write that atomically with no extra work on my common x64 platforms. I\u2019ve had to resort to std:atomic for the current time message just so I don\u2019t accidentally read a nanosec value with the wrong sec value. It\u2019s not pretty.", "x64 platforms are increasingly common, but an explicit use case for ROS2 is small, embedded microprocessors that are not 64 bits.", "It would seem that rclcpp::Time::now() \u2013 a static method \u2013 would not be what we want if that method is built from subscribed data. Instead, it would need to live on node. You would call a node instance method to get the current time, which time would be computed or pulled from the system clock if there is nothing to compute the time from. That way, the node could subscribe for whatever global messages it wants to behind the scenes.", "Thanks for the suggestion. For those of you who haven\u2019t seen it ", " put together a PR for  the ROS2 Time design document.", "If you\u2019re interested in this topic I\u2019ve replied in detail at: ", "At a high level I don\u2019t think that we want to overload the simulation ", " abstraction to support system time synchronization as well. Clock synchronization is something that is quite specialized and there are many mature mechanisms for doing that already. We don\u2019t want to have to provide our own implementation when we can leverage existing technologies such as Network Time Protocol.", "For the use case of a system that starts without a system clock. It\u2019s relatively straight forward to have it run ntpdate or chrony on startup to get it to the right system time.", "Sorry it has taken so long for me to reply here, but I just wanted to make some short replies to help connect different parts of the discussion.", "First, it appears that there has as yet been no attempt to support non-wall-clock time (er, simulator or playback time) in ROS2. True? It appears that rcl/time.c has some support for that, but I can\u2019t see that this support is exposed in rclcpp::Time. Is there something I missed there or is anyone working on a newer use_sim_time? I feel a little bit late to the party. Sorry.", "No you\u2019re right about that. We\u2019ve thought about it enough to start the design doc and to implement the parts we believe are necessary to support ROS 1 style sim time in rcl\u2019s C code, but we\u2019ve stopped short of implementing ROS 1 style sim time (using a ", " topic) or exposing it in C++ and making an example to demonstrate how it would work.", "At ASI we\u2019ve worked around this by publishing our own clock signal at high frequency, but I feel like arbitrary clock support needs to be built into the core framework. I believe that non-realtime playback is a critical feature because I believe simulation and playback should work out of the box.", "I agree, this is a crucial feature in ROS 1 and I think we need it in the core of ROS 2 as well.", "In addition to simulation, though, there is a need to support hardware platforms that don\u2019t have (wall) clock chips. This is not mentioned in the design document. Although rare, there still exists plenty of embedded processor boards without clocks or batteries. On the other hand, there aren\u2019t any remaining embedded devices without runtime frequency counters. I think we\u2019re safe to assume that all platforms have timers accurate to the millisecond, and that 99% of the platforms have timers accurate to the microsecond.", "Your right, and thanks for starting to discuss this related topic there (", " already referenced it too): ", "I think we can continue to discuss the options for ", " (or a similarly named topic) in that pr.", "There\u2019s a lot more to comment on ", "\u2019s original post , but I\u2019ll get back to that in another post or on the reference pr.", "The other thing I needed to mention about the time message that has to change: two fields for the timestamp. Two fields \u2013 really? Is there some advantage to it? A single 64bit nanosecond value would be infinitely more handy in my mind. I can read and write that atomically with no extra work on my common x64 platforms. I\u2019ve had to resort to std:atomic for the current time message just so I don\u2019t accidentally read a nanosec value with the wrong sec value. It\u2019s not pretty.", "I agree with you.", "If you look in the implementation of time in rcl it uses a single ", " to store nanoseconds for a time point and a single ", " to store nanoseconds for a duration. I did this after much research and talking with a few people at OSRF.", "I did not, however, get the chance to write down all the justifications so that I could argue that the time message be switched from the current system of two 32-bit ints to a single 64-bit int. There are some trade-offs, but I think it\u2019s a good path forward. Unfortunately there would be a lot of inertia to overcome when changing this, because changing the time layout would affect lots and lots of code in ROS 1 I think. This isn\u2019t a reason in itself not to do it, but it does mean we need to be sure it is necessary and properly justify it and provide decent migration options.", "x64 platforms are increasingly common, but an explicit use case for ROS2 is small, embedded microprocessors that are not 64 bits.", "This is true, but even those on machines without 64-bit instructions, the compiler will generate code to do the 64-bit math using 32-bit registers and it will almost certainly be faster and more correct than what we do. I think this is a commonly used but weak argument against using a 64-bit type for this.", "Historically the ", " was 32-bit because it was conceived before machines and languages had 64-bit type support. This is an interesting read:", "A Unix time number can be represented in any form capable of representing numbers. In some applications the number is simply represented textually as a string of decimal digits, raising only trivial additional problems. However, certain binary representations of Unix times are particularly significant. The standard Unix time_t data type that represents a point in time is a signed integer, traditionally of 32 bits (but see below), directly encoding the Unix time number as described in the precedin...", "Some OS\u2019s have already expanded their underlying storage to 64-bit. Either way we have no good reason to stick with this layout for time in our messages.", "But this is an argument that needs to be made formally, so I won\u2019t dive deep into it now.", "I\u2019ll continue with ", " and ", " on the pr.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n"], "url": "https://discourse.ros.org/t/of-clocks-and-simulation-betimes-and-otherwise/1587"},
{"title": "Fast-RTPS Memory Usage - Please Help", "thread_contents": ["Hello,", "I am building a DDS node that will interact with a ROS2 node. I have found that the Fast-RTPS DDS middleware is using what I consider a very excessive amount of memory.", "Running the HelloWorld example allocated 404,340 KB of memory. This seems extremely large for such a simple example.", "USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND", "\ntco      29836  0.0  0.1 ", " 10320 pts/0    Sl   15:41   0:01 ./HelloWorldExample publisher", "When I build out my actual application the VSZ gets as large as 3 Gigs. Each publisher and subscriber that my application creates adds Megs to the memory usage even if the actual data is only a single integer.", "Is this level of memory usage expected or is it possible get Fast-RTPS running in under 40 megs with approximately 20 topics involved? My embedded target has 256 Megs of RAM total.", "Thank you for any help or advice you can provide.", "nm.", " that sounds like a bug, but I\u2019m unable to reproduce it, at least on my macOS machine (I haven\u2019t tried Linux yet).", "If I run ", " or ", " I get a steady 4.7Mb of memory usage for both. If I modify it like this to create 40 of each publisher/subscriber (each on a different topic):", "\n", "I still only about 8.4Mb of memory usage for each.", "Maybe you could provide a similarly minimal example which has this problem? We haven\u2019t gotten to the point where we are profiling to look for unintended memory usage, so there might be a bug in there.", "Also, I\u2019m using the master branch, which version of ROS2 are you using? That might affect your Fast-RTPS version and maybe the issue you\u2019re seeing is already addressed on master.", "Quick remark: I think we are talking about different examples here. It looks like the example you are referring too is a FastRTPS example, that uses different QoS settings (amongst other things) that the ROS2 talker / listener example that ", " is referring too. ", " do you have the same behavior with the ROS2 talker / listener examples?", "Thank you both for the very quick response.", "Before my first post I was running the HelloWorld example from the eProsima Fast-RTPS. Specifically it was this commit:", "\n\"", "\ntco@osboxes:~/Fast-RTPS-git$ git show", "\ncommit 2c86bb2d42e414007c2962942e321e82ff43ae9a", "\nMerge: 87881ec b285f9b", "\nAuthor: JavierIH ", "\nDate:   Thu Apr 20 08:08:08 2017 +0200", "\"", "\n", "This morning I followed the instructions here:", "And installed this:", "ros2-beta1-package-linux-fastrtps.tar.bz2", "Running the \u2018talker\u2019 and \u2018listener\u2019 examples in separate terminals I see that each has allocated over ", " according to the \u2018VSZ\u2019 column in \u2018ps aux\u2019.", "I attached two screenshots to help communicate exactly what I used for the test before my first post and the test that I just ran this morning.", "As before, any help would be greatly appreciated.", "nm.", "Thanks for trying out our examples too.", "Can you try a more recent binary, like this one:", "And see if the issue persists. Likewise I\u2019ll try to reproduce what you\u2019ve described in my Linux VM tonight.", " Thank you for the continuing help.", "I ran the \u2018talker\u2019 example from the \u2018lastSuccessfulBuild\u2019 link that you sent. The virtual memory usage is still in the hundreds of megabytes range. Screenshot is attached.", "tco       7359  0.0  0.1 323340 10756 pts/0    Sl+  16:24   0:00 bin/talker", "Are you aware of any fixed-sized buffer allocations that would account for the ~323 Megs used for this simple example?", "nm.", "The \u201cvirtual memory size\u201d (VSZ) listed in ps isn\u2019t what you think it is.  That is the total size of the address space assigned to the executable, which includes code, data, memory-mapped files, shared libraries, swap usage, and pages that have been allocated but not actually used yet.  It\u2019s not uncommon for that to be very large; I\u2019ve got a virtual machine running right now whose VSZ is about 46 GB\u2026", "You should actually pay attention to the resident set size (RSS), which is how much physical memory the task is actually using.  In your case, 10,320 kB seems more reasonable.", "Thank you for bringing this up as a point of clarification. I am aware of the difference between virtual memory size and resident memory size. I have attached a screenshot below showing how the virtual memory becomes resident when an application uses the memory and not immediately when malloc is called.", "The issue in my case is that I do not have any way to provide swap space to the OS on my embedded target. Initially everything works functionally since the resident size of all my processes is less than the physical memory size (256 megs). After adding publishers and subscribers for all the necessary topics required the resident size exceeds the physical RAM size and Linux randomly kills a process as described in the following link:", "The only way I can ensure that this will not happen in the released software is to enforce that the virtual memory size never exceeds the physical memory available.", "My embedded target is running on an SD card and I do not think it is a good idea to add a swap partition due to the wear that occurs on this type of media over numerous write cycles. If I am wrong and it is acceptable to use an SD card partition as swap space then that is very good news for me. Do you know if this is acceptable?", "I created this topic in an effort to confirm that the behavior I see on my system is expected and to ask if there is any way to configure Fast-RTPS to allocate significantly less memory. Can you please provide confirmation that the behavior I see is expected? Are you aware of any configuration to reduce the memory allocation?", "For a point of reference I have an evaluation copy of a commercial DDS middleware and the VSZ for a simple \u2018hello world\u2019 application is only 4 megabytes. This is a big difference from 300 megs.", "Thank you again for taking the time to respond to my post.", "nm", "I\u2019m not familiar with Fast-RTPS, my point is just that VSZ can be deceptive because there are many things that add into that which don\u2019t affect resident memory at all; If Fast-RTPS uses memory-mapped files or has large shared libraries, it could easily balloon far beyond the size of your physical memory without having any negative impact.  If the actual RSS value is growing enough that processes are being killed, you might want to look in to using a memory profiling tool like Google perftools or valgrind massif on your program to see what\u2019s allocating so much.", "As far as SD cards go, how much wear it can handle depends largely on the card.  There are industrial SD cards that supposedly can handle hundreds of TB of writes before they fail, so they would last for years even if you\u2019re writing hundreds of GB per day.", "Thank you again. I will look into an industrial SD card.", "Before posting here I spent several days reading the Fast-RTPS code and running valgrind\u2019s Massif tool on the sample applications. I was not able to find anything that could be easily reduced or eliminated.", "It seems to me that the code is memory intensive as it is implemented and intended to run on systems with several gigs of RAM and plenty of swap space.", "I hoped someone here could tell me that I was wrong and that there was a network buffer size or something else that I could configure to be smaller.", "nn.", "Yeah, I think the VSZ is not out of the normal. By comparison, my ", " and ", " instances in my Linux VM have over 600Mb each in VSZ. I have no doubt that this might be contributing to your OOM killer issues, but it doesn\u2019t seem to be not unique to ", " (so it\u2019s probably not a bug). In fact I think the vast majority of that VSZ is shared amongst all of them.", "Not that ROS 1 is the standard-bearer, but out of curiosity I had a look at the ", " from ", ":", "And it is quite similar with ~397 Mb of VSZ and ~12 Mb of RSS.", "That being said, I think Fast-RTPS is mostly designed for \u201ctypical\u201d desktop machines with at least a few Gb of memory. There might be simple things we can do to reduce the memory pressure these programs put on the system, but after reading around on the internet, looking at ", " and a cursory look at the output of massif, I don\u2019t see any low hanging fruit.", "I still haven\u2019t tried Connext or OpenSplice yet, but they might perform better in your usecase until we can improve Fast-RTPS for this case. That\u2019s part of the idea behind the middleware abstraction is that we can use different implementations with different intrinsic qualities where applicable.", "We can almost certainly fine tune the existing software to use less memory, but we just haven\u2019t gotten to that level refinement yet. If anyone has any recommendations (for the ROS 2 code or Fast-RTPS), we\u2019re happy to try them out to improve this.", "Thank you. Your confirmation is very helpful.", "It seems I will need to continue down the path of a commercial middleware. I will let you know if I find something specific to improve or recommend in ROS 2 or Fast-RTPS.", "nm.", "Sure, the guys at eProsima might be able to help you get it working as you like too. I\u2019ll make sure they\u2019re aware of this thread.", "You might also consider ", " for your middleware layer.  The ROS2 integration code can be found at ", "The rmw_coredx integration layer is relatively new, so there hasn\u2019t been much optimization done yet; but in general CoreDX DDS does well in resource constrained environments.", "\u2013clark", "Thanks ", " for making me aware of this thread.", "After checking what ", " has detected, i have been investigating why Fast RTPS requires so much virtual memory. Thanks to this ", " I\u2019ve discovered each pthread thread is requiring 72MB. This occurs since a change in glibc-2.15.", "I was checking a small program that uses pthread threads and the same program using std threads. A std thread only requires 8MB of virtual memory", "Fast RTPS uses ", ". In my system Asio library is using pthreads. I was able to configure Asio library to use std thread changing ", ". I changed line 183 with this new line:", "After this change the HelloWorldExamples is using less virtual memory:", "Are good numbers for you?", "Hi ", ",", "I think it would be useful to have a meeting with you to understand better your requirements and give you potential solutions. Could you please send me an email ( ", " ) with your contact details to organize a conference call ?", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/fast-rtps-memory-usage-please-help/1739"},
{"title": "Fast RTPS Discovery", "thread_contents": ["Does the ROS2 Fast RTPS perform any special default configuration for  discovery?", "Before diving into using ROS2 on top of DDS, I tried using Fast RTPS in a separate simple program.  Overall it was worked well.  However, my publisher and subscriber are operating on different computers and sometimes have trouble discovering each other quickly.  This was improved by setting the Participant parameters  lease duration announcement period to 2 seconds from a default of 250 seconds.  Now most of the time the programs discover each other within the first 30 seconds of launch.  However, sometimes the programs never discover each other.", "Have folks experimented with better tuning for the discovery configuration?  The default of 250 seconds to find a new node would be unacceptable in most ROS systems.", "Hi ", ",", "We don\u2019t currently adjust the discovery settings in Fast-RTPS when using it with ROS 2, but if we see the need to do so we have that capability.", "We have done some testing along these lines, but to be honest Fast-RTPS has been improving a lot lately, which is good, but the characteristics have also been changing too. So we intended to \u201cfine tune\u201d the behavior of Fast-RTPS with ROS 2 at some point when things are a bit more stable. We\u2019re also waiting on a feature or two more from Fast-RTPS, like piggyback heartbeat messages before tuning the behavior.", "Anyways, any recommendations based on your testing (or anyone else\u2019s testing) is appreciated.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/fast-rtps-discovery/1777"},
{"title": "ROS2 compiled from source - Relocate", "thread_contents": ["Hello,", "i tried to move the complete ROS2 install, that i compiled from source, onto my embedded board. After sourcing the local_setup.bash file I\u2019m able to start the talker, which starts publishing as intended. If i start the listener, it starts listening, but no messages will be heard. Did i miss something? This should be possible, right?", "Certainly that should be possible. Can you provide more details about your setup, what embedded board are you using? And how you\u2019re diagnosing that talker is publishing but listener is not listening? Have you tried communicating each way from a non-embedded board?", "Thank you very much for your fast reply.", "I\u2019m using the Renesas-H3 board with a customized linux on it (yocto project). ROS1 is working like a charm on it.", "\nThe all the standard examples e.g. Listener, Talker and Service, Client are working on my other PC where i compile the ROS2 install (Ubuntu Xenial).", "I concluded that the node publishes, because of the standard output the talker node prints onto the console and the publisher returns no messages. Same with the Client, Service example when I start the Service node and after that the Client node, the Client node prints waiting for service to start.", "Thank you in advance!", "Hello again,", "today I tried to start the lifecycle demo on the embedded board. After I Start up the", "\nlifecycle_talker,", "\nlifecycle_listener,", "\nlifecycle_service_client,", "\nthe service_client prints out:", "\nService lc_talker__change_state is not available.", "Thanks in advance for any help.", "For anyone who might be struggle wit the same problem, i solved it by:", "Thanks for answering to ", " I\u2019m glad to hear it\u2019s working!", "And thanks for the follow up letting people know what you found was the issue. We\u2019ll try to keep those issues in mind as others might run in to similar issues.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["enabling multicast in the kernel on the embedded board,", "adding a loopback address to the kernel route ip table with:", "\n$ route add -net 224.0.0.0/4 dev lo"], "url": "https://discourse.ros.org/t/ros2-compiled-from-source-relocate/1812"},
{"title": "ROS2 Beta1 compiled from source - unicode bug", "thread_contents": ["Hello,", "I have been using ROS1 in my lab for a while, and felt like trying ROS2 after its Beta1 release. I began with a bare bones Ubuntu 16.04 container and followed the install from source instructions found here - ", "During the build, I got the following error:", "I looked at the culprit ", " file and found the following snippet as the issue:", "I could figure it out only because it has an ", " which is usually not present in python\u2019s unicode decoder. Changing the ", " to a regular ", " - fixed the error, and rest of the source code compiled perfectly.", "Sincere apologies to Ricardo for changing your name. (", " ) ", "Hi ", ",", "This is a problem showing up in containers indeed but not on native installations.", "\nThis is because containers don\u2019t handle unicode characters by default. The way we handle it in", " is to call ", ".", "Can you try this out at the beginning of your Dockerfile and post back here with the outcome?", "Thanks!", "Before stopping the container, I checked the locale:", "You are correct it was the problem of my environment variables. Set it according to your instructions and checked locale again:", "Compiling perfectly now. I thought this step ", " in the ", " would have worked inside the container - but it did not.", "Thanks a lot ", "  for pointing out your dockerfiles, saves me a lot of trouble!", "Glad it worked!", "I thought this step update-locale LC_ALL=en_US.UTF-8 LANG=en_US.UTF-8 in the install instructions would have worked inside the container - but it did not.", "Thanks for pointing it out, we added the ", " to the install instructions hoping that it would fix this particular issue. Apparently it\u2019s not enough. According to ", " the entire ", " call has no effect in commandline in docker containers, so it seems that it \u201chas to happen\u201d in the Dockerfile before hitting the entry point.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-beta1-compiled-from-source-unicode-bug/1844"},
{"title": "Async executor in ROS2", "thread_contents": ["I\u2019m playing with ROS2 Beta 1 and I\u2019ve been looking for async executor (something which would start spinning the nodes, but would not block the thread it is being called from). Is something like that available?", "Thanks.", "No, we don\u2019t have that atm. You can have it use multiple threads with the ", ", but we don\u2019t have an async one. Partly because we haven\u2019t needed it, and partly because C++'s ", " and ", " are now available and could easily wrap either the ", " or the ", ". For example we use ", " in a similar situation here in one of our tests:", "Great, thanks, this is exactly what I need ", "You might want to have a look at this:", "\n", "\n", "I implemented asynchronous spinning for my ros2_components a while ago.", "\nBut I have to warn you that the standard syntax for using clients won\u2019t work anymore if you spin the executor async.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["auto spin_executor2 = [&executor2]() {", "    executor2.spin();", "  };", "\n", "// Launch both executors", "std::thread execution_thread(spin_executor2);", "\n", "executor1.spin();", "execution_thread.join();"], "url": "https://discourse.ros.org/t/async-executor-in-ros2/1575"},
{"title": "Building ROS2 master on Ubuntu 16 fails", "thread_contents": ["Trying to build master of ROS2 on my ubuntu box as of this morning and I\u2019m getting a following failure. Any idea what might be wrong and how to fix it?", "+++ Building \u2018rosidl_generator_py\u2019", "\n==> \u2018. /home/breh/ros2_wsx/build/rosidl_generator_py/cmake__build.sh && /usr/bin/make cmake_check_build_system\u2019 in \u2018/home/breh/ros2_wsx/build/rosidl_generator_py\u2019", "\n==> \u2018. /home/breh/ros2_wsx/build/rosidl_generator_py/cmake__build.sh && /usr/bin/make -j2 -l2\u2019 in \u2018/home/breh/ros2_wsx/build/rosidl_generator_py\u2019", "\n[  2%] Generating Python code for ROS interfaces", "\n[ 18%] Built target rosidl_generator_py__rosidl_generator_c", "\n[ 20%] Built target rosidl_generator_py__cpp", "\n[ 36%] Built target rosidl_generator_py__rosidl_typesupport_introspection_c", "\n[ 52%] Built target rosidl_generator_py__rosidl_typesupport_introspection_cpp", "\n[ 68%] Built target rosidl_generator_py__rosidl_typesupport_c", "\n[ 68%] Built target rosidl_generator_py", "\n[ 68%] Built target rosidl_generator_py__py", "\nScanning dependencies of target rosidl_generator_py__rosidl_typesupport_c__pyext", "\nmake[2]: *** No rule to make target \u2018rosidl_generator_py/rosidl_generator_py/_rosidl_generator_py_s.ep.rosidl_typesupport_c.c\u2019, needed by \u2018CMakeFiles/rosidl_generator_py__rosidl_typesupport_c__pyext.dir/rosidl_generator_py/rosidl_generator_py/_rosidl_generator_py_s.ep.rosidl_typesupport_c.c.o\u2019.  Stop.", "\nCMakeFiles/Makefile2:1134: recipe for target \u2018CMakeFiles/rosidl_generator_py__rosidl_typesupport_c__pyext.dir/all\u2019 failed", "\nmake[1]: *** [CMakeFiles/rosidl_generator_py__rosidl_typesupport_c__pyext.dir/all] Error 2", "\nmake[1]: *** Waiting for unfinished jobs\u2026", "\nScanning dependencies of target rosidl_generator_py__rosidl_typesupport_introspection_c__pyext", "\nmake[2]: *** No rule to make target \u2018rosidl_generator_py/rosidl_generator_py/_rosidl_generator_py_s.ep.rosidl_typesupport_introspection_c.c\u2019, needed by \u2018CMakeFiles/rosidl_generator_py__rosidl_typesupport_introspection_c__pyext.dir/rosidl_generator_py/rosidl_generator_py/_rosidl_generator_py_s.ep.rosidl_typesupport_introspection_c.c.o\u2019.  Stop.", "\nCMakeFiles/Makefile2:71: recipe for target \u2018CMakeFiles/rosidl_generator_py__rosidl_typesupport_introspection_c__pyext.dir/all\u2019 failed", "\nmake[1]: *** [CMakeFiles/rosidl_generator_py__rosidl_typesupport_introspection_c__pyext.dir/all] Error 2", "\nMakefile:138: recipe for target \u2018all\u2019 failed", "\nmake: *** [all] Error 2", "Hi,", "\nI can\u2019t reproduce your bug on my debian testing. How do you keep your workspace up to date? Switched to the master branches on all repositories and calling vcs pull src on a regular base? This can lead to problems if a repository was renamed or moved.", "I\u2019m attaching my repos list to this post.", "\nDid you already try deleting the build an install folder and rebuilding ros2 afterwards?", "My repos list:", "repositories:", "\nament/ament_cmake:", "\ntype: git", "\nurl: ", "\nversion: master", "\nament/ament_cmake_ros:", "\ntype: git", "\nurl: ", "\nversion: master", "\nament/ament_index:", "\ntype: git", "\nurl: ", "\nversion: master", "\nament/ament_lint:", "\ntype: git", "\nurl: ", "\nversion: master", "\nament/ament_package:", "\ntype: git", "\nurl: ", "\nversion: master", "\nament/ament_tools:", "\ntype: git", "\nurl: ", "\nversion: master", "\nament/gmock_vendor:", "\ntype: git", "\nurl: ", "\nversion: master", "\nament/gtest_vendor:", "\ntype: git", "\nurl: ", "\nversion: master", "\nament/osrf_pycommon:", "\ntype: git", "\nurl: ", "\nversion: master", "\nament/uncrustify:", "\ntype: git", "\nurl: ", "\nversion: master", "\neProsima/Fast-CDR:", "\ntype: git", "\nurl: ", "\nversion: master", "\neProsima/Fast-RTPS:", "\ntype: git", "\nurl: ", "\nversion: master", "\nros/class_loader:", "\ntype: git", "\nurl: ", "\nversion: ros2", "\nros/geometry2:", "\ntype: git", "\nurl: ", "\nversion: ros2", "\nros/orocos_kinematics_dynamics:", "\ntype: git", "\nurl: ", "\nversion: ros2", "\nros/poco_vendor:", "\ntype: git", "\nurl: ", "\nversion: master", "\nros2/c_utilities:", "\ntype: git", "\nurl: ", "\nversion: master", "\nros2/cli_tools:", "\ntype: git", "\nurl: ", "\nversion: master", "\nros2/common_interfaces:", "\ntype: git", "\nurl: ", "\nversion: master", "\nros2/demos:", "\ntype: git", "\nurl: ", "\nversion: master", "\nros2/example_interfaces:", "\ntype: git", "\nurl: ", "\nversion: master", "\nros2/examples:", "\ntype: git", "\nurl: ", "\nversion: master", "\nros2/launch:", "\ntype: git", "\nurl: ", "\nversion: master", "\nros2/rcl:", "\ntype: git", "\nurl: ", "\nversion: master", "\nros2/rcl_interfaces:", "\ntype: git", "\nurl: ", "\nversion: master", "\nros2/rclcpp:", "\ntype: git", "\nurl: ", "\nversion: master", "\nros2/rclpy:", "\ntype: git", "\nurl: ", "\nversion: master", "\nros2/realtime_support:", "\ntype: git", "\nurl: ", "\nversion: master", "\nros2/rmw:", "\ntype: git", "\nurl: ", "\nversion: master", "\nros2/rmw_connext:", "\ntype: git", "\nurl: ", "\nversion: master", "\nros2/rmw_fastrtps:", "\ntype: git", "\nurl: ", "\nversion: master", "\nros2/rmw_implementation:", "\ntype: git", "\nurl: ", "\nversion: master", "\nros2/rmw_opensplice:", "\ntype: git", "\nurl: ", "\nversion: master", "\nros2/ros1_bridge:", "\ntype: git", "\nurl: ", "\nversion: master", "\nros2/rosidl:", "\ntype: git", "\nurl: ", "\nversion: master", "\nros2/rosidl_dds:", "\ntype: git", "\nurl: ", "\nversion: master", "\nros2/rosidl_typesupport:", "\ntype: git", "\nurl: ", "\nversion: master", "\nros2/system_tests:", "\ntype: git", "\nurl: ", "\nversion: master", "\nros2/tlsf:", "\ntype: git", "\nurl: ", "\nversion: master", "\nvendor/console_bridge:", "\ntype: git", "\nurl: ", "\nversion: master", "Well, I did a fresh checkout and got a list of repositories from here: ", " as recommended in this document: ", "What is interesting, the list on the link above is different from the list you sent. Where did you get yours from?", "Also tried your repo list, unfortunately the build fails for me with the same problem. Have you tried a fresh workspace build?", "I tried a fresh build in a container yesterday evening and could not reproduce this issue.", "\nJust to clarify, did you try to remove your build folder before recompiling ?", "\nDo you have the exact same error after your fresh checkout ?", "\nIf you run ", " in your source directory, do you have any outstanding changes on this packages or its dependencies?", "Hmm, really weird. It was a complete fresh checkout. Created a new directory, new src, imported the repositories and ran ament. When I do the same thing with beta1 (different workspace, but clean checkout as well), everything compiles fine. However master fails with the error above.", "I\u2019m using cmake version 3.5.1", "\npython: Python 2.7.12", "\npython3: Python 3.5.2", "vcs status --hide shows nothing \u2026", "My repos.list is just taken with vcs export src > ros2.txt from a working setup. Perhaps recheck the dependencies. I might be that the depedencies have changed since you did your original setup.", "Just to make sure: you did the following steps:", "delete your old workspace,", "\ncreate new one either with my repos.list or the one from the wiki,", "\nbuild the workspace with the commands from the wiki?", "Did you get any different error with my repos.list ?", "I\u2019m repeating again - it is a complete fresh checkout and repos are taken from ", " as recommended in this document: ", "Is there any other document describing how to build master of ros2? Perhaps the list maintained in ", " is not correct?", "Hmm, really weird. It was a complete fresh checkout. Created a new directory, new src, imported the repositories and ran ament. When I do the same thing with beta1 (different workspace, but clean checkout as well), everything compiles fine. However master fails with the error above.", "Hmm that\u2019s really weird.", "\nI just did the exact same thing:", "Is there any other document describing how to build master of ros2? Perhaps the list maintained in ", " is not correct?", "This repo files is the one used by the buildfarm and it looks like all jobs built fine last night (", ") so I doubt this is the problem.", "The only thing I can see would be missing dependencies. Can you try to install all the packages listed in ", " ? there were a few changes since beta1.", "Sorry I know you are repeating yourself, if installing all the dependencies don\u2019t fix it, could you provide the list of commands you ran with the exact arguments rather than a description, that would make it easier to reproduce", "Thanks!", "Thanks for helping :). After going back and forth and trying all sorts of stuff, the problem turned out to be the shell I used - it was setup to ros2-beta1 workspace, i.e. it had AMENT_PREFIX_PATH, LD_LIBRARY_PATH and all sorts of other variables pointing to the previously built beta1 workspace.", "The way to fix it was very simple - just opened a fresh shell without any ROS2 setup and the build from there works just fine.", "Thanks again for all your assistance, I\u2019m back in the game ", " glad you figured it out", "I tried a fresh build in a container yesterday evening", "Out of my own intellectual curiosity, I\u2019d love to hear your approach to building and developing within containers. (In a new thread, or feel free to message me directly.)", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["create a new workspace: ", "\n", "run ", "\nand everything built fine"], "url": "https://discourse.ros.org/t/building-ros2-master-on-ubuntu-16-fails/1881"},
{"title": "Ament Tutorial: Build Fails with Symlink", "thread_contents": ["Trying build the ament package builder for ROS2 on windows. Getting the following errors. any suggestion on how resolve these?", "Following the steps mentioned: ", "PostBuildEvent:", "\nsetlocal", "\n\"C:\\Program Files\\CMake\\bin\\cmake.exe\" -DBUILD_TYPE=Release -P cmake_install.cmake", "\nif %errorlevel% neq 0 goto :cmEnd", "\n:cmEnd", "\nendlocal & call :cmErrorLevel %errorlevel% & goto :cmDone", "\n:cmErrorLevel", "\nexit /b %1", "\n:cmDone", "\nif %errorlevel% neq 0 goto :VCEnd", "\n:VCEnd", "\n\u2013 Install configuration: \u201cRelease\u201d", "\n\u2013 Execute custom install script", "\n\u2013 Symlinking: D:/ROS/ros2_ws/install/share/ament_index/resource_index/package_run_dependencies/ament_cmake_core", "\nfailed to create symbolic link \u2018D:/ROS/ros2_ws/install/share/ament_index/resource_index/package_run_dependencies/ament_cmake_core\u2019: No error", "\nCMake Error at ament_cmake_symlink_install/ament_cmake_symlink_install.cmake:293 (message):", "\nCould not create symlink", "\n\u2019D:/ROS/ros2_ws/install/share/ament_index/resource_index/package_run_dependencies/ament_cmake_core\u2019", "\npointing to", "\n\u2019D:/ROS/ros2_ws/build/ament_cmake_core/ament_cmake_index/share/ament_index/resource_index/package_run_dependencies/ament_cmake_core\u2019", "\nCall Stack (most recent call first):", "\nament_cmake_symlink_install/ament_cmake_symlink_install.cmake:149 (_ament_cmake_symlink_install_create_symlink)", "\nament_cmake_symlink_install/ament_cmake_symlink_install.cmake:305 (ament_cmake_symlink_install_files)", "\ncmake_install.cmake:31 (include)", "I get the same error on Windows. I traditionally never build with --symlink-install, so I haven\u2019t seen this in the past.", "\nBuilding without that option on Windows works very well.", "without --symlink-install i get same error", "Did you try removing your build and install folder before building without the ", " flag?", "\nto do so you can run", "and then run ament again", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ament-tutorial-build-fails-with-symlink/1899"},
{"title": "Astra driver for ROS2", "thread_contents": ["I noticed there is a repo to use the astra camera in a ros2 deployment.", "\nI forked the code and am trying to run it, and it compiles just fine, but it doesn\u2019t actually deliver any data.", "\nI can run OpenCV and it connects and delivers data.", "\nI can run the ROS1 driver, and it connects and delivers data.", "\nI can run the OpenNI sample viewer, and it connects and delivers data.", "So my question is:", "\nAm I doing something wrong in ROS2 for it to work?", "\nOr is this driver still under development?", "I\u2019m just putting the code into a workspace, like usual, and building it with \u2018ament build\u2019.", "\nWhen I run it, I see \u2018Starting IR stream\u2019 and \u2018Starting depth stream\u2019, and the topics are all there. But I don\u2019t see any data flowing.", "\nI used CLion to breakpoint into the code, and it didn\u2019t appear that any callbacks were being activated.", "Anyways, any help would be great.", "\nThanks!", "I\u2019ve used it in the past for sure, but it has been under active development lately for a demo we\u2019re trying to put together.", " may have more info for you.", "I do have an Astra Pro. Maybe there\u2019s an issue there?", "I know that the astra Pro had issue in ROS1 because it advertise itself as a UVC for the RGB and another USB device for the depth. The ROS2 version of the driver did work for me in ROS2 by just building it, installing the udev rules and running it. We never tried it on an Astra Pro (AFAIK) though. ", " and ", " have been playing with it lately they may be able to give more input.", "I did do some work on it, though I haven\u2019t really changed much in a few weeks.  In my testing, things seem to be working and I\u2019m getting good depth images out of it.", "The fact that you don\u2019t seem to be getting callbacks is interesting, though.  Note that there are two levels of callbacks: when the driver actually has a frame it calls AstraFrameListener::onNewFrame(), and if the frame is \u201cvalid\u201d onNewFrame() then calls the higher level AstraDriver::newDepthFrameCounter().  Where did you put your breakpoint?  Can you see if you are getting the onNewFrame() callback?", "One other thing I\u2019ll mention is that I have seen cases where the camera will stop streaming data after starting and stopping the driver a few times.  This seems to be some kind of firmware level thing, and if you unplug the camera, wait a couple of seconds, then plug it back in, it tends to start working again.  That would also be worth trying.", "So, I switched out my Astra Pro for an Astra Mini, and the driver just worked.", "\nThere are some issues, so I\u2019m going to open up an Issue on GitHub.", "Thanks for the help.", "Anyone looked into the performance comparison of the ROS1 driver vs ROS2 driver?", "\nI\u2019m noticing a HUGE degradation in performance using the ROS2 driver. Wondering if it\u2019s my setup or if the driver just isn\u2019t fleshed out enough to be performant.", "My test system: MacBook Pro i7 2.5GHz, Xenial connecting to Astra Mini.", "Yeah, I\u2019ve had performance issues as well.  I was able to mostly work around it by disabling the color and IR cameras, and set the depth camera to 320x240.  That gets me about 15 frames/sec with something like 100% CPU time, which is good enough for what I need at the moment.  But we should really look into improving it.", "Ouch.", "I did the same thing as you, and I was getting 30 fps from the driver. (although this was all going through the ROS2 dynamic_bridge, so there may be some lag).", "\nThe depth_to_pointcloud node drops that in half to ~15 fps for the PointCloud message. That surprises me. Is that conversion computation really that time consuming? Maybe we can make it faster using GPUs?", "I should be a little more clear that I am running all of this on a Pine 64 board (", "), so it won\u2019t be as fast as on an Intel chip.", "That being said, I don\u2019t really know how much CPU time this should take up.  My feeling is that there is room for improvement both in the astra driver and in depth_to_pointcloud, but I haven\u2019t profiled to find out where the bottlenecks are.  Before I went all the way to a GPU, I would profile, find the problem points, and try to optimize those first (this could be as simple as building with optimization and/or NEON turned on, neither of which I\u2019m doing at the moment).", "I just figured that the function is pretty basic. Iterate n^2 over an image and convert to PointCloud2 format. I\u2019m already compiling in Release, so optimization is all on. So maybe GPU is the only way to go for real acceleration.", "But all that aside, I did some performance analysis using the ", " tool and ran it against both the ROS1 and ROS2 versions of both ", " and ", ".", "\nIt looks like they both spend about the same time in the same functions, but the ROS2 variants spend extra time in ", ".", "Not sure if there are techniques, yet, that help to accelerate/overcome this new conversion step.", "\n[My next step is to verify that my ROS2 base was compiled in release mode\u2026]", "Ok. Verified my ROS2 base is in Release mode (it wasn\u2019t).", "\nI reran the profiling on the depth_to_pointcloud node, and this is the output:", "A little hard to read, but basically the worst offender is the convert_ros_to_dds on the PointCloud, which takes ~23%. Then comes convert_dds_to_ros on the Image, at ~6%, and then finally the actual conversion from Image to PointCloud2, at ~5%.", " maybe there\u2019s something we can fix in the CoreDX rmw wrapper that can help speed this up?", "Another idea I had was I could make a composition of the astra driver and this conversion and eliminate part of the slowdown (~6% for dds_to_ros conversion of Image).", "What about that ~40% going to wl? Is that the wireless driver? I guess that is the connection DDS would be using on my laptop\u2026", "Any other ideas?", "Nice debugging.  Out of curiousity, exactly how did you run operf (just so it is archived here for the future)?", "I was wondering about that wl myself.  The next time I have some time (probably next week), I might try this locally to see what happens when I\u2019m hooked to ethernet instead of wifi.  That would be interesting.", "I also notice that there is ~10% going to memmove and memcpy, unaligned.  I\u2019m guessing if we could find a way to ensure that that is aligned, that would also be faster.", "Other than those things, yeah, I\u2019d say we\u2019d have to concentrate on convert_ros_message_to_dds and see what we could improve there.", "I downloaded the oprofile package and installed it.", "\nTo use it, you have to have root privelages, so I created a bash script that I can run under ", ".", "\n", " does the trick.", "\nThe reason I chose oprofile instead of gprof (or other) is that you can kill the process and it still collects info.", "To generate the statistics you have to run:", "\n", "There could be something obvious that could significantly improve ", " for CoreDX, but it would be interesting to see if this is also the case with Connext (I\u2019m not sure FastRTPS would be apples to apples since it uses type support introspection to serialize/deserialize). We always knew that this function was wasted work, but to get rid of it, we need to have the ability in the middleware to publish and take serialized data directly rather than delegating serialization/deserialization to the middleware. That way we can do the \u201cROS message struct\u201d -> CDR serialized buffer directly skipping the convert function. I know we could do this in FastRTPS, but I\u2019m not sure about Connext. Also FastRTPS currently uses the introspection API which will be slower than statically generated code to do the conversions. We can likely get a huge speed up there by providing a static version of type support for FastRTPS.", "Ran the code in composition mode (both depth_to_pointcloud and astra_driver as libs, using UniquePtr to pass the Image), and that didn\u2019t seem to make much difference.", "Switched back to 2-node mode, and connected via Ethernet instead of Wifi (disabled Wifi, connected a dummy cable to another machine in the lab), and the performance was way better. So clearly that ~40% on ", " was getting in the way.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["ROS1 driver delivers ~30 fps and consumes ~70% CPU.", "ROS2 driver, with CoreDX as rmw implementation, delivers ~5 fps and consumes ~170% CPU."], "url": "https://discourse.ros.org/t/astra-driver-for-ros2/1894"},
{"title": "Catkin to ament migration script", "thread_contents": ["I put together a quick python script to automate the task of migrating a package from catkin to ament. The script just follows the instructions in the ROS 2 migration guide (note that the script is not yet complete).", "You can find the script at: ", "Additionally a brief explanation of how to use the script here: ", "As the tutorial says, the script hasn\u2019t been extensively tested and is unlikely to work perfectly but may help reduce the burden of migrating.", "Enjoy.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/catkin-to-ament-migration-script/1908"},
{"title": "OpenSplice 6.7 released under the Apache license", "thread_contents": ["Hi,", "given that PrismTech just released OpenSplice 6.7 [1][2] and that it\u2019s now licensed as Apache 2.0, is there any chance that OpenSplice will make a comeback to the list of supported DDS implementations for ROS 2? It\u2019d be great to have a more robust and stable opensource DDS implementation available for ROS 2.", "Cheers.", "1 - ", "\n2 - ", "It is great that they finally released a new version as open source, and even better that they switched to Apache 2.0. However, they\u2019re still just dumping their releases to GitHub, and they\u2019re already one version behind (6.8 is already out for non-OpenSource). This doesn\u2019t make external contributions very easy. Perhaps if the relationship between PrismTech and everyone working on ROS 2 becomes more mature (meaning more frequent open source releases, some notion of when releases will be made, and taking external contributions) then I would advocate for picking OpenSplice up again as an official middleware implementation. Until then I think the consensus (we at OSRF talked about this a few days ago) ought to keep the list lean with Fast-RTPS and Connext, because, as I don\u2019t have to tell you, maintaining a middleware implementation is a lot of work.", "I\u2019ll also take a moment to blatantly brag on Fast-RTPS, because the guys at eProsima have been working with us really well lately (taking pull requests, answering questions, focusing development based on our feedback, etc\u2026), and have been making lots of improvements. In the upcoming version they\u2019re implementing piggybacked heartbeat which should resolve a lot of the large message performance issues. So, at least lately, I\u2019ve not been missing OpenSplice as much as when we first switched to Fast-RTPS.", "That all being said, OpenSplice might be a better alternative for some people.", "\nSo, if people in the community want to pick it up, I for one will try to help by answering questions and taking contributions to make it happen.", "That all sounds great.", "Does this ", " mean that ", " will be in active development or just it\u2019s fleshed out to get it to compile with OpenSplice 6.7 and no further improvements will be made?", "Thank you William! Supporting the ROS community is our highest priority. In the next release we include also a new feature to setup the QoS through XML files. That will also help a lot to the ROS community to fine tune the middleware without recompiling the ROS2 code for specific cases such as low bandwidth, video streaming, etc.", "We expect to officially release Fast RTPS 1.5 end of next week, but it is already in our github in an special branch as we finish the latest tests and QA.", "Good news this release of OpenSplice under Apache 2.0 License.", "It is also very good news the efforts of the guys from eProsima to improve the performance with large messages. PointClouds are fundamental, especially now that many robots are equipped with RGB-D cameras, and this aspect was not completely solved. I\u2019m sure Jaime and his team will do a good job on this matter. We recently did a project with FastRTPS and eProsima support was very good.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/opensplice-6-7-released-under-the-apache-license/1901"},
{"title": "UUID in std_msgs", "thread_contents": ["I\u2019d like to see UUID (aka, GUID) added to std_msgs. We\u2019ve been using this simple definition: uint8[16] data.", "Has anyone else been using some other UUID definition or is there a better one?", "\nDoes it already exist somewhere else?", "There\u2019s a ", " message in the uuid_msgs package: ", " that looks exactly like what you propose.", "With a python module in the ", " package.", "There is a uuid_msgs package ", ", would that meet your needs?", "\nWe could consider either adding it to std_msgs as you suggest of port this package and add it to the common_interfaces repository", "Yes, let\u2019s bring it in to std_msgs. I can\u2019t think of a good reason to keep it in its own repository. It is very similar to integer keys. Do you want me to make a pull request?", "One reason to not move it to std_msgs is to keep the message packages consistent between ROS1 and ROS2. Otherwise you would have to convert any code using it to change package name and define custom mapping rules for the bridge. So I think it would be better to keep the layout as it is in ROS1. I\u2019d wait for feedback from the ROS team before going through the work of making the PR", "It definitely should not be merged into std_msgs. That holds only simple wrappers of primative datatypes that are not recommended for general usage. You should simply use the underlying primitives and give them semantic meaning.", "The place we could consider moving them to is ", " however there\u2019s no significant advantage to moving them to the same repository. And it has a disadvantage that it adds cross coupling when checking out from source.", "The main reason to consider integrating that package into common_msgs would be if we wanted to integrate UniqueId into a different message in common_msgs which would require the integration to avoid circular dependencies between repos. Otherwise I\u2019d generally recommend leaving things as they are.", "I was a little confused by your reference to common_msgs, as I\u2019m only concerned about ROS2. It seems that common_interfaces is the right place to include the uuid_msgs package in ROS2 (leaving the message type & name & package as unchanged as possible from ROS1). That way we don\u2019t need a separate repository for one line of code.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/uuid-in-std-msgs/1941"},
{"title": "ROS 2.0 beta 2", "thread_contents": ["Hello,", "I have used the first version of ROS for many years.", "I have a new computer so I want to try the last version of ROS 2.0.", "On the roadmap for ROS 2.0, we can see the planning for Beta 2 on June 14th, 2017.", "Will we see this version in the next days or the next months ? In the first case, I will wait for this new version, in the second case I will install beta 1.", "Thanks for reply", "Tom", "Hi Tom,", "We\u2019re a little bit behind. I think ", " is going to update the roadmap soon.", "In the meantime, I can tell you we\u2019re doing a feature freeze tomorrow unless something slips, and we plan to release beta 2 within a few weeks. I think the current best guess is July 7th.", "Also, you can always try our latest builds here:", "Cheers,", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros-2-0-beta-2/1961"},
{"title": "Using ClassLoader with nodes and non-default constructors", "thread_contents": ["I\u2019m playing with the composition API in ROS2 (beta1) and ClassLoader::createInstance function takes only a string as a parameter (the name of the class being created). I need to pass a couple of other parameters to the constructor of my class - is there a way to do that?", "The best way to do so currently is have your object read parameters from the rosparam server, and before you instantiate your object, set those params.", "I think the typical pattern is to create a default constructor for your plugin, but use a separate initialize(\u2026) method to feed arguments.", "See plugin definition packages such as nav_core in the navigation stack, and controller_interface in ros_control.", "In general as mentioned by ", " and ", " you must defer your initialization until later in the cycle.", "To support loading components not known about at compile time we must require a standard uniform API of all components for the loader to interact with. Almost all plugin systems work with a minimum common API (often implemented in C++ as a base class) and a registration/discovery mechanism for the loader to find available plugins. Sometimes the registration/discovery also includes descriptions etc.", "Using parameters is the recommended way to configure nodes as this is the way that configuration can be made at run time by users.", "With respect to ROS 2. I\u2019d suggest making sure you\u2019re familiar with our ", " as well as our vision of a ", " which adds a standard lifecycle on top which we can provide standardized tooling for managing ROS systems. This also gives a standard way to do initialization, configuration, and other transitions.", "For comparison you can also explore the ", " in ROS1.", "Thanks everyone. Still wondering how could I possibly configure things such as node name or whether I should use intra-process communication. These values are required at the construction time, so initialization function is out of the question. Not sure if I can use parameters for those \u2026", "Node name can be configured via rosparam strictly. e.g", "ros.init_node(ros.get_param(\u201cmy_node/prefix\u201d) + \u201cmynode\u201d);", "I can\u2019t remember the exact API calls off the top of my head, but that\u2019s the general approach. Above syntax wont work directly FYI, is what I\u2019m trying to say.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/using-classloader-with-nodes-and-non-default-constructors/2018"},
{"title": "Custom metadata in package.xml", "thread_contents": ["I am interested in adding custom metadata to the ROS-2 package.xml and providing a way to validate that other packages correctly define that metadata. However, when I attempt to add a new XML tag (e.g., \u2018my_custom_tag\u2019) ament fails during the validation process, with the following error:", "Is there a recommended way to get around the validation that the package.xml contains no unknown tags? Is this even possible? I\u2019d prefer not to have to branch ament_package.", "It may make sense for companies/organizations to add their own custom metadata to packages and ideally they would not need to modify ament_package. In some/most cases this metadata is not something that would make sense to include in ament_package (e.g., company specific).", "One option is to include the custom metadata in a separate XML file, but I would prefer to have a single file for package information.", "Assuming I can get ament to accept the custom metadata (or I use a separate XML file), are there are suggestions on how best to validate the metadata at build/compile time? My plan is to provide some custom cmake scripts to perform the validation, but was curious if there are better approaches.", "There\u2019s space for custom tags in the export tag. See the documentation here ", "I think that should satisfy your use case.", "Thanks ", " for pointing that out \u2013 it should work for what I want to do.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/custom-metadata-in-package-xml/2102"},
{"title": "ROS2 talker listener using difffernt DDS", "thread_contents": ["Hi all,", "I am currently trying to use an alternative DDS rather than fastrtps. However I have noticed that the talker and listener demo which used to just run \u201ctalker\u201d after sourcing the setup file is now changed to \u201cros2 run demo_nodes_cpp talker\u201d. The old \u201ctalker__rmw_connext_cpp\u201d that ued to let you use an alternative DDS is no longer working. My question is what is the new command for using an alternative DDS?", "Thankyou", "You can use the ", " environment variable: see ", "Note, however, that this will ", " take effect if you have built the node in a workspace that supports multiple RMW implementations. The pre-built binaries only provide support for the default, ", ".", "Hi dhood,", "\nI have ran the RMW_IMPLEMENTATION as you mentioned earlier. However, I just wanted to know if there is a way that I could know if I am using my targeted dds or if it is just going back to the default fastrtps.", "You can set the ", " environment variable to be sure. If it doesn\u2019t match you\u2019ll get an error like:", "We have ideas for how to make this introspection easier for users in the future, but for the meantime I\u2019ve added this info to the wiki page.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-talker-listener-using-difffernt-dds/2124"},
{"title": "ROS2 on Gentoo", "thread_contents": ["Hey, all!", "I\u2019m documenting what I did to get ROS2 to cooperate on Gentoo. As problems come up/fixes are created/I learn more, I\u2019ll update!", "This was actually not that difficult (though I imagine that, as ROS2 gets bigger, so will the amount of effort). I was able to follow the normal source install, for the most part.", "I could not, however, get the vcs to work. Instead, I simply wrote a script to do it.", "The build then failed, as the branch I checked out was not the correct one. So I cd\u2019d into the src directory, and rand the following:", "done", "Then was able to just follow the normal instructions (There was a ", " that has been merged already into master).", "Then you can just run ament like it states in the tutorial. I had to comment out the tutorial repo in the script, but this is clearly not that essential.", "If you have any questions, feel free to post back!", "Great! Glad it was pretty straight forward!", "Out of curiosity, what ", " file are you using ? The tutorials repository is commented on the ros2.repos files since release-beta1[1]. I would have expected this repository not to show up in the resulting ", " variable.", "[1]", "I believe I was using that one, right down to the commented out bit.", "Cool thanks for the update. Then I think that your script should work out-of-the-box without having to comment out any repo.", "Thanks for investigating that. If you have any idea of why vcstool could not be ran on Gentoo, please post here I\u2019d be curious to know more about why.", "I believe we can run it, I just could not find the right one and didn\u2019t want to guess\u2026", " do you know which one to pip install?", "We usually use the python3 version of vcstool for our development. So if you something like ", " should get you the right one. I\u2019m currently using version ", "With the release of ROS 2 Beta 2, I figured it\u2019d be wise to update this!", "First, you need to have GCC 5.x installed, as there are some C++14 features that GCC 4 lacks that are used in some places.", "Additionally, you need to invoke the build system slightly differently.", "After that, everything should build just fine (you might need to change the python 3 version in the above line, depending on what python you have installed, and you might also need to change the rosdistro you have if you want the ros1 bridge).", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-on-gentoo/1434"},
{"title": "Library not loaded: libfastcdr.dylib", "thread_contents": [" OSX 10.12.5", "\n", " binary", "\n", " beta 1; version: 148df7e841b91da488ec3bb4abd295a2bccdb728", "\n", " Fast-RTPS", "\n", " boost, restcpp", "\nament test --only-packages skynet", "\ntest runs normally", "\nFailed with output:", "\nMy project compiles fine. I created a ROS2 test for my project and want to run it. The same test works fine on Ubuntu. I only have this problem on OSX.", "As message says, the system can\u2019t find libfastcdr.dylib. That is weird, because I can see the library in ~/ros2-osx/lib dir. I assume it should be visible after I sourced ROS2. I tried source scripts setup.bash, ", ", local_setup.bash, local_setup.sh. Nothing helped.", "If I manually create symbol link in /usr/local/lib pointing to  ~/ros2-osx/lib/libfastcdr.dylib, everything works fine. It doesn\u2019t feels the right fix though.", "Could someone hint how should it work normally?", "That could be an issue with how Fast-RTPS is being linked. It sounds like it isn\u2019t using RPATH and it should be.", "Even without RPATH it should work if ", " is in your ", " environment variable after you source ", " (this is the right one to source in most cases). If it is in the variable, then you may have SIP enabled which is a security feature in macOS that prevents propagation of the ", " to \u201csystem\u201d binaries, like bash and make, which reside in ", " and similar PATH folders.", "If it is SIP then you can disable it (not recommended for security, but will work around the issue):", "I might be reading the log incorrectly, but near the top it says \u201cbeta 1.\u201d Lots has changed since then (6 months ago) in both ROS 2 and Fast-RTPS; you might want to try Beta 2 and see if the issue goes away.", "\nNot sure what is RPATH. Is it env. variable? I can\u2019t see this variable set after I sourced ~/ros2-osx/setup.bash.", "\nI tried to set DYLD_LIBRARY_PATH manually but, as you said, it isn\u2019t helping due to SIP.", "\nTried it with ROS2 beta2. Message is changed a bit but problem remains the same.", "Is there anything else I can try to fix it?", "Not sure what is RPATH. Is it env. variable? I can\u2019t see this variable set after I sourced ~/ros2-osx/setup.bash.", "I tried to set DYLD_LIBRARY_PATH manually but, as you said, it isn\u2019t helping due to SIP.", "RPATH is something that is contained within shared libraries, see:", "You could try using ", " to change the ", " reference in your ", " executable to be ", ", or what ever the actual path is.", "I finally fixed it by adding these lines to my CMakeLists.txt", "I\u2019m glad you got it working, but it shouldn\u2019t be necessary I think. It\u2019s probably either a bug in the CMake module for Fast-RTPS or in how we pass along, or link to, those libraries in ", ".", "I\u2019ll see if I can look into later.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/library-not-loaded-libfastcdr-dylib/2195"},
{"title": "Cartographer and Navigation workable in beta2?", "thread_contents": ["I can reproduce follower function in turtlebot_demo with latest code. Actually I am also very interested in the progress of Cartographer and navigation in ROS2, I\u2019d like to know, is it ready to show demo of them in beta2? thanks a lot.", "Yes, in beta2 we will have demos for cartographer, follower, and localization, all running on the Turtlebot2.  We are still moving around some of the pieces, and we need to update the documentation, so stay tuned.", "look forward to these demos", "I am trying to reproduce cartographer demo following the instructions in ", ". And I use ros1_bridge and rviz to visualize the slam. However, I can\u2019t see anything in rivz, and in ros1_bridge, I can see a lot of error:", "failed to create 2to1 bridge for topic \u2018/tf\u2019 with ROS 2 type \u2018tf2_msgs/TFMessage\u2019 and ROS 1 type \u2018\u2019: No template specialization for the pair", "\ncheck the list of supported pairs with the ", " option", "\nfailed to create 2to1 bridge for topic \u2018/tf_static\u2019 with ROS 2 type \u2018tf2_msgs/TFMessage\u2019 and ROS 1 type \u2018\u2019: No template specialization for the pair", "I have also tried talker/listener sample using ros1_bridge, both direction work fine.", "what release version of ROS 2 are you using? did you build the bridge yourself or are you using pre-built binaries? the bridge error messages you see suggest you\u2019re either using an outdated version of ", " or that you have custom-built the ", " yourself and are missing support for TF2 messages.", "I build from latest source code, ", "\nsrc/ament/ament_tools/scripts/ament.py build --build-tests --symlink-install", "I suspect that your bridge has only been built with minimal message support (you can verify this with the ", " option as suggested). It needs to be built in a particular way to get tf2_msgs and nav_msgs etc support.", "Please either switch to using the bridge from binaries, or follow these instructions to build the bridge from source: ", "This is mentioned in the demo instructions but I\u2019ll update it to highlight that this step requires particular attention.", "With beta2 release binary code, it is really workable. However, beta2 binary doesn\u2019t include turtulebot_demo, so I can\u2019t try cartographer and navigation.  So, I\u2019d suggest you release a full version for beta2, so user can easily evaluate the capabilities of ROS2. thanks a  lot.", "beta2 binaries for the turtlebot2 demo can be installed from debian packages if you don\u2019t want to build the demo from source: ", "hope this helps", "It looks like the bridge is not listed in the turtlebot instructions.", "\nplease run ", " to install the bridge", "After resolve the ros1_bridge issue, ros1_bridge output looks ok now. In rviz, I can see /depth image, however I can\u2019t see any map established? /map and /scan topic have noting to show. do I miss something?", "I follow below steps", "launch ", "/share/turtlebot2_cartographer/launch/turtlebot_carto_2d.py", "Terminal A:", ". /opt/ros/kinetic/setup.bash", "\nroscore", "Terminal B:", ". /opt/ros/kinetic/setup.bash", "\n. <YOUR_ROS2_WORKSPACE>", "\nros2 run ros1_bridge dynamic_bridge", "Terminal C:", ". /opt/ros/kinetic/setup.bash", "\nrosrun rviz rviz", "Finally, I can see /map now. cartographer and AMCL are workable. However, I don\u2019t see the instruction how to specify a goal and navigate Robot to it with collision avoidance. is it supported by current ROS2?", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/cartographer-and-navigation-workable-in-beta2/2074"},
{"title": "How to use namespaces?", "thread_contents": ["Operating System: Linux Mint = Ubuntu 16.04", "\nInstallation type: from source", "\nVersion or commit hash: release-beta2", "\nDDS implementation: Fast-RTPS", "\nClient library (if applicable): boost, restcpp", "I\u2019ve read this article ", " and generally I realized how namespaces works.", "However some practical questions are unclear. Do I need to add namespace manually when I crate a client for the lifecycle service OR system does that for me?", "e.g. previously I had", "in ROS2 beta2 it doesn\u2019t work any more  (rclcpp::client::ClientBase::wait_for_service() always ended by timeout).", "I tried those options", "none of them doesn\u2019t seem to work as well.", "Could you hint me what is the right way to call lifecycle \u201c__get_state\u201d service now?", "Namespaces are expanded for you automatically. You can see some examples here:", "In your particular case, you might need to know the target node\u2019s name and do something like this:", "But I\u2019m not 100% sure without seeing what you\u2019re doing exactly.", "Yeap. It works this way.", "I guess it was all about \u2018/\u2019 instead of \u2018__\u2019 used formerly.", "Thank you for prompt response and useful samples.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["// {\"input_topic\", \"node_name\", \"/namespace\", \"expected result\"},", "{\"/chatter\", \"my_node\", \"/my_ns\", \"/chatter\"},", "{\"chatter\", \"my_node\", \"/my_ns\", \"/my_ns/chatter\"},", "{\"{node}/chatter\", \"my_node\", \"/my_ns\", \"/my_ns/my_node/chatter\"},", "{\"/{node}\", \"my_node\", \"/my_ns\", \"/my_node\"},", "{\"{node}\", \"my_node\", \"/my_ns\", \"/my_ns/my_node\"},", "{\"{ns}\", \"my_node\", \"/my_ns\", \"/my_ns\"},", "{\"{namespace}\", \"my_node\", \"/my_ns\", \"/my_ns\"},", "{\"{namespace}/{node}/chatter\", \"my_node\", \"/my_ns\", \"/my_ns/my_node/chatter\"},", "\n", "// this one will produce an invalid topic, but will pass", "// the '//' should be caught by the rmw_validate_full_topic_name() function", "{\"/foo/{namespace}\", \"my_node\", \"/my_ns\", \"/foo//my_ns\"},", "\n", "// examples from the design doc:", "//   http://design.ros2.org/articles/topic_and_service_names.html", "// the node constructor would make the \"\" namespace into \"/\" implicitly", "{\"ping\", \"my_node\", \"/\", \"/ping\"},", "{\"ping\", \"my_node\", \"/my_ns\", \"/my_ns/ping\"},", "\n"], "url": "https://discourse.ros.org/t/how-to-use-namespaces/2236"},
{"title": "ROS2 Security", "thread_contents": ["Compared with ROS, ROS2 take more secure communication into consideration at the beginning of its design which will be built upon the Data Distribution System (DDS) specified by OMG and DDS defines security mechanisms in its DDS Security Spec. However, in ROS2 DDS is wrapped by a very thin (e.g feature-lean) layer which does not necessarily allow the use of all DDS features. In addition, not all DDS implementations also include the DDS security features. The default transport implementation wrapped in ROS2 is Fast RTPS which does not implement the whole DDS specification but only the RTPS transport layer. This layer however, does not specify any security by itself, is this supposed to be added by DDS \u201don-top\u201d ?", "I saw there is SROS2 (", ") which provides the tools and instructions to use ROS2 on top of DDS-Security, will it be the official branch to enable ROS2 security separately?", "Anyway, what\u2019s the current plan or target for ROS2 inherent security ?", "please help clarify/share if any guy know more details ", " , thanks !", "Thanks for your interest in the security of ROS 2! We share your interest in this topic, and want ROS 2 security features to be available \u201cfrom day one.\u201d", "In fact, as of very recently, Fast-RTPS now includes the Authentication and Encryption plugins of the DDS-Security standard:", "\n", "\nThis version of Fast-RTPS is distributed with the Beta 2 version of ROS 2, which was released last month (June 2017).", "We intend to support security features that can pass through the various adapter layers in ROS 2 and target both open-source middlewares (e.g., Fast-RTPS) as well as various proprietary middlewares (e.g., RTI Connext Secure) as our resources permit.", "The work in the SROS 2 branches was merged into the \u201cmainline\u201d ROS 2 trees last month, just before the release of Beta 2.", "Cheers!", "Thank you for your sharing, ", " could you please share me more details regarding the following points:", "We intend to support security features that can pass through the various adapter layers in ROS 2 and target both open-source middlewares (e.g., Fast-RTPS) as well as various proprietary middlewares (e.g., RTI Connext Secure) as our resources permit.", "for example, where to find the detail to learn more technical detail ", "As for SROS2, now it\u2019s merged into the ROS2 mainline, does this mean that the mainline is always enough to use the ROS2 security features from the current to the future ? or the further development will continue on SROS2 when necessary but merge the work on SROS2 into the mainline at a certain ROS2 release milestone?  thank you !", "Thanks for you interest in ROS 2 security!", "As for SROS2, now it\u2019s merged into the ROS2 mainline, does this mean that the mainline is always enough to use the ROS2 security features from the current to the future ? or the further development will continue on SROS2 when necessary but merge the work on SROS2 into the mainline at a certain ROS2 release milestone?", "The sros2 repository is mostly to provide tools to generate and manage security files more easily. The support for DDS-Security has been added within the core of ROS2  itself (you can find the set of changes on various repository on ", "). DDS-Security support is now a \u201ccore\u201d feature of ROS 2 and will be developed and integrated following the same process as any other ROS 2 features.", "\nSo ROS2 will always ship with DDS-Security support from now on.", "for example, where to find the detail to learn more technical detai", "Are you looking for details about DDS-Security itself ? or how DDS-Security is wrapped in the ROS2 interface ?", "If the former, I think that the best resources are the ", " provided by OMG. For details about specific implementations, refer to the vendor\u2019s DDS-Security section ", " for Fast-RTPS, through the RTI Portal for Connext (the information is not public AFAIK).", "If the latter, the set of pull requests referenced in ", " will give context about how the security parameters are passed down the layers of the ROS2 stack. In brief you can decide to create a secure node in ROS2 by simply defining ", ", the user code itself is exactly the same.", "\nThe RCL layer will ensure that the directory to find the security files exists and pass it to the rmw_ layer. Each rmw implementation will use it\u2019s own logic to find the specific files and configure the participant accordingly (see ", " and ", " to see how ot\u2019s done for the 2 currenty supported vendors). Once the participant created with these settings, the DDS implementation will take care of performing the authentication / encryption / access control functions.", "Hope this helps", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-security/2273"},
{"title": "Software reuse in ROS1 and ROS2", "thread_contents": ["As a follow up on ", ", to try to understand expected best-practices.", "What\u2019s the best approach for reusing software components between ROS1 and ROS2? I understand the basic concept of tearing out ROS1/ROS2 specific code, and reusing underlying implementation, but how does this work in terms of a build/release story.", "I\u2019m basing some assumptions from the recent binary release of ", ", which necessitates:", "First I want to mention that the following answers only describe the current state. While we have gained some experience with migrating code we have not yet settled on one (or multiple) specific strategies which we feel comfortable to \u201cofficially recommend\u201d. Therefore this can still change in the future.", "Currently the ROS 1 and ROS 2 packages are released into separate ROS distros. Since both distros have their own namespace (e.g. both have packages with the same name) it is not straight forward to have dependencies between a ROS 2 package and a ROS 1 package as you have notices for the ", ". E.g. on the CMake level it is necessary to identify each package uniquely by its name which is not the case across both ROS versions. Therefore the bridge uses CMake config files only for ROS 2 packages and falls back to ", " for ROS 1 packages.", "Currently the ROS 1 buildfarm and ROS 2 buildfarm are separate instances. But that is more due to keeping things easy to manage. E.g. the ROS 2 Jenkins uses ARM hardware rather than relying on QEMU. Both ", " as well as ", " are using the same underlying logic provided by ", ". Currently the ROS 2 buildfarm doesn\u2019t have doc / devel / PR jobs but those will be added in the future. But more needs to be done i order for the ", " to be able to use ", " as well as support Mac OS and Windows nodes.", "Regarding the question if \u201cit be possible to build one set of sources in both ROS1 and ROS2 distros\u201d that is rather difficult to answer. It highly depends on what the sources are doing / using. If you rely on ", " in ROS 1 and therefore need to use ", " in ROS 2 there are significant changes in the API. Maybe you even want to switch from using nodelets in ROS 1 to using components in ROS 2. Using the same source for both will likely require a lot of conditional code. I am not sure if that is manageable / desired. Two separate branches which are different in these regards might be easier to manage as well as easier to read. That being said this should be possible after all - it only depends how much of the differences between the two system you are willing to \u201cabstract\u201d in your code base.", " was only a brief prototype which hasn\u2019t been continued since then and has many cases where it currently doesn\u2019t work. While it would be convenient to have such an API abstraction a package can easily update its CMake code and use either build system conditionally. Not pretty but doable for now. The decision if we spend more effort into a CMake API shim (which I describe as a ROS 2 package named ", " which provides the same API as the ROS 1 package but uses ", " internally) depends on the path for migration. As mentioned above we haven\u2019t settled on that yet which path(s) to recommend.", "We have considered providing an API shim to mimic \u201csome\u201d ROS 1 API and implementing it under the hood with ROS 2. But significant effort has been put into it so far since there seem to be several difficulties with that approach. But maybe something like that can make it easier in the future to reuse existing ROS 1 code with ROS 2.", "I am likely not answering your questions well. There is still a lot of work necessary to figure out the coexistence between ROS 1 and ROS 2 and potential migration paths. Neither hasn\u2019t received the necessary attention in the past. Hopefully that will change in the future since I think these are all questions which are crucial before considering a first (non-beta) release of ROS 2.", "Is the C++ version up (from 0X to 11 / 14) is also one goal for porting c++ project from ROS to ROS2 ?", "Is the C++ version up (from 0X to 11 / 14) is also one goal for porting c++ project from ROS to ROS2 ?", "Some code exposed in headers in ROS 2 is using C++ 14. So if you code uses those yes, it needs to use at least that C++ standard.", "Thanks for that brain dump, it\u2019s definitely helpful to know what direction you\u2019re going in.", "We have started looking into ROS2 and like many aspects.  We had planned to rework some of our packages with a core software library  and thin ROS wrapper (similar to nodelets/MoveIt/Tf) usage,  but one issue that has been a stumbling block for us is that we use ROS messages as basic data types and prefer to pass const pointers for most of our data handling.", "It seems that ROS2 uses the ROS1-style message generators, but the output headers are placed in different locations making it difficult to have common source files that can be built for either ROS1 or ROS2.", "Is it possible to have a common header generation scheme so either ROS1 or ROS2 puts the headers and Python class files into a \u201ccommon\u201d location relative to the include paths based on package setups?", "Not sure how the story would work for python. Forgive my ignorance of python packaging - a \u2018pure\u2019 package in that case would just be a setuptools ", " type of thing? Is there any way to make a package that would \u2018build\u2019 (be referenceable as a dependency/end up on the PYTHONPATH) in both a ROS1 and ROS2 distro?", "In ROS 2 pure Python packages (using ", ") are already supported. In ROS 1 that is not the case. In ROS 1 the ", " file is being invoked from within CMake and some features (like entry points are not available at the moment. But it should be possible to add support for something like that in ROS 1 (there is no technical reason why that wouldn\u2019t be feasible).", "It seems that ROS2 uses the ROS1-style message generators, but the output headers are placed in different locations making it difficult to have common source files that can be built for either ROS1 or ROS2.", "The rational why the include path of the generated C++ message code is different is to allow writing dual homed applications. E.g. the ", " needs to access the C++ message definitions for ROS 1 as well as ROS 2 in the same source file. If the generated files would have the same include path that would not be possible.", "Is it possible to have a common header generation scheme so either ROS1 or ROS2 puts the headers and Python class files into a \u201ccommon\u201d location relative to the include paths based on package setups?", "It would be possible to generate additional headers which could then be added optionally to the ", ". Those headers could than be used to access the message types using the same include path. But we haven\u2019t spend any time towards that.", "That makes sense short term for bridge, but is problematic for long term code maintenance.  For the basic data type, I would think they should be the same with the only difference would be the serialization operators.", "Would it be possible to define a base class with data type, and then a specific derived class that overrides the serialization for ROS1 and ROS2 usage?  For internal code, you\u2019d only need to pass the base data type around.", "With this model, you could then put the specific derived classes in separate paths for your bridge.  Only the top level middleware specific wrapper would need to know about the derived serialization wrappers.", "That makes sense short term for bridge, \u2026", "I don\u2019t think the ", " is \u201cshort term\u201d. I expect it to be around and useful \u201cforever\u201d since there will likely always be users which use the benefits of both system and want to bridge between them.", "Would it be possible to define a base class with data type, and then a specific derived class that overrides the serialization for ROS1 and ROS2 usage?  For internal code, you\u2019d only need to pass the base data type around.", "First of all this would imply that the message classes share a common base class (requiring changes to ROS 1). It would also require the base class to have a vtable (and least for the destructor). And the functionality in the base class would be dictated by the lowest common denominator since it needs to be available in both ROS version (currently ROS 2 has additional features like default values for fields). And at the end of the day the code creating the messages still needs to decide which subclass it wants to instantiate. Some a user who only wants to use one system (ROS 1 or ROS 2) that is a lot of overhead which I don\u2019t think is reasonable. It also couples the two versions in a way that separately evolving them will be difficult / impossible. If we want to introduce a fancy new feature to ", " files in ROS 2 it will also be necessary to do the same in ROS 1. This is one of the things we strongly want to avoid since stability and robustness is very important to the ROS 1 community.", "This discussion and the points raised remind me of the old discussions about the strategy regarding ROS2 development and its relation to ROS1, so for conetext and completness I would like to link to ", ", which summarizes some of the points, on also has pointers to some of the preceeding discussions. I am posting this without any personal valuation either way. While it does not necessarily paint a perfectly balanced picture, and some of the dicussions are maybe also obscurred by heated personal arguments, I still believe that there are some valid points contained.", "I interpret it such that the main fear from people that have argued for a different strategy to develop ROS2 is that there will not be a viable (in terms of necessary maintenance effort) path for large-scale migration and coexistence of code bases in ROS1 and ROS2, and that the advance of ROS2 might lead to the biggest disruption of the ROS community yet, by effectivly splitting it up in 2 communities, those who go on to only use ROS2, and those, that are \u201cstuck\u201d with ROS1.", "So I guess the community should hopefully come up with ways to make sure that this does not happen (where this thread is part of such an effort).", "There is still a lot of work necessary to figure out the coexistence between ROS 1 and ROS 2 and potential migration paths. Neither hasn\u2019t received the necessary attention in the past. Hopefully that will change in the future since I think these are all questions which are crucial before considering a first (non-beta) release of ROS 2.", "\u2018Hopefully\u2019? Everybody hopes that, of course. But if ", " say hopefully, whose decision is that if not yours? Whose decision was it in the past not to give this the necessary attention, if not yours?", "OSRF was aware of this topic: ", "Also listen again to the end of this ROSCon2015 talk (from minute 46): ", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Are we expecting to end up with a 2 of everything? rviz2, xacro2?", "Are we are going to have separate distros ROS1-only and ROS2-only on the buildfarm? How do you create a package-level dependency between a package in a ROS2 distro and a package in a ROS1 distro?", "Would it be possible to build one set of sources in both ROS1 and ROS2 distros? I imagine this would involve something along the lines of ", "\n", "macros like ", ", which don\u2019t (currently) work great with overlays", "some pretty heavy patching at bloom-time ", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "The idea of a CMake \u2018catkin\u2019 API shim in ament is very attractive, if only to have a standard DRY implementation.", "After some more thought, I suppose common (ROS agnostic) C++ code would best be placed in a pure CMake package, that could be built as a dependency in either a ROS1 or a ROS2 distro. Really, that approach could suffice for anything other than interface packages (_msgs), which is why ros1_bridge needs special macros and patched release repos.", "Not sure how the story would work for python. Forgive my ignorance of python packaging - a \u2018pure\u2019 package in that case would just be a setuptools ", " type of thing? Is there any way to make a package that would \u2018build\u2019 (be referenceable as a dependency/end up on the PYTHONPATH) in both a ROS1 and ROS2 distro?"], "url": "https://discourse.ros.org/t/software-reuse-in-ros1-and-ros2/2262"},
{"title": "ROS 2.0 on ARM", "thread_contents": ["Hi Folks,", "I\u2019m a research engineer and I work with a number of CV researchers on various proof of concept solutions. For some of our projects we used the ROS Indigo framework and it has allowed use to realized a number concepts quickly.", "I believe ROS 2.0 would be a great platform for some of our future projects and would like to start exploring ROS 2.0 and contribute back to the community where it makes sense. In particular I would like to bring up ROS 2.0 on some of our ARM based platforms. If you have any suggestion or pointers on how to get started with ROS 2.0 on ARM it would be greatly appreciated it.  I look forward to working with many of you to advance ROS.", "Cheers,", "\nJay", "I did some ROS2 on ARM testing over the summer, using the Dragonboard (DB410c) and the Turtlebot 2.", "Everything mostly just worked, with a couple caveats.", "Other than that, getting a basic ROS2 demo running was not too difficult.", "Rohan", "We also have CI jobs for some ARM architectures, and I think we have packaging for ARM on the near-term todo list, but I\u2019m not sure when that will happen:", "I\u2019m actually just in the midst of getting the latest ROS2 compiling natively on the Dragonboard 410c with Debian Jessie.  I\u2019ll post updated instructions to the ROS2 wiki in the next couple of days, and that should hopefully be a good starting point.", "Hi Folks,", "Thanks for the quick responses.  These tips will be helpful as I start down this path. I\u2019ll keep you posted as I make progress.", "Cheers,", "\nJay", "I had to use a Ubuntu 16.04 chroot environment, as the Dragonboard only supports Debian. This shouldn\u2019t be an issue on the Raspberry Pi for example, as that can run Ubuntu 16.04 natively.", "I\u2019m using ROS2 on a standard (x86_64) debian stretch (currently testing). So I guess if you could update your dragonboard to debian stretch you will be able to compile ROS2. I wrote some information about installing/ compiling ROS2 on debian a while ago into the ROS2 wiki. I think they should also work on an ARM based architecture.", "\nOnly thing that won\u2019t work at the moment without messing around in some cmake files is building the ros2 tests on Debian.", "I had to use a Ubuntu 16.04 chroot environment, as the Dragonboard only supports Debian. This shouldn\u2019t be an issue on the Raspberry Pi for example, as that can run Ubuntu 16.04 natively.", "I\u2019m running ROS2 on a Raspberry Pi 2 and 3. All I had to do was update Raspbian to Raspbian Testing (The main reason is cmake and gcc)", "Opensplice was problematic, but as Opensplice is no longer supported for ROS2 this shouldn\u2019t be a problem.", "I switched last summer to FastRtps and it runs much better than open splice.", ", Good point, ROS2 should work on Debian Testing/Stretch. The minimum gcc and cmake versions are more recent than Debian Jessie provides, so I just went the chroot route instead of trying Stretch.", "I switched last summer to FastRtps and it runs much better than open splice.", "Yeah Fast-RTPS is much better, has active development, and is willing to work with OSRF. On the other hand OpenSplice seems like abandon-ware, one of the factors that led to it being dropped.", "For the Turtlebot demo I was running, I couldn\u2019t use FreeRTPS due to a performance issue with publishing images (", "). I also didn\u2019t want to get into the Connext building/licensing headache.", "Yeah FreeRTPS is much better, has active development, and is willing to work with OSRF. On the other hand OpenSplice seems like abandon-ware, one of the factors that led to it being dropped.", "For the Turtlebot demo I was running, I couldn\u2019t use FreeRTPS due to a performance issue with publishing images (", "). I also didn\u2019t want to get into the Connext building/licensing headache.", "A small clarification, I think that ", " is referring to Fast-RTPS [1] in this message and not freertps[2] that is not under active development or part of the ROS 2 Continuous Integration for the time being.", "Agreed that ROS2 should work on Debian Stretch. We don\u2019t test it actively but if anybody gives it a try, feel free to post feedback here and/or update the instructions on the ros2 wiki Debian instructions[3] if anything is missing or needs to be updated.", "[1] ", "\n[2] ", "\n[3] ", "Whoops\u2026 ", "Yeah Fast-RTPS is what I meant. Thanks ", "\nEdited my reply for future visitors.", "I\u2019ve crosscompiled ROS2.0 for the Raspberry Pi 2 & 3, and for the Odroid XU4, and as long you have a CMake toolchain, you should be set, just pass it to ", " as a ", " option (see ", " and ", "). I initially wrote my own toolchain for the Raspberry Pi (", "), but I ended up using Polly (", "), which I also use for crosscompiling ROS 2.0 for the iPhone. Polly is very well maintained and the author is very active.", " Polly does not have support for the Dragonboard out of the box, but it\u2019d be a great addition. Ruslan (Polly\u2019s author) is very responsive and usually merges PR very quickly, I submitted a PR for adding support for iOS 10.1 and it was merged the very next day.", "ruslo/polly looks really cool, thanks for the pointer ", ".", "Hi,", "\nI just ran into the same problem of wanting to crosscompile ros2. Are there any instructions on how to do this using Polly (or any other tool)", " Sry for the late answer (I just found this thread because I was looking for a solution on how to crosscompile ros2) but I actively use ros2 with debian testing and a friend of mine even uses arch linux with ros2.-", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["I had to build from source, as there are no armhf/arm64 builds for ROS2.", "I had to use a Ubuntu 16.04 chroot environment, as the Dragonboard only supports Debian. This shouldn\u2019t be an issue on the Raspberry Pi for example, as that can run Ubuntu 16.04 natively.", "Opensplice was problematic, but as Opensplice is no longer supported for ROS2 this shouldn\u2019t be a problem."], "url": "https://discourse.ros.org/t/ros-2-0-on-arm/1413"},
{"title": "Is there any log mechanism/lib for Python in ROS2 or any plan to have?", "thread_contents": ["I cannot find any description in the developer guide and also there\u2019s not such a sample in projects already have in ROS2 repository. Is the \u201cprint\u201d going to be a standard way for python log in ROS2?", "This feature is schedule for the upcoming beta 3 (see ", ").", "Thanks and sorry for not check the road map", " This project would be used in ROS2?", "\nI found ", " to call this log library API.", "As ", " said, ros2_console is only a temporary project for porting.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/is-there-any-log-mechanism-lib-for-python-in-ros2-or-any-plan-to-have/2332"},
{"title": "if(WIN32) guard is missed for many projects in ROS2", "thread_contents": ["Per my understanding XXX_BUILDING_DLL macro only should be enabled when building on Windows, right?", "\nIf that\u2019s true, I don\u2019t understand why \u201cif(WIND32)\u201d guard is missed in so many projects, such as ", " itself.", "\nCould anybody explain it?", "Thanks", "Per my understanding the macros XXX_BUILDING_DLL are processed (replacing ", " by ", " instead of ", ") only if WIN32 is defined. The macros controlling this behavior can be found in the ", " of each package, here ", " for example).", "\nSo If I understand correctly adding an ", " would be redundant.", "Actually it also affects the ", " visibility macro even on posix machines. So it should always be set, imo. Perhaps it could be given a more generic name that doesn\u2019t contain dll. I think we may have even done this in a couple of packages.", "Actually it also affects the ", " visibility macro even on posix machines. So it should always be set, imo. Perhaps it could be given a more generic name that doesn\u2019t contain dll. I think we may have even done this in a couple of packages.", "Then it\u2019s better to make a model in ROS2\u2019s core pojects, so that when people are porting other projects could always have right samples.", "Yeah, it would be good to have that. I probably won\u2019t spend time updating them right now as we have lots of other important things to do as well, but we would probably take pull requests along those lines (renaming the definition to be more accurate).", "Gotcha, thanks for your explanation.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/if-win32-guard-is-missed-for-many-projects-in-ros2/2281"},
{"title": "Is there a urg_node package in ROS2?", "thread_contents": ["Hi, I want to run SLAM using URG-20LX Laser. Is there a urg_node package in ROS2?", "\nThanks a lot", "I have done an initial port of urg_node to ROS 2 which you can find here: ", "It should compile and run, but has not yet been tested with an actual sensor, so you may run into issues. You\u2019ll be able to find links to all of the necessary dependencies here: ", "Thank you very much. ", "I have tried the code from ", ". it could work but has issue.", "\nsince I did not find the place to submit a issue on ", ". so I write here.", "Error: :\u201curg_node\u201d passed to lookupTransform argument target_frame does not exist.", "Reproduce:", "\nroot@robot1:~# urg_node", "\nConnected to serial device with ID: H1626063", "\nStreaming data.", "root@robot1:~# ros2 run tf2_ros tf2_echo urg_node urg_node", "\nFailure at 1501769676.54089", "\nException thrown:\u201curg_node\u201d passed to lookupTransform argument target_frame does not exist.", "\nThe current list of frames is:", "Failure at 1501769677.44048", "\nException thrown:\u201curg_node\u201d passed to lookupTransform argument target_frame does not exist.", "\nThe current list of frames is:", "Verified on turtlebot2_cartographer, Hokuyo URG 04LX_UG01 work well.", "\nThough it has different tf_echo message compared with ROS1, the urg_node driver seems good.", "\nThe frames should be required to publish by static_transform_publisher of tf2_ros, need modified on turtlebot_carto_2d.py", " \u2013 thanks for reporting the issue. I have updated the urg_node project to allow issues and copied your post there (see ", ")", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/is-there-a-urg-node-package-in-ros2/2223"},
{"title": "Trouble opening package in qtcreator", "thread_contents": ["Hi,", "\nI realized today that I can\u2019t open any CMakeLists.txt from any ros2 packages in qtcreator anymore. This worked for me until two weeks ago.", "For example if I try opening this package: ", "\nI do the following:", "\u2013 Found fastrtps_cmake_module: 0.0.2 (/home/firesurfer/workspace/ros2_ws/install/share/fastrtps_cmake_module/cmake)", "\nCMake Error at /usr/share/cmake-3.7/Modules/FindPackageHandleStandardArgs.cmake:138 (message):", "\nCould NOT find FastRTPS (missing: FastRTPS_INCLUDE_DIR FastRTPS_LIBRARIES)", "Any tipps what I can do in order to resolve this issue?", "This looks similar to the issue reported ", ",", "\nCan you try running ", " between step 4 and 5 and report here with the outcome ?", "Thanks!", "export CMAKE_PREFIX_PATH=$AMENT_PREFIX_PATH:$CMAKE_PREFIX_PATH", "That\u2019s it. Works fine now.", "Wouldn\u2019t it be possible to integrate this step into the setup script of the workspace? I think its quite annoying to do this by hand.", "The current setup files only set/update environment variables in order to \u201crun\u201d the ROS 2 packages.", "There might be separate scripts in the future to setup the environment for building (see ", "). For now you have to set the ", " manually.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Open a shell", "Source the ros2 workspace", "Build the workspace the package is in", "Source this workspace", "In this terminal I open qtcreator", "Then I configure the build folder into a seperate folder (for example qt_build/ros2_simple_logger)", "I run into this error:"], "url": "https://discourse.ros.org/t/trouble-opening-package-in-qtcreator/2196"},
{"title": "Sliding mode control using ros_control", "thread_contents": ["hi . i want design sliding mode control using ros_control . can any body help me ? i need guid .", "Hi there,", "I don\u2019t think this question actually fits into the category of \u201cNext Generation ROS\u201d, which is mainly focusing on ROS2. I\u2019ve seen that you opened an issue with the same question on github, as well as posted the question on the ros control SIG. I believe these places are more eligible to get your answer.", "SIG post: ", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/sliding-mode-control-using-ros-control/2385"},
{"title": "Ros2 alpha6 install problem", "thread_contents": ["Hi,", "for some experimental reasons I have to install ros2 on Lubuntu 14.04.5 LTS, that leaves me only the ros2 version earlier than alpha6. So when I source the terminal and run talker, it gave me an error message:", "talker: error while loading shared libraries: ", ": cannot open shared object file: No such file or directory.", "I\u2019m guessing I missed out some dependencies uninstalled, but the latest intalling tutorial is oriented to Beta version I suppose( ", " ). So does anyone here still knows how to solve this problem?", "Thank you very much!", "In alpha 6 and earlier we were shiping ros2 with Opensplice as the default DDS implementation. ", " is an opensplice library.", "\nTo install it you need to add ", " to your sources:", "and install libopensplice64:", "The installation instructions for alpha6 are available here: ", "Please be aware that many things changed in ROS 2 since alpha 6 (API, features, documentation, supported middleware) so we encourage users to use the latest release. You can run beta2 in a docker container for example.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-alpha6-install-problem/2389"},
{"title": "ROS2 with Laser support", "thread_contents": ["Is there any plan to official support of laser driver (urg_node) on ROS2 for Turtlebot2_cartographer and navigation?", "Seems urg_node packages has been porting by ", " (", "), basic function works for turtlebot2 cartographer mapping as we quick verified. Will this project be able to merge/include in ", " ?", "A package doesn\u2019t need to be hosted on the ", " org unit on GitHub in order to be \u201csupported\u201d. In ROS 1 many packages are being maintained by different people and hosted in various places.", "For the recent Beta 2 release we didn\u2019t have the ability yet that anyone can release a ROS 2 package to the buildfarm. But that will be the case in the future the same as it is for ROS 1.", "Thanks for your information.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-with-laser-support/2381"},
{"title": "Update time for get_node_names", "thread_contents": ["Hi,", "\nI wondered how long the get_node_names method in the rclcpp graph interface takes until it notices that a node was shutdown or a new node was added assuming I used Fast-RTPS as middleware?", "Another question: Are there any plans to implement some kind of callbacks/events that get called in case node was added / shutdown from the system?", "Just to push this topic a bit.", "\nI was asking this question because I did some tests with two nodes. I was very surprised when I found out that it takes just a few seconds until a newly started node is shown in the list of the previous started node.", "\nBut if I stop a node it takes about 5 minutes until the change is shown in the list of the node that is still running.", "I just took a look at the implementation below but wasn\u2019t able to find any information in the fast rtps code how long it should take until the shutdown of a node is known by the rest of the system.", "The fact that it takes so long for a node to go away might be related to the Fast-RTPS settings or perhaps if the node is not terminated cleanly.", " implemented this, so I\u2019ll let him chime in, but we might need to change the implementation of this anyways to address node name uniqueness or the mapping of nodes to participants.", "We have the graph API for changes to the graph, but I think it currently does not get notified when new nodes are added or when nodes are removed. I guess ", " just didn\u2019t implement that part when doing the initial implementation. Again the behavior (or underlying mechanism) may need to change in the future.", "Sorry for coming back on this so late.", "The ", " ", " has been added to FastRTPS to get going with exposing node names. It\u2019s clearly a one-directional implementation, saying that every time you ask for available nodes, you basically ask FastRTPS for available participants. I am not really familiar about the underlying specifics within FastRTPS to give qualified feedback on why it takes that long. There is no API currently for the rosgraph, notifying about node changes, only about topics (AFAIK).", "I believe that FastRTPS has support for callbacks on node changes, but I have to look into it. For the time being, I would invite you to open a github issue for that particular scenario of yours, maybe posting your code snippet and we can pick it up from there.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/update-time-for-get-node-names/2333"},
{"title": "ROS1_bridge in binaries files?", "thread_contents": ["Is there already an ros1_bridge Lib in the beta2 binary-release, which I could direcly use it?", "Or another question:", "\nIs there a way to build the ros1_bridge package in windows, and use it to communication bewteen a ROS2_node on windows and a ROS1_node in a linux_virtualbox?", "\nFrom what I know now, the building of ros1_bridge package would also require some of the ros1 packages?", "Yes, the binary release contains the ", " package. It is being compiled with a set of common message packages. If you need to support additional messages you need to build the package from source.", "In theory yes, you should be able to build the ", " package on Windows. But you will need to build the necessary ROS 1 packages on Windows as well which is certainly not pleasant and well supported. But some users have done that in the past so it should be possible.", "For your situation you may find the following sufficient:", "On the windows machine, run only ROS 2 nodes.", "\nOn the linux machine, run your ROS 1 nodes, and run the ", " from binaries to talk with the windows machine.", "This is a well-supported setup", "Thank you! This is a good solution.", "\nStill, I\u2019m not very sure how does this ros1_bridge work?", "\nIs it a ros2_node that receive messages from a ros1_node and then simultaneously publish them?", "Is it a ros2_node that receive messages from a ros1_node and then simultaneously publish them?", ", the bridge is a process that has a ROS 1 node and a ROS 2 node. It subscribes to topics on both sides and publish them on the other side. The default behavior of the dynamic_bridge is to bridge only topics that have a publisher on one side and a matching subscriber on the other side (for example a ROS1 publisher on \u201cchatter\u201d and a ROS2 subscriber on \u201cchatter\u201d). This behavior can be changed by using the ", "I see, thank you for your answer.", "\nNow I\u2019m trying to implement a graphic interface using Qt for ROS1&2 talker and listener on linux ( select a msg-type then click \u201cpublish\u201d or \u201csubscribe\u201d -button that kind of simple GUI).", "\nUsing the rclcpp library and std_msg library is straight-forward, but how should I use this \u201cros1_bridge\u201d library? Is there a document or example codes out there about it?", "Thank you!", "The ", " package only generates executables but no libraries at the moment. Therefore you would run the ", " executable as a separate process. In the future we might provide a library which provides a component which can be dynamically loaded into a component manager to make use of the intra-process communication advantages.", "Please see the ", " as well as the ", " in the repository for some documention.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros1-bridge-in-binaries-files/2380"},
{"title": "Make Ament work with another build system (for cross-compilation)", "thread_contents": ["Hello !", "Here is my problem : I\u2019m porting ROS2 to microcontrollers with RIOT, but I can\u2019t use the Ament build system for managing the cross-compilation. Indeed, RIOT has it\u2019s own build system, and needs to compile all the sources (to manage flags, linking, etc\u2026).", "Since I still need Ament to generate rosidl things, I think it would be great to make the two work together.", "Is there a way to tell Ament to only export sources/headers (generated or not), and not compile it ?", "\nIs there a way to call the RIOT makefiles from Ament ?", "\nIs there a way to export the path where Ament have \u201ccopied\u201d the sources to an other build system ?", "\nHow to manage the target hardware ? Is Ament able to switch between different rosidl, rmw, build systems when the final ROS node is supposed to be cross-compiled ?", "Cheers !", "but I can\u2019t use the Ament build system for managing the cross-compilation.", " is only providing some additional features on top of CMake. Therefore you should be able to do any kind of cross compilation which is possible with CMake (if not that would be a bug and should be fixed). If you clarify why you think you can\u2019t use it for cross-compilation someone might be able to suggest / help with it.", "Since I still need Ament to generate rosidl things, I think it would be great to make the two work together.", "The build system ", " is not related to the ", " message generation. Each message generator has a command line interface which you can call from anywhere else. Thee generators have a significant amount of parameters though. The CMake provided by ", " only helps you with the invocation of these command line tools.", "Is there a way to tell Ament to only export sources/headers (generated or not), and not compile it ?", "No, CMake can not be used like that.", "Is there a way to call the RIOT makefiles from Ament ?", "You can call arbitrary external commands from within CMake. I think ", " would be appropriate for this which you will find in the CMake docs.", "Is there a way to export the path where Ament have \u201ccopied\u201d the sources to an other build system ?", "How to manage the target hardware ? Is Ament able to switch between different rosidl, rmw, build systems when the final ROS node is supposed to be cross-compiled ?", "I don\u2019t understand these questions. Maybe you can elaborate what you mean.", "Thank you for your answer !", "I will still have problems to make work CMake and RIOT\u2019s Makefiles together (I already tried in an other project), but it seems more doable.", "For the last questions, let me explain a little :", "\nRIOT cannot be compiled as-is. It needs to handle the whole application\u2019s build. To do so, it provides a template Makefile ", " that will compile the application and all the modules needed, and then link them. To transform any source into a RIOT modules, you may just add a ", " in the same directory (and add a reference to this directory in the user application\u2019s Makefile). Once this is done, you can compile your application for any microcontroller that is supported by RIOT.", "That being said, you can do some workaround. A dummy user application that require the needed RIOT modules can be compiled, and the object/archive files can be extracted to be integrated in an other build system (CMake). But this raise a lot of question on how \u201cinformation\u201d (compilation/linking flags, target microcontroller, needed modules) is passed between the two build systems. I already tried this approach, and ended with an application compiling and linking well, but not working for obscure reasons (one RIOT modules could not communicate with one of mine).", "But there is an other workaround. Let\u2019s say that if RIOT needs to compile everything to work well, you can transform everything in a RIOT module. Since you only need to add small Makefiles to a project to make it a module, it may be worth exploring this solution. But this raise questions on how to tell RIOT where are the modules. This approach also solved my \u201cobscure reasons\u201d in the former project.", "I\u2019m not sure if I\u2019m really clear, tell me if it\u2019s not the case. It\u2019s a bit complicated because it is not designed to work like that. My questions explored the two possibilities, to determine which one is the best or even possible. I was more confident with the second approach because it\u2019s the one I currently use, but considering what you said, it seems not possible to use it in a clean and compatible way with Ament/CMake.", "I don\u2019t know anything about RIOT. So I can\u2019t give any more advice, sorry.", "Is there any documentation about CMake variables *_INCLUDE_DIRS / *_DEPENDS / *_WHATEVER", "\nthat are exported by ament ?", "I can\u2019t find any documentation.", "I am only able to retrieve these variables with imported packages, not the current one.", "Many of the variables are common in CMake, e.g. ", ", ", ", etc. There is no ", " specific documentation for those.", "Other variables are commonly not being used by users and are therefore not mentioned anywhere.", "In general there is not much documentation beyond the API docs (this is ticketed in ", "). If there is a specific variable you would like to know more about please don\u2019t hesitate to ask. I am happy to provide feedback.", "Let\u2019s see with an example :", "If I understand well, it\u2019s the ", " call that fills the variables, isn\u2019t it ?", "As you can see, there is 4 dependencies (ament_cmake, rclc, std_msgs, rosidl_typesupport_test). How can I extract these 4 dependencies from a variable ? I want something like ", " that gives me the list of dependencies of the project (extracted from the package.xml or anything) on which I could iterate with \u201cforeach\u201d.", "I don\u2019t want to get rid of the ", " calls, I just want to be able to display the list just after ", ".", " internally calls ", " which is responsible to parse the ", " file and defined CMake variables for various parts. You can either access the variables after the ", " call or manually invoke ", " anytime before to get the information earlier.", "The ", " script is responsible to extract the majority of the information. You can also look at the generated CMake code for a specific folder - in each package build folder you find a file name ", ". It contains all the CMake variables defined for the package, e.g. variable for the package name, version, maintainer, all the dependency types, version, export tags, etc.", "As an example the generated ", " file for the ", " package looks like this:", "Thanks for your help !", "\nI can go forward for now.", "\nI may come back later if I have further questions.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/make-ament-work-with-another-build-system-for-cross-compilation/2382"},
{"title": "SROS2 - Securing certs and keys", "thread_contents": ["Hey guys,", "\nI was wondering if there was a technical document for SROS2. I\u2019m very much interested in what it offers and want to get to understand its inner workings. I also understand that the project currently is able to create signed certificates. How are the certificates and private keys getting saved? I was planning on using secure keystores to do that. Would something like that be valuable?", "Hello ", ",", "The current way the certificates are being constructed is quite basic: via subprocess commands to openssl\u2019s CLI. Once you exicute the ", " command via the SROS CLI, an ", " is triggered to bootstrap the openssl configuration files, then calls upon openssl command to generate the private keys, and singe the necessary public certificates.", "Later, should you decide to invoke access control, the ", " command will again use the keystore to sing governance and permission files consumed by the vendor specific middle ware to enable access control enforcement as defined in the ", " spec.", "I\u2019m working on refactoring this to use something like a modern python library such as ", " to more pragmatically control the key generation and signing of certificate authorities, like I did for SROS1. Last year I did spend a brief amount of time exploring more rigorous keystore solutions, such as open source projects like Vault:", "Centrally secure, store, and tightly control access to secrets across distributed infrastructure and applications.", "However, in the end I figured most end users would not enjoy installing and learning a host of other dependencies and frameworks, and would more likely impeded the ease of use and adoption of SROS. So I went with the simple method of optionally ciphering the private keys to disk. Most PKI frameworks support loading ciphered keys via secrets that can be supplied at runtime, as used in SROS1 ", ". End users can easily take additional steps from there to guard private keys via additional custom solutions if need be.", "What secure keystores methods where you looking at? It would still be nice if we could design SROS2 to interoperate easily with other 3rd party keystores methods.", ",", "In all honesty, I\u2019m still in the process of figuring it out. My idea was creating a package that would help users make use of a TPM to secure the certificates and keys. This work is meant to go towards my Master\u2019s research.", "\nOnce again, this is just an idea and hasn\u2019t fully taken shape yet.", " Good point, can you share more details regarding your enabling to TPM ? thank you . ", "I have another question for the SROS2, you know, the SROS supports AppArmor, why is it dropped from the SROS2 ? is it not necessary to protect from the system level now from your perspective ? thank you !", " Thanks for your interest in SROS and SROS2.", "SROS supports AppArmor, why is it dropped from the SROS2 ?", "The development of SROS2 has been focused on the communication security rather than the system security so far. I wouldn\u2019t say that system-security is \u201cdropped\u201d but rather \u201cnot implemented\u201d yet.", "\nAs you may know ROS2 targets a wider variety of platforms (non-Linux or non-posix) and applications than ROS1. Currently SROS2 has been geared towards providing secure communication at the lowest level of the ros client library (rcl) to allow users to leverage it regardless of the programming language, platform or implementation of the communication protocol. Currently we test on Ubuntu, MacOS and Windows, in C++ and Python, and with eProsima\u2019s FastRTPS and RTI\u2019s Connext.", "We haven\u2019t yet looked into the best way to interface system security tools to the current SROS2 implementation but we definitely want to do it in the future. Given that it is pretty orthogonal to the encryption of the communication it can be addressed separately. While Apparmor is awesome, it is Linux only and thus will target only one of our supported platforms. Ideally SROS2 will provide a way to define the permissions of your application in a platforms-agnostic manner and be extensible to implement generators that will provide \u201cconfiguration files\u201d or \u201cprofiles\u201d according to the tool or platform you want to use. And the tool on Linux can very well be AppArmor.", "As ", " well put it, AppArmor support has not necessarily been dropped from SROS2, but rather not yet implemented. My present focus has been integrating ROS2 with DDS Security, and have not yet had time to expand upon the apparmor profile to support ROS2. Another reason is that I haven\u2019t yet surveyed ROS2\u2019s installation structure yet, as the majority of the apparmor profile library for ROS1 helps users to author profiles of there own by abstracting the ROS1 file directory layout.", "However, as mentioned before, apparmor support is somewhat orthogonal to SROS2 interrogation with DDS Security, and so could be developed in parallel. I would certainly invite contributions and pull requests from the rest of the community to add support for ROS2, or help review what ", ".", "Contribute to apparmor_profiles development by creating an account on GitHub.", "Hmm\u2026 What literature have you found on the subject of Trusted Platform Module and robotics? I do like the idea of having the private credentials used for SROS2 isolated from the host OS, but that may require coding 3\u2019rd party plugin, as the default DDS crypto plugin must load the private key from a path on disk, or serialized PEM string.", "Funny you should mention TPM though, as last week or so when I was at the RoboCub 2017 Symposium, I met a PhD student, Sarah Haas from Graz University of Technology, who was presenting work on a similar topic:", "Secure Authentication for Industrial Mobile Robots using Biometric Data", "You may want to investigate the lab Sarah is from. I recall some of Sara\u2019s peers working on using TPM for the Diffie-Hellman key exchange and establish a symmetric session key without revealing the private key to the network host.", " ", " thanks for your infomation, let me have an basic gap/work evaluation to implement the AppArmor to SROS2 and I may try to enable that if no conflicts after evaluation ", "It seems that this solution focus more on external authentication to an IMR(Industrial Mobile Robot), you know, now the ROS nodes can employ the key/certificate produced using SROS2 to authenticate/encrypt/access control for the nodes/topics etc, but do you think it\u2019s necessary to provide the security to the key/certificate itself ? now they\u2019re placed on the disk without any protection, that means it\u2019s easy to be accessed or tampered.", "\nBTW, you know more details regarding the details of SROS2 implementation, so could u please help double confirm/clarify the following questions:", "Many thanks", "\nBRs", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Keystore: does it support key exchange between publisher / subscriber, etc? Can keystore be changed?", "Encryption of data AES-GCM-GMAC: used to have license issue on GCM, has its license model been changed?", "Tools to create keystore, certificates: are they out-of-band tool that user needs to use this tool to create keystore manually first then pass it to DDS? How does the whole solution work?", "Is there any access control for SROS2: tools, encryption, etc?"], "url": "https://discourse.ros.org/t/sros2-securing-certs-and-keys/2400"},
{"title": "ROS2: DebugModuleNotFoundError: No module named 'rclpy._rclpy'", "thread_contents": ["I am building ROS2 Debug Source Build on Windows (Using python_d). C++ examples works fine. But when try to run the python example get the following  error:", "I\u2019m following the steps mentioned: ", "Any suggestion, how to resolve these?", "Regards", "\nMrutunjayya,", "Errors:", "thanks ", " for reporting.", "By the look of it it looks like the python debug libraries have not been found when you built.", "Can you confirm that you have a file called ", " in ", " ?", "I would expect the result to be the same but can you try to run the executable directly:", "Finally can you provide your build output of rclpy and demo_nodes_py ?", "Thanks!", "Thanks ", ".", "I do not see _rclply_d.pyd file in the site-packages\\rclpy folder.", "Re-Built as mentioned in your response still not \u201c_rclply_d.pyd\u201d. Here is the build log as you mentioned:", "-DCMAKE-BUILD_TYPE=Debug", " sorry looks like ther was a typo in my message. can you try the same thing with", "\n", "  ?", "\nYou should see", "In the build command i\u2019m using", "\u2013cmake-args -DCMAKE-BUILD_TYPE=Debug", "isn\u2019t it correct?", "Regards,", "\nMJay", "the name of the cmake variable is ", " (with only underscores) (", "). Right now it is trying to build in \u201cNone\u201d that\u2019s why the libraries dont have the right suffix", "thanks now i can see the file. But I get the following runtime ", " error attached", "\nscreenshot. Should this go on different thread?", "Regards,", "\nMjay", "hmm that looks a lot like an issue I faced recently ", "\nCan you try to apply the same change and see if you still have the same error ?", "Yes\u2026still the same error.", "Regards,", "\nMJay", "Yeah let\u2019s move it to a different thread then.", "\nCan you open an issue on ", " with:", "your configuration:", "the exact list of commands you ran", "a stacktrace (or the callstack from Visual Studio debugger)", "if it works in Release mode but not in Debug mode", "if it works when you build master instead of beta2", "Any other information you think will be useful for us to reproduce your issue.", "Thanks!", " Thanks for your assistance. I will create a new thread for the issue under rclpy", "\n.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", "\n", "Windows version", "Visual Studio version", "Python version", "which rmw_implementation you use", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n"], "url": "https://discourse.ros.org/t/ros2-debugmodulenotfounderror-no-module-named-rclpy--rclpy/2401"},
{"title": "Interpolate function in cache.cpp seems to output wrong timestamp", "thread_contents": ["I have been trying to troubleshoot why the TF is not working on our platform.  While reading through the code, I saw that the interpolate function in \u201cgeometry2/tf2/src/cache.cpp\u201d seems to be outputting the wrong timestamp.  The code is below:", "void TimeCache::interpolate(const TransformStorage& one, const TransformStorage& two, TimePoint time, TransformStorage& output)", "\n{", "\n// Check for zero distance case", "\nif( two.stamp_ == one.stamp_ )", "\n{", "\noutput = two;", "\nreturn;", "\n}", "\n//Calculate the ratio", "\ntf2Scalar ratio = double((time - one.stamp_).count()) / double((two.stamp_ - one.stamp_).count());", "//Interpolate translation", "\noutput.translation_.setInterpolate3(one.translation_, two.translation_, ratio);", "//Interpolate rotation", "\noutput.rotation_ = slerp( one.rotation_, two.rotation_, ratio);", "output.stamp_ = one.stamp_;", "\noutput.frame_id_ = one.frame_id_;", "\noutput.child_frame_id_ = one.child_frame_id_;", "\n}", "Shouldn\u2019t output.stamp_ be the time that is queried for?  I seem to be receiving correct data overall, so I am thinking maybe this output for the timestamp is ignored higher up, but I was curious of why it is this way.", "Yes, that looks like a bug. And it should set the output to the query time. It looks to be an issue ", ". I suspect you\u2019re right it\u2019s generally masked due to small interpolation values from high frequency inputs and or higher level APIs ignoring that return value and assuming the query times. And the low level unit tests ", " the timestamp with the output value. A bug or PR for that would be appreciated.", "I submitted a ", " for that.  It seems like I do not have permissions to make a remote branch in order to do a PR.", "You need to fork the repo with your github user and then create a branch there. Then you\u2019ll be able to send a PR to merge your fork branch into the upstream main/devel one.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/interpolate-function-in-cache-cpp-seems-to-output-wrong-timestamp/2489"},
{"title": "ROS2 Beta2, how to include the RCL into Qt?", "thread_contents": ["Hi everyone,", "\nSo earlier before I was using ROS2 beta1 version on Qt. It was working when I include the library files of ROS2 using Qt\u2019s default way of add 3rd-party libraries. (right click on project and choose \u201cadd libraries\u201d and so on\u2026)", "But when I switch to Beta2 version, this method doesn\u2019t work anymore. I guess it\u2019s because they introduced the commmand line tool like \u201cros2 run\u2026\u201d and somehow the way the static library linking to its dynamic library is changed?", "Under Windows10, I tried adding the path \u201cC:/dev/ros2/install/bin\u201d into the environment variable PATH, but still it didn\u2019t do the trick. So does anyone have an idea of how to properly import Beta2-Libraries in Qt?", "Thanks a lot", "The installation of executables to ", " instead of ", " for the ", " command doesn\u2019t affect the location of libraries. Therefore I don\u2019t think this is related.", "In general you don\u2019t have to modify any environment variables if you do call the setup file (which will do that for you).", "Maybe you can post more information, what the exact error message is as well as the steps you are doing. E.g. a reproducible example might help to give you more specific feedback what might be causing the problem.", "Hi thomas,", "\nThank you for the reply!", "\nHow should I call the setup file inside qt?", "The problem is: every time I use any function in rclcpp, for example, ", ", qt would crush at run time.", "\nNo error message from Qt it simply crushes.  Building in Qt was fine.", "For testing you can just import the two libraries: rclcpp and PocoFoundation.", "Everything was working fine on Beta1 with Qt. Only with the Beta2 version, I have this problem.", "How should I call the setup file inside qt?", "Please refer to the ", " which describe how to use the setup file.", "Maybe you can post more information, what the exact error message is as well as the steps you are doing. E.g. a reproducible example might help to give you more specific feedback what might be causing the problem.", "Please provide more information to allow others to help you. With the sparse information you have given I can\u2019t provide any better feeedback.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-beta2-how-to-include-the-rcl-into-qt/2547"},
{"title": "ROS2 + Clion", "thread_contents": ["I am just posting this here for completeness (thx ", ") and complement to ", " :", "In ROS2 you can not have (yet?) your full workspace being imported in your IDE. However what you can have is individual packages and an environment for all dependencies. Say for e.g. rclcpp this what you do to get it imported into Clion:", "You first need to compile ros_ws with ament: ", ".", "$ source ~/ros_ws/build/rclcpp/cmake__build.sh ", " will setup your environment", "\n$ clion # go to File => Open => ~/ros2_ws/src/ros2/rclcpp => click OK", "That\u2019s it!", "I have now also found a way to load a whole ROS2 workspace into Clion. At least code browsing is now made easy.", "a) You first need to compile ros_ws with ament: ", ".", "b) Second you need to prepare you top level CMakeLists.txt file:", "c)  Put this CMakeLists.txt into your ros_ws.", "d) Comment out the following line in ament_cmake_core/ament_cmake_uninstall_target-extras.cmake:", "e)", "$ source ~/ros_ws/build/rclcpp/cmake__build.sh ", " will setup your environment", "\n$ clion # go to File => Open => ~/ros2_ws/CMakeLists.txt => click OK", "f)", "\nDisable BUILD_TESTING:", "In Clion File => Settings => Build, Execution, Deployment => CMake => Cmake options: -DBUILD_TESTING=OFF", "g)", "\nYou can right click on the Clion project => Reload CMake Project. There will be some warnings about missing OpenSplice dependecies which you can safely ignore.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["cd ros_ws", "find src -name CMakeLists.txt -not -name ", " -print0 | xargs -0 -n1 dirname | sort --unique", "after I manually removed all fastRTPS subfolders and test subfolders", "I also skipped all ament_* folders", "I used emacs to replace ./ with add_subdirectory and to add ) at the end of every line (replace-string, C-q C-j)"], "url": "https://discourse.ros.org/t/ros2-clion/2508"},
{"title": "Naming conventions for ros2 msgs", "thread_contents": ["Hi,", "Will it be allowed to put \u2018_\u2019 in the name of a ros2 msg?", "In ros2 wiki it is not defined: ", "In ros1 wiki it is mentioned to put the name in camelcase and therefore no underscore seems to be allowed: ", " under 2.3 Messages", "Is this also the case for ros2?", "For ROS 2 the format of the interface files is specified in ", ". The naming scheme for the filename hasn\u2019t changed since ROS 1 and still only allows alphanumeric characters.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/naming-conventions-for-ros2-msgs/2583"},
{"title": "Issues with rtpsgen", "thread_contents": ["I started with ROS 2.0 recently. After going through the initial basic steps, I thought of writing some test package. However when I add my workspace to eclipse (oxygen), it would report 7 build errors, \u2018rtpsgen\u2019 is missing required library: \u2018lib/antlr-2.7.7.jar\u2019. I tried installing the latest antlr library 4.5 however the error still persists. However it did not create any issues while creating an ament package or a normal build.", "I would like to what sort of error is this?", " is the code generator of ", ". ROS 2 doesn\u2019t use that tool so we have never tried to interact with it. You might want to ask your question on the upstream repo of ", ".", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/issues-with-rtpsgen/2593"},
{"title": "Array parameters", "thread_contents": ["The ", " says this about parameters comprising arrays of primitives:", "Support for arrays of primatives", "\nDuring the API discussions supporting arrays of primatives was discussed and deferred. Adding support for arrays in the interface is relatively straight forward. It slightly increases the complexity of the API for users, but can support several use cases. A use case for arrays of numbers is expressing a matrix or vector, addressing each position in a matrix by some sort of row-column naming scheme can get very cumbersome.", "Two questions:", "Apologies if I\u2019m missing something and this is already supported.", "I believe we were planning to implement lists of parameter primitives as part of our beta-3 work on parameters, but it looks like that will be pushed until after beta-3 unfortunately.", "I don\u2019t know if it will get prioritized or not before the first release. I hope we have time to do it, as I think it\u2019s a pretty important feature for parameters.", "OK, good to know. Thank you!", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Are there any plans to implement this? I\u2019d like to port a package to ROS2, but it requires the ability to specify parameters in vector/matrix format.", "If there aren\u2019t any plans, are there specific objections to a contribution to enable this functionality?"], "url": "https://discourse.ros.org/t/array-parameters/2607"},
{"title": "Compile error with source checkout", "thread_contents": ["Hi all,", "\nI am using the link ", ". I did till the download part without any error. But unable to proceed further because of some compilation error. Seems some missing package of console_bridge.", "==> \u2018. /home/baila/ros2_ws/build/console_bridge/cmake__build.sh && /usr/bin/make cmake_check_build_system\u2019 in '/home/baila/ros2_ws/build/console_bridge\u2019", "\nCMake Error: The source directory \u201c/home/baila/ros2_ws/src/ros2/console_bridge\u201d does not exist.", "\nSpecify --help for usage, or press the help button on the CMake GUI.", "\nMakefile:278: recipe for target \u2018cmake_check_build_system\u2019 failed", "\nmake: *** [cmake_check_build_system] Error 1", "<== Command \u2018. /home/baila/ros2_ws/build/console_bridge/cmake__build.sh && /usr/bin/make cmake_check_build_system\u2019 failed in \u2018/home/baila/ros2_ws/build/console_bridge\u2019 with exit code \u20182\u2019", "\n<== Command \u2018. /home/baila/ros2_ws/build/console_bridge/cmake__build.sh && /usr/bin/make cmake_check_build_system\u2019 failed in \u2018/home/baila/ros2_ws/build/console_bridge\u2019 with exit code \u20182\u2019", "Seems like you\u2019re missing ", "?", "It should come with the source checkout\u2026right? If i download it manually, will i face any problem while i submit it on git?", " Can you provide the exact steps you followed to update your workspace? What version of ros2 are you using?", "For ROS 2 Beta 2 we had to use our ", " of console_bridge because of some missing features. Since these features have beend integrated we are now using the ", ".", "Can you try for remove console_bridge from your workspace and import your repos file again? to do so run the following:", "I am following the exact steps from ", " including update and pull. After doing the rebuild part, I am getting the above error.", "I deleted the complete folder and started again. Working fine now.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/compile-error-with-source-checkout/2600"},
{"title": "Maximum amount of publisher / subscriptions per node", "thread_contents": ["Hi,", "\nI was wondering if it\u2019s bad in terms of resources to have a great amount of publishers and subscriptions to the same topic in a single application / node or does ROS2/DDS manage them in the background ? Would it be better to have some kind of TopicManager that returns / manages instances of publishers/subscription inside an application. (And all classes that want to use a publisher ask the TopicManager for an instance of this publisher)", "Also do I have to worry about a large amount of different topics in the system? Is the amount of topics somehow related to a increase in cpu / memory usage or do I just pay cpu/memory if I\u2019m sending/recieving messages on a topic?", "Lennart", "I was wondering if it\u2019s bad in terms of resources to have a great amount of publishers and subscriptions to the same topic in a single application / node or does ROS2/DDS manage them in the background ? Would it be better to have some kind of TopicManager that returns / manages instances of publishers/subscription inside an application. (And all classes that want to use a publisher ask the TopicManager for an instance of this publisher)", "I would say that is bad to have many instances of publishers or subscriptions on the same topic in the same node, if you can avoid it and you don\u2019t mind them sharing queues.", "In ROS 1, at least publishers, and I think subscribers, for topics were singletons. I know that if you created a publisher on topic foo in one place, and in another part of the code you created a publisher on the same topic foo then you\u2019d get a handle to the same publisher. This is bad, for example, when you wanted to specify a different queue size for each, see:", "But is was good, on the other hand, for avoiding duplication of resources when you didn\u2019t mean to do so.", "If it the same is true for subscribers in ROS 1 (I didn\u2019t check yet), then it could also be bad that they would share the same queue. Consider a subscriber with a queue size of 10 and the user creates two subscribers, each with a different callback but on the same topic. When a new message is received on the topic, does the message get delivered to both callbacks or just one? If it is delivered to both, what happens when one callback is really slow, does it keep the messages in the queue until all callbacks are done with each message?", "In ROS 2 we wanted to make sure that each instance of a publisher or a subscription had the option to have their own queue. That makes the semantics clearer and it makes it possible to write code that cannot be interfered with from other code in the same process (which can be a concern when using the ROS API\u2019s from within a library or when making nodelets). The trade-off is that each time a user creates a publisher in ROS 2, there will a queue and any other associated overhead generated as well.", "That all being said, I think that we make users aware of this, then making a singleton for your publishers and subscriptions is something the user can do on their own.", "Also do I have to worry about a large amount of different topics in the system? Is the amount of topics somehow related to a increase in cpu / memory usage or do I just pay cpu/memory if I\u2019m sending/recieving messages on a topic?", "I don\u2019t think you need to worry about it too much. I\u2019m not 100% certain about the overhead on the network, but you could expect some overhead in memory/cpu usage and possibly some overhead on network due to introspection and discovery processes. However, it would always be better to only create new publisher and subscription instances when you explicitly need a unique one with it\u2019s own settings and resources.", "Thanks for your detailed answer!", "\nI\u2019m going to create my own management class for publisher/subscriptions.", "I don\u2019t think you need to worry about it too much. I\u2019m not 100% certain about the overhead on the network, but you could expect some overhead in memory/cpu usage and possibly some overhead on network due to introspection and discovery processes. However, it would always be better to only create new publisher and subscription instances when you explicitly need a unique one with it\u2019s own settings and resources.", "As far as I can see every node creates some topics for interacting with a parameter server by default. Can I somehow disable this behaviour ?", "I also have another implementation specific question: Is it possible to have a subscription call multiple callbacks?", "As far as I can see every node creates some topics for interacting with a parameter server by default. Can I somehow disable this behaviour ?", "Not currently. Right now this publisher is always created:", "We\u2019ve often talked about adding an option to the node constructor which would avoid this, but we\u2019ve always stopped short because we wanted to implement a proper way to pass lots of options to a node constructor other than lots of arguments, i.e. some sort of rclcpp specific node options struct.", "However, if you proposed a new argument to the node constructor which disabled this topic, then I\u2019d consider it for merge in the meantime.", "I also have another implementation specific question: Is it possible to have a subscription call multiple callbacks?", "Not right now, but we also would like to do that at some point. You can implement it trivially though, by creating a single callback for the subscription which then iterates over a list of callbacks, calling each in turn.", "We thought about multiple callbacks for single subscriber in the context of multi threading and executors and callback groups but that\u2019s quite a bit more complicated and needs some more thought I think.", "So how do we have call backs from our subscriber? Has multiple call backs been enabled?", "So how do we have call backs from our publisher or subscriber?", "You can have one callback per subscription, I don\u2019t know why you\u2019d have a callback for a publisher. We might have callbacks for events like when a subscription is matched on a publisher or something like that, but in typical use cases you\u2019d never have a callback on a publisher\u2026", "Has multiple call backs been enabled?", "No, but as I said above, you can have your own list of callbacks which you call in your subscriptions single callback.", "My bad, I have edited my question. Typed out wrong while generalizing my question. No callbacks for publisher.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", "events_publisher_ = rclcpp::create_publisher<MessageT, AllocatorT, PublisherT>(", "  node_topics_,", "  \"parameter_events\",", "  rmw_qos_profile_parameter_events,", "  use_intra_process,"], "url": "https://discourse.ros.org/t/maximum-amount-of-publisher-subscriptions-per-node/1391"},
{"title": "ROS2 Build Failure on Ubuntu1604", "thread_contents": ["Hi, I am following the instructions for building ROS2, and get a build failure for rosidl_generator_py:", "$ src/ament/ament_tools/scripts/ament.py build --build-tests --symlink-install", "\u2026 Lots of stuff builds", "+++ Building \u2018rosidl_generator_py\u2019", "\n==> \u2018. /home/steve/ros2_ws/build/rosidl_generator_py/cmake__build.sh && /usr/bin/make cmake_check_build_system\u2019 in \u2018/home/steve/ros2_ws/build/rosidl_generator_py\u2019", "\n==> \u2018. /home/steve/ros2_ws/build/rosidl_generator_py/cmake__build.sh && /usr/bin/make -j4 -l4\u2019 in \u2018/home/steve/ros2_ws/build/rosidl_generator_py\u2019", "\n[  4%] Built target rosidl_generator_py__cpp", "\n[  4%] Generating Python code for ROS interfaces", "\n[ 20%] Built target rosidl_generator_py__rosidl_generator_c", "\n[ 36%] Built target rosidl_generator_py__rosidl_typesupport_introspection_c", "\n[ 52%] Built target rosidl_generator_py__rosidl_typesupport_introspection_cpp", "\n[ 68%] Built target rosidl_generator_py__rosidl_typesupport_c", "\nScanning dependencies of target rosidl_generator_py", "\n[ 68%] Built target rosidl_generator_py", "\nTraceback (most recent call last):", "\nFile \u201c/home/steve/ros2_ws/src/ros2/rosidl/rosidl_generator_py/bin/rosidl_generator_py\u201d, line 40, in ", "\nsys.exit(main())", "\nFile \u201c/home/steve/ros2_ws/src/ros2/rosidl/rosidl_generator_py/bin/rosidl_generator_py\u201d, line 36, in main", "\nreturn generate_py(args.generator_arguments_file, args.typesupport_impls.split(\u2019;\u2019))", "\nFile \u201c/opt/ros/r2b2/lib/python3.5/site-packages/rosidl_generator_py/generate_py_impl.py\u201d, line 50, in generate_py", "\nassert os.path.exists(template_file), 'Could not find template: \u2019 + template_file", "\nAssertionError: Could not find template: /home/steve/ros2_ws/src/ros2/rosidl/rosidl_generator_py/resource/_msg_support.entry_point.c.em", "\nrosidl_generator_py__py/CMakeFiles/rosidl_generator_py__py.dir/build.make:85: recipe for target \u2018rosidl_generator_py/rosidl_generator_py/_rosidl_generator_py_s.ep.rosidl_typesupport_c.c\u2019 failed", "\nmake[2]: *** [rosidl_generator_py/rosidl_generator_py/_rosidl_generator_py_s.ep.rosidl_typesupport_c.c] Error 1", "\nCMakeFiles/Makefile2:1317: recipe for target \u2018rosidl_generator_py__py/CMakeFiles/rosidl_generator_py__py.dir/all\u2019 failed", "\nmake[1]: *** [rosidl_generator_py__py/CMakeFiles/rosidl_generator_py__py.dir/all] Error 2", "\nMakefile:138: recipe for target \u2018all\u2019 failed", "\nmake: *** [all] Error 2", "Looking in the source there is no template file: /home/steve/ros2_ws/src/ros2/rosidl/rosidl_generator_py/resource/_msg_support.entry_point.c.em", "Any ideas?", "Did you build ros 2 from source ?", "I used the steps mentioned here (", ") to the core and found no issues like this while installing ros 2 in ubuntu 16.04 ( both in a native system as well as oracle virtualbox environment).", "Try re-installing again from the source.", "Works now, looks like ros2.repos I was using has changed/been updated (was following this link earlier in the week).", "Thanks for the help.", "Cheers Steve.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-build-failure-on-ubuntu1604/2629"},
{"title": "Heap Allocator in ROS", "thread_contents": ["What is the default heap allocator in ROS ?", "\nHow is it different in case of nodelets/components used in ros 2 ?", "What is the default heap allocator in ROS ?", "In ROS 1 and ROS 2 the default allocators (new/delete, which are based on malloc and free) are not overridden by default.", "In ROS 1 you can provide your own C++ style allocator for messages, but that\u2019s about it.", "In ROS 2 you can provide your own C++ style allocator for messages, publishers, subscribers, and the executor (the thing that does ", "). You can also provide a custom allocator when using the C api\u2019s in ROS 2, using an allocator struct, but the default again uses malloc and free.", "How is it different in case of nodelets/components used in ros 2 ?", "There are no nodelets in ROS 2, but you can compose multiple nodes into a single process in ROS 2, like you could with nodelets in ROS 1.", "Composition of nodes, whether by nodelets in ROS 1 or with normal Nodes in ROS 2, has no bearing on the use of the default or custom allocators. The decision is orthogonal as far as I can see.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/heap-allocator-in-ros/2630"},
{"title": "ROS2 beta3 on Raspberry pi3", "thread_contents": ["Hi there!", "\nSteps for build ROS2 beta3 on raspberry pi3!", "\n", "ROS2 r2b3 on raspberry Pi3 === **ROS2 r2b3** [link](https://github.com/ros2/ros2/wiki/Beta3-Overview", "\n", "\nEnjoy!", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-beta3-on-raspberry-pi3/2669"},
{"title": "Ros1_bridge output", "thread_contents": ["I am running the ros1_bridge tutorial in a Ubuntu 16.04 machine.As one can see in the lower left terminal , it is sometimes printing \" Failed to load \u2018request_type\u2019 from a header for \u2026\".", "\nCan anyone explain the cause for this ?", "Yes this is a spurious warning that shouldn\u2019t prevent you from running the bridge. Apparently this field is used only by roscpp but not rospy in ROS1. The bridge doesn\u2019t need them to work so we removed the checking of these fields recently (see ", ").", "\nThis patch has been released in beta 3 so updating your code to the latest version should make these warnings disappear.", "Hope this helps", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros1-bridge-output/2672"},
{"title": "Intraprocess communication with services", "thread_contents": ["I was wondering if anyone can tell me if a ros2.0 service server and client exist in the same process can they share data with shared memory as publishers and subscribers can?  The ", " gives a great example of sharing pointers between publishers and subscribers but does not mention if services can support this.", "Thanks", "Unfortunately no, we only have support for pub/sub intraprocess. Though I believe it is possible to support Services (the implementation would be slightly different from pub/sub), we just haven\u2019t had the time to implement it yet.", "Why is it necessary for a intra-process service to share memory ? I thought services are mainly used to call specific functions of a sub/pub in a node.", "Why is it necessary for a intra-process service to share memory ?", "Well, they don\u2019t need to share memory, but that\u2019s the most efficient thing to do when dealing with intra-process.", "I thought services are mainly used to call specific functions of a sub/pub in a node.", "Services may or may not be implemented with pub/sub, but that\u2019s up to the middleware implementation. Even if services are implemented with pub/sub, that implementation would occur below where the intra-process optimizations for pub/sub occur.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/intraprocess-communication-with-services/2655"},
{"title": "Rviz build Issue ros2", "thread_contents": ["Hello, I was following this installation process for rviz after the release of beta 3.", "\nI was following this installation guide: ", ".", "After doing ament build, it started downloading packages and then got this error:", "Is it something to do with the git commits from your end?", "rviz for ROS 2 is not ready yet. We made a lot of progress during beta 3, but it\u2019s not in working order at the moment. We\u2019re actively developing on it right now.", "Also based on that error, it looks like you don\u2019t have the latest code (since this was merged):", "Still, I wouldn\u2019t expect it to just work right now. We\u2019ll make an announcement when there is something more to see there.", "I am using the ros2 branch: git clone ", " -b ros2", "Don\u2019t know why is it throwing this error.", "\nOK will wait for the changes", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/rviz-build-issue-ros2/2675"},
{"title": "ROS2: running command inside Qt?", "thread_contents": ["Hi,", "I am trying run some ros2 command directly inside Qt, but I don\u2019t know how to set up Qt\u2019s environment or how run the ", " file inside Qt?", "For example, I tried:", "\n", "    in Qt, and get the error as following:", "env: python3: No such file or directory", "\nerror: unable to find fallback python3 executable", "I know there is one way that I can source the ", " file in Terminal and run Qt from this Terminal, but is there a method to run the setup.bash file directly inside Qt?", "I\u2019m not sure what this has to do specifically with ROS 2. The general issue here is how do you source a shell script correctly via a system call.", "I recommend asking on a more generic forum. We usually use Python\u2019s ", " module to do this kind of thing.", "Hi,what do you mean by running inside Qt ? Building an application that uses Qt and ROS2 or opening a ROS2 package inside the Qt Creator IDE ? In the second case I\u2019d say it is easier to open a bash. Then source the ros2_ws and your own workspace. (See also ", ")", "\nand then start qtcreator in this terminal.", "In the first case you have to adjust your CMakeLists.txt (For example like that: ", ")", "The relevant lines are:", "\nfind_package(Qt5Core REQUIRED)", "\nfind_package(Qt5Network REQUIRED)", "\nfind_package(Qt5Widgets REQUIRED)", "and", "\nset(CMAKE_AUTOMOC ON)", "\nset(CMAKE_AUTOUIC ON)", "\nset(CMAKE_INCLUDE_CURRENT_DIR ON)", "And in the CMakeLists that acutally adds targets ( ", ")", "include_directories(", "\n${Qt5Core_INCLUDE_DIRS}", "\n${Qt5Network_INCLUDE_DIRS}", "\n${Qt5Widgets_INCLUDE_DIRS}", "and", "target_link_libraries(", "\nQt5::Core", "\nQt5::Network", "\nQt5::Widgets", ")", "Hi,", "\nWhat I meant is just like what wjwwood writes: I need to source a shell script via a system call inside Qt.", "Your method of sourcing the terminal and then open qt with this terminal works for sure, but do you have any experience to run the \u201csourcing command\u201d directly in Qt using system call?", "If not, then I guess I\u2019ll ask this in a more generic forum like he said.", "But still, thanks for your answer!", "My question is still. Do you mean qt or qtcreator? Thats a huge difference. In qtcreator (the ide) there is somewhere at the project tab the possibilty to set a custom build / run environment.", "Doing a systemcall for sourcing doesn\u2019t make any sense. But running a qt application together with ros2 without sourcing before is also possible.", "\nThe script doesn\u2019t do anything else than setting some environment variables.", "\nYou could set the variables by hand using: ", "Edit: See ", " why running source via a systemcall doesnt work and also doesn\u2019t make sense.", "oh sorry I didn\u2019t understand that, I meant qtCreator(the ide).", "Then sourcing before is the easiest possibility.", "\nSee ", "Otherwise:", "In qtcreator (the ide) there is somewhere at the project tab the possibilty to set a custom build / run environment.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-running-command-inside-qt/2673"},
{"title": "ROS2: CMakeList, Command Line Publish, Metapackages [Revised Heading]", "thread_contents": ["I wrote a simple package with class and library to subscribe and publish using rclcpp.", "My CMakeLists.txt is:", "It builds well. However when I try to run the package like this:", "\nit says no executable found.", "Is there something like roscore in ros2 to have the ROS_MASTER and ros services running? I have sourced ", " as given in the tutorials.", "I have built using the command =  ", "\nAlso i realised, my library is not created inside install/lib/.", "Your CMake installs you binary to bin, but ros2 run only looks in the \u201clibexec\u201d folder (actually ", ") for executables. Your binary is just on the PATH, so you don\u2019t need ros2 run to easily execute it.", "See our examples for how to install to libexec:", "Thanks WIlliam ! could we do something like ", " from the terminal in ros2?", "Is it going to be like ", "?? ", "Also, I realized when I run my executable like ", " \u2026 and then do ", " It shows me the right name. However, when I exit my program (Ctrl+C) I still happen to find my ", " if I do a ", ". The instance continues to be there which is sometimes also seen in ROS 1 if a large number of nodes are running however not for just one node.", "Another point is my topic names. Even after exiting my running executable ", " still, shows the topic names. I changed the topic names in my program and built it again and ran it, however, the topic names weren\u2019t changed or I don\u2019t know if it\u2019s the old instance running. Regardless of that, I tried killing the node by ", " however seems like that is not the command to kill anymore.", "Is it going to be like ros2 ropic pub /test_topic std_msgs/msgs/String \u201chello there\u201d??", "Please see ", " for an example.", "Also, I realized when I run my executable like ros2 run testpackage test_node \u2026 and then do ros2 node list. It shows me the right name. However, when I exit my program (Ctrl+C) I still happen to find my ros2 node if I do a ros2 node list.", "For me it works for the ", " / ", " ", " and ", " using FastRTPS on Ubuntu using Beta 3. Maybe you can provide more information what environment / version / nodes you are experiencing it with.", "I am using Ubuntu 16.04 Beta 2.", "\nThis is my simple package: ", "When I try this", "\n", "It throws me this:", "Did you try passing a yaml dictionnary as the help message suggests?", "\n", "Copied from:", "Ah thanks yes I tried earlier, however I totally did not give the space between data: and Hello. Thanks much", "Just a quick question, do we create metapackages in ament ros2 the same way as in ros1?", "however I totally did not give the space between data: and Hello.", "Ah yeah the space is not obvious given that the help message wraps the line just after the ", ". That tricked me recently as well. The error message has been ", " to make it clearer that a YAML dictionary is expected.", "Just a quick question, do we create metapackages in ament ros2 the same way as in ros1?", "This has been ", " but it hasn\u2019t been decided yet if metapackages should exist as ament packages or if they should be stored in a central place given that they are for producing binaries only and should not be used as dependencies", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", "add_executable(publisher_lambda lambda.cpp)", "ament_target_dependencies(publisher_lambda rclcpp std_msgs)", "\n", "add_executable(publisher_member_function member_function.cpp)", "ament_target_dependencies(publisher_member_function rclcpp std_msgs)", "\n", "add_executable(publisher_not_composable not_composable.cpp)", "ament_target_dependencies(publisher_not_composable rclcpp std_msgs)", "\n", "install(TARGETS", "publisher_lambda", "publisher_member_function", "publisher_not_composable", "DESTINATION lib/${PROJECT_NAME}", ")", "\n", "ament_package()"], "url": "https://discourse.ros.org/t/ros2-cmakelist-command-line-publish-metapackages-revised-heading/2640"},
{"title": "Moveit and ROS-I Migration", "thread_contents": ["I am planning to use MoveIt and Descartes in Ros2.0. Will I be able to migrate these packages through available ros bridges?", "Those packages have not been ported (to my knowledge). You might be able to run them through the bridge, so long as the place you choose to put the bridge in the communication does not use Actions, as we don\u2019t have them in ROS 2.", "Seeing MoveIt and descartes mentioned I\u2019m guessing the application is going to involve motion control of an industrial robot.", "All ROS-I drivers use action interfaces for interaction with clients. As there is no support for that in ROS2, you would either have to keep the code that interacts with the driver on the ROS1 side, or perhaps (but I\u2019m not sure about this) do some manual publishing & tracking of the underlying messages.", "Descartes itself is almost completely agnostic of the middleware. IIRC, it only uses ", " msgs in one of the examples so those can be submitted to the action servers in the drivers.", "Yes I am planning to test that out. Will keep things updated in this thread.", "Hello,", "\nJust some update here. Just like the other ros bridge demo, I could set up the bridge and subscribe to joint information passed on to from moveit running in ros1 and publish them in the ros2 terminal.", "Looking forward to ros2 actions, maybe could do a bit more with moveit in ros2 after that.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/moveit-and-ros-i-migration/2608"},
{"title": "User defined Fast-RTPS parameter control", "thread_contents": ["Hi,", "I was interested in checking if there are plans to enable user application access the Attributes specifically ParticipantAttributes, Publisher & Subscriber Attributes. This in turn enables us to create or enable static endpoint discovery. I\u2019d be interested to work on it, if there is a design proposed already. Please help with some directions.", "The ROS 2 API only provides only a small subset available in the underlying implementation. Therefore some rmw impl. do allow you to reach \u201caround\u201d the ROS 2 API and access native handles of the used implementation. For FastRTPS we have a simple example doing that in the ", " repository.", "You will find additional API for other entities in the ", " API: look at the files starting with ", " in ", "I am not sure if exposing the participant / publisher / subscriber is sufficient for you use case or if you need to control the actual instantiation of the native handles. In the later case the current API doesn\u2019t provide a way to do so yet.", "Ok, I did check the demo it was part of the release-beta3 and this got me interested in doing the same with Attributes.", "For now, I\u2019m interested to expose attributes since I\u2019m working on a Single SOC and I would want to avoid context switches as much as possible. StaticEndpointDiscovery helps me do it, i.e I\u2019ve a predefined list of Pub-Sub pairs so as to avoid a few discovery search loops inside buildtin/discovery. I wanted to check if there are any hidden daemons as why these changes were avoided.", "Do you see a usability of the above? Just in case its pushed upstream.", "Thanks for the reply.", "The DDS API itself is pretty complex due to all these capabilities. The RMW API intentionally doesn\u2019t expose each and every possible option since that would likely overload many users. E.g. currently the interface doesn\u2019t expose anything about the discovery. So any implementation (which could even be not DDS-based) can easily implement the interface. So for adding more and more options it kind of depends how we balance this. I would recommend opening a ticket for your ideas / use cases and propose specific enhancements. That allows for early feedback before spending too much time on the actual implementation.", "Thank you. I\u2019ll try that.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/user-defined-fast-rtps-parameter-control/2719"},
{"title": "Ros2 is not recognized as internal command Windows 8.1", "thread_contents": ["Hi all,", "\nI am trying to run ros2 and I have followed all the steps from ", " except VS2017 which I had installed on my Windows 8.1 beforehand.", "\nBut when I try to execute ", " , I get the following error:", "\n", "Any help is appreciated .", "Thanks in advance.", "Your post doesn\u2019t contain enough information to help you at the moment. The referenced wiki page mentions that only Beta 1 and older support Windows 8. It also states that Visual Studio 2015 is being used. Either of these two could be the source of the problem. Additionally it could be that you didn\u2019t call the ", " file as mentioned in the instructions.", "Please provide more detailed information about your environment, the exact steps you performed, what the output was in order to allow other to provide more suggestions to help you.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-is-not-recognized-as-internal-command-windows-8-1/2728"},
{"title": "Test Framework in ROS2", "thread_contents": ["I could not find any information about a \u201cROS node unit and integration\u201d test framework in ROS2 (an equivalent to rostest in ROS1).", "According to ", " \u201cLibrary unit testing (level 1)\u201d is done with gtest, unittest, nosetest (mainline C++ and Python) ", ".", "But what about \u201cROS node unit testing (level 2)\u201d and \u201cROS node integration testing (level 3)\u201d? In ROS1 people ended up to develop custom solutions to do ROS node unit and integration testing because the ", ", ", ", etc.", " In ROS2 new ", " are used to define requirements w.r.t. to testing specific to the \u201ccriticality\u201d of ROS2 packages. I like that concept\u2026", "According to Developer Guide - Testing (ros2 wiki) \u201cLibrary unit testing (level 1)\u201d is done with gtest, unittest, nosetest (mainline C++ and Python) like in ROS1.", "ROS 2 tries to be less opinionated than ROS 1. While ", ", ", ", and ", " are supported (and heavily used to test ROS 2 code) they are not the only way. Integration with these tools is optional. E.g. ROS 2 also supports ", " (which ROS 1 doesn\u2019t do because of its difficult interaction with ", " when packaged separately). All of these testing frameworks are integrated using different ROS 2 packages. So adding support for more should be straight forward.", "But what about \u201cROS node unit testing (level 2)\u201d and \u201cROS node integration testing (level 3)\u201d? In ROS1 people ended up to develop custom solutions to do ROS node unit and integration testing because the restrictions and lack of useability of rostest, lack of generic tests nodes, etc.", "At the moment we are using ROS 2 launch files as a replacement to an explicit ", " command. The package ", " provides a few different ways to check the result of a test node. This can be either a simple return code of one process (which decides on the result of the launch file and tears down all the other processes) or it could rely on specific output to be printed (matched by plain strings or regex). While the current syntax and API is everything but pretty it is functional and we use that to cover a lot of ROS 2 code. E.g. the ", " providing simple talker, listener and services are tested using that. Since the same ", " is being used for multiple cases in this package it is a bit more complicated but it should provide an idea what is possible and how it works.", "ROS 2 tries to be less opinionated than ROS 1.", "E.g. ROS 2 also supports gmock (which ROS 1 doesn\u2019t do because of its difficult interaction with gtest when packaged separately).", "That\u2019s great!", "All of these testing frameworks are integrated using different ROS 2 packages. So adding support for more should be straight forward.", "Is it possible to integrate other \u201ccoverage determination\u201d frameworks than the usual gcov which provide more advanced coverage measurements as well?", "Is it possible to integrate other \u201ccoverage determination\u201d frameworks than the usual gcov which provide more advanced coverage measurements as well?", "You should be able to integrate any framework you like. I don\u2019t see where ROS 2 would prohibit you from doing so. ROS 2 is basically just a bunch of CMake packages - so anything you can do with a CMake package should be doable.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/test-framework-in-ros2/2667"},
{"title": "Ros1_bridge build issues", "thread_contents": ["I am trying to build ros1_bridge in ros 2. I source the setup.bash and execute it as given in the tutorial.However it fails to give the ros1_bridge executables. However it gives the executable like talker and listener.", "I am using ubuntu 16.04 OS with ros kinetic and ros2 beta 2", "For building the ros1_bridge I am using ament, as instructed in the bridge communications tutorial.", "Duplicate of this ", ". Let\u2019s keep the discussion there so that we don\u2019t duplicate effort answering the same question in 2 places. Can you also please update your question on github to provide all the information listed in the issue template so that we can have a better understanding of the issue?", "Thanks!", "Here is working example I created for myself some time ago.", "\n", "\nCheck ", " file. It has detailed explanation how to use it.", "Here is working example I created for myself some time ago.", "Can you maybe summarize what the differences are compared to the official instructions?", "Well. The main difference is that it\u2019s ready to use example one can compile and run right away and then use as a basis for own project. It\u2019s more like quick start guide I guess.", "AFAICT the difference in the provided example is that it provides a custom message package in ROS 1 and ROS 2 format. This allows to test overlay workspaces out of the box with instructions on how to build them (namely running catkin_make on the ROS 1 version and ament build on the ROS 2 version). The rest of the difference are modifications to the bridge CMakeLists to find ROS1 message packages (applies only for users using pre-beta2).", " Would it be possible for you to test your example with ROS2 beta3 without all the CMake modifications and confirm that no code change is required to transfer custom messages through the bridge? I think it\u2019s great to have quick start guides and would love to see a stripped down version with only what is required to make it work to avoid confusing users with unnecessary code changes.", "Thanks!", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros1-bridge-build-issues/2642"},
{"title": "Self_test in ROS2?", "thread_contents": ["Does ROS2 provide functionality equivalent to ", "?", "Not at the moment. None of the diagnostic functionality has been migrated yet.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/self-test-in-ros2/2765"},
{"title": "Change the default DDS implementation", "thread_contents": ["I read through the wiki document on changing the default DDS implementation. However, it does not answer the question. It says how to change the one used at runtime through use of the RMW_IMPLEMENTATION environment variable. It also explains that they are chosen by alphabetical order if that variable is not set and FastRTPS was not compiled in. However, I want to compile in FastRTPS and OpenSplice and CoreDX support, but I want CoreDX to be used when RMW_IMPLEMENTATION is absent. How do I make this happen?", "I found the ordering in get_default_rmw_implementation.cmake. However, it\u2019s not clear to me how RMW_IMPLEMENTATION affects this (at compile time). Does RMW_IMPLEMENTATION being set during compile cause a single middleware to get compiled in or does it just change the default middleware?", "Hi ", ",", "You can change the default rmw implementation by defining the ", " environment variable before compiling (you will need to make sure to recompile the ", " package for the change to take effect).", "\nYou can also change the default rmw implementation used by modifying ", ".", "Setting this variable before compiling only changes which rmw_implementation library will be opened by default. It still compiles all rmw implementation allowing you to select another one at runtime by setting ", " if you want to.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/change-the-default-dds-implementation/2813"},
{"title": "Underlying DDS library being exported when it shouldn't be", "thread_contents": ["I could use some help fixing this warning:", "libdds* are the compiled CoreDX libraries. I believe that I don\u2019t need them cmake-exported. (I need them present on the machine, but they don\u2019t need to be in the same path that the build server used for things to work correctly.) It appears that somebody tried to fix this in rmw_opensplice recently. Please see the cmake files in this repository: ", "The file ", " gets its information from this call in the ", " package: ", "I assume the second part (", ") is the library ", " you are seeing here? I am not sure if you can just remove it from being exported - you can give it a try.", "If that doesn\u2019t work you probably want to export the library names instead of their absolute paths.", "If you end up needing to export the libraries, here\u2019s a PR from ", " showing how we avoided full paths: ", "Thanks for the quick suggestions and good support on this. I have it fixed. Following your suggestions, I modified the problematic line to look like this:", "\nament_export_libraries(rmw_coredx_cpp)", "\nlist(APPEND rmw_coredx_cpp_LIBRARIES ${CoreDX_LIBRARIES})", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/underlying-dds-library-being-exported-when-it-shouldnt-be/2800"},
{"title": "SoC boards supporting ros 2", "thread_contents": ["How can I choose a ARM SoC development board which can support the latest release of ros2 beta ? I have a udoo neo board(", ") where i tried to install ros 2 alpha 6 (as the latest official OS of the board supports ubuntu trusty) but it showed various library errors, even though  ros 2 alpha 6 was successfully installed in a desktop running ubuntu 14.04.", "You should be able to install ROS 2 (not limited to beta but any version in fact) in the UDOO NEO. We\u2019ve been doing so for quite a while already with a number of different SBCs.", "but it showed various library errors", "Which errors? Can you paste them here?", " Hi\u2026could you please refer me some tutorials on installing ros 2 in udoo neo.Are you using the ARM version of ubuntu xenial(16.04) in your udoo ? My neo currently runs the udoobuntu 2.1.4( ubuntu 14.04.05) \u2026", " best tutorial is ", ". Getting it done in your embedded file system depends highly on which libraries you have, setup, etc. I don\u2019t particularly have a step-by-step process for you and your system.", "Again, if you have particular issues, feel free to post them and someone might be able to help you.", "Cheers,", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/soc-boards-supporting-ros-2/2831"},
{"title": "Dashboard of ROS2 next focus and high priority for upcoming release or next direction", "thread_contents": ["The ros2 beta3 has been released recently, and the community ultimately know what\u2019s included in it now and thank u for your great contribution ", " .", "\nHowever, what\u2019s the features which are planned for the next release on Dec 13th, 2017 ? I\u2019m curious whether there\u2019s a place to make clear what\u2019s the current focus and high priority for the next of ROS2 for ROS users,  I try to find and unfortunately I failed to get this kind of information ", " , so how about a dashboard to get the ROS users/developers aligned about the ROS2 current focus and high priority to be more efficient to contribute on the same page ?  and this also benefits the newcomer to spend a lot time/effort to make clear the ROS2 next direction from various scattered information while ROS community gets larger and larger, for example, from the long discussion thread of each component of ROS2 github.", "However, what\u2019s the features which are planned for the next release on Dec 13th, 2017 ?", "As the roadmap already states: ", "The feature list for the next version will be filled out shortly after the Beta 3 release.", "thanks, that\u2019s okay if there\u2019s a bulletin for the feature list in the roadmap.", "\none more question, you know, ros is made up with different component packages respectively. do you think that it\u2019s necessary to brief a summary to the current focus and high priority (maybe design change / technical direction or decisions) of a component ?  the change is dynamic and maybe it\u2019s hard to clarify everything and requires some discussion, but these kind of information is valuable.", "By the way, can the community developer apply the access to ", " ?", "do you think that it\u2019s necessary to brief a summary to the current focus and high priority (maybe design change / technical direction or decisions) of a component ?  the change is dynamic and maybe it\u2019s hard to clarify everything and requires some discussion, but these kind of information is valuable.", "I am sorry, but I don\u2019t understand the question. Can you maybe elaborate on this a bit more?", "By the way, can the community developer apply the access to ", " ?", "The ROS 2 Jira board is not public atm. All relevant information should be available in public tickets on GitHub.", "do you think that it\u2019s necessary to brief a summary to the current focus and high priority (maybe design change / technical direction or decisions) of a component ?  the change is dynamic and maybe it\u2019s hard to clarify everything and requires some discussion, but these kind of information is valuable.", "I am sorry, but I don\u2019t understand the question. Can you maybe elaborate on this a bit more?", "Now ROS has 2 trunks, one is ROS and the other is ROS2, and each has many different components. maybe the ROS2 will be ultimately the final in the future.", "\nFor ROS2, there\u2019re new feature development or component porting from ROS, so\u2026is it possible to summarize some information regarding what the current focus or priority for a component ? maybe it\u2019s long to elaborate every details for a component, and that\u2019s waste of time, so the short key message with key points is enough for the newcomers get the status of a component, for example:", "Based on the easy to make clear the status of a component, it helps the efficiency for ROS users to employ it or get hands dirty to further contribute it in the same page while ROS community gets larger and larger ", "This is actually a question each and every maintainer of a ROS packages has to answer.", "We (at OSRF) are currently working on a lot of \u201cfoundational\u201d stuff: basically what is enumerated on the roadmap. While we try to demonstrate the usability and improvements using demos we don\u2019t maintain many of the higher level packages in ROS.", "E.g. for ", " we are trying to rewrite the existing code base to support both ROS versions (see ", "). But each component (navigation, moveit, etc.) will have to come up with their own plan. For other packages like ", " we haven\u2019t even started to plan how to support ROS 2 with it.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["the key features to develop", "the key blocker to use that component in ROS2,", "the totally technical redesign info from ROS", "the next direction if the above info is undetermined", "\nand so on\u2026", "\nFor a specific instance here, ROS2 navigation, maybe it\u2019s really hard to know what\u2019s going on in ROS2 for most community users."], "url": "https://discourse.ros.org/t/dashboard-of-ros2-next-focus-and-high-priority-for-upcoming-release-or-next-direction/2700"},
{"title": "ROS2 Launch not interleaving stdout?", "thread_contents": ["I\u2019m trying to learn how to use ROS2 Launch. I thought I had it figured out after looking at some examples, but I\u2019ve got a weird issue: it\u2019s not interleaving stdout.", "Let me explain. I\u2019m using beta3. I have a simple talker in C++, and a listener in Python. I can run the talker in one terminal:", "And the listener in another:", "Pretty straight-forward. Okay, so I write the following launch script:", "Couldn\u2019t be simpler. Now I run it:", "Take careful note: you see the stdout from the talker ONLY. Once I ctrl+c it, THEN all the stdout from the listener comes through. I expected the stdout from each to be interleaved. Is that an unreasonable expectation, or is something weird happening? There\u2019s nothing particularly special about either the talker or the listener, although I\u2019m of course happy to share them if necessary.", "The problem might just be due to the way you invoke the processes. Python will by default perform output buffering. You might want to try forcing unbuffered output by e.g. setting the environment variable ", ".", "Thanks ", ", you\u2019re right, that causes things to work the way I expect. This was not necessary in the ROS1 world, did roslaunch happen to set this itself? Is this perhaps something that belongs in ros2\u2019s ", "?", "This was not necessary in the ROS1 world, did roslaunch happen to set this itself?", "Not that I know of .", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-launch-not-interleaving-stdout/2721"},
{"title": "Failed to read 'request_type' from a header for /rostopic", "thread_contents": ["Hello,", "I tried using the ros bridge earlier with MoveIt and was able to read some joint states using moveit, by loading a PR2 model. [msg type was", "]", "This time I wanted to read joint_states streaming from a live UR10. But experienced some weird behavior with the ros2 nodes and ros2 topic lists.", "So, I subscribed to joint states from UR:", "Next, I ros2 run the ros_bridge. After that when I did rostopic echo /joint_states (just to check if the message from UR10 was streaming), my ros_bridge window would throw this:", "However, I still ran my test ros2 node but nothing was at the output. Maybe my printing technique isn\u2019t right. But I tried doing ", " but could not see my node name either. I tried running the ", ", I would start publishing, however, ", " or the ", " would not show anything.", "So how do I subscribe to the joint states from ur10 and publish the same in ros2?", "joint_state message sample:", "\nheader:", "\nseq: 37197", "\nstamp:", "\nsecs: 1506418567", "\nnsecs: 818417360", "\nframe_id: ''", "\nname: [\u2018shoulder_pan_joint\u2019, \u2018shoulder_lift_joint\u2019, \u2018elbow_joint\u2019, \u2018wrist_1_joint\u2019, \u2018wrist_2_joint\u2019, \u2018wrist_3_joint\u2019]", "\nposition: [-1.5191767851458948, -1.6008179823504847, -1.594562832509176, -1.5892565886126917, 1.4281541109085083, -0.3266199270831507]", "\nvelocity: [0.0, 0.003975566942244768, -0.0, 0.0, 0.018676215782761574, 0.0]", "\neffort: [-0.0366210974752903, 2.925110101699829, 4.784023761749268, 0.4127197563648224, 0.0269165076315403, 0.01345825381577015]", "Can you specify the version of the code you are using ?", "\nThe error messages ", " have been removed before the beta3 release: ", ". So using beta3 or master should fix that problem.", "Could you clarify what you had working before and what you are doing now?", "\nMy understanding is that:", "\nBefore you were sending joint states over ", " messages. Did you do that because it already didnt work with JointState message type ? Or did it also work with snesor_msgs/JointState at that point?", "Now you have a UR10 streaming JointState messages (in ROS 1) and you try to convert them over the bridge to use them in ROS 2. Right?", "If you can provide a reproducible example using only rostopic/ros2 topic of a modified talker/listener example that would allow us to help you.", "I don\u2019t have a UR10 closeby but passing joint states over the bridge seems to work with your sample:", "\nShell 1 : ", "\nShell 2:", "Shell 3:", "Shell 4:", "Shell 4 displays:", "name: [\"\\u2018shoulder_pan_joint\\u2019\", \u2026 ]", "The ", " is a \u201cLEFT SINGLE QUOTATION MARK\u201d, which seems odd as there are already double quotes around the string.", "Is that expected after passing through the bridge?", "The quotes are present because the provided sample is using left quotes instead of \u201cregular\u201d single or double quotes. As a result they show up on both the ROS 1 or ROS 2 side of the bridge:", "If using a sample with \u201cregular quotes\u201d if work fine on both sides:", "Hi ", ",", "I believe I am using beta3 release, But I have both r2b2 and r2b3 version in /opt/ros/ path. However, in my bashrc, only r2b3 is sourced.", "Goal: I am testing the ros_bridge to make sure we can use MoveIt and other sensor messages and robots in ROS2.0.", "Before:", "At first, I just tried the ros_bridge tutorials and then moved on to have a PR2 model uploaded and stream the joint states in ros1 and launch the bridge. I created my interface in ros2 for listening to some translation and rotational states of the end_effector, which I could. I used very simple std_msgs::msg::String", "I did the same with a Sawyer model as well. I did not use JointState message in this case.", "Now:", "\n2. Now I wanted to stream in Joint States that were coming in from my UR10. I used JointState message, yes you are right I want to have the bridge, and listen to the joint_states in ROS2.0 terminal.", "Ok, regarding the modified listener, its the two functions as you see above. However, here is the git repo: ", "\nIts a very simple class example.", "I wonder if presence for the r2b2 and r2b3 is creating the issue. But it shouldn\u2019t right because my bash only source r2b3.", " can you confirm that the example ", " using only ", " on the ROS1 side and ", " on the ROS 2 side works for you ? As mentioned in the previous post a reproducible example without relying on having a UR10 available would help us investigate the issue.", "Thanks!", "First of all apologies for the delayed response I was tied up with other things and could not have a look at the UR.", "As the joint states are streaming from the robot I did not have to rostopic pub on the ros1 side, I just start the UR ros master by the ", " launch file and echo the joint states on ros 1 side to check the readings.", "On the ros2 side, I start the bridge and do ", ".", "\nI am just using this simple startup script in ur10 ros wiki page. Nothing else on the UR side. I have already provided the link to my ros2 side code.", "As pointed out earlier I don\u2019t have a UR10 to test, so an examples reproducing the same issue without requiring a UR10 would be very appreciated. Please test to send the same JointState message using ", " on the ROS 1 side and ", " on the ROS 2 side.", "1 make sure you have a recent version of the ROS 2 code (either beta3 or the current master version), it\u2019s still unclear to me what version you are currently using.", "\n2 Run the tests described in ", "\n2.a If it doesn\u2019t work please report here with the command you ran and the console output", "\n2.b if it works try to swap your ", " with your custom ROS 2 node (without changing anything on the ROS 1 side). If this doesnt work please provide error message and detailed description of what happens vs what you expect to happen.", "Cheers,", "Hi ", ",", "Before i proceed with reporting the test cases from point 2.", "for 1.", "\nJust to make sure I am running the right version of the binaries, I removed r2b2 from the path /opt/ros/.", "\nRemoved and rebuild and tested my ros2_ws (which takes forever).", "\nNow when I source", ", this warning pops up:", "Any pointers what is this about? Why is it pointing towards the DDS opensplice.", "ros2 topic echo /joint_states sensor_msgs/JointState", "Hi ", ",", "\nEverything works now. Thanks. However please let me know how to get rid of the warning i am receiving as mentioned in  ", "You don\u2019t need a UR, I just tried with its gazebo simulation as ", ", it streams out the topic /joint_states when I launch the ur10.launch file, and I could establish the bridge and listen to joint states, without actually needing to rostopic pub manually. I think previously it was still looking into r2b2, removing and rebuilding everything for r2b3 fixed it.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", "\n", "\n"], "url": "https://discourse.ros.org/t/failed-to-read-request-type-from-a-header-for-rostopic/2759"},
{"title": "Failed to load entry point for Command:ros2", "thread_contents": ["when I have installed and built ros2 beta 2 on the system of Win10 as the tutorials,the link is:", "\nthen run the demo:", "call install\\local_setup.bat", "\nros2 run demo_nodes_py talker", "\nafter,the output is:", "\nFailed to load entry point \u2018start\u2019: DLL load failed: \u627e\u4e0d\u5230\u6307\u5b9a\u7684\u6a21\u5757\u3002", "\nFailed to load entry point \u2018status\u2019: DLL load failed: \u627e\u4e0d\u5230\u6307\u5b9a\u7684\u6a21\u5757\u3002", "\nFailed to load entry point \u2018stop\u2019: DLL load failed: \u627e\u4e0d\u5230\u6307\u5b9a\u7684\u6a21\u5757\u3002", "\nFailed to load entry point \u2018list\u2019: DLL load failed: \u627e\u4e0d\u5230\u6307\u5b9a\u7684\u6a21\u5757\u3002", "\nFailed to load entry point \u2018call\u2019: DLL load failed: \u627e\u4e0d\u5230\u6307\u5b9a\u7684\u6a21\u5757\u3002", "\nFailed to load entry point \u2018list\u2019: DLL load failed: \u627e\u4e0d\u5230\u6307\u5b9a\u7684\u6a21\u5757\u3002", "\nFailed to load entry point \u2018echo\u2019: DLL load failed: \u627e\u4e0d\u5230\u6307\u5b9a\u7684\u6a21\u5757\u3002", "\nFailed to load entry point \u2018list\u2019: DLL load failed: \u627e\u4e0d\u5230\u6307\u5b9a\u7684\u6a21\u5757\u3002", "\nFailed to load entry point \u2018pub\u2019: DLL load failed: \u627e\u4e0d\u5230\u6307\u5b9a\u7684\u6a21\u5757\u3002", "\nTraceback (most recent call last):", "\nFile \u201cC:\\dev\\ros2\\install\\lib\\demo_nodes_py\\", "\u201d, line 11, in ", "\nload_entry_point(\u2018demo-nodes-py==0.0.0\u2019, \u2018console_scripts\u2019, \u2018talker\u2019)()", "\nFile \u201cC:\\Progra~1\\Python36\\lib\\site-packages\\pkg_resources_", "_.py\u201d, line 564, in load_entry_point", "\nreturn get_distribution(dist).load_entry_point(group, name)", "\nFile \u201cC:\\Progra~1\\Python36\\lib\\site-packages\\pkg_resources_", "_.py\u201d, line 2662, in load_entry_point", "\nreturn ep.load()", "\nFile \u201cC:\\Progra~1\\Python36\\lib\\site-packages\\pkg_resources_", "_.py\u201d, line 2316, in load", "\nreturn self.resolve()", "\nFile \u201cC:\\Progra~1\\Python36\\lib\\site-packages\\pkg_resources_", "_.py\u201d, line 2322, in resolve", "\nmodule = ", "(self.module_name, fromlist=[\u2018", "\u2019], level=0)", "\nFile \u201cC:\\dev\\ros2\\install\\Lib\\site-packages\\topics\\", "\u201d, line 18, in ", "\nimport rclpy", "\nFile \u201cC:\\dev\\ros2\\install\\Lib\\site-packages\\rclpy_", "_.py\u201d, line 18, in ", "\nfrom rclpy.impl.implementation_singleton import rclpy_implementation as _rclpy", "\nFile \u201cC:\\dev\\ros2\\install\\Lib\\site-packages\\rclpy\\impl\\implementation_singleton.py\u201d, line 32, in ", "\nrclpy_implementation = importlib.import_module(\u2019.", ".py\", line 126, in import_module", "\nreturn _bootstrap._gcd_import(name[level:], package, level)", "\nImportError: DLL load failed: \u627e\u4e0d\u5230\u6307\u5b9a\u7684\u6a21\u5757\u3002", "Are you able to run the ", " and ", " demos mentioned in ", " ?", "No,I can\u2019t ! That problem is during that I run the talker & listener demo.", "Yeah, the release doesn\u2019t seem to work properly on Windows. I haven\u2019t been able to get it to work from the pinned release build.", "\nHowever, since we at ASI use TwinOaks CoreDX as our DDS vendor, I manually compiled the R2B2 code against CoreDX and the talker/listener apps work properly.", "No,I can\u2019t ! That problem is during that I run the talker & listener demo.", "Sorry for being unclear. Can you please try to run the executable directly:", "Both - this command as well as the ", " invocation -  work for me using the released Beta 2 archive.", "It still can\u2019t work \uff01 I run the executable directly, But the windows cmd shell quickly flash across,I can\u2019t see anything!", "I run the executable directly, But the windows cmd shell quickly flash across,I can\u2019t see anything!", "You need to open a command prompt, run the ", ", and then call the executable (as described in the wiki page) because it depends on environment variables set by the setup file before.", ":", "\nIt still is that problem!", "Can you please provide some more information about exactly how it is failing for you? If you can provide enough information we can reproduce the problem you\u2019re having and help you resolve the issue, otherwise we\u2019re sort of guessing at what\u2019s going on on your system. It would be helpful if you could provide information on how you have setup your system, what you have installed where, and all the commands that you run with both the successful and unsuccessful outputs directly copied and pasted from your console. There are suggestions for asking good questions at: ", " if you need more information.", "I get the same error for beta 3 on Windows 10. If I run talker.exe directly I can see:", "\u201cThe C extension \u2018C:\\AppDev\\ros2-windows\\Lib\\site-packages\\rclpy_rclpy.pyd\u2019 failed to be imported while being present on the system. Please refer to \u2018", "\u2019 for possible solutions\u201d", "Went over what I need pre-installed and cannot see anything I have missed.", "I get the same error for beta 3 on Windows 10.", "While it is \u201cgood\u201d to know that others are still experiencing the problem we can\u2019t do much to help you without further information.", "Went over what I need pre-installed and cannot see anything I have missed.", "Can you please go through the instructions and post exactly which items you have checked to make sure all are covered (at best with detailed information about the exact version / location).", "Right now I am compiling from source:", "\npython src\\ament\\ament_tools\\scripts\\", " build", "I will see if that works correctly and post an update.", "I did an install from source code, followed instructions from:", "\n", "ros2 - The Robot Operating System, is a meta operating system for robots.", "\n", "\nand everything works as expected.", "\nI am now able to run ros2 run demo_nodes_py talker and listener.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/failed-to-load-entry-point-for-command-ros2/2363"},
{"title": "OSS DDS implementation for embedded systems?", "thread_contents": ["Presentations at ROSCon about DDS on embedded systems got me curious and now I\u2019m looking for an OSS implementation of DDS that targets such systems. Preferably ANSI C (target has a very limited C++ runtime) and with small to medium resource usage (memory, cpu). My target does have a unix-like OS, so bare-metal support is not needed.", "There are some OSS DDS available, but especially when filtering for ANSI C I\u2019m not left with (m)any options.", "I\u2019m aware of the work of ", " (nuttx, freedds) and ", " (freertps), but I have the impression that all of that has been discontinued / abandoned.", "Does anyone have any suggestions for alternatives? Or are there no OSS implementations in C for DDS?", "Greetings,", "I would suggest getting in touch with the folks at eProsima (such as ", ") , who are working on a ", ".", "I think the XRCE approach has a better long-term path than trying to cram a \u201cfull\u201d RTPS implementation onto microcontrollers. For example, XRCE defines much smaller headers than \u201cclassic\u201d RTPS, with structures that are also simpler/faster to parse. The whole thing is designed with small systems in mind.", "Cheers,", "\nMorgan", "What is is standardization status of DDS-XRCE?", "Is is formal yet, or is it still in flux?", "Rohan", "It has not been ratified yet, and I believe there are even two competing proposals still.", "Thanks for the suggestion ", ". My platform(s) isn\u2019t (aren\u2019t) so limited that I think I\u2019d absolutely need an XRCE implementation, though it might be nice.", "The ANSI C preference seems to be a limiting factor here: \u2018enough\u2019 OSS DDS, but those are all C++/Java/something else.", "See also here: ", "CoreDX runs in an embedded environment. See ", " . It\u2019s not OSS, but it is less expensive than some other options. Use ASI\u2019s middleware fork for it.", "RTI (disclaimer, I work for RTI) also has a DDS implementation (Connext DDS Micro) optimized for small-footprint environments. See ", ". It is ANSI C and only has about 30000 lines of code. The heap memory footprint is also quite small. You an get some ", ".", "RTI Connext DDS Micro is available in source so you can build it for your own environment and it can also run in systems without an OS. Note that is not OSS as you wanted. However RTI offers no-cost licenses for Universities and qualified research projects so maybe it can still fit your need.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/oss-dds-implementation-for-embedded-systems/2748"},
{"title": "Multi threaded subscription callbacks", "thread_contents": ["I\u2019m hoping someone can solve a debate we\u2019re having.", "Does each subscription callback run in its own thread? Or do they round-robin in a single thread based on the data order received?", "I guess we have assumed that a node with multiple subscriptions were spawning those callbacks in their own thread, which makes things performant. We\u2019ve even been implementing some data protectors on shared data because of this assumption.", "If this isn\u2019t the case, then our callbacks must be fast enough, and our algorithms na\u00efve enough to hide the fact that data is being processed sequentially.", "Does each subscription callback run in its own thread? Or do they round-robin in a single thread based on the data order received?", "Depends ", "In both C++ and Python we have this concept of Executors. A single threaded executor (the default if you\u2019re using ", ") is merely round-robin in the blocking spin call (in the thread in which you call spin). There is also a multi-threaded executor which will create a set of threads which will be dispatched work in round-robin fashion.", "Right this second there is no way to have a separate thread per subscription (which was possible in ROS 1 with \u201ccallback queue\u2019s\u201d), but we want to change that. Right now, the most granular you can get is one executor per node (and therefore one thread per node in the case of a single threaded executor).", "Have a look at the single threaded executors, they just wait for something to do, do it, and then loop:", "The multi-threaded executors do something like: acquire a lock, wait for something to do, claim it, release lock, do it, loop. The C++ one will do this in each thread (each thread is identical), but the thread you call ", " on will just wait for the other threads to join (sort of wasted atm):", "But the Python one works differently, it uses the thread in which ", " is called to wait for work, then dispatches that work to a \u201cthread pool executor\u201d (Python concept, not ours) via the ", " method (", ") which actually executes the user\u2019s callback:", "You\u2019ll notice there is nothing special about these executors, and you can create your own which let you have complete control over how many threads and how they are utilized.", "I guess we have assumed that a node with multiple subscriptions were spawning those callbacks in their own thread, which makes things performant.", "That is not the case, and whether or not that\u2019s true depends on your definition of performant ", "If you want to reduce overhead and latency, then creating threads for each callback would be very inefficient. For utilizing multicore systems as much as possible (another definition of performant), then you\u2019ll want at least some threads, but still you\u2019d ideally want to only have as few threads as possible and reuse them rather than create them frequently.", "Lucky we give you all the tools required to control threading, you can use a single thread or multiple threads or even create your own executor and do what ever you want.", "If this isn\u2019t the case, then our callbacks must be fast enough, and our algorithms na\u00efve enough to hide the fact that data is being processed sequentially.", "This is where the concept of \u201ccallback groups\u201d comes in, I think. The idea of a callback group is that everything with a callback belongs to one (timers, subscriptions, service clients/servers) and the type of callback group determines how the executor will treat them. For instance, two callbacks (same from two different timers) in a single \u201cmutually exclusive\u201d callback group will never be executed at the same time as one another by the executor. However, if you place them in separate mutually exclusive callback groups, then they could be executed at the same time as one another (and therefore data shared between them needs to be protected). There is also a \u201creentrant\u201d callback group, which means that not only can a callback be called at the same time as other callbacks, it can be called multiple times concurrently.", "The purpose of the callback groups is to let the user describe the synchronization coupling between different callbacks without tying that to the threading model. For instance, you can describe a callback as reentrant, but that does not mean it will be called concurrently, because if you use a single threaded executor it will not, but if you used a multithreaded executor it might (if for example there is more than one message to be processed simultaneously).", "Like the executors you can create your own callback groups to express any constraint you might have.", "The Python ones are probably the easiest to understand:", "Sorry for the lack of documentation, but we\u2019ve been trying to make sure this all makes sense before finishing it off and documenting it throughly. Any feedback on the pattern is welcome.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["C++:", "auto any_exec = get_next_executable();", "execute_any_executable(any_exec);", "Python:", "handler, entity, node = next(self.wait_for_ready_callbacks(timeout_sec=timeout_sec))", "handler()", "executor::AnyExecutable::SharedPtr any_exec;", "{", "  std::lock_guard<std::mutex> wait_lock(wait_mutex_);", "  if (!rclcpp::utilities::ok() || !spinning.load()) {", "    return;", "  }", "  any_exec = get_next_executable();", "}", "execute_any_executable(any_exec);", "handler, entity, node = next(self.wait_for_ready_callbacks(timeout_sec=timeout_sec))", "self._executor.submit(handler)", "class ReentrantCallbackGroup(CallbackGroup):", "\"\"\"Allow callbacks to be executed in parallel without restriction.\"\"\"", "\n", "def can_execute(self, entity):", "    return True", "\n", "def beginning_execution(self, entity):", "    return True", "\n", "def ending_execution(self, entity):", "    pass", "\n", "\n", "class MutuallyExclusiveCallbackGroup(CallbackGroup):", "\"\"\"Allow only one callback to be executing at a time.\"\"\"", "\n", "def __init__(self):", "    super().__init__()", "    self._active_entity = None", "    self._lock = Lock()"], "url": "https://discourse.ros.org/t/multi-threaded-subscription-callbacks/2863"},
{"title": "About the version 1.0 of ROS 2", "thread_contents": ["Hi all,", "I just notice that the information of official released version (version 1.0) of ROS 2 has been removed from the Roadmap page. (", ")", "Does it mean that the released versoin will be postponed?", "\nIf so, what is the updated release date for the version 1.0?", "\n(Currently, it only states \u201cthe next release\u201d on the Roadmap page.)", "The label \u201c1.0\u201d has been removed from the upcoming release in December simply because \u201cROS 2 1.0\u201d isn\u2019t a really \u201cnice\u201d name. The release in December will be the first non-beta release and will get a name like any other ROS 1 distribution.", "Future releases of ROS 2 will likely be made in a quicker cycle than ROS 1 distros - likely every 6 month.", "Sounds great. We\u2019re expecting the forthcoming ROS non-beta version.", "\nCheers,", "\nRyan", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/about-the-version-1-0-of-ros-2/2923"},
{"title": "Ament Build with Proxy Setup", "thread_contents": ["Hey Guys,", "How do you get ament to bypass a proxy/firewall during the build process?", "I am installing ament dependencies and I found that I keep failing when building ros2 particularly in building poco:", "To help you effectively I\u2019ll need a little more information. Can you clarify what sort of proxy/firewall you\u2019re using? Is it a transparent proxy or are you blocked from outbound connections by a firewall and require all requests to use the proxy? If you\u2019re firewalled, how are you configuring your machine to use the proxy?", "It\u2019s a firewall proxy, yes.", "To allow the machine to use the internet, I uncommented the relevant lines in ", " like so:", "While building with ament, it seems there is a wget instruction that is trying to run. Somehow it\u2019s not able to route downloads through the proxy. What do you have in mind?", "If you\u2019re only changing ", " (Hopefully ", " actually according to the docs I can see for wget) that will only effect the wget program. CMake\u2019s ExternalProject_Add ", " under the hood you you will need to set the proxy settings for curl not wget.", "Curl uses the standard environment variables ", " and ", ": See ", " for how to set them.", "Relying only on environment variables is tricky for such things.", "I remember when I built ROS for Yocto, there were so many meta-build systems involved that, at some point, the info got lost and then the download didn\u2019t work. I believe it had to do with the way python distutils were called from catkin, or something the like. Also, some version control systems like SVN and also some dependency resolution systems like maven don\u2019t look at the environment variables.", "If possible, it would be preferable if we could have configuration variables for that directly within ament, which are filled from http_proxy and https_proxy by default. This way, they could be passed on to to the downstream tools in the proper way.", "It would be great to avoid relying on the environment variables. However this is libcurl, being called by a ", " from a ", ". And the top searches for cmake and proxy seem to suggest that they also recommend the environment varialbe approach too. ", " ", "  There\u2019s some recent traffic for making it a setting in the cmake-gui but that\u2019s also been stated as ", ". As far as I know there\u2019s no standard way besides using an environment variable to use a proxy within a CMake build. It also appears to be the ", " or ", "in python.", "When we integrate a tool that doesn\u2019t use/respect the environment variables we should definitely make sure to pass it through appropriately but until then I don\u2019t think we\u2019ll want to increase the complexity and just let the environment variables pass through, and that can likely be specific to that buildsystem\u2019s integration implementation.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ament-build-with-proxy-setup/2913"},
{"title": "Execute something as part of local_setup.bash call", "thread_contents": ["With the present build system (ament), is there a way for me to specify some code that might get ran with the setup scripts? I just need to add some additional environment variables at the moment. In other words, I want to add a new package to my repos file that needs no real compile but simply adds additional environment variables set when sourcing in local_setup.bash.", "You\u2019re looking for the ", " macro, which is similar to catkin\u2019s ", ":", "An example usage could be the ", " / ", " files the ", " package uses to set e.g. ", ".", "This approach will work just fine for me. Thanks guys.", "One follow-up question: are environment variables exported through the ament_environment_hooks mechanism exported and available for dependent builds to utilize as part of a long build chain? Or are they only set when explicitly sourcing in the setup script files?", "They are available at build time and run time. There is an open issue to have the option to have a separate build and run time set of hooks:", "They are available at build time\u2026", "To clarify one thing in that regard: it appears that data provided through environment hooks are available at build time only to packages explicitly specifying a build dependency in their package.xml upon the hook provider package.", "To clarify one thing in that regard: it appears that data provided through environment hooks are available at build time only to packages explicitly specifying a build dependency in their package.xml upon the hook provider package.", "Yes, that\u2019s intentional. It also happens transitively, so if A defines a hook, B depends on A, and C depends on just B, then C will still see the side effect of the hook in A despite not directly depending on A.", "I wasn\u2019t seeing the transitive behavior in my testing. I had expected that, but I don\u2019t think it works at the moment.", "In the environment used to ", " a package the following packages are being sourced before: the direct ", " dependencies and of those all recursive ", " | ", " | ", " | ", " dependencies.", "A package specific local_setup file from the install space will source the following packages: all direct ", " and ", " dependencies are being sourced.", "Thanks. Adding a build_export node on my intermediate package appears to fix the issue I was seeing.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/execute-something-as-part-of-local-setup-bash-call/2790"},
{"title": "Generate .idl files for Fast-RTPS from ros2 messages", "thread_contents": ["I read here(", ") that currently the default implementation of dds( Fast_RTPS) doesn.t consume .idl files, that\u2019s why it is not visible when we build ros2 packages.Will future ros2 releases include any tool which will generate .idl files for FastRTPS, from ros2 messages ?", "The package ", " already generates ", " files from ", " files which is being used for ", " and ", ".", "But ", " is different since it uses introspection rather than generated code specific to each message so for FastRTPS you don\u2019t have to generate ", " files.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/generate-idl-files-for-fast-rtps-from-ros2-messages/2964"},
{"title": "Crosscompiling ROS2 for Raspberry Pi (or pretty much any other ARM-based board)", "thread_contents": ["I finally found time to upload the scripts I use for crosscompiling ROS2 for the Raspberry Pi, but they can be applied to any other ARM board. I\u2019ve used the same steps with little tweaks for crosscompiling ROS2 for the Odroid XU4 and the Hikey 960.", "The scripts rely heavily on Docker to install the ROS2 dependencies and setup the crosscompiler environment.", "Enjoy!", "ros2_raspbian_tools - Tools for crosscompiling ROS2 for the Raspberry Pi", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/crosscompiling-ros2-for-raspberry-pi-or-pretty-much-any-other-arm-based-board/2995"},
{"title": "Gtest test fixture debug with gdb", "thread_contents": ["Since ros2 uses gtest framework for the unit tests, but how do you debug your internal code of the test fixture ?", "for example", "\n", "and when I list the code, it can merely show the gtest trigger code but nothing about the real test content, this results in no breakpoint which you can set in your test content. as follows:", "and the test_node__rmw_fastrtps_cpp actually contains  the following 4 test fixtures", "So how to set breakpoint to debug or track the code for the test fixture (e.g test_rcl_node_life_cycle above) ?", "I found the answer and it\u2019s really easy to achieve it by set break points directly with the format ", " (omg ", "). anyway, just mark it here and hopefully it benefits those not very familiar with google test debugging in ROS2, thank you !", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/gtest-test-fixture-debug-with-gdb/2988"},
{"title": "Grey-box node/nodelet unit testing with ROS2", "thread_contents": ["Is it possible to implement grey-box unit tests for nodes/nodelets with the built-in test infrastructure of ROS2?", "A ", " is a mixture of a black-box and a white-box test. I would consider e.g. supplying a node with input data via its interface (actions, services, topics, parameters) and assert something in the nodes library level (e.g. if mocked functions in the nodes library level have been called) as node grey-box test. (In a black-box node test the output data is captured via the nodes interface only and asserted in test nodes. In a white-box node test the nodes library level code is verified separate from the nodes interface.)", "I am not sure I understand your use case and \u201cgrey-box tests\u201d enough. In order to use mock functions I assume you will compile a custom version of component. You should then be able to use that in test however you like.", "It would probably best if you try to implement a simple test as you have it in mind using the ROS 2 tools. If you run into problems please don\u2019t hesitate to ask and we are happy to help.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/grey-box-node-nodelet-unit-testing-with-ros2/3037"},
{"title": "Custom RMW layer not recognized", "thread_contents": ["Hi,", "I\u2019m trying to implement a new RMW. I successfully created a packages with the following structure but ament don\u2019t recognise it as a rmw implementation.", "My CMakeList.txt have I think all the required dependencies:", "and same for my package.xml :", "But when I try to build with ament, my rmw package is build after rmw_implementation, and rmw_implementation failed :", "Any ideas on what is missing here ?", "You need to add your package as a dependency in the ", " of ", " in order to be processed before.", "makes sense\u2026 I was to focus on the specific implementation packages itself !", "\nThanks a lot !", "This set of pending changes (", ") might be interesting for you. With those it should be possible to build your rmw impl. before ", " without the need to touch existing packages.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/custom-rmw-layer-not-recognized/3050"},
{"title": "Ament build for python packages with dependencies", "thread_contents": ["Hi all, I am building a python package that depends on a pypi package.  I include the name of the pypi package in the \u201cinstall_requires\u201d list in the ", " file.  If I build the package with \u201cpython3 ", " install\u201d the dependency is built as well and everything runs well.  If instead I build with \u201cament build\u201d then the package builds without errors but the dependency is not actually included. I guess I had assumed that ament build essentially did a \u201cpython3 ", " install\u201d under the hood, but would also somehow manage to put those dependencies in the site-packages in the install folder as well. I am on beta 3.  Thanks for all you do!", " does not install any dependencies (see ", "). In ROS we use ", " for that task.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ament-build-for-python-packages-with-dependencies/3093"},
{"title": "Node.js client for ROS 2.0 is ready!", "thread_contents": ["Hi folks,", "We just made an alpha release of ", ", a Node.js version of ROS 2.0 client. It\u2019s on Github and licensed under Apache 2.0, please feel free to try it and let us know your feedback.", "The list of features includes :", "Thanks for the support of RWT guys!", "\nHave fun!", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Publish/Subscribe over topics", "Clients and Services", "Timers", "ROS IDL code generation", "Validation utilities"], "url": "https://discourse.ros.org/t/node-js-client-for-ros-2-0-is-ready/3096"},
{"title": "Payload size error with FastRTPS", "thread_contents": ["What causes this error below? I see a lot of it (using a beta3 build from a week ago).", "It\u2019s coming from FastRTPS underneath; from perusing their code it looks to only be output if you\u2019re using ", " for the memory policy (e.g. ", ").", "In ", ", the memory policy is explicitly set to ", " (e.g. ", "). Are you customising the publisher/subscriber parameters yourself somehow? If so you\u2019ll have to tweak some additional properties of the history cache.", "I\u2019m not intentionally using PREALLOCATED_MEMORY_MODE or any other non-default configuration for FastRTPS. By pub/sub parameters, you mean the QoS? I do customize that in a few places to enable durable data or to reduce the cache to try and keep data fresh.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/payload-size-error-with-fastrtps/2815"},
{"title": "AR Rviz and/or Move it for ROS 2", "thread_contents": ["Given Augmented Reality is increasing in popularity and available on many platforms. Additionally, AR provides 3D contextual data which would be very useful in visualizing data such as point clouds and markers. Is there any interest in converting some visualization tools such as RVIZ and MoveIt to an AR platform? With multiplatform support in ROS 2, it would likely easier than ROS 1.", "Point clouds anchored to real world objects visualize from an AR device could be infinitely more useful. Augmented motion plans displayed on real world objects could help identify collisions with items not sensed or modeled. I\u2019m sure there are many more possible use cases.", "Thoughts?", "rviz porting has already started, first by ", ":", "ROS 3D Robot Visualizer. Contribute to bponsler/rviz development by creating an account on GitHub.", "And then by me and some other developers, see:", "And:", "ROS 3D Robot Visualizer. Contribute to ros2/rviz development by creating an account on GitHub.", "The latter work (that I\u2019m involved in) is still a work in progress, but we\u2019re close to having a usable rviz application in the ros 2 master checkout and some version of it will definitely be in the release at the end of this year.", "I\u2019m not aware of anyone working on AR stuff yet, or integration with third party libraries or hardware.", "A friend did an AR rviz-like tool for his PhD about 15 years ago. He did a lot of research into effective data visualisation methods. The tool was great to use. He wasn\u2019t the only one, either; there have been many papers and projects over the years looking at how to use AR to develop and debug robots. The concept definitely has a lot of value.", "Is the ROS 2 version of rviz targeting only Ubuntu or do you plan to make it multiplatform? I\u2019m specifically thinking if it can be built for Windows then combining with Unity Game Engine should be easier. Since Unity is the AR development environment of choice, this would be a great first step.", "I also remember mention at ROSCon of UML\u2019s work with ROS1 and Unity. That might also be a good option.", "It works on Windows, macOS, and Linux, but integrating it with Unity is probably not easy because rviz uses Ogre as the 3D engine, and that\u2019s not easy to change. I don\u2019t know why you need Unity to do what you want. Also Unity works on Linux and macOS too, as well as so many others:", "Unity is the ultimate game development platform. Use Unity to build high-quality 3D and 2D games, deploy them across mobile, desktop, VR/AR, consoles or the Web, and connect with loyal and enthusiastic players and customers.", "So I don\u2019t know if there are Windows only features you need.", "Thanks William.", "At least initially I was thinking about AR devices that are primarily targeted for Windows development like the Hololens or Meta2.", "I found some sites that talk about porting from Ogre to Unity. It certainly doesn\u2019t sound easy. I\u2019ll start taking a look soon just to satisfy my curiosity.", "I\u2019m thinking about see-through camera support of point clouds and markers. Looks like there is some precedent of using Ogre3d with ARToolKit. What do you think about something like that?", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ar-rviz-and-or-move-it-for-ros-2/3058"},
{"title": "Error using python3 nodes on ARM64 & CoreDX", "thread_contents": ["I have everything for ROS2 beta3 compiled and running on aarch64 with CoreDX. Most things work fine. However, whenever I try to create a subscription in a python node, I get this error:", "\nError in /usr/bin/python3: free(): invalid pointer: 0x\u2026", "\nI see the error when running demo_nodes_py listener. The same code executes fine on x64 platforms. Does our python extension rely upon platform-specific code for some of its pointer handling or struct copies? Of course aarch64 should also be using 64bit pointers. What would be different between FastRTPS (which works) and CoreDX in the python extensions? What can I do? Where should I look?", "PS, FastRTPS still spews a lot of this when I run the listener: [RTPS_HISTORY Error] Change payload size of \u20188808\u2019 bytes is larger than the history payload size of \u20185000\u2019 bytes and cannot be resized. -> Function add_change", "Can you reproduce it with a pure C communication ? (running ", " from test_communication for example)", "\nI would expect the problem to be the same but that would at least allow you to rule out anything Python related.", "My guess is that it may be something in the coreDX C typesupport. We test only Fast-RTPS on aarch64 ATM that uses the introspection mechanism. It\u2019s possible that the alignment (and thus the pointers you access and free) are not correct when its built for aarch64.", "PS, FastRTPS still spews a lot of this when I run the listener: [RTPS_HISTORY Error] Change payload size of \u20188808\u2019 bytes is larger than the history payload size of \u20185000\u2019 bytes and cannot be resized. -> Function add_change", "Can you please provide more details on the related thread (", ")", "Do you happen to have a backtrace?", "I can\u2019t seem to create one. No core dump is produced even with ", ". The error must be caught (but subscription not created).", "Does it fail when you create a subscription or when you try to deserialize a message?", "Definitely when creating the subscription.", "Do you have the same problem with message types that are of known size (like uint64t) ?", "Yes, I do.", "Can you reproduce it with a pure C communication?", "No, I cannot.", "running test_messages_c\u2026", "All the rclcpp tests from ", " pass and all the rclpy tests fail with the same error:", "\n", "/usr/bin/python3\u2019: free(): invalid pointer: 0x0000007f9753f768 ***`", "I question the ", " call here (and in similar contexts throughout the file): ", "\nI\u2019m no Python extension expert, but surely it\u2019s not a best-practice to destroy objects passed in by the user. That would be the user/caller\u2019s responsibility. What if the same QoS object was passed to multiple subscription calls but the first one destroyed it? In looking around online, it seems that the right approach is to call ", " on each object created via ", " (every parameter with type \u201cO\u201d, other types having their individual cleanup instructions).", "\nUpdate: The documentation says that \u201cO\u201d objects are not ref-incremented, so I think the stuff I was reading about decrementing their ref count is not correct.", "Thanks for the detailed answer.", "I\u2019m no Python extension expert, but surely it\u2019s not a best-practice to destroy objects passed in by the user. That would be the user/caller\u2019s responsibility. What if the same QoS object was passed to multiple subscription calls but the first one destroyed it?", "That is a very good point. We could either modify the behavior and make it clear that users should destroy such objects themselves or document the fact that this is freed by the function. Though I tried creating a bunch of subscriptions using the same qos_profile object (custom or default) and couldn\u2019t reproduce the error described in this thread.", "To go back to the problem at hand, if the ", " is the issue, it doesn\u2019t explain why the first subscription created would crash because at that point the object has not been destroyed yet. And if this was only a logic issue in the memory management in the Python stack, I would expect the error to be consistent regardless of the rmw implementation used\u2026", "\nSo I do still think that\u2019s something inside rmw_coredx not behaving as expected.", "Could you confirm if the error disappears if you modify rclpy to not free the qos_profile on subscription creation ?", "I can\u2019t seem to create one. No core dump is produced even with ulimit -c unlimited. The error must be caught (but subscription not created).", "gdb should allow you to trace the code through the c extensions.", "\n", "\nThe backtrace would be very useful to track down where the problem comes from.", "I have everything for ROS2 beta3 compiled and running on aarch64 with CoreDX. Most things work fine.", "Just to confirm: you have exactly the beta3 code without modification except that you are using your own version of rmw_coredx?", "Could you confirm if the error disappears if you modify rclpy to not free the qos_profile on subscription creation?", "I confirmed that the error persists even without destroying the qos_profile.", "you have exactly the beta3 code without modification except that you are using your own version of rmw_coredx?", "Correct. I did manage to get a not-so-helpful stack trace from gdb but I don\u2019t think it is right yet since it\u2019s from ", ". I\u2019ll keep working on that.", "I\u2019ve been attempting to get a stack trace of the crash through manual means. It crashes here:", "What is ", " set to there? Or where would I put my next ", "?", "The level of \u201cremote\u201d debugging is getting pretty difficult. If you can provide a set of copy-n-paste-able steps to reproduce the problem I can take a look at the actual failure in gdb.", "Sure, although I\u2019m not sure these steps are easier than helping me understand message_type_support.c. Steps to be ran on aarch64 (ARM Cortex 53 or 57):", "What is func set to there?", "The struct containing ", " is being declared ", ".", "For the CoreDX C typesupport it is initialized ", ".", "The function basically provide the typesupport for a specific message which enables \u201cgenerically\u201d written code to use / interact with messages which were not available at compile time but which have been defined later.", "Or where would I put my next printf?", "I would suggest to build in ", " so that the ", "'s are being checked. Additionally printing the value of ", " as well as its members and ", " might provide valuable information (within ", ").", "a set of copy-n-paste-able steps", "I was expecting a list of command line invocations which I can easily run by copy-and-pasting them to a console. I managed to follow your text instructions (even though bullet 7 and 8 are in the wrong order). In the future it would be great to provide ready-to-run commands (e.g. instead of letting people edit files it is more convenient to share the already edited version through Gist) since it reduces the effort to help you and makes the whole process less ambiguous.", "Anyway my build finished and when I run the talker and listener I see the following error message twice:", "Beside that the talker is printing ", " and the listener ", " so that seems to work just fine for me. Note: I built ", " since I expected the need to debug asserts / segfaults / etc.", "Wow, Dirk. Kudos! That\u2019s good support. I thought no one would work through those steps. I worked on this issue a little more today. First, I discovered that I don\u2019t get the error when I compile rosidl_interfaces in debug mode. When in release mode, it is crashing in this line ", " from the ", " method in type_support_dispatch.cpp (the c one, not the cpp one). It must be a bug in whatever local version of the standard library I\u2019m running. Is it glibc that I would check the version on? I\u2019m out of time for the day, but I will try a different split implementation tomorrow.", "I replaced the split implementation in", "\nsrc/ros2/rosidl_typesupport/rosidl_typesupport_c/src/type_support_dispatch.cpp", "\nIt then crashed for me in very similar code found in", "\nsrc/ros2/rmw_implementation/rmw_implementation/src/functions.cpp", "After that everything was working for me. It appears to be a bug in the aarch64\u2019s libstdc++.6.0.24 \u2013 at least that\u2019s the version that I have on my ARM64 machines; it came with GCC 7.2. I was unable to make a simple program that reproduced the problem. However, I see that there are some pending stringstream fixes for the next GCC version, e.g. ", " .", "For my fix I incorporated this split implementation: ", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Do you happen to have a backtrace ?", "Does it fail when you create a subscription or when you try to deserialize a message?", "Do you have the same problem with message types that are of known size (like uint64t) ?", "from ", "\n", "from rmw_create_subscription in that same file.", "Take the ros2.repos file from ", " in the release-beta3-asi branch.", "Remove rmw_opensplice from the repos file so as to not confuse rclpy (which seems to load opensplice message libraries at random when running with CoreDX as the middleware \u2013 feel free to debug that too).", "Use vcs tool to process the repos file.", "Modify src/ros2/tinyxml_vendor/tinyxml_cmakelists.txt to include set(CMAKE_POSITION_INDEPENDENT_CODE ON), which might only be necessary for GCC7 (which I have been using for cortex57 support; I\u2019m not sure if the error happens with GCC5).", "export CFLAGS=\"-march=native\", export CXXFLAGS=\"-march=native\"", "export RMW_IMPLEMENTATION=rmw_coredx_cpp", "compile: src/ament/ament_tools/scripts/ament.py build --skip-packages ros1_bridge --cmake-args -DCMAKE_BUILD_TYPE=Release (although you probably don\u2019t want a Release build for tracking this)", "Get your CoreDX environment variables established (run their env script and then run its output). You may need a copy of CoreDX from here: ", " . TwinOaks will give you an evaluation license if needed.", "Source in the install and execute ros2 run demo_nodes_py listener \u2013 it will give an error and not work correctly."], "url": "https://discourse.ros.org/t/error-using-python3-nodes-on-arm64-coredx/3057"},
{"title": "ROS2 Windows libeay32", "thread_contents": ["I am trying to get the latest ROS2 (b3) running in Windows 7 (I know ROS only supports Win 10), but the issue I am having doesn\u2019t seem to be related to the OS. When running the example  \u201cros2 run demo_nodes_cpp talker\u201d I get DLL errors (ordinal not found). Looking at dependency walker, I see that _rclpy.pyd has a dependency to libeay32.dll. Which in my case is a x86 lib, while the arerest at x64 libs. This might well be a PATH settings problem, is there a 64bit version of this lib, libeay64.dll ?", "\nAny help is very much appreciated.", " is an encryption library that is compatible with both x86 and x64.", "\nIt is provided by several security projects including openssl.", "\nYou can install openssl by following these instructions: ", "Hope this helps", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-windows-libeay32/3234"},
{"title": "Error launching Gazebo", "thread_contents": ["Hi all. When I try to launch Gazebo I get this error:", "Segmentation fault (core dumped)", "\n[gazebo_gui-3] process has died [pid 1982, exit code 139, cmd /opt/ros/kinetic/lib/gazebo_ros/gzclient __name:=gazebo_gui __log:=/home/as/.ros/log/e68bf484-cfc4-11e7-9ecc-e9c8b733df76/gazebo_gui-3.log].", "\nlog file: /home/as/.ros/log/e68bf484-cfc4-11e7-9ecc-e9c8b733df76/gazebo_gui-3*.log", "My question is: this error appears because my laptop is old or because I did something wrong when I installed ROS?", "\nOf course I am new in this field.", "Hi ", ",", "Thanks for your interest in ROS and Gazebo. However we ask that you please ask questions on", "\n", " following our support guidelines: ", "ROS Discourse is for news and general interest discussions. ROS Answers", "\n", " provides a forum which can be filtered by tags to", "\nmake sure the relevant people can find and/or answer the question, and not", "\noverload everyone with hundreds of posts.", "Providing details about your system configuration, how you installed ROS and Gazebo as well as the exact commands you ran will be helpful for people answering your question.", "Thanks!", "Sorry and please excuse me", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/error-launching-gazebo/3239"},
{"title": "Status on configurable topic renames and qos?", "thread_contents": ["What is the plan and status on being able to rename topics from the command line?", "I see that we are getting argv passed into rclcpp::init. That means we should be able to make use of some command line parameters deep in the node. I would like something like this for renames:", "my_node --ros_topic_rename /compiled-in_topic_name /new_topic_name", "and like this for duplicating output or handling multiple input messages:", "my_node --ros_topic_clone /compiled-in_topic_name /additional_topic_name", "and like this for silencing output (or maybe ignoring input) when there is a conflict:", "my_node --ros_topic_silenced /compiled-in_topic_name", "and like this for qos:", "my_node --ros_topic_qos /compiled-in_topic_name standard_qos_identifier", "And what did we decide on the clock? Something like this?", "my_node --ros_clock_topic /clock", "I still think an environment variable for the clock would be useful as the same thing would apply to many nodes.", "Command line parameters or environment variables to put all topics into a partition also seems useful to me.", "The other one I would like to do from the command line is set defaults for parameters (as in those parameters received by the ParameterService). Example:", "my_node --ros_parameter_default param_name_1 42", "This plan is going to be slightly more difficult for complex types, but most parameters are strings or numbers. JSON or YAML formats would be fine. Simple types alone would be better than nothing.", "There is a design document describing name remapping here ", " . It has a syntax for remapping rules that could be passed on the command line. It isn\u2019t part of the next release, and as far as I know the feature has not been worked on.", "I don\u2019t know of anything that describes remapping qos settings.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/status-on-configurable-topic-renames-and-qos/3263"},
{"title": "Status of parameters", "thread_contents": ["It seems that while some work has been done on ", " parameters, setting them is not implemented, correct?", "At least, when I call \"ros2param list \", I get nothing, even though the node in question has and uses parameters. (turtlebot2 kobuki_node, to be exact).", "In ROS 2 the parameters are implementing within the node.", "\nEach node can have local parameters but needs a \u201cparameter server\u201d to allow remote nodes to modify them. We haven\u2019t propagated the parameter service to all our nodes as we expect it to be started automatically in he future.", "\nYou can see  minimal example of node running the parameter service ", "Hope this helps", "In a decentralized system, we\u2019d to spawn nodes which serve as parameter", "\nservers. The example Mikael gave shows the basic usage.", "\nYou can have a look what was done for the ros2_control implementation.", "\n", "Contribute to ros-controls/ros2_control development by creating an account on GitHub.", "\n", "\nThe \u201ccontroller_parameter_server\u201d is meant as a global parameters server,", "\nwhich has capabilities to load params from yaml files and puts them in", "\ntheir respective namespaces.", "\nVarious controllers can then fetch these values with the", "\nremote_parameter_client.", "\n", "\n", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/status-of-parameters/3285"},
{"title": "ZeroMQ middleware -- is it still possible?", "thread_contents": ["Once upon a time there was this study:", "\n", "I would love to see (er, work on) a middleware option that used the \u2018cereal\u2019 serializer and ZeroMQ. Is this feasible to implement with the present middleware interface? I looked through the old design document on middleware, but it didn\u2019t seem to explain the present interface. Have we any current docs for writing middleware?", "I like the \u2018cereal\u2019 approach because it would negate the need for an intermediate message copy before serialization. I also like the capnproto project; however, it wasn\u2019t obvious to me how that could be used without the extra copy before serialization.", "This should still be possible. External developers have e.g. implemented the rmw interface using OPC UA. Sadly there is no additional documentation on how to write a custom rmw implementation. The \u201cbest\u201d way is to read through the API docs of the interface as well as the existing implementations.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/zeromq-middleware-is-it-still-possible/3269"},
{"title": "DDS vendor interop -- anybody tried it lately?", "thread_contents": ["I recently attempted to make ROS2 on CoreDX talk to ROS2 on FastRTPS. I also attempted to use ROS2 on OpenSplice to talk to ROS2 on FastRTPS. I couldn\u2019t get anybody to talk to each other. I followed various guides I found on the internet to achieve supposed compatibility. I even captured some data on the wire, where I discovered that they all use different ports these days. Do we have some rule for utilizing the ROD_DOMAIN_ID and which port that puts you on?", "The last release (beta 3) was tested with FastRTPS, Connext, and OpenSplice and our test suite already performs cross vendor testing between all available rmw implementation. So in general: yes it works.", "Recent changes on the ", " branches broke OpenSplice support (see ", ") but that is something we will hopefully be able to resolve soon.", "I can\u2019t speak for CoreDX since we don\u2019t test with it on our CI system.", "In general you must use the same ", " / DDS domain id in order for participants to talk to each other. The rmw implementations already take care about other configuration settings (e.g. enable loopback and not only used vendor-specific shared memory).", "Last time I checked, rmw_coredx was not implementing the ROS namespaces in DDS partitions so couldnt match with ROS topics created with other vendors (as even empty ROS namespaces result in a specific partition on the wire, see ", " section \u201cROS Specific Namespace Prefix\u201d for more details).", "\nEvery other vendor we provide are performing cross-vendor communication in our test suite so I\u2019d say it should work (for pub/sub, not for services at the moment).", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/dds-vendor-interop-anybody-tried-it-lately/3340"},
{"title": "Increasing memory usage for publishing nodes with enabled intra-process communication", "thread_contents": ["I am looking into using ros2 and have done some testing on sending images between nodes using intraprocess communication. It seems like the memory usage is slowly increasing for all publishing nodes where intra-process communication is activated. This is regardless of any intra-process subscribers.", "The same nodes with intra-process communication turned off does not have increasing memory usage.", "I am currently using the default Fast-rtps implementation. I first noticed the problem in the \u201clatest-release\u201d, but checked out the master branch yesterday to see if the problem was fixed. (it wasn\u2019t).", "It can be reproduced by running the intra-process-demo image nodes.", "Is it possible to fix this?", "Hi there,", "\nI just did a run on the latest master code.  There do seem to be a couple of leaks, so then I ran ", " under valgrind (to be totally explicit, I ran ", ".  Looking at the output from that, it looks like the leaks are coming from somewhere down in the OpenCV code.  From a brief glance at it, it is not clear to me whether the leaks are in OpenCV itself, or how we are using it in the image demo.", "All of that being said, this seems to be a problem with the interaction with OpenCV, not something fundamental to intra-process communication itself.  I probably won\u2019t have too much more time to spend on it right now, but if you have time to look at it, the code is in ", "My program is actually not using OpenCV, and valgrind does not report memory leaks (even if the memory usage is increasing). However when I look at the memory usage in htop, the RES tab for my program it increases (quite slowly). I ran a test over the weekend, and the memory usage had continued to increase the whole weekend. When i turned off intra process communication and ran it over night, the RES tab showed no increase in memory usage\u2026", "I suspect that the pointers used in for the intra process communication are stored somewhere, or something like that.", " can you provide code to reproduce this ?", "\nI tried to reproduce the described behavior with a basic intra-process talker/listener and the reserved memory stayed steady (32124) after 20000 publications/subcriptions.", "I also did a small test with a basic talker/listener. I used the \u201ctwo_node_pipeline\u201d from the intra process demo code:", "ros2/demos/intra_process_demo/include/two_node_pipeline/two_node_pipeline.cpp", "The only change I made was to change the time interval in the timer on line 49. from 1s to 10ms to get results faster. I got the following results:", "\nStarting memory                  21 420", "\nafter 80 000 publications:    28 100", "\nafter 100 000 publications:  29 948", "\nafter 175 000 publications:  37 724", "\nafter 200 000 publications:  39 308", "\nAnd continues to rise.", "I then changed both nodes by turning off intra-process communication, to verify that it in fact was something with the intra process communication causing the increased memory usage:", "\nStarting memory:                  18036", "\nafter 200 000 publications:   18036", "My original program sending a jpeg image over ros2 15 times per second has now been running for 6 days. It had a starting reserved memory of 33M, and has monotonically increased its reserved memory to 981M. I did the same test on the program with intra-process communication turned off and the memory did not increase.", "Thanks ", " for the additional details. I guess I didnt let it run for long then. I\u2019ll give it another shot", "I ran ", ".  Looking at the output from that, it looks like the leaks are coming from somewhere down in the OpenCV code.", "The leaked memory from within ", " is constant - two times (one per window) independent how long the process is running. So this is not responsible for the increasing memory reported.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/increasing-memory-usage-for-publishing-nodes-with-enabled-intra-process-communication/3261"},
{"title": "ROS2: anything equivalent to topic_tools:ShapeShifter?", "thread_contents": ["Hi,", "I am start looking at the source code of ROS2 to understand how message are serialized.", "\nMy goal is to update ", " to ROS2.", "I GUESS that serialization details are defined by the middleware (OpenSplice, eProsilica, etc), aren\u2019t them?", "Is there anything equivalent to ", ".? Is it even possible to have something that works similarly?", "Is there any way in ROS2 to introspect the content of a message at run-time?", "Cheers", "Davide", "No, unfortunately we don\u2019t have that yet. ", " was working on it for this release, but we ran into some issues figuring out how to most efficiently get data in and out of the underlying DDS vendors without (de)serializing. The API we\u2019ll provide will be relatively simple, something like ", " and ", " and some wrapper like ", " in our C++ API, but it\u2019s the \u201chow\u201d that\u2019s held us up.", "But we\u2019re still looking at this issue and it\u2019s in our critical path as we need it to implement rosbag and to implement \u201ctype masquerading\u201d.", "I\u2019ll try to remember to reply here when we get the first version of that new API figured out.", "The other thing I suppose you\u2019ll need is a way to parse the \u201cROS IDL\u201d files, e.g. ", "? We don\u2019t currently have that in anything but Python. I see that you have one for ROS 1 in C++:", "As part of your package, which is awesome ", ", but it would likely need to be updated to support the new syntax we support in ROS 2 (see ", ", specifically the part about bounded strings and arrays).", "Also, it would be awesome to have a separate library for parsing the various interface files in C/C++, so it could be reused everywhere.", "There\u2019s also the possibility to have another, more machine friendly, version of the interfaces. For example, as part of generation at build time we could generate an xml or json file which represents the contents of the corresponding ", " file. Then you could lookup and load that file instead (with an xml or json library), which would save you from needing to writing parsing code, and instead you would only need to interpret the contents correctly.", "This is a feature I\u2019d really like to see well supported in both ROS 1 and ROS 2, it would be especially helpful in making the bridge between the two more convenient to use with non-standard types. So, once we get you unblocked by providing something like ShapeShifter, I\u2019d be really interested in helping you with anything you\u2019re missing to implement it.", "Awesome, I am looking forward for it.", "The \u201cmachine friendly\u201d format you mentioned would (of course) be VERY welcome but not strictly necessary, since I have done already most of the heavy lifting in terms of parsing.", "One quick question. My runtime deserialization was created doing a \u201creverse engineering\u201d of how ROS1 messages are created.", "\nIn DDS is the serialization protocol standardized or middleware dependent? Since DDS is known to have good interoperability, I am tempted to think that the former is true\u2026", "The DDS serialization protocol is indeed standardized. It uses a format called Extended Common Data Representation (XCDR). The most up-to-date reference is the DDS-XTYPES specification version 1.2. See ", "Well, we\u2019re going to need to provide a function which can serialize and deserialize a ", " given an output structure. For example, with ", " it might be like:", "The implementation of this imagined ", " function may end up calling an implementation specific function, or at the very least how it is deserialized should be an implementation detail.", "But of course what you want is more like:", "We have the beginnings of this in ", ", but I\u2019m 100% certain how much is still needed to support this at the user level. We might not be able to use any of that package at the user level, since it isn\u2019t always used in the implementation, but it is at least representing the structure of a message as C++ structs and objects which is part of what we\u2019d need to do. My initial guess is that we would need to have a way to generate the same typesupport structures but given an input string or structure which describes the type.", "So I\u2019d actually say we should try to avoid your package needing to reverse engineer how to deserialize, instead that should be provided by our abstraction layer. This allows us to protect the stuff that comes on top from underlying changes, e.g. if we changed from one version of CDR (the serialization standard used in DDS and ROS 2) to another.", "Just two side notes:", "The roadmap currently contains a task to revisit the message definition format. The ", " format currently used with some minor extensions from ROS 1 might be replaced with something more powerful since the format can\u2019t handle several of the pending feature requests. Just to be consider when spending effort on implementing the current format in different languages.", "While the serialization protocol of the DDS implementations follows a single standard you can\u2019t rely on the rmw impl. to be DDS. There has e.g. be efforts to implement the rmw interface with other middlewares like OPC UA.", "Summarizing:", "THINGS WE MIGHT DO:", "A) I guess that the first step is to add to ROSIDL the equivalent of ", ". Preferably expressed as JSON or XML format.", "B) It must be possible to subscribe to a topic in a \u201cgeneric\u201d way, i.e. bypassing the deserialization step and accessign the raw bytes of the message.", "C) To implement a run-time deserializer, I don\u2019t see any solution but implementing a different code for each protocol ", " No magic wands.", "A) I guess that the first step is to add to ROSIDL the equivalent of ros::message_traits::Definition< Type >::value(). Preferably expressed as JSON or XML format.", "I assume the value should contain the message description in a readable format. Why should that be provided through a language specific symbol? I would suggest to provide this information through the ament resource index which would make it available across languages.", "what I meant is that ros::message_traits::Definition< Type >::value() return a ", "But this static C string contains the information in a easy to parse format that any language can easily parse.", "Something like this ", "what I meant is that ros::message_traits::Definition< Type >::value() return a const char*", "I think exposing this information (even a preprocessed version to actually store e.g. yaml) through the ament resource index would be better in order to make it available to any language.", "ok, I got your point.", "Well, it seems that at least for eProsima, there are some open source pieces of software that can help me with the this task. But it will take me time to dig into the source code", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", "\n", "\n", "\n", "Type erased messages are needed for applications such as rosbag, rqt_plot, PlotJuggler, MATLAB importers, etc. Any generic topic subscriber indeed.", "ShapeShifter had all the informations needed to do this: raw bytes buffer, Message definition and MD5Sum.", "ROS1 had just one protocol, whilst ROS2 can potentially have DDS or others."], "url": "https://discourse.ros.org/t/ros2-anything-equivalent-to-topic-tools-shapeshifter/3393"},
{"title": "Implementation of online arbiter in SROS/SROS2", "thread_contents": ["I am very interested in the proposal of adding access control policy into ROS on the ", ". In particular, I find the \u201conline arbiter\u201d concept quite interesting and would like to research more on it. I am wondering if the online arbiter has been implemented in the current SROS/SROS2 code base. I looked at the ros_comm repo (", ") before but could not find relevant code pieces for the implementation of online arbiter. If not yet, is there any plan to implement an online arbiter in SROS/SROS2?", "Please help clarify/share if any guy know more details ", " . Thanks!", "Cross post ", " which could be helpful:", "\u2026 sros2 repository is mostly to provide tools to generate and manage security files more easily. The support for DDS-Security has been added within the core of ROS2 itself \u2026", "Thanks ", " for your interest in ROS/ROS2 and security.", "There is no plan to implement an online arbiter in ROS 2 at the moment. As ROS 2 is focused on decentralized communication, there is no ROS master anymore and all the policy evaluation and authorization is done directly between nodes. Adding a central component that knows all the policies of the system, override node access control policy resolution and that can modify them at runtime would be both challenging to implement in DDS and have several severe drawbacks that don\u2019t play well with a secure distributed system:", "Regarding SROS: I don\u2019t think any work has been done in that direction. Currently the sros master enforces the policies defined in the certificates.", "Hope this helps,", "I see. Thanks very much for your information! That really helps answer my question.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Introduce a single point of failure as taking it down would prevent communication if the arbiter approval is required to establish communication", "Store all the policy information of the system in a single place rather than distribute it", "Force every node to establish additional communication channels and adds network overhead to communicate with the arbiter."], "url": "https://discourse.ros.org/t/implementation-of-online-arbiter-in-sros-sros2/3456"},
{"title": "Ros2 beta2 on mac crashes with \"Address already in use\"", "thread_contents": ["I built ros2 beta2 from sources on a mac and when trying examples, the execution fails:", "ros2 run demo_nodes_cpp talker", "\nlibc++abi.dylib: terminating with uncaught exception of type std::__1::system_error: set_option: Address already in use", "Anyone experienced this? Any idea how to fix this?", "Hi we had the same case on linux in case a network interface had an alias set. We simply removed the alias an the fast rtps middle worked.", "I\u2019m not aware of any aliases set, however the mac has bunch of network interfaces defined, but only one (wifi) is active.", "For me, on OS X, it was caused by being connected to a VPN. This error should only occur with fastrtps as the RMW implementation. It\u2019s being tracked upstream at ", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-beta2-on-mac-crashes-with-address-already-in-use/2234"},
{"title": "Ament build failed on Mac", "thread_contents": ["I tried to build ros2 from source but failed.", "Please Help, and please let me know if I should provide additional information.", "My default python3 set to Anaconda and the proper packages are missing in anaconda environments. I guess it messed up everything.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ament-build-failed-on-mac/3486"},
{"title": "Example in the github repository examples-master is wrong (Win 10 X64)", "thread_contents": ["Hi everyone,", "I found some bugs in the repository examples-master:", "download examples-master into C:\\dev\\ros2", "open developer cmd prompt for 2015", "go to C:\\dev\\ros2", "call local_setup.bat", "go to C:\\dev\\ros2\\examples-master\\rclcpp\\minimal_publisher\\", "mkdir src", "move all files into C:\\dev\\ros2\\examples-master\\rclcpp\\minimal_publisher\\src\\", "ament build", "\n9: error_info:", "\n\u201cC:\\dev\\ros2\\examples-ardent\\rclcpp\\minimal_publisher\\build\\examples_rclcpp_minimal_publisher\\examples_rclcpp_mi", "\nnimal_publisher.sln\u201d (default target) (1) ->", "\n\u201cC:\\dev\\ros2\\examples-ardent\\rclcpp\\minimal_publisher\\build\\examples_rclcpp_minimal_publisher\\publisher_not_comp", "\nosable.vcxproj.metaproj\u201d (default target) (5) ->", "\n\u201cC:\\dev\\ros2\\examples-ardent\\rclcpp\\minimal_publisher\\build\\examples_rclcpp_minimal_publisher\\publisher_not_comp", "\nosable.vcxproj\u201d (default target) (7) ->", "\n(ClCompile target) ->", "\nC:\\dev\\ros2\\examples-ardent\\rclcpp\\minimal_publisher\\src\\not_composable.cpp(37): error C2039: \u2018get_logger\u2019: is", "\nnot a member of \u2018rclcpp::node::Node\u2019 [C:\\dev\\ros2\\examples-ardent\\rclcpp\\minimal_publisher\\build\\examples_rclcp", "\np_minimal_publisher\\publisher_not_composable.vcxproj]", "3 Warning(s)", "\n4 Error(s)", "Please do not double post your question. You already asked it in a different thread (", ").", "In general: please also do not post images of your problem. The rational is that the textual content in your screen shot is not searchable and therefore not findable by others.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n"], "url": "https://discourse.ros.org/t/example-in-the-github-repository-examples-master-is-wrong-win-10-x64/3488"},
{"title": "Failure compiling builtin_interfaces with CoreDX middleware and latest ROS2 0.4.0", "thread_contents": ["I\u2019ve attempted to compile the current ROS2 release with my CoreDX middleware. I get this error when it gets to  builtin_interfaces: ", " . The error is thrown while linking builtin_interfaces_s__rosidl_typesupport_coredx_c.cpython-35m-x86_64-linux-gnu.so. I can\u2019t see any other errors, and rosidl_typesupport_coredx_c compiles without issue beforehand. Any ideas?", "I am not sure if this applies to the CoreDX rmw impl. but for the OpenSplice one we had to fix the handling of ", " in the latest release. May the diff help to do something similar for CoreDX: ", "It was a matter of not having the right coredx items included in rosidl_typesupport. We\u2019re good to go now. Thanks.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/failure-compiling-builtin-interfaces-with-coredx-middleware-and-latest-ros2-0-4-0/3477"},
{"title": "ROS2 application development in visual studio 2017 or 2015 (win 10 x64)", "thread_contents": ["Hi everyone,", "I want to start ROS2 development in visual studio 2017 or 2015. However, i encouner some problems so that I can\u2019t build my source code.", "1>------ Rebuild All started: Project: Project1, Configuration: Debug x64 ------", "\n1>HelloWorld_main.cpp", "\n1>HelloWorldSubscriber.cpp", "\n1>HelloWorldPubSubTypes.cxx", "\n1>HelloWorldPublisher.cpp", "\n1>HelloWorld.cxx", "\n1>Generating Code\u2026", "\n1>libfastrtps-1.5.lib(ThroughputControllerDescriptor.obj) : error LNK2038: mismatch detected for \u2018_ITERATOR_DEBUG_LEVEL\u2019: value \u20180\u2019 doesn\u2019t match value \u20182\u2019 in HelloWorld.obj", "\n1>libfastrtps-1.5.lib(ThroughputControllerDescriptor.obj) : error LNK2038: mismatch detected for \u2018RuntimeLibrary\u2019: value \u2018MD_DynamicRelease\u2019 doesn\u2019t match value \u2018MDd_DynamicDebug\u2019 in HelloWorld.obj", "\n1>libfastrtps-1.5.lib(ParameterTypes.obj) : error LNK2038: mismatch detected for \u2018_ITERATOR_DEBUG_LEVEL\u2019: value \u20180\u2019 doesn\u2019t match value \u20182\u2019 in HelloWorld.obj", "\n1>libfastrtps-1.5.lib(ParameterTypes.obj) : error LNK2038: mismatch detected for \u2018RuntimeLibrary\u2019: value \u2018MD_DynamicRelease\u2019 doesn\u2019t match value \u2018MDd_DynamicDebug\u2019 in HelloWorld.obj", "\n1>libfastrtps-1.5.lib(QosPolicies.obj) : error LNK2038: mismatch detected for \u2018_ITERATOR_DEBUG_LEVEL\u2019: value \u20180\u2019 doesn\u2019t match value \u20182\u2019 in HelloWorld.obj", "As mentioned in the ", " we only test with Visual Studio 2015 at the moment. So I would highly recommend you to follow the instructions / stick to the same versions especially when using ROS 2 the first time.", "Hi Thomas,", "I have already tried it in the visual studio 2015. The problem still exists.", "It is not sufficient to just manually add include directories and link arguments that you have added.", "The easiest thing to do right now would be to start with a cmake package, generate a visual studio project from that and work from there. That way you get the correct include directories and linker flags that you need based on what you\u2019re using. That flags will change depending on what you\u2019re using. If for instance you start out only using ", ", but then later also need to use messages from ", " then your include and linker flags will change. So specifying them manually is not advisable.", "Thanks for your tips. I have tried:", "Error Info:", "\n2>------ Rebuild All started: Project: HelloWorldExample, Configuration: Debug x64 ------", "\n2>  Building Custom Rule C:/dev/ros2/examples/C++/HelloWorldExample/src/HelloWorldExample/CMakeLists.txt", "\n2>  CMake does not need to re-run because C:/dev/ros2/examples/C++/HelloWorldExample/src/HelloWorldExample/build_2/CMakeFiles/generate.stamp is up-to-date.", "\n2>  HelloWorld.cxx", "\n2>  HelloWorldPubSubTypes.cxx", "\n2>  HelloWorldPublisher.cpp", "\n2>  HelloWorldSubscriber.cpp", "\n2>  HelloWorld_main.cpp", "\n2>  Generating Code\u2026", "\n2>LINK : fatal error LNK1104: cannot open file \u2018libfastcdrd-1.0.lib\u2019", "\n========== Rebuild All: 1 succeeded, 1 failed, 0 skipped ==========", "I think it is the best thing that you can create some tutorials for users of ROS2.", "Can you try to build in ", " mode rather than ", " (can be selected in the tool bar at the top of the VS window) ?", "If you build in Debug mode you need to add the debug libraries (note the trailing d) \u201clibfastcdr-1.0", ".lib\u201d. Our binaries provide only the Release libraries so you\u2019ll need to build the stack from source if you want to build ", " libraries.", "Also, If you want to try ROS2 examples and build on top of them I encourage you to look at the examples in ", ". The examples you are trying to build right now are pure Fast-RTPS examples (installed by Fast-RTPS) and don\u2019t use ROS 2", "Thank you for your answers.", "\nHelloWorldExample: you are right! ", " If i switched into Release, it works.!", "Hi marguedas:", "I tried to build this example ", "this example run in Release mode.", "You need to stick to consistent version across different packages. I assume you installed the latest release ", ". Then you should also fetch the ", " branch of the ", " repo. Otherwise the code on the ", " branch might already use / require changes made since the release.", "Hi Thomas,", "Thanks for your reminders.", "\nI have tried example-ardent branch. But those problems still exist.", "Our CI system builds the current default branches successfully and was able to build the ", " branches for the release. So chances are that something is different on your system.", "You might want to double check which versions of all packages are being used, try to wipe the workspace and build it again, look into the include directories being used (in this case the ", " header from the ", " package). Often posting the very exact steps you are running might allow other to reproduce the problem or you to determine where your process is different from the instructions.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["First step: I create Helloworldexample in visual studio 2017.", "Second step: I add paths C:\\dev\\ros2\\include;", "\nC:\\dev\\ros2\\Lib; in the properties --> C/C++ --> General --> Additional Include Directories", "Third step: I add fies: C:\\dev\\ros2\\Lib\\libfastrtps-1.5.lib;", "\nC:\\dev\\ros2\\Lib\\libfastcdr-1.0.lib; in the properties --> Linker --> Input --> Additional Dependencies", "Forth step:Build --> error info below", "go to C:\\dev\\ros2\\examples\\c++\\HelloWorldExample", "mkdir build", "cd build", "cmake \u2026\\  -G \u201cVisual Studio 14 2015 Win64\u201d", "open HelloWorldExample(VC++ Project) with open Visual Studio 15", "I add fies: C:\\dev\\ros2\\Lib\\libfastrtps-1.5.lib;", "\nC:\\dev\\ros2\\Lib\\libfastcdr-1.0.lib; in the properties --> Linker --> Input --> Additional Dependencies", "Build", "download  ", " into dictionary C:\\dev\\ros2", "open developer cmd prompt for VS2015", "go to C:\\dev\\ros2\\examples-master\\rclcpp\\minimal_publisher\\", "mkdir build", "cd build", "cmake \u2026\\ -G \u201cVisual Studio 14 2015 Win64\u201d", "open publisher_lambda(VC++ Project)", "build", "error info:", "\n1>------ Build started: Project: ZERO_CHECK, Configuration: Release x64 ------", "\n1>  Checking Build System", "\n1>  CMake does not need to re-run because C:/dev/ros2/examples-master/rclcpp/minimal_publisher/build/CMakeFiles/generate.stamp is up-to-date.", "\n2>------ Build started: Project: publisher_lambda, Configuration: Release x64 ------", "\n2>  Building Custom Rule C:/dev/ros2/examples-master/rclcpp/minimal_publisher/CMakeLists.txt", "\n2>  CMake does not need to re-run because C:/dev/ros2/examples-master/rclcpp/minimal_publisher/build/CMakeFiles/generate.stamp is up-to-date.", "\n2>  lambda.cpp", "\n2>C:\\dev\\ros2\\examples-master\\rclcpp\\minimal_publisher\\lambda.cpp(35): warning C4002: too many actual parameters for macro 'RCLCPP_INFO\u2019", "\n2>C:\\dev\\ros2\\examples-master\\rclcpp\\minimal_publisher\\lambda.cpp(35): error C2039: \u2018get_logger\u2019: is not a member of 'MinimalPublisher\u2019", "\n2>  C:\\dev\\ros2\\examples-master\\rclcpp\\minimal_publisher\\lambda.cpp(24): note: see declaration of 'MinimalPublisher\u2019", "\n2>C:\\dev\\ros2\\examples-master\\rclcpp\\minimal_publisher\\lambda.cpp(35): error C2039: \u2018__this\u2019: is not a member of 'MinimalPublisher\u2019", "\n2>  C:\\dev\\ros2\\examples-master\\rclcpp\\minimal_publisher\\lambda.cpp(24): note: see declaration of \u2018MinimalPublisher\u2019", "\n========== Build: 1 succeeded, 1 failed, 0 up-to-date, 0 skipped =========="], "url": "https://discourse.ros.org/t/ros2-application-development-in-visual-studio-2017-or-2015-win-10-x64/3464"},
{"title": "ROS Time in beta1", "thread_contents": ["I see in the RCL API docs that there is a file rcl/time.h which has definitions and functions to get time.", "\nIs this the right mechanism we should be using to align Sim time and System time moving forward? (I realize the SIM time mechanism may not fully work yet\u2026)", "In the Migration guide it says that we still need to wait for a good replacement for ", ".", "\nIs that still the case? Or do we use ", " or some other function?", "That is the skeleton of what will support the ROS 2 version of ", ". It has the abstraction in place for sim time versus real time, but we haven\u2019t prototyped sim time yet and we haven\u2019t exposed these interfaces through the language specific client libraries (like in ", ").", "If you want to use that right now that would ok, but in the future expect there to be a ", " that you should use instead.", "The theoretical ideas behind this abstraction are in this design doc:", " might be able to give more pointers, he was the architect of this part of ", ". Also, we don\u2019t really have a good example of how this should be used, as far as I can find, at the moment. I think the ideas was that we would do that once we had it exposed in c++ and python.", "So, with the release of Ardent, is time now fully functional?", "\nThat is to say, will it work like ROS1 time when we are simulating on a computer? Or replaying bagged data through the bridge? Or running distributed ROS2 nodes across computers?", "What are the limitations of Time in V1?", "Thanks.", "I\u2019m not 100% certain of where the state landed, ", " can you describe it?", "I know we got ROS Time into the C++ API in some form, but I\u2019m unclear on the status of sim time itself and how to enable it (via parameters I guess?). Also, I\u2019m not sure if it\u2019s been tested with bagged data via the bridge.", "In C++ ROS time is operational using the ", " topic if the parameter ", " is set, following the ", ".", "The rclcpp Node has been extended to automatically setup a time source and provides ", " and ", " convenience methods.", "It has not been tested with the bridge and ROS1. I suspect that it would work if the right alias is defined between ROS1\u2019s ", " and ROS2\u2019s ", " as the datatypes are the same and the topic is the same.", "Note that there\u2019s slightly different semantics on the parameter too as it\u2019s on the node and not global anymore.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros-time-in-beta1/1003"},
{"title": "Ros 2 type support functions", "thread_contents": ["I have seen that ros idl generates type support header files for every type of messages. Is this header files used in RMW layers or in the DDS layers ?", "Some type supports are not specific to the rmw. impl and are being used by multiple different ones (e.g. ", "). Others are specific to one rmw implementation and defining between the ROS types and the DDS types using the vendor specific API (e.g. ", ").", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros-2-type-support-functions/3495"},
{"title": "Issues about Migration Guide", "thread_contents": ["Hi everyone,", "I tested the example from the Migration Guide in my PC(win 10 x64, binary packages  installation) and found some issues.", "cmake_minimum_required(VERSION 2.8.3) --> cmake_minimum_required(VERSION 3.5)", "\nauto node = rclcpp::node::Node::make_shared(\u201ctalker\u201d); -->  auto node = rclcpp::Node::make_shared(\u201ctalker\u201d);", "\nrclcpp::rate::Rate loop_rate(10); --> rclcpp::Rate loop_rate(10);", "BTW, I\u2019m not sure that rclcpp::Rate spins while it sleeps. It hasn\u2019t in times gone by. Generally, you will break things in ROS2 if you sleep instead of spin; your buffers will overflow, etc. We usually use the timeouts on the spin methods instead.", "The ", " is a wiki page. Please feel free to edit it and improve it where you see fit. It would be good to post a link to the diff here afterwards to make others aware of your change. Thanks.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/issues-about-migration-guide/3493"},
{"title": "ROS 2 Graph", "thread_contents": ["Where can I find the imlementation of the Graph API in ros 2 ? Is it in the DDS layers or rclcpp layers ?", "We have some ROS graph information available through our C++ and Python API\u2019s:", "Thanks for the link. I have some doubt about this Graph API. Does it maintain any kind of Graph Data strucutre which stores all the ros 2 nodes created in the memory ? Can I obtain information regarding nodes created using these ?", "You can get the names of the nodes on the system with this method:", "That is part of our generic C api, unfortunately we don\u2019t have that exposed in our C++ API yet, but we will in the future.", "As for an \u201cobject-oriented\u201d data structure with nodes and all of their properties, we don\u2019t have that yet either, though there\u2019s nothing preventing us from doing that. We haven\u2019t exchanged a lot of information about nodes yet, other than what we can collect from DDS already, because we\u2019ve still got some design work to do on ensuring node name uniqueness and that will impact how we communicate other details about nodes across the graph.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", " (search for \u201cintrospecting the ROS graph\u201d)", "\n", " (sorry no docs for these yet)"], "url": "https://discourse.ros.org/t/ros-2-graph/3434"},
{"title": "WebSockets bridge for ROS 2.0 is ready, enjoy the ROS on web!", "thread_contents": ["We released an alpha edition of ", ", which can bridge ROS 2.0 to the browser through WebSockets. The module is an upgrade of the current ", " and can work with the ", ", which means you can migrate your apps from ROS 1.0 to 2.0 seamlessly!", "The list of features includes :", "Thanks for the support of RWT guys!", "\nHave fun!", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Publish/Subscribe over topics", "Clients and Services"], "url": "https://discourse.ros.org/t/websockets-bridge-for-ros-2-0-is-ready-enjoy-the-ros-on-web/3557"},
{"title": "Is there any compiling conflict between latest ROS2 and ROS1?", "thread_contents": ["Hi,", "I just tried to build up latest ROS2 on a Ubuntu system on which ROS1 was previously built.", "\nI met several issues and the building always failed.", "\nHowever, after I cleared up the ROS1 dependencies with apt-get autoremove, the ROS2 compiling finally succeeded.", "Thus I build latest ROS2 on another Ubuntu machine without ROS1 built. It completes very smoothly. All the settings in those two Ubuntu machines are the same.", "I\u2019d like to know if there is any conflict between latest ROS2 and ROS1 in building?", "\nThank you in advance.", "Hi ", ",", "As a general rule we encourage users to build ROS2 in a terminal where ROS1 workspace is ", " sourced. In that case there is no conflict and you should be able to build the ros2 stack without issue.", "In some particular cases (like building the ", " or the ", ") there is a need to have both ROS 1 and ROS 2 workspaces sourced as this needs to be able to find both version of the packages to build. Such packages have specific build instructions in their READMEs (", ", ", ").", "You shouldn\u2019t have to remove any ROS1 package to build all the existing ROS 2 packages.", "Can you give more information about the builds that failed and what ROS 1 packages you had to remove?", "\nThanks!", "Hi ", ",", "Thanks a lot for your detailed reply.", "Actually I\u2019m not sure which library exactly cause the conflict. I just remove all the unnecessary ROS1 libraries with apt-get autoremove. One of the related libraries is poco.", "I did remove the ROS1 environment setting but it seemed that it didn\u2019t work.", "Thanks.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/is-there-any-compiling-conflict-between-latest-ros2-and-ros1/3538"},
{"title": "Initializing ROS 2 parameters", "thread_contents": ["Sorry for asking this seemingly noob question, but I wasn\u2019t able to find the answer anywhere: How can you set a parameter to an initial value when launching a node?", "I understand that ROS 2 will use a python based launch system, which isn\u2019t yet available (is that still so?).  On the github page for the new launch system there were some few examples, but they didn\u2019t seem to set any parameters.", "I would have assumed that parameters can be set through command line arguments, like it was possible in ROS 1. Certainly the ROS 1 syntax doesn\u2019t work anymore. I wasn\u2019t able to locate any code that parses parameters in the RCL github repository. Is this functionality not yet implemented? Is it recommended to just use ordinary command line arguments instead (through getop etc.)?", "Thanks", "I don\u2019t believe that there is anything like that in place at the moment.", "I have just been manually parsing the command line arguments and then setting the parameters from them. This is how I am doing it:", "\n", "\n", "Thanks, I guess I\u2019ll do something like that too.", "How can you set a parameter to an initial value when launching a node?", "Indeed, we do not have that yet. But that\u2019s on our short list of things to do, since something like roslaunch isn\u2019t that useful if you cannot remap things and set parameters from the start of a node.", "We first want to tie up some loose ends with parameters (", ") and then we\u2019ll do setting parameters from at least the command line (when you have your own executable).", "Even with that we still need to find a way to support initializing the parameters with the \u201cnodelet\u201d style of loading a node, where you run a process and then dynamically load your node into that process with a service call. As well as other patterns, like when you have multiple nodes in a single executable.", "I understand that ROS 2 will use a python based launch system, which isn\u2019t yet available (is that still so?).", "That\u2019s correct, we have something that can run and manage processes (called ", "), but not the equivalent of \u201croslaunch\u201d which can actually run nodes and take remappings for topics or set parameters or place whole nodes and other launch files into a namespace.", "I would have assumed that parameters can be set through command line arguments, like it was possible in ROS 1. Certainly the ROS 1 syntax doesn\u2019t work anymore. I wasn\u2019t able to locate any code that parses parameters in the RCL github repository. Is this functionality not yet implemented? Is it recommended to just use ordinary command line arguments instead (through getop etc.)?", "We will support that, but likely not exactly like the ROS 1 syntax (since we can have more than one node per executable now). We don\u2019t have anything implemented yet, but as I said, it\u2019s on the todo list. For now the best workaround is as you suggested, parsing your own arguments and setting the parameters to that.", "Even with that we still need to find a way to support initializing the parameters with the \u201cnodelet\u201d style of loading a node, where you run a process and then dynamically load your node into that process with a service call.", "Although it\u2019s not necessarily the best way, one way we have used successfully to do this is to pass a string containing the parameters formatted like the arguments to a URL (\u201c", "\u201d etc.). The advantage of this approach is that it\u2019s easy to adapt to different styles of service call. The disadvantage is translating all parameters to text, which must be reparsed, and it being unwieldy for complex data structures.", "\u2026not the equivalent of \u201croslaunch\u201d which can actually run nodes and take remappings for topics or set parameters\u2026", "I don\u2019t think that remapping nodes or handling parameters on the command line should fall to the responsibility of a wrapper in ROS2. Let\u2019s just make the underlying libraries handle those command line parameters. E.g. we already pass process args into ", " \u2013 just use those args for remapping.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["   }", "\n", "   nh_ = std::make_shared<rclcpp::Node>(node_name_, node_namespace_, is_nodelet);", "   swri::setup_logging(nh_);", "   parse_arguments(argc, argv);", "\n", "   onInit();", " }", "\n", "private:", " void parse_arguments(int argc, char** argv)", " {", "   for (int i = 0; i < argc; i++)", "   {", "     std::string val = argv[i];", "     if (val.find(\":=\") == -1 || val.length() < 4)", "       continue;", "\n", "     int split = val.find(\":=\");", "     std::string name = val.substr(0, split);", "     std::string value = val.substr(split+2);"], "url": "https://discourse.ros.org/t/initializing-ros-2-parameters/3542"},
{"title": "--isolated in Docker image", "thread_contents": ["I notice that your ROS2 Docker images are compiled with the ", " flag. What is the advantage or tradeoff to that flag in that scenario? How does it affect the size of the Docker image?", "I used ", " (as well as other flags) in the Docker images mostly because that\u2019s the ament invocation I use for development.", "All the ", " flag does is tell ", " to create an \u201cisolated\u201d install folder rather than a merged one, this means that each package will have it\u2019s own subfolder in the install directory.", "Without ", ":", "With ", ":", "The main advantage of this approach is that each package will have a different path for its includes, libraries etc (", ", ", "\u2026). This allows to make sure the dependencies are properly declared in CMake without relying on the fact that some files from projects that haven\u2019t been ", "'d are present in the install directory.", "The drawback is that setting up the environment (", ") takes longer as a multitude of directories need to be added to environment variables (PATH, PYTHONPATH, LD_LIBRARY_PATH\u2026).", "\nOn Windows with the ", " command line interpreter, environment variables are limited to 2048 characters making this approach unusable.", "Other flags used in the docker images that differ from the ros2 installation instructions:", "Hope this helps", "So you think disk usage is the same or does the isolated build duplicate copies of dependencies?", "Have you looked into making the docker images run the local_setup.bash file as part of the image compilation so that it doesn\u2019t require any time during image startup?", "A quick test seems to show that ", " does significantly increase the drive space usage. That seems like something we don\u2019t want for Docker images.", "Update: I forgot to test with the symbolic linking. I just did that; the isolated builds are still larger but using symbolic links does mitigate some of the growth.", "A quick test seems to show that ", " does significantly increase the drive space usage.", "As ", " mentioned before the isolated option should only change the location of installed files and only add a couple of scripts for each package. Please provide more information about the result of your comparison.", "I see isolated builds cause a size increase on some of our internal projects. However, I just ran a build comparison on ROS2 itself and saw no significant size increase. I guess it\u2019s a non-issue. Our internal projects probably have poor dependency management; I know that ament\u2019s ", " flag doesn\u2019t work on our internal projects because of file conflicts.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", ": allows to build concurrently packages whose dependencies are satisfied. We don\u2019t advertise it as we faced some race conditions at install time when not using it in cmbination with ", "\n", "\n", ": create symlinks in the install folder instead of copying the files. That allows faster install step as well as removing the need to rerun ament when modifying files that dont require compilation (e.g python scripts) in the source space.  This is also not an option on windows as symlinking files requires administrator permissions.", "\n", ": compiles Fast-RTPS with DDS-Security enabled"], "url": "https://discourse.ros.org/t/isolated-in-docker-image/3504"},
{"title": "Ros1 bridge duplicating messages", "thread_contents": ["I am running the parameter_bridge. When I send one ros1 message the parameter_bridge is pushing out the same ros1 message. So I end up duplicating the ros1 messages. Is this a design decision or is it a bug?", "For me the behavior is not good at all and not what I expected.  For now I have just tested if with my own messages.", "Also when I added a namespace argument to parameter_bridge it started to publish my message not just once but continuously with 65Hz.", "This is a bug: ", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros1-bridge-duplicating-messages/3517"},
{"title": "Dynamic analysis of ROS2 graph", "thread_contents": ["Is there an equivalent to ", " for ROS2?", "No, not at the moment.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/dynamic-analysis-of-ros2-graph/3587"},
{"title": "Ament best practice for sharing libraries", "thread_contents": ["What\u2019s the recommended best practice for exporting a library from a package for use in another package?", "My specific use case is exporting composable nodes as a shared libraries from some packages and using those in another package that does link-time composition, but I imagine this is going to be a common use case.", "From poking around in the ", " ", ", this is what I\u2019ve come up with. I\u2019m not 100% sure about the purpose of the ", " lines, and I\u2019m also assuming that I still need to manually install include files just like libraries since this seems the logical thing.", "It works, but is it correct?", "Yes, this will work. ", " is basically the equivalent to ", ".", "A \u201cbetter\u201d / more modern way would be to generate a CMake file containing code to import the actual targets in downstream packages. This needs to steps:", "The usage downstream is than also different: see ", ".", "We only do this in very few cases yet but the goal is to use this approach in all packages.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["install the generated file (", ")", "export the generated file (", ")"], "url": "https://discourse.ros.org/t/ament-best-practice-for-sharing-libraries/3602"},
{"title": "Rviz build on Linux", "thread_contents": ["Setup new ubuntu 16.04 environment to build rviz of ros2, there are always some dependence packages not found, here list build errors and fixing solution for reference.", "Follow rviz 2 ", ":", "###############################################", "\nCould NOT find SDL2 (missing:  SDL2_LIBRARY SDL2_INCLUDE_DIR)", "apt-get install libsdl2-dev", "###############################################", "\nBy not providing \u201cFindQt5.cmake\u201d in CMAKE_MODULE_PATH this project has", "\nasked CMake to find a package configuration file provided by \u201cQt5\u201d, but", "\nCMake did not find one.", "Could not find a package configuration file provided by \u201cQt5\u201d with any of", "\nthe following names:", "\nQt5Config.cmake", "\nqt5-config.cmake", "apt-get install qt5-defalut", "###############################################", "\nCould not find freeimage library", "apt-get install libfreeimage-dev", "###############################################", "\nChecking for module 'yaml-cpp>=0.5\u2019", "\nCMake Error at /usr/share/cmake-3.5/Modules/FindPkgConfig.cmake:367 (message):", "\nA required package was not found", "apt-get install libyaml-cpp-dev", "###############################################", "\nCould not find a package configuration file provided by \u201cASSIMP\u201d with any", "\nof the following names:", "\nASSIMPConfig.cmake", "\nassimp-config.cmake", "apt-get install libassimp-dev", "###############################################", "\nCould NOT find CURL (missing:  CURL_LIBRARY CURL_INCLUDE_DIR)", "apt-get install libcurl4-openssl-dev", "###############################################", "Thanks very much for your work here, Chris. It seems that the make file is", "\nquite a mess! You saved a lot of us less skilled people a lot of hunting", "\nand despair.", "Hi Chris, thanks for documenting the RViz dependencies!", "We are aware that the build instructions are not very clear right now.", "\nThe following pull request should make it clearer:", "\n", "\n", "Some comments regarding your findings:", "I have an equivalent error on OSX.  Have you update the relevant instructions, also?", "\nThanks Dennis", "I do not try on OSX, hope anyone else working on OSX could help you", "apt-get install libyaml-cpp-dev", " Just to confirm that it\u2019s still necessary to install libyaml-cpp-dev ? it seems that rviz2 has its own yaml-cpp now", "Sorry for the late reply!", "No, some of the dependencies listed in this post such as yaml-cpp should not be necessary to install anymore.", "The dependencies listed on this page should be enough", "\n", "The Robot Operating System, is a meta operating system for robots. - ros2/ros2", "\n", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Thanks to your post I noticed that the instructions still missed curl in the dependency list and added it.", "FreeImage is currently not required for building RViz. The error message is printed but it is not relevant for now.", "SDL is built automatically together with OGRE. It should therefore not be necessary to install the apt package.", "\nHowever, installing the SDL apt package also installs two required dependencies, namely ", " and ", ". These are included in the new build instructions."], "url": "https://discourse.ros.org/t/rviz-build-on-linux/3225"},
{"title": "V-REP ROS2 windows10", "thread_contents": ["I would like to ask if there is any cpp example code to use ROS2 in order to send joints value to a robot  in V-REP scene.", "Not that I\u2019m aware of.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/v-rep-ros2-windows10/3668"},
{"title": "ROS2 Design Patterns", "thread_contents": ["Are you going to address design patterns for ROS2 in your documentation as you did for ROS1 with the ", "? It would be helpful if one could access information about ROS2 design patterns from a central entry point as well.", "As far as I know the articles on ", " are about design and design patterns applied to the ROS2 framework itself. Or am I wrong and are there already design patterns documented which address patterns about how to design ROS2 w.r.t. to custom (application) use cases?", "I would be interested in lower level design patterns (kind of idioms?) like the hints in the ", " about use case specific Fast RTPS configuration as well\u2026", "The ", " tries to summarize design patterns for ROS2 with a pattern approach.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-design-patterns/2865"},
{"title": "Is it safe now to port nodelets to components?", "thread_contents": ["I am tempted to port some ROS1 nodelets to ROS2 as components, but I am seeing composition is currently implemented as a couple of demo binaries. Should we just wait for the concept to be more mature and get finalized? If I look into ROS2 roadmap, I can see in the Future Work list this line: Provide standard way to create and use components.", "I would wait a short time. We are going to be working on roslaunch and the \u201cstory\u201d for writing, building, and running (with roslaunch) components in this quarter. With that the CMake and runtime behavior of the components should be better.", "The code, however, is unlikely to change much (the way you use the ", "), perhaps only what macro you call to register the node component.", "So with that in mind, you might start migrating anyways, so long as you\u2019re willing to do some remedial work on the build system logic.", "As a preview, you could have a look at my old prototype (not sure if it is currently working with Ardent):", "Contribute to wjwwood/ros_cmake_auto_examples development by creating an account on GitHub.", "It won\u2019t be exactly like that, but it might give you an idea of how it might be different from the component\u2019s demo we currently have in Ardent.", " I\u2019m very interested in the work on roslaunch for ROS2. Are there are already design documents on this? I\u2019ve seen the docs on parameters and remapping, but nothing dedicated to roslaunch as such.", " I\u2019d also be happy to help draft/edit a design document.", "I\u2019d like to know the detailed plans for roslaunch, too.", "Nothing yet, I\u2019m going to be working on a design doc first thing. I\u2019d be grateful with help with it. I\u2019ll make sure to make it public as early as possible to let you guys help me with it.", "Thanks for giving us updates on what is on your plate for ROS2 core features. Can you guys update ", " so we know what is your focus this and next month at least?", "Also this thread: ", " seems to be dead.", " we just sorted out some of what we\u2019re working on this coming quarter last Thursday, and I think we still have some outstanding feedback from stakeholders, so that might be why we haven\u2019t updated it yet, but I\u2019m sure we will asap.", "/cc ", "Also this thread: ROS 2 Collaboration Bulletin Board seems to be dead.", "Yeah\u2026 I was hoping it would take on a life of its own, but I haven\u2019t really had time to encourage it. I will say that it\u2019s not the place to talk about core features, perhaps other than to announce we\u2019re starting working on some particular feature or as a call to arms for help, but we usually also do that with a RFC for a design document.", "I just updated the roadmap listing the items we are currently working on: ", "As progress and resources permit we will hopefully be able to add more items over time.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/is-it-safe-now-to-port-nodelets-to-components/3691"},
{"title": "How to set number of parallel jobs in ROS2 building?", "thread_contents": ["Hi,", "I notice that ROS2 building set parallel jobs as \u201c-j8 -l8\u201d. I\u2019d like to know if ROS2 provides arguments to increase number of parallel jobs in building.", "Thank you.", "You can either set the environment variable ", " or you can pass arbitrary arguments to ", " using ", ".", "Just to confirm my understanding, parallel build for each package is supported by the toolchain itself and that is what OP is asking about, but parallel build for more than one package is not yet supported by ament, right?", "parallel build for each package is supported by the toolchain itself and that is what OP is asking about", "Correct.", "but parallel build for more than one package is not yet supported by ament", " has an option ", " which also processes packages in parallel. There are known race conditions though (", "). We still use the feature on ", " to speed up the builds. There is no configuration option to specify a limit for the packages processed in parallel.", " Thanks for the confirmation. Didn\u2019t know that ament parallel actually work. How frequently does this issue repro?", "\nI think you have an extra 0 in the issue number, the issue is ", " ", "Thanks for the confirmation. Didn\u2019t know that ament parallel actually work. How frequently does this issue repro?", "Hard to quantify. I would say less than 5%. Otherwise we would run into it more frequently on the the buildfarm.", "I think you have an extra 0 in the issue number, the issue is ", "Thanks for pointing it out, the ", " was supposed to be a ", " ", "Hi ", ", it works. Thanks a lot!", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/how-to-set-number-of-parallel-jobs-in-ros2-building/3723"},
{"title": "Requesting Comments on Forbidding Consecutive Underscores in Topic Names", "thread_contents": ["The pull request ", " proposes banning consecutive underscores ", " in topic names. Please feel free to comment on the the pull request, especially if this would be a problem for your use case.", "If there are no objections I will merge the pull request shortly after UTC 11:59pm Friday January 19, 2018.", "Why not use DDS partions for namespaces instead of restricting the topic names?", "Why not just have a few special \u201ckeywords\u201d like __ns and __node?", "Blanket banning __ just for those two usages seems rather overkill.", "A reason for not having a few special keywords is if they are not enough in the future then adding new ones risks breaking existing topics. Lifting a blanket ban on ", " if it is found to be unnecessary would not break anything.", "Why not use DDS partions for namespaces instead of restricting the topic names?", "I think you might be confusing these two things. We want to ban ", " regardless of how we implement it in DDS (we\u2019re still using partitions right now), but instead to allow us to unambiguously differentiate a relative topic which starts with ", " and some of our special tokens like ", " and ", ".", "I thought that the __ are only used for topic namespaces. In case they would be implemented as DDS partitions I think it wouldn\u2019t be necessary to ban them. I case of special tokens I think it would be the easiest to ban the double underscore.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/requesting-comments-on-forbidding-consecutive-underscores-in-topic-names/3718"},
{"title": "ROS2 Ardent Apalone Docker image?", "thread_contents": ["The latest ROS2 version supported in the ", " is \u201cbeta3\u201d (", "). Have you already scheduled support for \u201cArdent Apalone\u201d?", "Yes, docker images for Ardent Apalone ", ". These will be available only for Ubuntu Xenial amd64 and will provide a few additional tags to have more granularity in the size of the images.", "\nWe\u2019ll post an announcement here on discourse once the images are available.", "Cheers,", "Ardent docker images are ", "!", "We now provide ", ":", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["core: minimal setup with only the client libraries", "basic: core + a set of basic demos and message packages", "full: basic + all pure ros2 packages released in ardent", "ros1-bridge: full + the ros1-bridge and the demos using ROS 1 dependencies"], "url": "https://discourse.ros.org/t/ros2-ardent-apalone-docker-image/3740"},
{"title": "Rviz2 - Qt - problem creating accessible interface", "thread_contents": ["I have been exploring AA (Ardent apalone) release.", "\n", "when i launch ", " in the terminal:", "Thats the error I am getting. My rviz2 interface looks like this:", "Also, I was trying out the ", " demo and I have to do:", "for terminal 2 section in wiki.", "\nIt will not work for me as shown in the wiki:", ".", "[", " ]", "\nAdditionally in Rviz (ROS1) it throws error with the RobotModel visualizatin .", ":", "Any hints or solution would be appreciated.", "Hi ", ", thanks for the report.", "\nI couldn\u2019t reproduce the original Qt issue but could reproduce the ROS1 error.", "Also, I was trying out the dummy_robot demo and I have to do:", "ros2 run ros1_bridge dynamic_bridge --bridge-all-2to1-topics", "for terminal 2 section in wiki.", "It will not work for me as shown in the wiki:", "dynamic_bridge --bridge-all-2to1-topics.", "You\u2019re totally right, The wiki has been updated to reflect the new executable location.", "Additionally in Rviz (ROS1) it throws error with the RobotModel visualizatin .", "I could reproduce this indeed. Though these meshes are not necessary to visualize the robot and by setting the Fixed Frame to \u201cworld\u201d I could display the robot model with all the links and associated meshes.", "At some point I had some missing transforms as well. It looks like only the ", " topic had data but I didnt receive anything on ", " (on the ROS2 side so nothing was bridged on the ROS 1 side). Killing and restarting the ", " launch file fixed it.", "In RViz2 it worked out of the box by simply running the dummy_robot_bringup launchfile in a terminal and RViz2 in a second terminal.", "Hope this helps,", "Hi ", ",", "\nwe experienced the same ros2/rviz error that you describe.", "\nIn our case the problem was not with Qt, but with loading the default config using yaml-cpp.", "\nThis results in the empty window.", "Can you check if you have a yaml-cpp 0.5 package installed with apt?", "\nIf yes, uninstall it and try again, ROS2 comes with its own yaml-cpp.", "Are you using the binary build of ros2/rviz or are you building it from source?", "Hi,", "\nApologies for delayed reply, I was caught up with some other work I am doing on ROS2. Coming to rviz, no I am not getting the rviz2 GUI except for that window. I tried launching ur5_bringup launch as well from ros1 and tried to get the tf in ros2. I can see on the bridge that it is being sent however rviz2 gui is limited to that small box with no options.", "\nThese are the things I have installed now:", "\n", "I am got the rviz2 that came along with the ros2 debian install. I did not build it from source.", "Does it work if you uninstall ", " and ", " and then try again?", "No it doesn\u2019t help, I am getting the same window as above. ", "\nAny other pointers guys. I wanna visualize my messages in ros2.", "It looks like your problem is in the process of getting fixed here:", "\n", "\n", "In the meantime, could you show us the result of the command?", "\n", "It seems rviz is still trying to use a system yaml-cpp.", "Since I am having virtually the same problem (without the Qt notification), I would like to take up the answering from here. I installed ROS2 from source and have it in ~/ros2_ws. I have uploaded screenshots of my problem setting.  ", "There is no ~/ros2_ws/bin/rviz2, only a  ~/ros2_ws/build/rviz2 which is a directory. What do you mean by <path_to_ros2> then? Do you have any other ideas why this happens?", "Thanks a lot!", "Hello,", "Apologies its been a while, just caught up with multiple works. Please find attached is the result:", " (49.6 KB)", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/rviz2-qt-problem-creating-accessible-interface/3416"},
{"title": "How to use Kinect or other Sensors in ROS2?", "thread_contents": ["I was looking at the ", ". I see the PR ", ". Is it something similar we are looking forward in order to use sensors like kinect and others to be used in ROS2.0, without using ROS1.0 ?", "Do we need to change all these drivers?", "\nOr Will there be any common ROS2 interface for the sensors that would build the bridge between ros1 cpp/py standards with ros2 rclcpp/rclpy standards?", "As it currently stands, it is necessary to do some porting of drivers and packages to bring them from ROS1 to ROS2.  Some of those changes are mechanical, so will be easy to do (and possibly automate); some of those changes could be eased by a shim layer.  ", " created a PR detailing some of the problems, thinking, and solutions here:  ", " .  Feedback on that is welcome.", "changes could be eased by a shim layer.  ", " created a PR detailing some of the problems,", "Hi,", "\n", " do you think we can write a shim layer for ", ", to have it working on ROS2.", "We haven\u2019t done any of the work to create a generic shim yet; the PR link I posted was thoughts on designs and how to ease transition from ROS1 to ROS2.  We have a few of the parts in place, but not the bulk of it.  We will be doing more work on this in the future to make it easier to port.", "If you want to port the kinect2 driver to ROS2 right now, I think you\u2019d have to make a new branch/fork, and do the changes in the separate branch.  If you want some ideas on the kinds of things you would have to do, you can look at the ", " driver that we did.", "Note that the shim layer mentioned in the design document linked above is mostly at the CMake level. As most sensor drivers rely heavily on nodelets for performance, I don\u2019t think foresee shiming as being a suitable approach to port sensors to ROS2. It will likely be better to convert the driver to use ROS2 directly instead, as nodelets don\u2019t exist in ROS2 (every node can be a nodelet, see ", " for more details on node composition in a single process).", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/how-to-use-kinect-or-other-sensors-in-ros2/3480"},
{"title": "Ament Build -test failed", "thread_contents": ["Hello,", "I am migrating to my new workstation. I ran previously r2b3. This is the first time i was installing ardent apalone.", "While i was running ", " I got this at the end for output.", "I have built the workspace before this and also ran ", " earlier to this which ended with ros1_bridge failure. Is this error specific to RMW implementation. It certainly looks for the metaconfig.xml files. I haven\u2019t encountered this in r2b2 and r2b3. Kindly guide.", "The failure of the test with ", " is something we are also having on our CI system (see ", "). While the bridge itself work with OpenSplice the test is currently not working correctly. We haven\u2019t had a chance to look at the test failure - it might be related to the warnings printed by Opensplice related to the ", " file as you mentioned.", "The test with FastRTPS is expected to pass though. At least it does so on our CI as well as on the developer machines when we tested the recent release. Maybe you can post more information why the test failed in your case.", "Hi ", ",", "I am doing a clean install in my new workstation. So I cannot really figure out any extra information. Just followed the wiki for insalling the AA release.", "Using Ubuntu 16.04, I have Kinetic running from ROS1.", "\nDo I need to install FastRTPS separately to have the test passed?", "Do I need to install FastRTPS separately to have the test passed?", "If you follow the ", " your workspace will contains the FastRTPS repository and if that passed to build it also found all dependencies. There is nothing else you need to make the tests pass.", "Yes I have done accordingly. In r2b3 I did not encounter this issue with FastRTPS. Dont know why is it happening now. ", " Do you have every test with fastrtps failing or only the bridge?", "\nDo the simple demos work with fastrtps ? e.g.:", "\n", "Tip: if you want to see the summary of all the tests you ran you can call", "\n", "Hi I did run : ", "  which i believe is using fastrtps and the output is as below:", "I am attaching the log for the test_results ( sorry had to make it a .pdf to support the website format: ", " (37.7 KB)", "I see it failing for the fastrtps examples too on running ", "According to the test results pretty much every pub / sub is failing for you for both rmw impl. That is certainly not supposed to happen and something severe seems to be wrong on your system.", "Can you please try to run the tests for a single package (e.g. ", ") and check the output for why those fail. I expect a generic error in the invocation of the tests since the ", " seems to work just fine for you.", "Hi ", " here is the output for ", ":", "The test result summary only tells us that the test failed (which we knew from the previous output). In order to provide more information please look at the actual test output when ", " the test.", "Hi. I am having the same issue. The output when I run src/ament/ament_tools/scripts/ament.py test is", "8: Test command: /usr/bin/python3 \u201c-u\u201d \u201c/home/paul/ros2_ws/install/share/ament_cmake_test/cmake/run_test.py\u201d \u201c/home/paul/ros2_ws/build/ros1_bridge/test_results/ros1_bridge/test_dynamic_bridge__rmw_fastrtps_cpp.xunit.xml\u201d \u201c\u2013package-name\u201d \u201cros1_bridge\u201d \u201c\u2013output-file\u201d \u201c/home/paul/ros2_ws/build/ros1_bridge/ament_cmake_pytest/test_dynamic_bridge__rmw_fastrtps_cpp.txt\u201d \u201c\u2013env\u201d \u201cRMW_IMPLEMENTAION=\u201d \u201c\u2013command\u201d \u201c/usr/bin/python3\u201d \u201c-u\u201d \u201c-m\u201d \u201cpytest\u201d \u201c/home/paul/ros2_ws/build/ros1_bridge/test_dynamic_bridge__rmw_fastrtps_cpp_.py\u201d \u201c-o\u201d \u201ccache_dir=/home/paul/ros2_ws/build/ros1_bridge/ament_cmake_pytest/test_dynamic_bridge__rmw_fastrtps_cpp/.cache\u201d \u201c\u2013junit-xml=/home/paul/ros2_ws/build/ros1_bridge/test_results/ros1_bridge/test_dynamic_bridge__rmw_fastrtps_cpp.xunit.xml\u201d \"\u2013junit-prefix=ros1_bridge\"", "\n8: Test timeout computed to be: 60", "\n8: \u2013 run_test.py: extra environment variables:", "\n8:  - RMW_IMPLEMENTAION=", "\n8: \u2013 run_test.py: invoking following command in \u2018/home/paul/ros2_ws/src/ros2/ros1_bridge\u2019:", "\n8:  - /usr/bin/python3 -u -m pytest /home/paul/ros2_ws/build/ros1_bridge/test_dynamic_bridge__rmw_fastrtps_cpp_.py -o cache_dir=/home/paul/ros2_ws/build/ros1_bridge/ament_cmake_pytest/test_dynamic_bridge__rmw_fastrtps_cpp/.cache --junit-xml=/home/paul/ros2_ws/build/ros1_bridge/test_results/ros1_bridge/test_dynamic_bridge__rmw_fastrtps_cpp.xunit.xml --junit-prefix=ros1_bridge", "\n8: usage: ", " [options] [file_or_dir] [file_or_dir] [\u2026]", "\n8: ", ": error: unrecognized arguments: -o cache_dir=/home/paul/ros2_ws/build/ros1_bridge/ament_cmake_pytest/test_dynamic_bridge__rmw_fastrtps_cpp/.cache", "\n8:   inifile: None", "\n8:   rootdir: /home/paul/ros2_ws", "\n8: \u2013 run_test.py: return code 2", "\n8: \u2013 run_test.py: generate result file \u2018/home/paul/ros2_ws/build/ros1_bridge/test_results/ros1_bridge/test_dynamic_bridge__rmw_fastrtps_cpp.xunit.xml\u2019 with failed test", "\n8: \u2013 run_test.py: verify result file '/home/paul/ros2_ws/build/ros1_bridge/test_results/ros1_bridge/test_dynamic_bridge__rmw_fastrtps_cpp.xunit.xml\u2019", "\n8/9 Test ", " test_dynamic_bridge__rmw_fastrtps_cpp \u2026***Failed    0.65 sec", "\ntest 9", "\nStart 9: test_dynamic_bridge__rmw_opensplice_cpp", "9: Test command: /usr/bin/python3 \u201c-u\u201d \u201c/home/paul/ros2_ws/install/share/ament_cmake_test/cmake/run_test.py\u201d \u201c/home/paul/ros2_ws/build/ros1_bridge/test_results/ros1_bridge/test_dynamic_bridge__rmw_opensplice_cpp.xunit.xml\u201d \u201c\u2013package-name\u201d \u201cros1_bridge\u201d \u201c\u2013output-file\u201d \u201c/home/paul/ros2_ws/build/ros1_bridge/ament_cmake_pytest/test_dynamic_bridge__rmw_opensplice_cpp.txt\u201d \u201c\u2013env\u201d \u201cRMW_IMPLEMENTAION=\u201d \u201c\u2013command\u201d \u201c/usr/bin/python3\u201d \u201c-u\u201d \u201c-m\u201d \u201cpytest\u201d \u201c/home/paul/ros2_ws/build/ros1_bridge/test_dynamic_bridge__rmw_opensplice_cpp_.py\u201d \u201c-o\u201d \u201ccache_dir=/home/paul/ros2_ws/build/ros1_bridge/ament_cmake_pytest/test_dynamic_bridge__rmw_opensplice_cpp/.cache\u201d \u201c\u2013junit-xml=/home/paul/ros2_ws/build/ros1_bridge/test_results/ros1_bridge/test_dynamic_bridge__rmw_opensplice_cpp.xunit.xml\u201d \"\u2013junit-prefix=ros1_bridge\"", "\n9: Test timeout computed to be: 60", "\n9: \u2013 run_test.py: extra environment variables:", "\n9:  - RMW_IMPLEMENTAION=", "\n9: \u2013 run_test.py: invoking following command in \u2018/home/paul/ros2_ws/src/ros2/ros1_bridge\u2019:", "\n9:  - /usr/bin/python3 -u -m pytest /home/paul/ros2_ws/build/ros1_bridge/test_dynamic_bridge__rmw_opensplice_cpp_.py -o cache_dir=/home/paul/ros2_ws/build/ros1_bridge/ament_cmake_pytest/test_dynamic_bridge__rmw_opensplice_cpp/.cache --junit-xml=/home/paul/ros2_ws/build/ros1_bridge/test_results/ros1_bridge/test_dynamic_bridge__rmw_opensplice_cpp.xunit.xml --junit-prefix=ros1_bridge", "\n9: usage: ", " [options] [file_or_dir] [file_or_dir] [\u2026]", "\n9: ", ": error: unrecognized arguments: -o cache_dir=/home/paul/ros2_ws/build/ros1_bridge/ament_cmake_pytest/test_dynamic_bridge__rmw_opensplice_cpp/.cache", "\n9:   inifile: None", "\n9:   rootdir: /home/paul/ros2_ws", "\n9: \u2013 run_test.py: return code 2", "\n9: \u2013 run_test.py: generate result file \u2018/home/paul/ros2_ws/build/ros1_bridge/test_results/ros1_bridge/test_dynamic_bridge__rmw_opensplice_cpp.xunit.xml\u2019 with failed test", "\n9: \u2013 run_test.py: verify result file '/home/paul/ros2_ws/build/ros1_bridge/test_results/ros1_bridge/test_dynamic_bridge__rmw_opensplice_cpp.xunit.xml\u2019", "\n9/9 Test ", " test_dynamic_bridge__rmw_opensplice_cpp \u2026***Failed    0.66 sec", "78% tests passed, 2 tests failed out of 9", "Label Time Summary:", "\ncopyright     =   0.66 sec (1 test)", "\ncppcheck      =   0.62 sec (1 test)", "\ncpplint       =   1.26 sec (1 test)", "\nflake8        =   0.92 sec (1 test)", "\nlint_cmake    =   0.48 sec (1 test)", "\nlinter        =   5.26 sec (7 tests)", "\npep257        =   0.61 sec (1 test)", "\npytest        =   1.31 sec (2 tests)", "\nuncrustify    =   0.71 sec (1 test)", "Total Test time (real) =   6.58 sec", "The following tests FAILED:", "\n8 - test_dynamic_bridge__rmw_fastrtps_cpp (Failed)", "\n9 - test_dynamic_bridge__rmw_opensplice_cpp (Failed)", "\nErrors while running CTest", "\nMakefile:71: recipe for target \u2018test\u2019 failed", "\nmake: *** [test] Error 8", "<== Command \u2018. /home/paul/ros2_ws/build/ros1_bridge/cmake__test.sh && /usr/bin/make test \u2018ARGS=-V -D ExperimentalTest --no-compress-output\u2019\u2019 failed in \u2018/home/paul/ros2_ws/build/ros1_bridge\u2019 with exit code \u20182\u2019", "\n\u2018test_pkg\u2019 for package \u2018/home/paul/ros2_ws/src/ros2/ros1_bridge\u2019 failed: <== Command \u2018. /home/paul/ros2_ws/build/ros1_bridge/cmake__test.sh && /usr/bin/make test \u2018ARGS=-V -D ExperimentalTest --no-compress-output\u2019\u2019 failed in \u2018/home/paul/ros2_ws/build/ros1_bridge\u2019 with exit code \u20182\u2019", "\n<== Command \u2018. /home/paul/ros2_ws/build/ros1_bridge/cmake__test.sh && /usr/bin/make test \u2018ARGS=-V -D ExperimentalTest --no-compress-output\u2019\u2019 failed in \u2018/home/paul/ros2_ws/build/ros1_bridge\u2019 with exit code \u20182\u2019", ": Does this help you to understand the nature of the problem?", "The error message says:", ": unrecognized arguments: -o cache_dir=\u2026", "I assume you are using an older version of ", " since this command line argument was only added in version ", ".", "Please check that you have followed the ", " which mention to install the latest version via pip.", "Sorry, I used the binaries from", "to get ROS 2. But even if I run the commands from the Building from Source page, the failures still occur. Even worse, when I run pytest on /ros2_ws I get a ton load of errors. All the while, the other tutorials are all working until now. Does the error come from the binary installation?", "I used the binaries \u2026 to get ROS 2. But even if I run the commands from the Building from Source page, the failures still occur.", "The binary instructions are only sufficient to install the Debian packages and \u201cuse\u201d what is coming with it.", "If you want to build and test your own packages you need to follow the ", ".", "You likely already had ", " installed from a Debian package but unfortunately the latest Debian package version is still not new enough.", "Even worse, when I run pytest on /ros2_ws I get a ton load of errors.", "You are not supposed to run ", " on the workspace ", ". You should use ", " for this instead. The build tool makes sure to invoke the test on each package separately with various command line options as well as an environment which includes all dependencies of a specific package.", "Has any one come across this during building the src. It seems all the logging is throwing some error. Kindly advise.", "error thrown:", "Has any one come across this during building the src. It seems all the logging is throwing some error.", "Your error is different than what is discussed in this thread. Therefore I suggest in the future create a new thread or a question on ", ".", "Regarding the error message: it looks like you are mixing a newer version of ", " with an older version of ", ". This is not supported. Either stick two both packages from e.g. the latest release or use both packages from the current default branch.", "Your error is different than what is discussed in this thread. Therefore I suggest in the future create a new thread or a question on ", ".", "i thought we are posting ros2 issues in ros discourse. And also, as this topic is related to ament build tests which i created earlier so I linked this issue to this thread.", "Regarding the error message: it looks like you are mixing a newer version of rmw_fastrtps_cpp with an older version of rmw. This is not supported. Either stick two both packages from e.g. the latest release or use both packages from the current default branch.", "I did ", " and also removed my workspace and then downloaded and reinstalled everything back. How do I solve this again? I think old versions Screenshot from 2018-02-02 11-22-19have stayed in. Please help, it has stopped all my development in ros2 now.", "I have these installed : ", "Additionally, I get this which i never got before when I ", ":", "I tried this : ", "doesn\u2019t help though I still get the error message from opensplice.sh and other rmw implementation.", "Ok I believe I have figured it out. Since been using the beta version and now moved to the ardent debian version.", "After installation, when I moved to the ament tutorial:", "I ran those again. That is why it was creating duplicate probably. Just realised it is clearly mentioned there:", "My apologies ", " and that is great that I don\u2019t need to go through the 2 hours of build and test time to set up my ros2.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ament-build-test-failed/3398"},
{"title": "Find package rclcpp throwing Cmake Error", "thread_contents": ["Hello,", "My project in ros2 has", "which is throwing all this build error:", "What could be wrong?", "It was an error with the cmake policy.", "\nNeeded to update the minimum required version for cmake to atleast 3.3.", "\nPreviously had 2.8.3", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/find-package-rclcpp-throwing-cmake-error/3864"},
{"title": "Ros1_bridge failed to pass tf_static message when subscribed from rviz", "thread_contents": ["I\u2019m doing a ROS sensor porting to ROS2 Ardent. To verify my porting job \u201cdone\u201d, I use rviz (I attempted to use rviz2 but looks unready) to visualize all the sensor messages passed via ros1_bridge. And I found the \u201ctf2_msgs/TFMessage\u201d failed to be broadcasted via ros1_bridge for the topic \u201ctf_static\u201d.", "This happen in a very specific scenario, and I have made one workaround in my ROS2 sensor. Would like to share the story here, and learn if anybody else facing the similar issue when porting other ROS2 sensors, or any suggestions on using ros1_bridge.", "The scenario follows the ros1_bridge usage ", "Till here rviz tells \u201c", "\u201d. The console debug outputs", "Problem still observed even when I stop/re-launch the ROS subscriber, or when I reversed the above ", " and ", ".", "\nSurprisingly, I found if I stop/re-launch the ROS2 sensor here, ros1_bridge will start to pass the tf_static!", "Before digging into codes, some behaviors are obvious. Firstly, ros1_bridge will pass the messages only when the topic is subscribed AND published. Secondly, the \u201ctf_static\u201d topic is skipped by the ros1_bridge for certain reason. Most likely, the tf_static topic had not been subscribed when ros1_bridge doing a check when the ROS2 sensor publish its first tf message.", "To be specific, here\u2019s the problematic sequence (align with the above launch sequences)", "3, ROS sub: subscribe sensor data", "4a, ROS2 sensor: advertise and publish sensor data", "4b, ROS2 sensor: broadcast tf_static", "5, ros1_bridge: create 2to1 bridges for all topics (including sensor topics and tf_static topic)", "6, ros1_bridge: passing sensor data, since those topics are both subscribed and published", "7, ros1_bridge: skipping tf_static, since no listener yet", "8, ROS sub: received sensor data", "9, ROS sub: listen to tf_static but it has been skipped by ros1_bridge", "I made a workaround in my ROS2 sensor, that is to move step ", " to the bottom. Then the problem disappeared. However the workaround is not perfect, since a ROS subscriber can start listen to a tf_static topic dynamically (anytime later).", "Without digging in too much, my guess is that rviz is launched after the bridge and the bridge doesn\u2019t support latching (or transient local durability for ROS 2), see:", "The right fix is to support latching in the ", ", but there was some discussion on how to best support that and it was never resolved.", "The other option would be to modift tf2 in ROS 2 to publish ", " periodically.", "Right, optional workaround is to broadcast the tf_static messages periodically. \u201crosrun tf static_transform_publisher\u201d also make the problem disappeared. Yet a subscriber may not expect repeatedly receiving tf_static messages \u2013 it might trigger additional actions like compare with last messages and re-calculation.", "I didn\u2019t say it was a good solution, just a workaround for now. I\u2019m not aware of any systems that will behave badly when ", " is periodic, off-hand. Since most migrated from tf1, where there was no ", ", it should be ok for now.", "Long term we obviously need to improve the bridge so that latching is supported.", "I\u2019m not aware of any systems that will behave badly when /tf_static is periodic, off-hand.", "There should be no problems with rebroadcasting ", " periodically with the same value. It will just store the \u201cupdated\u201d value each time in the cache. Slight overhead, but I believe unmeasurable beyond the extra messages being sent.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["launch roscore", "launch ros1_bridge \u201cros2 run ros1_bridge dynamic_bridge\u201d", "launch the ROS subscriber (rviz in my case), which listen to the sensor data and then the tf messages", "launch the ROS2 sensor, which publish the sensor data and broadcast the tf messages"], "url": "https://discourse.ros.org/t/ros1-bridge-failed-to-pass-tf-static-message-when-subscribed-from-rviz/3863"},
{"title": "Ros 2 monitor", "thread_contents": ["How can we monitor ROS-2 nodes.?", "How can we monitor ROS-2 nodes.?", "The question as-is doesn\u2019t provide enough information to give you a \u201cgood\u201d answer. Can you please eloaborate what your are trying to do / want to achieve.", "Moved to ROS2 category aka \u201cNext Generation ROS\u201d", "I mean in order to monitor ros-1 we have \u2018rqt_top\u2019 command which can be executed in the command line to view the various phenomenons.", "\nSimilarly ,what command or is there any procedure to monitor in ros-2??", "\nIs it clear enough???", " is not available in ROS 2 yet. Only command line tools to e.g. list running nodes is available (", ").", "You could always resort to use ", " for process monitoring.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros-2-monitor/3843"},
{"title": "Using OpenSplice in a custom project linking to ROS2", "thread_contents": ["Hello everyone,", "I have created a Visual Studio 2015 C++ project that uses both OpenCV and the latest version of ROS2 Ardent Apalone and currently have no issues compiling and running when the DDS is the default, Fast RTPS. Unfortunately I have been running into an error when I try to use OpenSplice. The .lib files and .dll files for both are copied to the same folder where the .exe for the project is located and are also linked to in a separate folder in the project directory.", "To use OpenSplice, I\u2019ve been setting the global variable RMW_IMPLEMENTATION=rmw_opensplice_cpp. The project compiles, but when I try to run it I get an error during the delay load helper routines (which I\u2019m assuming occurs when trying to load the OpenSplice libraries).", "Any help would be extremely appreciated!", "Cheers,", "\nIan", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/using-opensplice-in-a-custom-project-linking-to-ros2/3915"},
{"title": "Absolute timers in ROS2", "thread_contents": ["Is it possible to have absolute timers in ROS2? For example if the period is 60sec, I need the timer to trigger when the system clock reads \u201cxx:xx:00\u201d, i.e., on the full minute.", "I tried to dig through the source behind ", " but could not find an answer.", "If that is not possible, I would build my own using ", " and ", ". Any tips on how to integrate that properly with ROS2?", "The current implementation of timers in ROS (1 and 2) doesn\u2019t support this feature. Imo this seems to be very specific and I think it is reasonable to implement that on top of the existing API.", "You should be able to create a ROS package (or maybe multiple: one for C one for C++?) which provides this additional API. Your API would use \u201cnormal\u201d ROS timers and in the first interval adjust the duration to happen at the full minute. Any following timer will then be with a fixed duration.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/absolute-timers-in-ros2/3922"},
{"title": "Anonymous messages in ROS2", "thread_contents": ["Hi,", "\ni was wondering (just out of interest) if it is possible generate the message definitions at runtime. As far as I understand the message type system it should be possible to generate the rosidl_message_type_support_t information at runtime and create a message with content according to the defined rosidl_message_type_support_t.", "Greetings,", "\nLennart", "When you use an RMW implementation which relies on statically generated types (", ", ", ") this is not possible since it relies on code being generated and compiled for each type.", "When you use an RMW implementation which supports dynamic types the mapping happens by looking at the introspection information of the message type and using an API which handles each field individually (", ", ", " [this one is currently not maintained and will likely not work with the current state of ROS 2 but would need to be updated]). In that case it should be possible to pass arbitrary types to the API as long as a corresponding introspection description of the message is provided with it (which is basically an object representation of the message). We haven\u2019t tried this though so it might be \u201cbumpy\u201d if you go ahead with this.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/anonymous-messages-in-ros2/3930"},
{"title": "Error MSB4126: The specified solution configuration \"Release|x 86\" is invalid", "thread_contents": ["I tried building the ros2 code using this guide, ", "i couldnt build the /dev/ros2 folder tree.", "\nwhen i tried to run this code:", "python src\\ament\\ament_tools\\scripts\\", " build", "\ni get,", "Build started 10-02-2018 09:21:00.", "\n1>Project \u201cC:\\dev\\ros2\\build\\ament_cmake_core\\ament_cmake_core.sln\u201d on node 1 (default targets).", "\n1>C:\\dev\\ros2\\build\\ament_cmake_core\\ament_cmake_core.sln.metaproj : error MSB4126: The specified solution configuration \u201cRelease|x", "\n86\u201d is invalid. Please specify a valid solution configuration using the Configuration and Platform properties (e.g. MSBuild.exe S", "\nolution.sln /p:Configuration=Debug /p:Platform=\u201cAny CPU\u201d) or leave those properties blank to use the default solution configurati", "\non. [C:\\dev\\ros2\\build\\ament_cmake_core\\ament_cmake_core.sln]", "\n1>Done Building Project \u201cC:\\dev\\ros2\\build\\ament_cmake_core\\ament_cmake_core.sln\u201d (default targets) \u2013 FAILED.", "I use command prompt and vs2017.", "\nPlease help me get around this.", "\nThanks.", "Hi ", ",", "You need to be in a Visual Studio shell to build the code. From the wiki paged you linked:", "\n\"", "\".", "Note that ROS2 targets only 64bits architectures and compilations so we have never tried building in \u201cRelease|x86\u201d only x64.", "Regarding VS version, we are planning on migrating to VS2017 in the near future but this is not the case at the moment, so the instructions have been tested only for VS2015 Update 3.", "HTH,", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/error-msb4126-the-specified-solution-configuration-release-x-86-is-invalid/3937"},
{"title": "AssertionError: Could not find pytest", "thread_contents": ["I used the below link to build ros2,", "\n", "The Robot Operating System, is a meta operating system for robots. - ros2/ros2", "\n", "when i tried testing and running using,", "python src\\ament\\ament_tools\\scripts\\ament.py test", "python src\\ament\\ament_tools\\scripts\\ament.py test_results", "i got an error,", "Traceback (most recent call last):", "\nFile \u201csrc\\ament\\ament_tools\\scripts\\ament.py\u201d, line 161, in ", "\nsys.exit(main() or 0)", "\nFile \u201cC:\\dev\\ros2\\src\\ament\\ament_tools\\ament_tools\\commands\\ament.py\u201d, line 88, in main", "\nrc = args.main(args)", "\nFile \u201cC:\\dev\\ros2\\src\\ament\\ament_tools\\ament_tools\\verbs\\test\\cli.py\u201d, line 60, in main", "\nbuild_main(opts, test_pkg_main_wrapper)", "\nFile \u201cC:\\dev\\ros2\\src\\ament\\ament_tools\\ament_tools\\verbs\\build\\cli.py\u201d, line 172, in main", "\nreturn iterate_packages(opts, packages, per_package_main)", "\nFile \u201cC:\\dev\\ros2\\src\\ament\\ament_tools\\ament_tools\\verbs\\build\\cli.py\u201d, line 300, in iterate_packages", "\nrc = process_sequentially(jobs)", "\nFile \u201cC:\\dev\\ros2\\src\\ament\\ament_tools\\ament_tools\\verbs\\build\\cli.py\u201d, line 340, in process_sequentially", "\nrc = job", "\nFile \u201cC:\\dev\\ros2\\src\\ament\\ament_tools\\ament_tools\\verbs\\test\\cli.py\u201d, line 50, in test_pkg_main_wrapper", "\nrc = test_pkg_main(opts)", "\nFile \u201cC:\\dev\\ros2\\src\\ament\\ament_tools\\ament_tools\\verbs\\test_pkg\\cli.py\u201d, line 83, in main", "\nhandle_build_action(on_test_ret, context)", "\nFile \u201cC:\\dev\\ros2\\src\\ament\\ament_tools\\ament_tools\\verbs\\build_pkg\\cli.py\u201d, line 268, in handle_build_action", "\nfor build_action in build_action_ret:", "\nFile \u201cC:\\dev\\ros2\\src\\ament\\ament_tools\\ament_tools\\build_types\\ament_python.py\u201d, line 118, in on_test", "\nassert pytest, \u2018Could not find pytest\u2019", "\nAssertionError: Could not find pytest", "Please help me get over this issue. Thanks.", "Did you do this line from those instructions?", "pip install nose coverage mock pytest pytest-cov pytest-runner", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/assertionerror-could-not-find-pytest/3969"},
{"title": "Tf library in ROS 2 future release", "thread_contents": ["Will all transform related code in future ROS 2 relases be based on tf2 library ? Or will the tf library from ROS 1 be ported to ROS 2 in any future release ?", "The short answer is: no, it is not planned to support ", "1 in ROS 2.", "The slightly longer answer: ", " is the successor of ", " and available for a long time. The use of ", " is deprecated and it should be fairly easy to upgrade any code. It might even be the case that ", " 1 won\u2019t be released in a future ROS 1 release. Therefore spending any effort on support ", " 1 in ROS 2 is considered not worth it.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/tf-library-in-ros-2-future-release/4025"},
{"title": "Query related to script file which generates Testing folder", "thread_contents": ["I am looking into building ROS 2.0 by enabling its tests and have realised that for each package of ROS in the ", " folder, a corresponding ", " folder is being created, which contains LogTest_xxx.log and LastTestsFailed_xxx.log files.", "I want to know which script is responsible for generating this folder and its corresponding log files.", "That mus be ", ". In GitHub you can search for ", " (will usually find ", " in ", " files) to figure out which packages make use of this current ROS2 node level testing tool.", " has nothing to do with these files.", "They are being generated by ", " so this will be present in an CMake based package after invoking the tests through CTest.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/query-related-to-script-file-which-generates-testing-folder/4047"},
{"title": "Smach for ROS 2", "thread_contents": ["Hey All,", "I was just curious as to whether or not there has been any work/initial planning done for porting ", " to ROS 2?", "I\u2019ve checked the ", " and I noticed that work has been done for the ", " but there was no mention of smach.", "Would this be a situation where ROS 2 actions would strive to be inherently compatible with smach or would smach update to become compatible with ROS 2 actions? I know that the ROS 2 action design was inspired by ", " so I\u2019m curious as to how far off smach would be from already being compatible.", "Thanks for your time.", "Wondering the same. Did you find an anwser?", "Best,", "\nRuud", "Not yet.", "\nPlease let me know when you find.", "\nI in my turn, promise to do the same.", "Log,", "\nBest", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/smach-for-ros-2/3175"},
{"title": "Questions on ament, ament.py, ament_cmake and dependency resolvers", "thread_contents": ["I am trying to write ament packages to adopt pieces of code to ament_cmake. Here is something strange I got.", "It is supposed that \u2018ament\u2019 performs like \u2018catkin\u2019 with which dependencies could be resolved by declaring in \u2018package.xml\u2019. However, it seems that \u2018ament\u2019 cannot do this job. In an \u2018ament\u2019 package, dependencies should be declared explicitly in CMakeLists.txt with \u2018find_package\u2019 macro. Moreover, *_INCLUDE_DIRS or ", "() macros explicitly too. Is this designed on purpose?", "An \u2018ament\u2019 package could be compiled by \u2018ament.py\u2019 with \u2018build_pkg\u2019 parameter. It seems that the python script actually doesn\u2019t check whether its dependencies are built. It this what could be expected? I am just using it in a wrong way?", "just responding to the above bit: Catkin does not resolve dependencies using the package manifest. That would be ", "'s job.", "This is also the reason why you have to declare dependencies ", ": once in your manifest, and once in the ", " call in your build script.", "Catkin does not resolve dependencies using the package manifest. That would be rosdep\u2019s job.", "Is there a tool in \u2018ament\u2019 like \u2018rosdep\u2019 ?", "Is this designed on purpose?", "Yes, using the ", " keyword when finding catkin to enumerate additional packages has several drawbacks and was therefore not provided in ", ".", "To maintain a similar level of convenience as in ", " you can call ", " after finding all packages separately. The function will do the \u201cheavy lifting\u201d for you and \u201cuse\u201d all common variables from the package names you pass for the passed target name.", "An \u2018ament\u2019 package could be compiled by \u2018ament.py\u2019 with \u2018build_pkg\u2019 parameter. It seems that the python script actually doesn\u2019t check whether its dependencies are built. It this what could be expected?", "It does exactly what you described - it builds only the single one package. It does ", " build any other packages. You should use ", " for that. ", " should commonIy not be used by users.", "Is there a tool in \u2018ament\u2019 like \u2018rosdep\u2019 ?", "ROS 2 uses ", " the same as ROS 1 does.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", "\n", "\n", "\n", "It is supposed that \u2018ament\u2019 performs like \u2018catkin\u2019 with which dependencies could be resolved by declaring in \u2018package.xml\u2019. However, it seems that \u2018ament\u2019 cannot do this job."], "url": "https://discourse.ros.org/t/questions-on-ament-ament-py-ament-cmake-and-dependency-resolvers/4065"},
{"title": "ROS2 support: ROS Answers?", "thread_contents": ["I\u2019ve recently started seeing some more questions about ROS2 appear on ROS Answers.", "What is the current recommendation / convention / decision on where support questions for ROS 2 are to be posted? Is it this Discourse category? The ", "?", "While ROS 2 is ROS, it\u2019s not ROS 1, and it\u2019s sufficiently different to perhaps not mix the two on one forum. One of the complaints about ROS Answers is that it\u2019s difficult for newcomers to find relevant Q&As and if/when they do, to figure out whether an (accepted) answer is still relevant or not.", "I can imagine that with Q&As for ROS 2 and ROS 1 showing up in the same listing this is only going to get worse, so perhaps we should discourage the use of ROS Answers for ROS 2 questions?", "So far we\u2019ve suggested to people that they can use any of the forums they want to ask in (discourse, issues, or ", "). But I think we\u2019re open to reevaluating that recommendation.", "Some things to consider (my opinions):", "My personal preference would be to have the questions on askbot, whether on ", " or ", ", at some point in the future.", "For the issue of people finding relevant Q&A\u2019s and/or up-to-date answers, I agree having ROS 2 in the mix would make it worse, but I wonder if this is just a problem we need to address in general. We may still decide to keep them separate for this reason, but perhaps with a solution to the existing problem, adding ROS 2 wouldn\u2019t be as much of a burden.", "I don\u2019t have a clear answer for you, what do you (others) think we should do?", "Given that ROS 1 and ROS 2 are likely to be used in a mixed configuration for the foreseeable future, I think that a tag on ", " should help. And perhaps some kind of default filter that explicitly ignores or requires the ros2 tag?", "I was actually wrong, our recommendation right now is for them to ask questions on this category of discourse, see the top of the issue template:", "GitHub is where people build software. More than 26 million people use GitHub to discover, fork, and contribute to over 74 million projects.", "For general questions, please post on discourse: ", "\nFor Bug report or feature requests, please fill out the relevant category below", "While we\u2019ve been doing agile development with a small community we\u2019ve been suggesting questions on the discussion forums here as it\u2019s specifically scoped so we haven\u2019t reached the point of being overwhelmed by the volume. However as the user base grows this will change.", "Indeed I agree that in the long run we should be using ", " there will be a long time with hybrid systems. I\u2019m not sure that segregating based on the top level URLs will be particularly helpful and will lead to a lot of questions needing to be refiled on the other tracker, versus just an updated tag. A lot of this can be helped out by a little effort of curation, with tags and being able to give feedback to the people asking questions to help them ask good questions.", "We went through this process with ROS1. In the early days it was more convenient to be on the mailing lists. But at some point the question volume overflows and single channel and the searchability and parallelization and tagging curation becomes important and allows specialization. Part of the value of keeping things in a single stream is that we\u2019re still making cross cutting changes etc so there is significant value to having everyone listen to the same channel, so that everyone stays aware of what\u2019s going on with the other parts as they\u2019re not as isolated as they would be in a more stable phase of the project.", "So at some point we\u2019ll have to switch away from the questions here on the forums and go back to tagged questions approach. But for now I think we\u2019re still ok with things here.", "RFC!", "So we just discussed this in our ROS 2 meeting and we think that just recommending people post questions for ROS 2 to ", " is the right thing to do.", "I gave some pros/cons about this above, but we\u2019re interested to see what everyone else thinks, especially ", ", ", ", and other active Q&A folks.", "I agree that ", " is probably the right place for this sort of thing, for now.  However, I strongly agree with ", " that there should be a consistent tag (ros2?) so that the questions are easily identified.", "Thinking to the future, if we ever move to another engine, then having the strong tagging will make it easier to migrate ros2 content to that engine.", "\u2013 Bill", "Yeah, ", " suggested we ask our askbot contact to add a requirement to have either ", " or ", " tag (or both) before asking a question.", "However, I strongly agree with ", " that there should be a consistent tag (ros2?) so that the questions are easily identified.", "I\u2019d suggest that we push people to make sure to at least tag which rosdistro they\u2019re using. Reviewing the askbot options they now support mandatory tags. We requested the feature ", " and it now looks like it\u2019s good enough for us to use.", "I\u2019ve added the list of all known rosdistros and it\u2019s now required to have at least one of those tagged for all new or edited questions. We\u2019ll have unique names and forcing the rosdistro is something that we\u2019ve wanted for a while in ROS1 as well. Unfortunately we don\u2019t have the ability to setup multiple dimensions of mandatory tags.", "For reference I set it to ", " for now.", "For reference I set it to boxturtle cturtle diamondback electric fuerte groovy hydro indigo jade kinetic lunar melodic ardent for now.", "should we consider adding previous ROS 2 distros as well? maybe just r2b3 that various users are still using ?", "should we consider adding previous ROS 2 distros as well? maybe just r2b3 that various users are still using ?", "Sure, adding it makes sense as long as there might be questions related to it. I added ", " to the list.", "+1 to this (and I need some more characters to hit the 20 character limit)", "I\u2019ve added the list of all known rosdistros and it\u2019s now required to have at least one of those tagged for all new or edited questions.", "If the selection of one of these tags is mandatory I think there needs to be a distro-agnostic option. Some question are not related to a specific ROS distribution and it should be possible to ask such questions without being forced to select an arbitrary one from that list.", "That\u2019s why I suggested ", " or ", " or both. That\u2019s not mutually exclusive with the rosdistro, but might cover more cases. Perhaps we could just have ", " and ", " added to the currently list as the \u201cdistro agnostic\u201d options.", "We certainly could add distro agnostic tags like ", " and ", " to the list but I think that \u201cforcing\u201d them to select an arbitrary one from the list is actually significantly helpful for people trying to answer the question. The asker can easily select the version that they are using, multiple tags are completely valid too. And it also has significant value to people browsing the site in the potentially distant future.", "Any question is asked with a frame of reference as to where it\u2019s going to be implemented. It also may be true that their question is distro agnostic at the moment since the behavior is the same currently, but in the future distros that behavior might change and the question is no longer \u201cdistro agnostic\u201d. Understanding the state of the system when the question was asked and in what context the question was answered can be valuable to future readers.", "For example ", " is moderately distro agnostic asking about install size. However, it\u2019s noteably only has answers for fuerte because that\u2019s the  latest released version available at the time. For future users it does\u2019t really help you. Another example is that we added topic statistics in indigo. Before Indigo there were ", " that got completely different answers than a question ", ".", "Similarly a question may be about a generic cmake usage, but depending on which rosdistro is being used the cmake version available is not the same. As we get to newer versions of cmake there are significant api improvements that may not have been available in older rosdistros and thus would not be captured.", "There is one corner case of the debian and ubuntu rolling releases that are not clearly captured. I don\u2019t know what we\u2019d want to capture them as. ", " or something like that?", "I\u2019m unsure.", "I\u2019m a bit worried about the potential confusion for new ROS Answers users. It\u2019s already quite difficult to navigate and figure out for newcomers (who appear to use the site the most). Adding more posts \u2013 and posts that are about a software framework that bears the same name, but is really rather different \u2013 does not seem to improve that situation. Especially with ROS1 packages being ported over to ROS2.", "Perhaps the introduction of the mandatory tags will improve the situation (although properly tagging a question is difficult, especially if you\u2019re just starting out).", "Is the search capable of searching for Q&As with specific tags?", "I\u2019m a little late to the discussion, but firstly I agree with shifting ROS 2 questions over to ROS Answers. I think there is a large enough mass of users now to make it worth beginning the build-up of problem solving information.", "I also agree with having tags that are required to allow easy separation of ROS 1 and ROS 2 questions.", "I\u2019m not sure I agree completely with having distro-specific tags rather than just \u201cros\u201d and \u201cros2\u201d. I think that many questions will be appropriate for multiple distros, and while it makes it easier to see what was in use when a question was asked, it could potentially make searching more difficult. Something relevant to Lunar may have been tagged with \u201cKinetic\u201d and so get instantly ignored by the searcher, leading to duplicate questions. The flip side of that is that the new question could be answered with \u201cthis is the same as in Kinetic, see this answer over here\u201d, which provides not just a solution to the problem but also additional information that the same solution works in multiple distros. So I think it\u2019s really a case of both options having pluses and minuses and we probably need to try it to see how well it works. Can we add \u201cros1\u201d (note the \u201c1\u201d to make it clear) and \u201cros2\u201d to the list of available required tags and see how often they get used after a few months?", "Ok, I\u2019ve added ", " and ", " to the mandatory list and we can see how things get used.", "Is the search capable of searching for Q&As with specific tags?", "Yes, you can filter searches by query as well as tags.", " which requires ", " and ", " tags as well as the search terms ", " and ", " as an example. Tagged filtered search control is in the sidebar. You can see in in the url as ", " and the search query ", "I\u2019m a bit worried about the potential confusion for new ROS Answers users. It\u2019s already quite difficult to navigate and figure out for newcomers (who appear to use the site the most). Adding more posts \u2013 and posts that are about a software framework that bears the same name, but is really rather different \u2013 does not seem to improve that situation. Especially with ROS1 packages being ported over to ROS2.", "I am too, but I don\u2019t see another (better) way to do it. Is there anything else you can think of that we can do to alleviate the concern, other than mandatory tags?", "Perhaps the introduction of the mandatory tags will improve the situation (although properly tagging a question is difficult, especially if you\u2019re just starting out).", "I\u2019m worried about this too. The only thing I could think of is a help box that describes each briefly and try\u2019s to give a hint to the user as to which they might want to pick. We could also have a \u201ci don\u2019t know\u201d option which they could pick temporarily and it would let us know that we need to help them figure out which is what.", "But at least they\u2019re forced to pick if they do happen to know the difference and they\u2019re forced to say they don\u2019t know at which point it\u2019s easy for us to see when they\u2019re unsure and prod them until we can recommend which one they\u2019re using/talking about.", "As to whether or not it helps, I think that the tags have the same benefits/difficulties as a separate answers website. If we had ", " I can imagine we\u2019d have ROS 1 questions on there and we\u2019d still get ROS 2 questions on the existing ", ".", "We could also have a \u201ci don\u2019t know\u201d option which they could pick temporarily and it would let us know that we need to help them figure out which is what.", "This is not a bad idea. If several of us made an effort to regularly look at all questions tagged with this and re-tag them with what we think is the correct tag, it could help users.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["no matter what we recommend, people will post questions about ROS 2 on ", "\n", "we currently redirect questions on discourse about ROS 1 to ", ", redirecting questions about ROS 2 back to discourse from ", " seems contradictory", "the premise of asking questions be asked on ", " is that the askbot instance is better for Q&A type discussions, so why wouldn\u2019t that be the case for ROS 2 as well?", "some questions might involve both ROS 1 and ROS 2, or may have overlap (description formats, message definitions, etc)"], "url": "https://discourse.ros.org/t/ros2-support-ros-answers/2620"},
{"title": "How to shutdown and reinitialize a publisher node in ROS 2", "thread_contents": ["I have a use case of shutting down and reinitializing the publisher in ROS 2,", "i have included my init function inside the while loop when i execute the publisher i get this error", "my code:", "Can anyone help me with this?", "I reformatted you code to be easier to read and added some missing includes that prevent it from compiling:", "The first issue I see (and the reason for your error) is that you are trying to create a node before ", " has been called, which is implied in the error message though it could be more specific to rclcpp that it currently is:", "what():  failed to create interrupt guard condition: rcl_init() has not been called, at \u2026", "But even if you move the node creation into the while loop, and after the ", ", the next issue I see is that you are actually calling init many times, while only calling shutdown once. This will definitely be an issue, and I modified your example to see what would happen ", "When I run it I get:", "The important thing being:", "rcl_init called while already initialized", "Which again could be more ", " explicit, but should also be enough of an indication as to what the issue is.", "Finally, however, I\u2019d like to ask why you think you need to init and shutdown repeatedly? It\u2019s potentially a valid use case, but I get from your example why that\u2019s necessary.", "Assuming for a second that\u2019s actually what you want to do, I modified your example one more time to move the shutdown into the while loop as well:", "But, that results in this still:", "terminating with uncaught exception of type std::runtime_error: failed to initialize rmw implementation: rcl_init called while already initialized", "Unfortunately doing ", " does not currently work in rclcpp and is a known issue, see:", "This does work one layer down in ", " (which is used by both ", " and ", "), but specifically in ", ", there was some disagreement about how to deterministically shutdown in a multi-threaded environment, and so it was not resolved yet. It can be and should be but it\u2019s not the case at the moment.", "So if you truly do need to init and shutdown repeatedly in the same process we\u2019ll have to first fix ", " to support that case, which would be a great contribution if you or anyone else has time to help with it ", ".", "Just for fun I did this last iteration in Python a well, which works:", "Funny you should mention this python alternative. For a potential use case, I was just using this style of iterative initialisation and shutdown within a single thread to do sros2 access control verification this week. Interesting to know that had I used rclcpp to benchmark my policies rather than rclpy I would have hit this current issue. I also found using the try_shutdown method more forgiving to use should you ever lose track of the state of things like when developing from in an interactive python shell session.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/how-to-shutdown-and-reinitialize-a-publisher-node-in-ros-2/4090"},
{"title": "Standardized messages for ROS2", "thread_contents": ["Are there standardized messages for ROS2 already?", "Related threads:", "Commonly used messages have been imported from ROS1 directly: ", ".", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/standardized-messages-for-ros2/4096"},
{"title": "Why do we have package.xml instead of package.yaml in ROS2?", "thread_contents": ["I personally find YAML more readable than XML, and seeing as beyond the initial creation (in ROS 1), package.xml is maintained by hand, I find it weird that ROS 2 with a new custom build system (ament) decided to go with package.xml instead of package.yaml (or support for both like Log4j 2 but supporting 2 formats is hard).", "I\u2019m pretty sure I\u2019m missing on something here beyond just compatibility with ROS 1. I know its a small (non-)issue, but I found that only ROS configuration and Dockerfile are not in YAML (personal anecdote, YMMV). Rest of all configurations (including parameters for nodes, CI pipeline) are in YAML. Even command line tools like rostopic and rosservice have their inputs and outputs in YAML format. What\u2019s the reason for this discrepancy?", "See the ", ". The gist is that package.xml gets parsed rather often and Python XML parsing was found to be an order of magnitude faster than YAML.", "Another benefit of XML over YAML is the ability to define a schema to check the format of the input structure before parsing, thus avoiding the need to monkey patch the interpreter for every corner case or ill formatted files by the users. The user can also get constructive feedback from the schema validator as to exactly what they did wrong, and how to comply. Additionally if you make an interpreter in a different implementation or programming language, everyone has common definition of the format structure that is perhaps more rigorous then written paragraph docs or less ambiguous than just several stock examples.", "I don\u2019t think catkin or ament are using schema vacation presently, but the community has defined a XSD to express the package schema.", "I personally prefer/enjoy using yaml for lightweight and informal configuration formats, but have found defaulting back to XML for anything more extensive or formal as beneficial in clarity and maintainability. Plus if you have a reasonable text editor with syntax highlighting and auto complete, the extra markup just kind of fades into the background.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/why-do-we-have-package-xml-instead-of-package-yaml-in-ros2/3970"},
{"title": "Error while building rcl package", "thread_contents": ["I am trying to build my ", " package using the following command", "\n", "but it is not getting build and following error is being shown", "You\u2019re going to have to give some more details here, it looks like you have rcl depending on rcl (and rclcpp) based on the cmake output. I have no idea what\u2019s going on, and I guess it has something to do with \u201cmy rcl package\u201d which implies to me you\u2019ve been changing rcl in place?", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/error-while-building-rcl-package/4122"},
{"title": "New packages for Ardent 2018-03-10", "thread_contents": ["We\u2019re happy to announce a new sync of ROS Ardent.", "\nThis sync includes a patch to the SROS 2 artifact generation to fix support for DDS-Security Access Control feature.", "\nAs always, we invite you to try out the new software, give feedback, report bugs, and suggest features (and contribute code!): ", "So pull down ", ", grab the packages ", ", or ", " and let us know what you think.", "As usual, thanks to all the contributors of the ROS 2 project !", "Thanks to all ROS maintainers who make packages available to the ROS community. The above list of packages was made possible by the work of the following maintainers:", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["ros-ardent-sros2: 0.4.0-0 -> 0.4.1-0", "Mikael Arguedas"], "url": "https://discourse.ros.org/t/new-packages-for-ardent-2018-03-10/4147"},
{"title": "What is the log mechanism plan in ROS2?", "thread_contents": ["In version Ardent of ROS2, the log mechanism is not complete. No file create.", "\nWhat is the development plan for log mechanism in ROS2?", "We are aware that it is a useful feature currently missing. While it is enumerated on the ", " it is currently not actively being worked on.", "About logging to a file, on ROS 1, we have disabled this mechanism, tell every node to log to ", " and then used systemd\u2019s journal to log the system on our robots.", "So, while waiting for this feature in ROS2, if you are on Linux, you may try a system-wide logging system.", "Whats for those without systemd? Can we log to syslog?", "It will be a bit more tricky because systemd directly uses stdout and stderr to log in the journal.", "I read that as \u201cros2 works without systemd\u201d, just won\u2019t have logging. Which would be good, have not tested that yet.", "For syslog, logging might be possible to hack with the \u201clogger\u201d command as a short term solution.", "I like the idea of using the logging system from the OS since it is usually better documented, e.g. I always missed ", " of the ros1 logger.", "I read that as \u201cros2 works without systemd\u201d, just won\u2019t have logging.", "To be clear, we will probably have some file logging at some point in the future that is separate from a system logger, just because during development you often do not use the system logger day to day. For production system that makes sense though, and because of that it should be possible to disable file logging in favor of just printing to stdout/stderr.", "There is an increasing number of tools in the web development world that provide flexible logging, which might be able to handle both development and production logging. One of our people did an extensive review of them all a few months ago. I will need to talk to him to find out how they compare to the \u201ctraditional\u201d ones like log4cpp.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/what-is-the-log-mechanism-plan-in-ros2/4074"},
{"title": "Support for Secure publish subscribe messaging such as Open DDS for use in robotic swarms", "thread_contents": ["Does ROS use Open DDS (Real time publish subscribe (RTPS)) for communication? I have heard that it does. However, Open DDS does not yet support the ", " portion of the specification. If ROS does not use DDS, what is used for robot to robot communication or messaging? Such messaging or other communication strategies are important in robotic swarms. I am working on a contract with DARPA to implement Secure messaging done in a distributed manner such as is done with Blockchains. We are considering using Open DDS, but will need to find a way to add the Secure part of the specification. I would be interested to hear from anyone who has an overlapping interest in building support for such secure messaging.", "Cheers!", " I am not familiar with Open DDS but suggest you take a look at Fast-RTPS by eProsima.  Their code is Apache 2 License as well so using it for your application my be applicable.", "At the moment they support encryption and authentication.", "If you are keen to stay with Open DDS then the OMG group that is responsible for the DDS specification has a specification for the security plug-in as well that you could implement.", "Does ROS use Open DDS (Real time publish subscribe (RTPS)) for communication? I have heard that it does. However, Open DDS does not yet support the Secure portion of the specification.", "Can you please clarify if you are referring specifically to ", " project which provides one implementation of the DDS specification or to DDS as a standard in general?", "ROS 2 has an abstraction layer for the communication - the ", " (RMW). For that interface multiple implementations exist:", "Officially supported in the latest release (", "):", "Other RMW implementations contributed by the community (which I am aware of):", "I am not aware of any RMW implementation based on \u201cOpen DDS\u201d.", "DDS security spec defined the security \u201cplugins\u201d", "Fast-RTPS implements first two which are required for DDS security.", "BTW, Fast-RTPS security just supports openssl (hardcoded) at the moment. To enhance that, Arm is proposing a \u201cGeneric Crypto API\u201d for DDS security which can support multiple underlying crypto libraries (e.g. openssl, tom, mbedTLS, \u2026). Especially to support Arm TrustZone technologies which provide HW based security solution with low cost. The discussion is here - ", "I was referring to the specific project with name Open DDS. However, you have provided me valuable information as I am secondarily interested in DDS in general. And now I plan to investigate those other implementation of RMW: FastRTPS, Connext (which I am aware of), OpenSplice, CoreDX, and OPC UA. Thank you.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", "\n", "FastRTPS from eProsima", "Connext from RTI\n", "both of them support (at least parts of) the DDS Security specification", "\n", "OpenSplice from ADLINK", "\n", "\n", "\n", "CoreDX from TwinOaks", "OPC UA", "\n", "Authentication", "Cryptographic", "Access Control", "Tagging", "Log"], "url": "https://discourse.ros.org/t/support-for-secure-publish-subscribe-messaging-such-as-open-dds-for-use-in-robotic-swarms/3933"},
{"title": "Image_transport availability with ros2", "thread_contents": ["Hi,", "Is there anyone who is working on image_transport package to be available with ros2? ", " ", " Could you guide with some of the inputs on how to go about this.", "I don\u2019t usually work on ", ", and have no experience yet porting things to ROS 2. So, I can\u2019t help you much.", " I\u2019d recommend following ", " where someone has already started migrated it and we\u2019re just trying to figure out where to host it and how to maintain it going forward.", " Thank you for the link. But, the link is mostly work on message_filters and not image_transport in particular.", "Any other tips/tricks that you\u2019d suggest?", " Thank you.", "The reason I pointed out ", " is that ", " depends on it.", "I\u2019ve talked with ", " about it and I think we\u2019ll put a ", " branch on the existing ", " repository. I\u2019ll try to remember to comment here when we do that, but you can watch that repository to stay up-to-date.", " Thank you. I\u2019d be interested in contributing to the work done.", " have you opened the code for contributions? (Primarily image_transport)", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/image-transport-availability-with-ros2/4168"},
{"title": "IPC in ros2", "thread_contents": ["Does ros2 use inter-process communication when we use it in  linux OS ? What about in case of bare metal micro-controllers where there is no OS?", "In the future, please set the category to \u201cNext Generation ROS\u201d when discussing ROS 2.", "Does ros2 use inter-process communication when we use it in  linux OS ?", "First, I\u2019ll assume you mean \u201cdoes ROS 2 use any operating system IPC mechanisms between nodes on the same machine, rather than sending data over UDP?\u201d, because the term \u201cinter-process communication\u201d only means communication between two processes, but does not imply what the mechanism is (i.e. UDP or TCP can be IPC).", "It depends on the middleware implementation you are using. Currently the default of Fast-RTPS does not use anything other than UDP single cast or multicast. It could, RTPS allows for this in the protocol. I believe some of the proprietary implementations provide a shared-memory based IPC mechanism when on the same machine. Fast-RTPS will hopefully support this in the future.", "What about in case of bare metal micro-controllers where there is no OS?", "There have been some experiments which use RTPS on a OS-less microcontroller to communicate with ROS 2 on a desktop and some other experiments to get our ROS 2 API compiling for microcontrollers, but there is no out of the box support for OS-less ROS 2 at this time. We did enough work to convince ourselves that is possible, but haven\u2019t followed through with sustained support because we didn\u2019t have time, though we would love to do that in the future.", "In that case though, with no OS, you probably would not be using processes so the idea of \u201cInter-", " communication\u201d doesn\u2019t really make sense. You would be using something more like our \u201c", "-process communication\u201d, which can avoid sending the message data over the network (UDP in most cases).", "RTI\u2019s DDS does use shared memory internally when possible, I think.", "Hi sagniknitr,", "Fast RTPS will support shared memory in future releases, is in our roadmap. Regarding microcontrollers we are developing a lightweight version of Fast RTPS based on an OMG future standard for constrained resources devices. Of course it is not a full DDS/RTPS implementation, but a reduced API and different protocol.", "You can see the first prototypes in the ", " use case, and we are working in an release now. This will let you to use ROS2 in micro-controlllers.", "If you want more details, please contact me.", "Jamie,", "Thanks for the update about how Fast RTPS will be evolving.  A few questions, is the prototype with Dronecode you\u2019re referring to the work you did on the ", "?  Additionally, can you point to any public links regarding this new OMG standard for constrained resources? I know that the ", " is publicly available, is a draft of the document you\u2019re referring to available?", "Thanks", "\n- Eddy", "The DDS XRCE (\u201ceXtremely Resource Constrained Environments\u201d because all OMG specifications need a cool acronym) specification isn\u2019t even close to finished yet. The ", " but you have to be an OMG member to get the working documents, unless someone involved is willing to provide them. When the specification is adopted, that becomes publicly available.", "As seems to happen a lot with the DDS specs these days, the RTI/eProsima/Twin Oaks camp and the PrismTech camp have produced their own versions of the XRCE specification and are struggling to reconcile them into a single specification that the OMG can adopt. I won\u2019t wade into the debate over which is better, but I\u2019ll let you draw your own conclusions from the fact that one of the two camps only has one company it it. ", " I hope it\u2019s not going to be the RPC for DDS spec all over again; the arguments over that could be heard in other meeting rooms. But it seems likely that it will be a year and a half or more before the final specification is released.", "Thanks for the informative reply ", ", I had no idea the work was under way.", "I attended the OMG meeting last week, so I took the opportunity to hear what PrismTech and RTI/TwinOaks/eProsima had to say about their competing submissions. The following are the notes I took during their presentations. Remember while reading this that it is based solely on the presentations. I haven\u2019t read the submissions themselves in any detail yet.", "Prismtech presentation:", "RTI/eProsima/TwinOaks presentation:", "My summary:", "Thanks for the summary ", "!  I\u2019m very interested in how the work progresses", "Thanks Geoff, great stuff!", "Hello ", ",", "First of all I\u2019d like to point out that I am one of the author of PrismTech\u2019s/ADLINK XRCE proposal, thus you may think I am giving you my perspective, in that case I urge you to read original documents to see how what I am providing here are facts. That said, let me make a few rectifications to some of the points above.", "You say:", "We are Engineer and Mathematicians not priests. Thus we don\u2019t believe we measure ", " You can find the result of our analysts here ", " but you are welcome to derive them by reading both specs.", "This is also partially correct. We had asked to present what would have been our final proposal in Bruxelles to give a chance to the task-force to digest and one more opportunity to the competing team to join. This has nothing to do with the Vote-to-Vote and the fact that the task-force did not decide to allow the Vote-to-Vote procedure. The OMG has very complex rules\u2026 I know that can seam strange, and they still surprise me after having spent more than 10 years dealing with it.", "The RFP (which I wrote) asks for a protocol not for an API.", "First off, the protocol has a single byte header of which only 3 bits are used for flags and the remainder 5 bits for message-id. There are two flags that are used consistently to identify Reliable and Synchronous messages and another few flags used to mark the presence or absence of some information in the message. Personally I don\u2019t find that daunting complex,  it is quite normal in protocol to use flags to this end.", "\nAdditionally, you may argue that this may add some complexity in the message parsing \u2013 but again \u2013 I think that checking a flag and deciding wether some field is going to be present or not does not belong to the realm of hard. It is also worth  pointing out that some flags are just informative and don\u2019t require any kind of branching in the decoding. Finally, what I can tell you is that with this protocol we have measured performances that  literally blow away RTPS! If you are curious we\u2019ll share the numbers\u2026 Or better make available the code for you to see with your eyes ", " And BTW, if our complex specification can fit in 1KB and RTI&Co simple protocol fits in 43KB\u2026 There is something wrong\u2026 Thus either our is not so complex or their is not so simple ", "As I\u2019ve explained several times during previous OMG meeting we have customers count bytes, and in some use cases they are not willing to spend more than 7 bytes wire overhead for data samples. Our proposal currently has 4 compared to that of RTI/TwinOaks/eProsima which has 16 bytes. We have had our implementation run on a Makeblock robot using BLE with an MTU of 20 bytes.  You can check the comparison on this deck ", " and should wonder why the competing proposal did not provide a proper analysis of the wire overhead. Additionally when leveraging batching we have a wire overhead of (3+n)/n where n is the number of samples being batched.", "Some other thing worth point out is that the protocol allows for data to be pushed, pulled or periodically pushed or pulled. The write protocol also allow to pace the streaming of data that results from a remote query. This is extremely important when dealing with resource constrained nodes that need to consume data little by little.", "I did not hear RTI saying:", "But this is far from being true. The AB review should be public and I can ask permission from the AB to post those. The truth is that the two reviews of the AB raised questions concerning whether the submission was actually answering the RFP. The reason why RTI did not want to vote is that their submission \u2013 if selected would have been killed by the AB. That is as simple as that.", "I\u2019d like to understand why you say this:", "What do you think is our submission cutting out? We are wire efficient yes, extremely wire efficient but at the same tine we support:", "At this point my question is have  you\u2019ve read both specification? If not, I suggest you do our is available here ", "I hope this was useful in clarifying a few aspects and I am looking forward to get some feedback once you\u2019ll have read both submissions. I\u2019ll also be more than happy to answer any question you may have about our protocol.", "A+", "Dear ", ",", "You are being to nice to PrismTech as everyone knows that consistency in design and elegance is seldom achieved through multi-vendor compromises. I think it is best for people to look with their eyes at what the two submission can do and make their own decisions.", "On my side I like debates, I like inquisitive minds and I like hard questions. Thus I\u2019ll be more than happy to answer any question on the XRCE protocol proposed by the PrismTech/ADLINK team explain why it is better than RTI proposal\u2026 And actually it is better than RTPS.", "Thus, please let\u2019s start the open debate to dissect the reasons why our proposal is the one which should be voted and by far the better one.", "I\u2019ll give you another small hint of why our XRCE proposal is an improvement over RTPS\u2026 Do you know how the RTPS protocol deals with discovery? What happens when you have loads of topics, readers and writers in your system and very asymmetric nodes?", "Have you ever tried to do a one shot write in DDS? How much protocol traffic are you going to generate to make that happen\u2026 And how many entities do you have to create?", "I\u2019ll  stop here\u2026 for the time being ", "A+", "Thanks ", " for jumping into the community in such an energetic manner. I think we all appreciate having one of the authors of the proposals providing feedback. That said:", "Remember while reading this that it is based solely on the presentations. I haven\u2019t read the submissions themselves in any detail yet.", "which answers:", "At this point my question is have  you\u2019ve read both specification? If not, I suggest you do our is available here ", "I think I\u2019ll stop here\u2026 for the time being ", " .", "Hi Angelo (", "),", "Coordinate different companies to get a common view on a complex matter is always hard, and in this case, there are multiple design options leading to different tradeoffs.", "Our submission (RTI, Twin Oaks & eProsima) already aligns the views of three different DDS vendors, and sure we will try to incorporate ideas of your submission.", "Our submission tries to accomplish the following:", "We coded a PoC of our submission, and during the presentation, you asked about numbers. At that point, with no optimizations at all, and in debug mode we answered 43Kb. I asked my team to optimize a little bit the code, and here are the numbers we have now for the client:", "Total Memory Use: 8 Kb", "But we could squeeze that even a little more. We are releasing this as Open Source (Apache 2) so anyone can review the results.", "But again, we are not aiming to be as small as possible. We are covering all the requisites of the DDS-XRCE RFP, and testing our solution in what we consider typical microcontrollers today.", "Regarding the process at the OMG meeting, we (RTI, Twin Oaks & eProsima) didn\u2019t want to confront both specifications and choose one of them, but have the time to incorporate ideas from your submission, and that is why now we have an extended deadline.", "Let me join in the fray. I\u2019m the other author of the PrismTech submission and the one who built our tiny prototype. I wasn\u2019t present at the OMG meetings, and I won\u2019t waste any words on what may or may not have happened there.", "Firstly, I don\u2019t think a contest of bytes of RAM adds real value to the discussion, although of course it is an honourable contest in itself ", " I am surprised that you, ", ", had never even had a proper look at the memory use of your implementation given the purpose of the exercise in the first place, but if it is 8kB now then it is much better already \u2014 if still 7kB overweight ", " In any case, memory use is determined more by the implementation than by the protocol messages.", "The precise overhead on the wire is of more interest, as this is fundamental to the protocol. BLE gives you 20 bytes to play with, and a difference of a few bytes of header adds up in that context. Furthermore, as Angelo pointed out, we have customers to whom 8 bytes is too many already. Yet even that is not of such great interest to me in this discussion.", "What really matters in my opinion is a difference in philosophy. The two proposals suggest very different views of what one would ideally want to accomplish.", "The RTI/TwinOaks/eProsima proposal is limited to providing a means for performing DDS operations remotely, and it don\u2019t see how it can do anything other than that. In a sense, it is just a hand-crafted alternative to CORBA with a lower overhead. (Simply using CORBA actually \u201cjust works\u201d if the DDS implementation is faithful to the IDL interface mappings, even if it is ugly.) To me, this route is a pragmatic way of going about satisfying the RFP, but at the same time, an uninteresting one. (Sorry ", " and others \u2026)", "We chose to design a compact protocol that can support what amounts to performing DDS operations remotely, but doesn\u2019t limit itself to it. Instead, it also supports a DDS-like peer-to-peer network with vastly lower overhead, and, in many ways a level of flexibility in specifying what data is of interest (through URIs and selections) that DDS doesn\u2019t natively support.", "All of that would be of little value if it doesn\u2019t perform well or doesn\u2019t scale well. Just like the code size and memory use are mostly determined by the implementation, so is maximum sustainable performance more determined by implementation than by the details of the protocol headers. Size-wise, my prototype can run as a client on an Arduino Uno (8-bit CPU, 2kB RAM). A small test application using the same implementation configured as a peer easily sends ~700k 8-byte msgs/s from one RPi3 to 3 others (CPU is << 100%, network load ~75% of Fast Ethernet, so I really should investigate why it isn\u2019t faster), and goes another order of magnitude faster when run over local loopback on my MBP. That\u2019s better than your typically DDSI implementation. Is this relevant? That depends on whether you have high rate, tiny messages \u2026", "Now my test application doesn\u2019t implement all of DDS \u2014 not even close \u2014 and this is another significant reason why it can do this with only a few kB of code and RAM. At the same time, this is, I believe, where it gets interesting for ROS2.", "As ROS2 has its own middleware abstraction layer that uses only a fraction of the DDS feature set, putting ROS2 directly on our protocol would get you a smaller and a faster system. Smaller and faster usually allows doing more interesting things, even if I can\u2019t say what exactly those interesting things will be.", "Disclaimer: I can\u2019t do run ROS2 over it today, there\u2019s more work to be done on my prototype before it supports all that is required. And I wish none of you would have to take my word for the data I mentioned, but that is not something that is in my power to solve today.", "It looks like I started something of a minor storm moments before starting a holiday\u2026", "I\u2019m thankful that the DDS vendors, PrismTech, RTI, Twin Oaks and eProsima, are all engaged enough in the ROS community to be present on the Discourse board. It is encouraging to future adopters of ROS 2.", "We are Engineer and Mathematicians not priests. Thus we don\u2019t believe we measure", "I wasn\u2019t implying religious believe. It\u2019s an simply expression to describe someone making an assertion. ", " I fully agree that PrismTech\u2019s submission has much smaller messages than the RTI/Twin Oaks/eProsima submission based on the two presentations alone.", "The RFP (which I wrote) asks for a protocol not for an API.", "While this is true, the other submission has managed to define an object model as well, and in addition kept it close to the existing DDS one.", "First off, the protocol has a single byte header of which only 3 bits are used for flags and the remainder 5 bits for message-id. There are two flags that are used consistently to identify Reliable and Synchronous messages and another few flags used to mark the presence or absence of some information in the message. Personally I don\u2019t find that daunting complex,  it is quite normal in protocol to use flags to this end.", "It is quite common to use flags. TCP is full of them. My concern is that the protocol is, in my opinion, undoubtedly complex and, based solely on the presentations, more complex than the other submission. Complexity and size are often a balance and in this situation we appear to have one submission at each end of the balance.", "Finally, what I can tell you is that with this protocol we have measured performances that  literally blow away RTPS! If you are curious we\u2019ll share the numbers\u2026 Or better make available the code for you to see with your eyes", "With the sorts of overhead you are achieving, I\u2019m not surprised performance is amazing. I\u2019d still like to see numbers, though. ", "And BTW, if our complex specification can fit in 1KB and RTI&Co simple protocol fits in 43KB\u2026 There is something wrong\u2026 Thus either our is not so complex or their is not so simple", "As was stated elsewhere in this thread, eProsima\u2019s implementation wasn\u2019t optimised. Since you said you are trying to bring yours to market already and eProsima claimed theirs was a tech demo, I\u2019m not surprised yours is more optimised and thus smaller. Of course, the numbers are definitely in your favour for RAM usage. But I\u2019m curious how much program memory each implementation requires, too. This is often the limiting factor on embedded microprocessors rather than the RAM usage.", "As I\u2019ve explained several times during previous OMG meeting we have customers count bytes, and in some use cases they are not willing to spend more than 7 bytes wire overhead for data samples.", "I didn\u2019t catch that even once during the presentation. Next time, put such an important motivating factor in your slides. ", " RTI and co were much better at motivating their design decisions, and that put a positive spin on their submission.", "You probably also should have put that requirement in the RFP, if it\u2019s that important. The other submission cannot aim for a requirement they are not aware of.", "But this is far from being true. The AB review should be public and I can ask permission from the AB to post those.", "Since the submissions have not gone to the AB yet, as far as I know, then there should not be any official AB reviews, which suggests to me that RTI asked for unofficial reviews from AB members. This may be why they are not public?", "The truth is that the two reviews of the AB raised questions concerning whether the submission was actually answering the RFP.", "In that case I am very interested in seeing what these AB members wrote.", "The reason why RTI did not want to vote is that their submission \u2013 if selected would have been killed by the AB. That is as simple as that.", "That may have been RTI\u2019s reason, but the reason the rest of us present voted no is because we still have two vastly different submissions with no apparent readiness to work towards a single one. PrismTech even behaved in their presentation as if they are expecting RTI, Twin Oaks and eProsima to through away their submission and go with PrismTech\u2019s.", "What do you think is our submission cutting out?", "\u201cCutting down\u201d, not \u201ccutting out\u201d. I meant that you are trying to reduce the size of the messages on the wire as much as possible, at the expense of possibly needing more complex parsing code. I didn\u2019t mean to say that you are cutting out features. It was clear from the presentation that PrismTech supports more features and has more flexibility than the other submission. But there are trade-offs involved.", "Dynamic Discovery (RTI does not, please read their spec!)", "\nPeer to Peer Communication (RTI does not)", "Neither of these are required by the RFP. The RFP heavily directs the submitter towards the style of architecture that RTI/Twin Oaks/eProsima provided.", "Non IP Transports (RTI does not)", "Yes, this is something that I was disappointed about. Hearing RTI\u2019s presentation talk about TCP/IP only seemed to rule out using it on things like Zigbee. But on the other hand, perhaps it\u2019s readily adaptable?", "Generalised Queries (RTI only supports DDS-like queries)", "Well, it is ", "-XRCE, is it not?", "I hope this was useful in clarifying a few aspects and I am looking forward to get some feedback once you\u2019ll have read both submissions.", "It was very useful. I wish I had had this information during the presentation. I still have not had time to read the submissions in detail and unfortunately will not be able to do so before November, but fortunately we now have until February next year to try and resolve this situation.", "And, as ", " said, having code available would make a difference to how well we can judge things like implementation complexity. ", "everyone knows that consistency in design and elegance is seldom achieved through multi-vendor compromises", "While this is true, we are operating at a standardisation organisation, not a rubber stamp provider. There are interested parties beyond just the implementers. We would prefer not to just hold a vote on which submission to go forward with. We would prefer the submitters to actually work together and produce a single submission that combines the best of both without any technological compromises (yes, I\u2019m aware how hard that is).", "I\u2019ll give you another small hint of why our XRCE proposal is an improvement over RTPS\u2026 Do you know how the RTPS protocol deals with discovery? What happens when you have loads of topics, readers and writers in your system and very asymmetric nodes?", "Have you ever tried to do a one shot write in DDS? How much protocol traffic are you going to generate to make that happen\u2026 And how many entities do you have to create?", "I\u2019ll  stop here\u2026 for the time being", "Or, you could provide the answers to those questions, along with the equivalent answers for your submission, so we can see and compare the data to back up your claims.", "Our submission tries to accomplish the following:", "Propose a familiar model to the final user, making use of the DDS object model and specifications: Serialization (CDR), representation (XML-DDS), and some ideas of WS-DDS mapping", "\nNeither the protocol or the API is designed to save every possible bit, but to have something robust, flexible and easy to use.", "This is the strongest impression I got from the presentation, as I said in my own notes. The data model is similar to DDS, which makes adoption by existing DDS users easier, and the ability to implement the protocol in a relatively simple piece of code (which makes it easier to verify and certify) was considered as important as saving bytes on the wire. I\u2019m not sure where the correct balance is between these two requirements, but the PrismTech implementation really gave the impression of being at one extreme.", "testing our solution in what we consider typical microcontrollers today", "This is something that I think is really relevant but that PrismTech have not addressed at all, and RTI/Twin Oaks/eProsima have not addressed enough. What are the typical microcontrollers in use today? What are the target environments for this protocol to be used in?", "The RFP explicitly says this:", "From a high level perspective, the key requirements that a DDS-XRCE implementation has to satisfy are (1) extremely low footprint \u2013 addressing targets with less than 100 Kbytes of RAM, (2) extremely efficient wire protocol \u2013 inducing a protocol overhead of just a few tens of byte over the user data, and (3) support devices that undergo aggressive sleep cycles.", "Both submissions fit within both the RAM usage (with much room to spare) and the protocol overhead.", "More specifically, the actual mandatory requirement is:", "6.5.3. DDS-XRCE protocol overhead, when sending or receiving user data, shall not exceed 24 bytes per packet.", "Let M be the size of the DDS-XRCE message sent out, and U the size of the user data, then M-U <= 24 bytes.", "The precise overhead on the wire is of more interest, as this is fundamental to the protocol. BLE gives you 20 bytes to play with, and a difference of a few bytes of header adds up in that context. Furthermore, as Angelo pointed out, we have customers to whom 8 bytes is too many already.", "Again, this should have been in the RFP if it is so important. That would have saved a lot of trouble. All we got was an evaluation criteria:", "Protocol overhead shall be considered when evaluating submissions. Submissions with smaller overhead are preferable.", "This is a miserably small set of criteria for a complex design space. Even you, ", ", say that protocol overhead is not as important as the design philosophy.", "Which I agree is fundamentally different between the two proposals, and that this is where the root cause lies in the failure to reconcile them.", "The RTI/TwinOaks/eProsima proposal is limited to providing a means for performing DDS operations remotely, and it don\u2019t see how it can do anything other than that.", "The RFP not-so-subtly pushes submitters in this direction. You cannot fault them for taking it at face value.", "I will read both submissions and when I do, I will report back with more technically-informed comments.", "Hello ", ",", "While this is true, the other submission has managed to define an object model as well, and in addition kept it close to the existing DDS one.", "And you see this as a positive aspect? Our model is simpler and more user friendly. For instance, how many people can digest DDS partitions? That said, we have a well defined mapping between XRCE resources and DDS topics.", "Since the submissions have not gone to the AB yet, as far as I know, then there should not be any official AB reviews, which suggests to me that RTI asked for unofficial reviews from AB members. This may be why they are not public?", "Are you an OMG member? If so I\u2019ll forward you the reviews. Both submissions went to the AB and the reviews were posted both on ", " and ", ". If you have access to those mailing list you\u2019ll be able to see them. I also recommend you take a look at those.", "I didn\u2019t catch that even once during the presentation. Next time, put such an important motivating factor in your slides. ", " RTI and co were much better at motivating their design decisions, and that put a positive spin on their submission.", "You probably also should have put that requirement in the RFP, if it\u2019s that important. The other submission cannot aim for a requirement they are not aware of.", "It was impossible as the other vendors did not want to agree on such a low bound. The 24 bytes was the least we could agree on. This is why there is an evaluation on wire-efficiency. This matters were discussed at length, but again I don\u2019t think you attended those meetings, thus you are missing part of the history and the context. In any case, all of those documents are on the OMG archives, thus if of interest you to reconstruct it. Just search for presentation I did on XRCE for almost a year. starting from 2015!", "That may have been RTI\u2019s reason, but the reason the rest of us present voted no is because we still have two vastly different submissions with no apparent readiness to work towards a single one. PrismTech even behaved in their presentation as if they are expecting RTI, Twin Oaks and eProsima to through away their submission and go with PrismTech\u2019s.", "Yes, that is correct as it is since the very beginning that we are trying to do a joint submission. They\u2019ve refused with futile arguments \u2013 if you ask me. We have put lots of effort to trying to join but that has not been corresponded. A pity that you were not in the Bruxelles meeting, otherwise you would have had a taste of it.", "Neither of these are required by the RFP. The RFP heavily directs the submitter towards the style of architecture that RTI/Twin Oaks/eProsima provided.", "Again, you did not attend the end-less arguments we had during the RFP drafting. RTI does not want peer-to-peer in XRCE because they fear it could become as substitute for DDSI-RTPS. Again, this is not something I am inferring, but something that was openly debated during the RFP drafting. We don\u2019t have any issue with that as we think that having a more efficient protocol than DDSI-RTPS for some use cases would be extremely useful.", "Yes, this is something that I was disappointed about. Hearing RTI\u2019s presentation talk about TCP/IP only seemed to rule out using it on things like Zigbee. But on the other hand, perhaps it\u2019s readily adaptable?", "For me that disqualifies completely the submission as in LowPAN environments nobody can afford to use TCP/IP\u2026", "It was very useful. I wish I had had this information during the presentation. I still have not had time to read the submissions in detail and unfortunately will not be able to do so before November, but fortunately we now have until February next year to try and resolve this situation.", "And, as ", " said, having code available would make a difference to how well we can judge things like implementation complexity. ", "I am glad that this helped clarifying the situation, please don\u2019t hesitate to ask any other question. Concerning the code availability we are working on that. I\u2019ll keep you posted.", "A+", "Dear All,", "I wanted to let you know that we have just released under Apache 2 a peer-to-peer implementation of our zenoh protocol called Zeno-He (Zenoh Helium). This implementation fits in about 1KByte of RAM and has 4 bytes wire overhead. This implementation not only is incredibly resource efficient but it is also blazing fast as it delivers incredible point-to-point throughput and low latency.", "The project website is available at ", " and the source code at ", ".", "We will be releasing a brokering system by the end of the year, likewise we be glad to help-out integrating zenoh as one of the protocols supported by ROS2. This could allow to bring ROS2 on micro-controllers!", "N.B. For those of you that are familiar with XRCE, zenoh is the protocol we are proposing for standardisation. But as the standard is not finalised yet, we will keep referring it as zenoh.", "A+", "Kydos,", "Thank you for publishing the Zeno-He library so we can all begin to interact with it.  It is especially useful for the ROS 2 user community to be aware of the effort since it implements the ATLab XRCE proposal.", "I know I would be extremely interested in someone benchmarking Zeno and the proposed epromisa XRCE implementation, and perhaps can find time to do that.", "This is really appreciated ", ", thanks for making this available.", "At present it\u2019s unlicensed code though (", ").", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["They believe that their proposal is more efficient in the wire protocol (trying to save every single byte possible), and supports brokered as well as peer-to-peer communication.", "They have invited the competing submitters to join the PrismTech submission.", "PrismTech believes that they have presented their final submission in Brussels (June) and so were expecting to vote for acceptance in New Orleans (September), but because there are still two competing submissions, and no final submission document was received (only a presentation), this is not possible.", "PrismTech\u2019s reasons for going forward with their own submission:\n", "XRCE tries to target the most wire/power/memory efficient protocol, targeting not just IP infrastructures but a whole range of infrastructures.", "Their submission provides reliability and fragmentation.", "Their current prototype runs on an 8-bit microprocessor with 1 KB of RAM and has a wire overhead of 4 bytes for data samples.", "They got a review from the AB which was favourable (only editorial comments), and they believe that the AB review shows that they satisfy all the mandatory requirements.", "\n", "XRCE applications can be brokered into a DDS data space, or they can discover one another and communicate P2P.", "Their submission is only about the protocol, it does not say anything about the API.", "A DDS-XRCE Agent running on permanently connected hardware provides the access to the rest of the (non-XRCE) DDS domain.", "XRCE provides a data space abstraction in which applictions can read and write data autonomously and asynchronously.", "Data read and written by XRCE applications is associated with one or more resources identified by a URI.\n", "An XRCE resource is a closed description for a set of named values.", "Resource URIs allow for wildcards, which means that more than one resource can be targeted in one definition, which is useful for capturing collections of sub-namespaces.", "A resource with a cardinality of one is called a Trivial Resource.", "Resources also have properties, which are used to attach QoS settings to them, such as \u201cthis resource is transient\u201d or \u201cthis resource is reliable\u201d.", "An XRCE selection is the conjunction of a resource and a predicate over the resource content and properties, used to filter a selection. For example, finding all lights with a luminosity greater than zero. (It seems to provide functionality similar to a very basic subset of SQL.)", "\n", "There is a mapping from XRCE resources to DDS topics.", "Resource serialisation uses the same format as DDS.", "All XRCE messages are a single-byte header and a body.\n", "There are flags in the header for reliability and synchronicity.", "Messages can be \u201cdecorated\u201d by prefixing them with a one-byte pre-header, which determines some of the properties for the following header byte, such as fragmentation.", "The protocol is little-endian.", "Variable-length encoding is used to save space.", "\n", "For addressing, the source address for each message is assumed to be a unique address of the sender.", "The protocol is modular, with a core profile (required for any communication), an optional query profile, and an optional discovery profile.\n", "e.g. If using a communications system like Bluetooth, which already has discovery, the XRCE discovery profile can be removed, saving some space.", "Discovery happens by scouting (sending a scout message to ask for types of nodes to reply, i.e. broker nodes or durability services or peers or clients).", "Other nodes reply to a scout with a HELLO message.", "\n", "After discovery, two nodes need to open a session, which enables publishing and subscribing between those two nodes.\n", "Authentication data is included in the session open message.", "Locator information, telling the other node how it can be reached, is included in the open message.", "The receiving node replies with an accept message or a reject message.", "There is an FSM describing the states a session goes through.", "\n", "Resources and selections are uniquely identified by numerical IDs to save space on the wire.", "A declare message is sent to declare what resources, selections, etc. a node has or will publish or subscribe to.", "Subscriptions can be push, pull, periodic pull or periodic push.", "All data messages and declarations are transported over a conduit (for the session), which is a pair of a reliable and a best-effort channel. Multiple conduits may be used in parallel to avoid head-of-line blocking and allow multicasting.", "One decorator is used to select the conduit for the next message.\n", "It is possible to make this decorator one byte instead of two if the number of conduits is less than five.", "\n", "There is a sync message available to set the next sequence number to expect (e.g. for when not starting at zero).", "The ACKNACK message can acknowledge multiple messages at once, usually up to the given sequence number. It has the option to optionally request retransmission of one or more messages after that point.", "There is a one-shot write function in the protocol, which can do a write of a resource without needing to do any prior registration or discovery.", "This proposal appears to be a very complex protocol with a lot of options in message header structures. An implementation would have a lot of choice points during the decoding of a stream of messages. The \u201cdecorator\u201d idea especially may save bytes on the wire (and in message construction buffers) in some cases, but it complicates the protocol implementation.", "PrismTech are already trying to bring their submission to market as a product.", "This proposal also uses an XRCE agent to provide access from DDS-XRCE nodes and the DDS domain.", "An important use case for them is that devices will tend to mostly sleep, and only wake up occassionally to do some processing, and send and receive data. This means that two devices may never be awake at the same time. This is why they have the agent, which is permanently present and provides a way for XRCE nodes to communicate with each other.", "They say that their proposal focuses not just on the XRCE protocol, but also on the interaction between the XRCE protocol and the DDS domain.", "It is possible for an XRCE agent to behave as an XRCE client to another agent, allowing for a hierarchical structure of agents and clients.", "Their proposal is based on the web-enabled DDS specification, with a DDS-XRCE object model in the agent that has a one-to-one mapping to the DDS data model.", "eProsima have put up a demo on Youtube: ", "\n", "Their demo uses 43 KB of RAM (much bigger than the PrismTech proposal, which can fit in 1 KB).", "The XRCE Agent object model is very similar to the DDS object model, making the mapping very simple.", "XRCE objects are modeled as resources that are addressable by their name and have CRUD operations.\n", "Each resource has a name to address it within the agent and a context; a representation describing the resource; and an ID.", "Resources can be represented as a name, an XML description, or a binary representation.", "\n", "Authentication capability is built into the proposal.", "Types are typically pre-defined profiles in the XRCE Agent.\n", "It is possible to transmit types as binary or XML representations.", "\n", "Message structure:\n", "A message header is either 4 or 8 bytes, depending on if a clientKey is used.", "There is a sub-message header, which is another 8 bytes.", "It is possible to send data in a sequence, meaning the header only needs to be sent once for a bunch of samples.", "\n", "The transport can be message-oriented or packet-oriented.", "CDR and DDS-XML representations are reused.", "Message overhead is typically 12 bytes.\n", "They consider that further reduction in overhead would increase complexity and reduce robustness. e.g. They do not need different code paths for multiple sessions, re-connections, handling variable-length encoding.", "They say it compares favourably to TCP/IP overhead (40 bytes).", "They think they could save 6 bytes from their message header, but the reduction is only 6% in the context of total overhead (when considering the use case of using TCP/IP as the underlying transport protocol) and so is not worth it in the face of increased complexity.", "\n", "They also received 3 AB reviews, which they claim were supportive and did not find any non-editorial problems.", "The submissions are very different. PrismTech is aiming for cutting down the bytes used by the protocol to the absolute minimum at the expense of all else. RTI/eProsima/TwinOaks are favouring some overhead in order to achieve a simpler and more robust protocol and implementation.", "PrismTech\u2019s protocol is overly complex with too many choices during the decoding of a message.", "The extra overhead of the RTI/eProsima/TwinOaks submission is not likely to be a problem in the majority of embedded micro-processors used these days (although I\u2019m not sure how many 8-byte, 1KB-of-RAM micros there are in use in new products). However, their consideration that TCP/IP is going to be the most common transport may not be accurate.", "Dynamic Discovery (RTI does not, please read their spec!)", "Peer to Peer Communication (RTI does not)", "Client to Broker Communication", "Non IP Transports (RTI does not)", "Generalised Queries (RTI only supports DDS-like queries)", "Push/Pull/Periodic-Pull and Periodic-Pull Readers", "Unicast and Multicast communication \u2013 for both client to broker and peer-to-peer", "Durability", "The view ", " provides is a) unbiased, b) the view of a roboticist (that\u2019s what this community is about ", " ! )  and c) based on the information someone got from hearing \u201cyour presentation\u201d. Note the following:", "I believe we all appreciate technical argumentation and slides. I love slides. But what I love even more is code and things that I can reproduce. How can I verify your arguments through experimental results? Is there any open code that supports your arguments? More than bashing around, i think it will do a lot of good to facilitate implementations that others can reproduce in common platforms. Even early stages will do. You might find that you could even get some support (and feedback!) before launching it officially and furthermore, that\u2019ll definitely convince a lot of people on why your approach is better.", "Last but not least, I really hope that the passion you\u2019ve shown answering this thread is shown by supporting and making OpenSplice better.", "Propose a familiar model to the final user, making use of the DDS object model and specifications: Serialization (CDR), representation (XML-DDS), and some ideas of WS-DDS mapping", "Neither the protocol or the API is designed to save every possible bit, but to have something robust, flexible and easy to use."], "url": "https://discourse.ros.org/t/ipc-in-ros2/2619"},
{"title": "Implementing SubscriberStatusCallback within ros2", "thread_contents": ["Hi,", "When reading image_transport source code, ended up at a point where we need to use SubscriberStatusCallback.", "How do we implement the same on ros2? (LifeCycle nodes?) They do not let enable us to develope code for connect/disconnect callbacks.", "Any suggestions on the same would be mighty helpful.", "I closed this in favor of ", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/implementing-subscriberstatuscallback-within-ros2/4250"},
{"title": "Access all Publisher/Subscriptions of a node", "thread_contents": ["Hi for debugging purposes I\u2019d like to access all publishers/subscriptions a node handles. (And get their rcl handle for accessing their fast rtps handle) Is this somehow possible. I couldn\u2019t find a fitting method in the rclcpp::Node", "There is a way to do this, but only a code example:", "Contribute to ros2/demos development by creating an account on GitHub.", "Obviously, this isn\u2019t portable because you\u2019re accessing Fast-RTPS or Connext (or whatever one you\u2019re using) specific interfaces and therefore your program will now only work with that vendor. So for that reason we discourage you from doing it unless absolutely necessary.", " might have more information for you as he did this originally, but I didn\u2019t see a tutorial on the wiki or anything.", "Also, please try to ask questions like this on ", " with the ", " and/or ", " tags in the future.", "I think you misunderstood me. I already found this example.", "\nWhat I\u2019m looking for is a way to get all publishers/subscriptions that were created via rclcpp::Node->create_publisher (or create_subscription). I couldn\u2019t find an interface in the node for achieving this, but as far as I understand somewhere there must be a list which publishers and subscritptions were created.", "Regarding ", ". What kind of questions should be asked here and what kind of questions on ", "? The latest I was aware of was that questions should be asked here instead of github.", "Regarding ", ". What kind of questions should be asked here and what kind of questions on ", "? The latest I was aware of was that questions should be asked here instead of github.", "While we were bootstrapping ROS2 we were recommending asking questions here in the Next Generation ROS category. However as the ROS2 traffic has grown that\u2019s becoming unsustainable and we\u2019ve decided to transition to our standard model of asking questions on ", "The transition was discussed:", "And we recently re-announced it:", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/access-all-publisher-subscriptions-of-a-node/4269"},
{"title": "ROS2 Intel Movidius NCS Release - Initial Version(V0.3.0)", "thread_contents": ["Hi all,", "We released ", " several months ago and received much feedback from community. Now, we are happy to announce the initial release(v0.3.0) of ROS2 Intel Movidius NCS package. This package is derived from ROS Intel Movidius NCS package and provides the following features for ROS2 with powerful ", ":", "\n\u2022 A service for ", " of a static image file", "\n\u2022 A publisher for ", " of a video stream from a RGB camera", "\n\u2022 Demo applications to show the capabilities of ROS service and publisher", "\n\u2022 Support multiple CNN models of ", " and ", ", including", "This project has been open sourced in github: ", ". Please refer to README file for more details about this project. We have tested it on RealSense D400 series camera and Astra camera. More features, such as multiple NCS devices support, are under development and will be included in next release. Stay tuned. Welcome feedback and participation.", "Hi ", "\nReally nice work and it is great to see more and more packages support ROS2!", "\nI am excited to try this with realsense through ROS2 version driver.", "HaoChih", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["CNN models for object classification\n", "AlexNet", "GoogleNet", "SqueezeNet", "Inception_V1/V2/V3/V4", "MobileNet", "\n", "CNN models for object detection\n", "MobileNet_SSD", "TinyYolo_V1", "\n"], "url": "https://discourse.ros.org/t/ros2-intel-movidius-ncs-release-initial-version-v0-3-0/4349"},
{"title": "ROS2 Composition", "thread_contents": ["I\u2019m new to ROS2. How Can I spin the node using composition techniques. In the case of publishers, examples shows use of timer to bind the callback function. Is there any other way of continuously sniping the node without binding it to timer.", "In composition example.:", "\n// Use a timer to schedule periodic message publishing.", "\ntimer_ = create_wall_timer(1s, std::bind(&Talker::on_timer, this));", "My use case application is creating a video/image (OpenCV) publisher.", "Regards,", "\nMJay", "In the composition case none of the nodes is in charge of the main function / main thread. Therefore you either have to use a timer to get notified in regular intervals or start your own thread (with all the implications for locking / thread safety).", " Just a query regarding future composition related work\u2026Will there be anything like the onInit() function (like that of nodelets) in future ros 2 releases\u2026Or will all composed nodes in ros 2  be initialised at the constructor of the class ??", "You might want to consider to use a managed node. The current implement matches the design document which describes how the life cycle of managed nodes works: ", "There are currently no plans for changing anything in the life cycle itself. The configure step might be the right callback to perform your initialization.", "Thanks ", ". I was wondering how composition would support runtime polymorphism (like those supported by pcl_nodelets in pcl_ros) if all initialization were done at the constructor , instead of the the virtual onInit() function given in the nodelets.", "I was wondering how composition would support runtime polymorphism (like those supported by pcl_nodelets in pcl_ros)", "I am sorry - I don\u2019t understand the question. Maybe you can elaborate on it and provide more context.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-composition/2469"},
{"title": "ROS2 Intel\u00ae RealSense\u2122 RGB-D Camera - Initial Release", "thread_contents": ["Hi All,", "\nWe\u2019re happy to announce the initial release of \u201c", "\u201d, a ROS2 package for Intel\u00ae RealSense\u2122 D400 series RGB-D camera. Derived from its ROS nodelet \u201c", " (tag v2.0.1)\u201d, the \u201crealsense_ros2_camera\u201d node publishes ROS2 topics for ", " images, ", " images, ", " (left/right) images, and ", " images. It provides below features, verified with ", " release, and messages visualizable via rviz and ", ":", "Even though ", " still absence in ROS2, RGB-D point cloud is supported in this release, thanks to a built-in algorithm in the ROS/ROS2 Realsense node, with color image registered to depth camera.", "\n", "Have a try and feel free to contribute in our github. Thanks!", "Hi Sharon- I\u2019m very interested in working with this unit, but I still can\u2019t figure out if I can do meaningful work under ROS with just the Intel\u00ae RealSense\u2122 Depth Camera D435, or if I need to also purchase the Intel\u00ae RealSense\u2122 Vision Processor D4 Card to make it useful?", "Can you please let me know?", ", the said \u201cRealsense Vision Processor D4 Card\u201d has been integrated into the Camera (D415 or D435), according to the Realsense webpage ", ".", "And the full specification here:", "\n", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Publishing ROS2 messages on the topics of\n", "\n", "Sharing same topics name in both ROS2 and ROS", "Sharing same version of native driver, ", " (tag v2.9.1), in both ROS2 and ROS"], "url": "https://discourse.ros.org/t/ros2-intel-realsense-rgb-d-camera-initial-release/4296"},
{"title": "Unreliable communication using executors", "thread_contents": ["Hello.", "\nI have a problem I can\u2019t solve by myself. I have 2 nodes inheriting from the main Node class, one of them receives data from an IMU and sends it to the other. In the other one frequency of received messages is being calculated.", "When I run both nodes separately I get results close to expected ones, so eg for 50Hz publishing I receive messages with ~50Hz frequency, for 25Hz it\u2019s also ~25Hz and so on. The issue starts when I try to start both nodes from an executor. In that case when publishing with 50Hz I receive messages with about 37-38 Hz, for 25Hz - ~18-19Hz and so on. Generally for every frequency above 1 Hz I receive messages with about 2/3-3/4 of the publishing frequency. I tried both single-threaded and multi-threaded executor but it doesn\u2019t seem to change anything, nor does toggling the intra-process communication in nodes\u2019 constructors. I\u2019ve also tried modifying QoS options of this particular connection on both ends but with no effect.", "The publishing node has been confirmed to publish data with configured frequency.", "Please ask questions on ", " and include the ", " tag. If you repost the question there, link it and I\u2019ll try to answer your question.", "Also, please try to include a minimal example that reproduces the issue.", "I followed your advice and posted my problem here:", "\n", "I found the solution. It seems that it was caused by a ", " found in a different node ran from this executor.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/unreliable-communication-using-executors/4542"},
{"title": "Can someone show me an example of remote node discovery using ros2 command?", "thread_contents": ["Hi, I have just installed ROS2 on two different hosts (different sub-network, different version operating system, etc), and on one of them I have:", "ROS_VERSION=2", "\nROS_DISTRO=ardent", "\nROS_DOMAIN_ID=12345", "on the other of them I have:", "ROS_VERSION=2", "\nROS_DISTRO=bouncy", "\nROS_DOMAIN_ID=12345", "I can reach the second host from the first host via ssh.", "Then I run", "ros2 run demo_nodes_cpp talker", "on one of them, I can see \u201cros2 topic list\u201d and \u201cros2 node list\u201d find out about the talker on that same host, but if I run these commands on the other host then they show nothing.", "I am certain that the FastRTPS RMW implementation has been built in both installations.", "Can someone show me an example command for discovery of remote ros2 node and topic that I can try on these two hosts? Thanks!", "First, I would recommend using the same ROS 2 version of both sides (I see you\u2019re using Ardent and Bouncy, which is just master right now).", "Second, makes sure multicast UDP is working between machines. You can use ", " to check, see:", "If that works and discovery still isn\u2019t happening, then consider filing an issue because that might be a bug.", "In addition to what ", " suggested, I would suggest trying a much lower value of ROS_DOMAIN_ID, say something less than 100.", "At least with RTI\u2019s version of DDS you cannot go that high with domain IDs.  Their maximum recommended Domain ID is 232.", "\n", "Thanks! I see that UDP is not working between them, I will try to get that set up. Thanks very much again!", "Now,  the ROS2 version of both sides are same and ROS_DOMAIN_ID=10. The iperf show the multicast UDP  is working. But when I run talker on one host, the listener on the other host can not get any message. The inner network address is 192.168.0.103 and 192.168.0.104.", "\nCan someone show me an example command for discovery of remote ros2 node and topic that I can try on these two hosts? Thanks!", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/can-someone-show-me-an-example-of-remote-node-discovery-using-ros2-command/4654"},
{"title": "Can someone show me an example command for discovery of remote ros2 node and topic that I can try on these two hosts?", "thread_contents": ["Helllo, I just install the ROS2 on 2 hosts.", "\nThe ROS2 version of both sides are same and ROS_DOMAIN_ID=10. The iperf show the multicast UDP is working. But when I run talker on one host, the listener on the other host can not get any message. The inner network address is 192.168.0.103 and 192.168.0.104.", "\nCan someone show me an example command for discovery of remote ros2 node and topic that I can try on these two hosts? Thanks!", "Thanks for your question. In genral we ask that you please ask questions on ", " following our support guidelines: ", "ROS Discourse is for news and general interest discussions. ", " provides a forum which can be filtered by tags to make sure the relevant people can find and/or answer the question, and not overload everyone with hundreds of posts.", "I see you\u2019ve also posted this ", " however please also don\u2019t double post questions. That\u2019s also considered poor etiquette.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/can-someone-show-me-an-example-command-for-discovery-of-remote-ros2-node-and-topic-that-i-can-try-on-these-two-hosts/4710"},
{"title": "Discussion about uint8[] type transport in ROS2 python", "thread_contents": ["Hi , I\u2019m trying to start a discussion about what type should ", " be converted to", "Background:", "Test comparison result:", "issue description :", "Our attempts", "So if the attempt 1 seems good to you , we\u2019d like just use the attempt 1 in our code .", "\nBut if the ", " is important for some upper application or algorithm in existing codes , then we will try to finish attempt 2", "link to the ", "Opinion Invitation:", "\n", "\n", "Appreciating your opinion !", "Just a few suggestions on maybe how to deal with this:", "Given this is kinda a\u2026 corner case, just by monkeypatching the method to use a converting method that\u2019s already prepared for the usecase:", "Of course, this implies generating the the thing I called ", ". A better name would come up from the experts, I\u2019m sure. Or there could be a function to just enable that in a more friendly way:", "Or make an option to choose to use the old list way when instantiating a message that contains this specific problem.", "Or generate two messages when a field of type uint8[] appears:", "Or even allow for every field the mode of conversion in a generic way (keeping the default the most efficient):", "Well, just throwing some ideas around. The monkeypatching way, with maybe a good method name to make it more friendly is probably my favorite.", "Thanks \uff01 I\u2019ll try your suggestion !", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/discussion-about-uint8-type-transport-in-ros2-python/4633"},
{"title": "ROS_DEBUG of ROS1 is equivalent to What of ROS2?", "thread_contents": ["ROS_DEBUG of ROS1 is equivalent to \u201cWhat\u201d of ROS2?", "Please ask your question on ", " with the ", " tag and link to it from here.", "ROS Discourse is for news and general interest discussions. ROS Answers provides a forum which can be filtered by tags to make sure the relevant people can find and/or answer the question, and not overload everyone with hundreds of posts.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros-debug-of-ros1-is-equivalent-to-what-of-ros2/4739"},
{"title": "What of ROS2 is ROS_DEBUG of ROS1 equivalent to?", "thread_contents": ["ROS_DEBUG of ROS1 is equivalent to What of ROS2?", "The equivalent is ", " where ", " might come from your Node, like ", ", see:", "Also this might be of interest:", "In the future please ask questions like this on ", " and use the ", " tag. If you\u2019re feeling helpful, it would be nice if you asked the question there now and answered it again, so others on ", " can benefit.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/what-of-ros2-is-ros-debug-of-ros1-equivalent-to/4740"},
{"title": "About the configuration file in package", "thread_contents": ["Hi !", "\nI\u2019m writing a package that needs to read a configuration file .", "\nI use ", " to copy the configuration file to the path : ", "But i have no good way to get the right path where the file stores and then read it", "i\u2019m using the absolute path to read the file now but i want to make it relative so the package can be used in different environment .", "looking forward to some suggestions !", "Thanks for the question, but we ask that you post it on ", " with the ", " tag instead. You can link to it from here once you do so.", "ROS Discourse is for news and general interest discussions. ROS Answers provides a forum which can be filtered by tags to make sure the relevant people can find and/or answer the question, and not overload everyone with hundreds of posts.", "edit: posted at ", "sorry to post it here and thank you !", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/about-the-configuration-file-in-package/4728"},
{"title": "Rclcpp.lib for win32 visual studio project", "thread_contents": ["I am trying to create a ros node to subscribe to a topic in a visiual studio project which is (Release and Win32)", "\nbut I got this error", "Severity\tCode\tDescription\tProject\tFile\tLine\tSuppression State", "\nError\tLNK1112\tmodule machine type \u2018x64\u2019 conflicts with target machine type \u2018X86\u2019\tCooperation\tC:\\Maram\\ros2\\build\\approach\\rclcpp.lib(rclcpp.dll)\t1", "do you have any idea how I can solve this problem ??", "P.S I can\u2019t change visual studio project to x64, it has alot of other external libraries which is 32", "ROS2 targets only 64 bits systems at the moment so there is no libraries built for 32 bits system.", "\nYou could try to ", " in 32bits, but as we never tried it you may face several challenges along the way.", "In the future please ask your questions on ", " following our ", " and tag your question with the ", " tag.", "Update: Answered in the ", " on ", ".", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/rclcpp-lib-for-win32-visual-studio-project/4759"},
{"title": "ROS2 Object Analytics Release - V0.3.0", "thread_contents": ["Hi, All", "We are happy to announce the initial release of the ROS2 Object Analytics packages. These packages aim to provide live object analyses over RGB-D camera inputs, same functionalities as its ROS1 counterpart ", ". The main features are 2D detection, 2D tracking and 3D localization. Packages and features provided by below 3 projects with tag v0.3.0:", "\no ", ": ROS publisher and tests for object tracking in a ROS ", " message, and for object localization 3D in a ROS PointCloud2 message from an RGB-D camera. OpenCV tracker is adopted for object tracking, with regular rectification from object detection results. Object segmentation over pointcloud2 image locates the detected objects in 3D camera coordination system.", "\no ", ": ROS message interface for the object analytics features", "\no ", ": ROS launch interface for the overall object analytics and its sub-modules", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-object-analytics-release-v0-3-0/4762"},
{"title": "ROS2 Node Definition in Class", "thread_contents": ["class Listener", "\n{", "\npublic:", "\nListener()", "\n{", "\nm_rosNode = rclcpp::Node::make_shared(\u201cListener\u201d);", "\nsub_  = m_rosNode->create_subscription<std_msgs::msg::String>(\u201cchatter\u201d, &Listener::callback);", "\nrclcpp::spin(m_rosNode);", "\n}", "\nvoid callback(const std_msgs::msg::String::SharedPtr msg)", "\n{", "\nRCLCPP_INFO(m_rosNode->get_logger(), \u201cI heard: [%s]\u201d, msg->data.c_str());", "\n}", "private:", "\nrclcpp::Subscription<std_msgs::msg::String>::SharedPtr sub_;", "\nstd::shared_ptr<rclcpp::Node>  m_rosNode;", "\n};", "int main(int argc, char * argv[])", "\n{", "\nrclcpp::init(argc, argv);", "\nListener lister;", "\nrclcpp::shutdown();", "\nreturn 0;", "\n}", "Hi I am a beginner, I wrote some codes described above. However, after ament build, it comes out an error:", "\n5>C:\\dev\\ros2_2018_03_07_fastrtps\\ros2-windows\\include\\rclcpp/function_traits.hpp(52): error C2825: \u2018FunctionT\u2019: must be a class or namespace when followed by \u2018::\u2019 [D:\\sr", "\nc\\ros2_pub_sub_test\\build\\ros2_pub_sub_test\\listener_1.vcxproj]", "can anyone help me! Thanks in advance.", "Please ask on ", " with the appropriate tags like ", ", and then include more details, like the OS you\u2019re using, the compiler version you\u2019re using, which version of ROS 2 you\u2019re using, and how you installed ROS 2.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-node-definition-in-class/4826"},
{"title": "ROS2 Subscriber defined in Class (Win10, Visual Studio 14)", "thread_contents": ["Hi I tried to build this above example, but I got an error:", "this error was caused by this line :", "Can anyone help me? Thanks in advance!", "I solved this problem.", "Do you mind posting your solution here? This might be helpful for people stumbling upon the same error from search machines.", "void topic_callback(const std_msgs::msg::String::SharedPtr& msg);", "should be:", "void topic_callback(const std_msgs::msg::String::SharedPtr msg)", "Glad you found a solution to your problem.", "In general we ask that you please ask questions on ", " following our support guidelines: ", "ROS Discourse is for news and general interest discussions. ", " provides a forum which can be filtered by tags to make sure the relevant people can find and/or answer the question, and not overload everyone with hundreds of posts.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-subscriber-defined-in-class-win10-visual-studio-14/4863"},
{"title": "About ROS2 navigation enabling plan", "thread_contents": ["From navigation repo in ROS2, there is no concrete commit since August. As we know, navigation is one of most important components in Robotics. I\u2019d like know the plan for its enabling and does it accept community patches for such effort? thanks.", "Patches from the community are always welcome! ", "  If it doesn\u2019t work for you, please feel free to fix it and send in a pull request or patch.", "I\u2019d like know the plan for its enabling and does it accept community patches for such effort?", "Yeah community involvement and contributions are always appreciated!", "\nThe fork of navigation in the ros2 organization was a one time work to play around for a demo, this is not maintained and we don\u2019t pretend to make it any close to the ROS 1 version. We do encourage users interested in helping the migration of any ROS 1 package or stack to contact the maintainers and submit their patches on the upstream ROS 1 repositories.", "Thanks!", "There were a couple of alternative navigation-related projects presented at ROSCon this year. Both were advertised as having advantages over the \u201cdefault\u201d one, and might be a better candidate for porting to ROS 2.", "if existing navigation repo is for demo purpose and won\u2019t be maintained, I\u2019d suggest re-name it to navigation_demo. Except it, is there any other effort working on Navigation (move_base) enabling in ROS2 community?", "AFAIK, there is no actual plan, it\u2019s up to the maintainer and community contribution from the feedback: ", "Regarding alternative navigation-related projects presented at ROSCon this year, for example,", " from David Lu, will also focus on implementing it in the ROS1 firstly.", "All, I\u2019m trying to start driving the ROS2 Nav stack effort, with help, and I\u2019m asking for input. See this thread here: ", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/about-ros2-navigation-enabling-plan/3055"},
{"title": "ROS2 Moving Object Release - Initial Version 0.3.0", "thread_contents": ["Hi, there,", "We are happy to announce the initial release of ", ", a ROS2 version of vision-based moving object abstraction solution. Similar to ", ", ros2_moving_object package filters and merges topics from ROS2 ", " and ", ", and provides motion information for localized and tracked objects, i.e., the velocity information about tracked objects. Such information can extend robot\u2019s ability of motion planning and collision avoidance.", "You can visit the ", " to understand the data pipeline/flow between the corresponding packages.", "Comparing with ROS version of moving object package, ROS2 Moving Object package has some known issues by now pending for further development:", "Please see more from package ", ". You are welcomed to feedback and contribute.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Yaml based configuration file is not fully supported because ROS2 dynamic configuration feature is not ready yet.", "TF transform is not enabled for velocity calculation, which may introduce bias in velocity info because ROS2 TF is not fully supported yet.", "Sample case CA Policy (see description ", ") is removed from this package, since navigation stack, a runtime dependency has no ROS2 version yet."], "url": "https://discourse.ros.org/t/ros2-moving-object-release-initial-version-0-3-0/4887"},
{"title": "Interested in contributing to the ROS 2 \"core\"?", "thread_contents": ["The ROS 2 development team has labelled some tasks where we think contributions from the community would be particularly beneficial (priority bug fixes, enhancements, etc). These are represented as GitHub issues that have been given the ", ".", "We also have a label for issues that we think should be more accessible for first-time contributors, labelled ", ".", "If you are interested in contributing to the ROS 2 project, we encourage you to take a look at those issues first. If you\u2019d like to cast a wider net, we welcome contributions on any open issue (or others that you might propose), particularly tasks that have a milestone signifying they\u2019re targeted for the next ROS 2 release (currently \u201cbouncy\u201d).", "If any task catches your eye, ", " for details on what to do next!", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/interested-in-contributing-to-the-ros-2-core/4987"},
{"title": "Discussion on Rviz rewrite", "thread_contents": ["Forgive me if I\u2019m late on the game on this.  But were there discussions in the past about how to proceed with Rviz in ROS2?   I tried Googling around to see if there were past discussions about breaking from Ogre in an Rviz rewrite but I haven\u2019t found anything.   Any insight or pointers would be welcome.", "I\u2019m mostly curious as to why it seems that rviz is being rewritten again using Ogre (at least it appears) and QT, rather than let\u2019s say Unreal, which is largely OS independent and already supports QT/OGRE combined functionality in a supported framework.  But unreal also supports AR and VR tools along with many other widgets and plugins.  I realize Unreal has a custom license based on a royalty for commercial applications (they assume games), but they will customize that individually, and might provide a ROS community license if it\u2019s in their interest to move into a new domain?", "I\u2019m not trying to stir up trouble, I\u2019m just curious, as my company desperately needs a fully functional Rviz replacement to move our commercial manipulation stack to ROS2 (which would hopefully then be released publicly as a ROS2 alternative to MoveIt!).  As of now, I either need to wait on Rviz development for ROS2 to get to the ROS1 level of functionality (waiting is not really an option for my customers) or write something myself.  In thinking about forking/writing Rviz functionality myself , it seemed odd that the new Rviz would not have had some documented discussions on whether to use a newer framework other than Ogre that facilitated faster development and easier cross platform deployment.", "Links to previous discussions / tickets I could find:", "As ", " already linked to, this discussion happened on the ROS 1 rviz repository:", "That issue needs to be updated (it\u2019s on my todo list), but since we were not planning on a \u201cfrom scratch\u201d rewrite of rviz, I decided to stick with Ogre, since none of the other options gave us much immediate benefit (from my perspective) and I estimated that it was a lot of work to replace Ogre.", "What we did do during the port of rviz for ROS 2 (here: ", ") is we tried to abstract all calls to Ogre behind one rviz API or another, so that in the future we could hopefully replace Ogre with a newer version of Ogre or some other toolkit.", "I say \u201ctried\u201d because there were some quite deep integrations with Ogre, especially in the selection tools and interactive markers, and also many of the third-party displays also use Ogre directly. So some things have been abstracted, but others were deemed too complicated to do for now. So if we wanted to remove Ogre, then we\u2019d have to first finish those abstractions or rewrite the non-abstracted code in the new system.", "Sure I understand the desire to not want to rewrite from scratch.  Let me state the other side as I see it.  If you were to redo Rviz using three.js or Babylon.js, then you eliminate any need for third party apps as a browser becomes your 3D rendering environment.  Of course adding plugins and other Qt-style", "\nMenus means people have to write Web apps, but In some sense that\u2019s easier for certain individuals.  Also, the open source communities behind these webgl platforms is large so perhaps it might spur more outside (of OSRF) development from people that are intimidated by Rviz.", "I realize that I have changed from the original Unreal/Unity approach I mentioned at the start of this thread to a webgl approach, but this is in response to any licensing issues with Unity or Unreal (though for free/open source, I don\u2019t see any real challenges with Unreal or Unity either).", "I realize that bringing these issues up now (rather than a year ago) might not be helpful, but we are trying to plan how to make th Ros2 jump in the near future without the Interactive Markers and other Rviz tools that our navigation and manipulation frameworks are built on top of.  We need to replace those with something.", "A complete rewrite is rarely a good idea. If you want a web-based RViz then just write a new one, no need to throw away everything that has been developed in the last 10 years.", "I also don\u2019t think that web apps are the solution for everything. From my personal experience, I can say they are a lot harder to develop for non-web-developers than Qt/C++ or Qt/Python applications. As ROS is used quite a lot in academics and starting to get used in the industry, where Qt is the dominating GUI framework, I would not like the decision to move to the web.", "However, I agree that Ogre is not perfect. three.js, for example, could also be used in combination with Qt. Did you know that the Qt guys are already working on several methods to support web browsers? If that is what you are looking for google Qt WebGL rendering and Qt WebAssembly.", "Well, we can have a quite deep discussion about the reasons for using Qt compared to web applications here, but I don\u2019t think they would lead to something. My personal preference is Qt because I work on industrial HMIs, if you work on something more consumer-focused then probably web apps would be your choice, long-term support and consistency are key in industrial environments.", "Unity or Unreal are probably not a good fit for an open source software project altogether. But I may be wrong here.", "I\u2019ve written a couple of industrial HMIs recently as well, which may be why I am looking for anything other than Qt ", "I realize that I have changed from the original Unreal/Unity approach I mentioned at the start of this thread to a webgl approach, but this is in response to any licensing issues with Unity or Unreal (though for free/open source, I don\u2019t see any real challenges with Unreal or Unity either).", "Actually both Unreal and Unity would be unsuitable for rviz in my opinion (and unnecessarily sophisticated). Unity is not open source, and a that\u2019s deal breaker for us, since we want a fully open source stack for our user space software. And Unreal because even though it claims open source, they have restrictions on distribution of source and binaries (no matching OSI license for that), as well as commercial use and would potentially prevent someone from producing a product with rviz embedded without needing to pay royalties or something. And that\u2019s a feature of the BSD license we\u2019ve chosen and want to preserve.", "I did consider VTK and Qt3D, however. I think both are in the right range of compromise: open source, easier to use than plain OpenGL, not a full blown game engine (we don\u2019t need to simulate water or physics in rviz, perhaps Gazebo but not rviz).", "Any ways we\u2019ve had that discussion on the rviz issue. Ogre is still ok for now (I\u2019m not sure what limitations it has that rviz needs to overcome), my biggest concern for Ogre 1.x is support lifetime since the main Ogre team has moved on to Vulcan/Metal based Ogre 2.x. But that\u2019s why I started abstracting in the ROS 2 work.", "If you were to redo Rviz using three.js or Babylon.js, then you eliminate any need for third party apps as a browser becomes your 3D rendering environment. Of course adding plugins and other Qt-style", "\nMenus means people have to write Web apps, but In some sense that\u2019s easier for certain individuals. Also, the open source communities behind these webgl platforms is large so perhaps it might spur more outside (of OSRF) development from people that are intimidated by Rviz.", "If you want a web based solution, there can be both, and there is. You could consider porting robot web tools (", "), which had a rviz clone called ", " I think. OSRF doesn\u2019t have to initiate every project that\u2019s possible ", ". I think a web based solution will not replace the desktop application written in C++ (for now) since performance is a key feature of rviz (not saying 3d is slow in the browser, but pub/sub, serialization, and transforms have been issues for rwt in the past due to JS being slow). Maybe with enhancements to the WebAssembly sandbox it might be possible at some point to replace the desktop app. But that\u2019s too risky to try instead of porting the existing rviz right now. If we had more resources I\u2019d definitely love to try.", "we are trying to plan how to make th Ros2 jump in the near future without the Interactive Markers and other Rviz tools that our navigation and manipulation frameworks are built on top of. We need to replace those with something.", "Your absolute quickest and least effort option for that is to contribute to the rviz2 port. It has everything ported except some of the displays, and the effort of porting most displays is relatively low. Interactive markers might be a more considerable amount of work, but there\u2019s no other option that would be less work in my opinion.", "I\u2019ve written a couple of industrial HMIs recently as well, which may be why I am looking for anything other than Qt ", "I guess it depends on your use case, but I don\u2019t have any issues with Qt productivity wise, and it seems like a good option (not sure what your particular issues with it are). It also just got an ISO 26262 option for those industrial users who need that sort of thing and are willing to pay for it:", "How to build functionally safe embedded devices with Qt and Qt Safe Renderer.", "Can you please elaborate on this? Have you used Qt Widgets or QtQuick?", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", " in ", "\n", "the ", " issue on ", "\n", "discussing AR and VR in RViz 2 / ROS 2: ", "\n"], "url": "https://discourse.ros.org/t/discussion-on-rviz-rewrite/4965"},
{"title": "ROS BAG V2 Enhancement for Random Access", "thread_contents": ["I have made rosbag v2 random access by adding a Summary Header (opcode=0) which contains the filepos of the first opcode6 or 7 header.", "\nThe Summary Header has constant size, by making all fields mandatory and no data field, just 0 for data Length.", "\nThis enabled me to jump immediately to the chunk info headers, and connection headers, then to all the rest.", "Other information includes the total number of records for each opcode, the total number of records, the global start time, the global end time, as well as the global min and max numbers of connections, any chunk (chunk info) will have.", "The summary header is optional, but its presence can easily be detected because it has a constant size placed at the end of a rosbag file. It may even be in a separate file with additional .summary extension from its original name. The c code is in the picture below.", "The sample app (still a work in progress) is using datasets from UDACITY.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros-bag-v2-enhancement-for-random-access/5066"},
{"title": "How to deploy ROS2 package?", "thread_contents": ["Hi there,", "I\u2019m trying to run Raspberry Pi camera node on ROS2 from: ", ".", "I have successfully built ROS2 (latest public release) on my Raspberry Pi and ran the publisher/listener examples.", "After building the above project for Raspberry Pi camera, I am not able to actually run it with ", " command. When I list all existing packages with ", ", I don\u2019t see the package above in the summary.", "Any help would be great, since I\u2019m new to the tooling of ROS2.", "Ping for the original author of the Raspberry Pi camera node for ROS2: ", " ", "Thanks!", "B.", "Ok, so the trick was to source the package properly. Ament (the build tool) creates artifacts in the ", " folder with bunch of helper scripts.", "All you need to do is to source it with ", ". Now, ", " will list the ", " package.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/how-to-deploy-ros2-package/5085"},
{"title": "Ros2 rclcpp API in 3rd Party Application", "thread_contents": ["Hi,", "i am trying to implement ros2\u2019s pub/sub way in another application in order to exchange some over some topics. Is this possible in general ? What would be the best approach to do this?", "Please ask your question on ", " with the ros2 tag.", "You\u2019ll also want to include more details, as your question right now is pretty vague and it\u2019s not clear what your goal or constraints are from your description.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-rclcpp-api-in-3rd-party-application/5141"},
{"title": "Ada client library for ROS2", "thread_contents": ["Hello,", "I\u2019m just starting to write an Ada client library for ROS2. The Ada language is a strong fit for the aims of the ROS2 project: it was designed with safety, real time, embedded, high integrity, long maintenance concerns in mind and is today one of the languages of choice in industries like aerospace, air control, and the like (see e.g. ", " for a nice overview).", "I\u2019m going to work mostly full time on this for the next three months, and assuming it reaches an acceptable level of maturity I intend to continue maintaining it for the foreseeable future, since it will be a tool used internally in our laboratory.", "At the moment there is nothing available (I\u2019m still in the documentation phase) but any progress will be published here: ", "Besides announcing this here for anyone interested, I welcome any pointers, suggestions or experiences on writing a new client library for ROS2 that you may have. I\u2019m reading all I can find out there but if you have some direct advice it will be much appreciated.", "I\u2019m just starting to write an Ada client library for ROS2. The Ada language is a strong fit for the aims of the ROS2 project: it was designed with safety, real time, embedded, high integrity, long maintenance concerns in mind and is today one of the languages of choice in industries like aerospace, air control, and the like (see e.g. here  for a nice overview).", "Wow, that\u2019s really cool. A lot of my former colleagues favored Ada (for avionics project) exactly due to the points you mentioned. They would love to play around with ", " I guess.", "I\u2019m going to work mostly full time on this for the next three months, and assuming it reaches an acceptable level of maturity I intend to continue maintaining it for the foreseeable future, since it will be a tool used internally in our laboratory.", "I would love to have that much free time allowing me to contribute more than I actually do ", "Besides announcing this here for anyone interested, I welcome any pointers, suggestions or experiences on writing a new client library for ROS2 that you may have. I\u2019m reading all I can find out there but if you have some direct advice it will be much appreciated.", "Some time ago I collected some ", ". It was meant for people which never worked with ROS2 before. Anyway probably helpful\u2026", "Some time ago I collected some high level \u201cfinger pointers\u201d in a short list for some probable implementation of a ROS2 client library in D . It was meant for people which never worked with ROS2 before. Anyway probably helpful\u2026", "Thanks a lot, Florian. That sure helps in getting my bearings around.", "As a followup to my original post, and in the wake of the ROS2 Bouncy release, it\u2019s my pleasure to announce that RCLAda has reached its first milestone and is ready for public use.", "RCLAda comes with several examples mimicking the ones in the C++/Python client libs for topics and services. There are also examples of concurrent event processing and custom memory allocators. At this time the API might still change a bit but all critical functionality should be in place for initial testing.", "Currently missing, and the target for the next release, are options for QoS (which for now is always at the default setting) and static type generation of messages (which is currently sidestepped by using the introspection features of ROS2 and Ada typed reference views).", "Check it out at ", "Cheers,", "\n\u00c1lex", "That sounds great! You might want to consider ", " the individual packages into Bouncy to make them available as Debian packages.", "Yup, that\u2019s among the list of pending issues I have ", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ada-client-library-for-ros2/4630"},
{"title": "How can I help with ROS BAG 2 development?", "thread_contents": ["Hey folks I do see there is ", " but wanted to find out more on whats happening there and whether I can help with C++/python if needed. I\u2019m using ROS2 for a project and recording bags using the bridge kinda sucks.", "Thanks!", "Going to close this post since it looks like discussion is over here: ", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/how-can-i-help-with-ros-bag-2-development/5168"},
{"title": "R2B3 Windows - Failed to create process - Installation Test", "thread_contents": ["Just some notes for others on my resolved R2B3 Windows install issues.  I followed the installation procedures for Windows Binary Release - ", ".", "After install, running c:\\dev\\ros2\\local_setup.bat failed and reported that it couldn\u2019t find a file.  Turns out it expects python to be in c:\\Python36, when it was actually installed in c:\\program files\\python36.   The path is hard coded in the root local_setup.bat, where you must change it to the correct install directory.", "Running the local_setup.bat now works, feeling pretty good, until I tried to run the demo_nodes example. Immediately fails with \u201cFailed to create process\u201d.   ", ".  I spent way too much time figuring that one out\u2026", "One quick test:  after running local_setup.bat, if you just try to run ros2 with no args, and it reports \u201cFailed to create process\u201d, it\u2019s most likely due to a space in the python path.", "I\u2019ve just followed the ", " and also got the ", " error. Turned out that choco installed Python 3.7, and as mentioned above, ros2 is expecting 3.6", "I downgraded to 3.6.5, but I now get this error:", "Note: Duplicate Post: ", " You comment has nothing to do with the original post. Please post this in a separate thread. For questions like this we recommend to ask a question on ", " instead.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", "\n", "\n", "\n"], "url": "https://discourse.ros.org/t/r2b3-windows-failed-to-create-process-installation-test/2896"},
{"title": "Callback Args in ROS2", "thread_contents": ["Hey All,", "I was curious as to whether or not ", " were going to make their way into ROS 2? If not, out of curiosity, what is the justification and are there any alternative solutions?", "Thanks in advance.", "There\u2019s no reason it could not be in ", ". In C++, you\u2019d probably just use a lambda or ", " to accomplish this, but for convenience it could also be in ", " as well.", "I would file a feature request issue on ", " and/or ", " and consider doing a pr after getting feedback on the approach.", "Thanks for the feedback and sorry for the delayed response. I haven\u2019t filed a feature request yet but I did find a temporary fix. I was able to get similar functionality utilizing ", ".", "For example:", "Yeah, that\u2019s a proper solution, similar to using a ", " or ", " in C++. We\u2019d only provide a similar interface in ", " as a convenience, but it\u2019s not necessary at all.", "I\u2019d vote for implementing it, at least in rclpy. I like to think of Python as a more beginner friendly interface many times.", " thanks for your response anyways!", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/callback-args-in-ros2/4727"},
{"title": "ROS2 command not recognized on MAC after installation", "thread_contents": ["Hi", "I have installed ROS Bouncy on MAC as indicated in the installation tutorial", "However, after finishing everything ros2 command is still not recognized.", "\nThis is a screenshot.", "\n", "I have sourced the ROS 2 setup file:", "\n. ~/ros2_install/ros2-osx/setup.bash", "I just skipped openslice and context support because I understood that eProsima\u2019s Fast RTPS comes by default.", "Did I miss something?", "Thanks", "\nAnis", "I solved the problem by adding this command to .bash_profile", ". ~/ros2_install/ros2-osx/setup.bash", "Glad you figured it out!", "However we ask that you please ask questions on ", " following our support guidelines: ", "ROS Discourse is for news and general interest discussions. ROS Answers provides a forum which can be filtered by tags to make sure the relevant people can find and/or answer the question, and not overload everyone with hundreds of posts.", "Thanks!", "OK, thanks for the note, I missed that!", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-command-not-recognized-on-mac-after-installation/5422"},
{"title": "ROS 2 docker images revamp, purging old images on 2018-08-06", "thread_contents": ["Greetings ROS 2 users!", "In an effort to improve consistency between ROS 1 and ROS 2 docker images, we now have ", ", ", " and ", " \u201cmetapackages\u201d in ROS 2 (Bouncy and Ardent).", "As a result the ROS 2 docker images are now named as follows:", "We are planning on purging the previous images on Monday 2018-08-06.", "\nThis will result in the following:", "Full list of images that will be deleted:", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["ROS 2 beta images (r2b2, r2b3) will not be available anymore", "Ardent and Bouncy images will only be available with the new names listed above."], "url": "https://discourse.ros.org/t/ros-2-docker-images-revamp-purging-old-images-on-2018-08-06/5556"},
{"title": "ROS2 How To: New course on ROS2", "thread_contents": ["Hi,", "I am pleased to announce my new course on ROS2 on Udemy entitled", "\n", "To the best of my knowledge this is the first and only comprehensive course on ROS2.", "The objectives of this course are as follow:", "At the end of the course, you will able to:", "You can enroll to the course with a special discount for 48-hours using this link", "\n", "The course requires to have background on ROS1. For new ROS users with no background on ROS1, they may take the other introductory course on ROS1", "\n", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["First, I explain the design concepts of ROS2 and how to develop projects with it.", "Second, I aim at clarifying the differences between ROS1 and ROS2 (the code explanation will compare between the code written in ROS1 and that for ROS2 in both C++ and Python).", "Third, the course also intends to provide a comprehensive coverage of ROS2 ecosystem, and will demonstrate how to create a ROS2 workspace, ROS2 packages for C++ and Python, and discussed in details implementation aspects of ROS2 topics, and services.", "Recognize the features of ROS2 (DDS, design, \u2026)", "Install ROS2 (Bouncy) on Ubuntu (Debian) and Mac-OS", "Create a workspace in ROS2", "Create ROS2 packages for C++ and Python", "Develop ROS2 programs using topics and services in C++ and Python", "Understand how to deal with the documentation of ROS2", "Recognize the difference between ROS1 and ROS2"], "url": "https://discourse.ros.org/t/ros2-how-to-new-course-on-ros2/5568"},
{"title": "ROS 2 IDS (\"Intrusion\" Detection System)", "thread_contents": ["This is a living document for the ROS 2.0 \u201cIntrusion\u201d Detection System development effort supported by TARDEC in Warren, MI and Carnegie Mellon\u2019s SEI Emerging Technology Center in Pittsburgh, PA.", "This project is a research project to attempt to create a holistic anomaly detection in ROS 2.0 that can detect and alert the operator of node failures, system degradation, faulty system states, irregular behavior, and more. The ideal IDS would monitor all systems, nodes, and services on the ROS 2.0 platform and perform detection, real-time learning, and alerts accordingly. One of the main goals of this project is to see what ROS 2.0 is lacking/limiting in in order to guide development of ROS 2.0.", "DISTRIBUTION A. Approved for public release: distribution unlimited.", "Hi Ritwik,", "Was there any more progress made on this?", "I\u2019ve done a research project of my own building a learning-based anomaly detector for industrial ROS applications. We have called it the ROS ADM (Anomaly Detector Module). Feel free to give it a try. I\u2019ve created the package, but am still in the process of filling in the README. Here is the ", ".", "Just a couple thoughts on it. While it was built for industrial applications, I think it can be extrapolated to other ROS applications. This should be the focus moving forward. There are some limitations to the ADM, and I\u2019ll address them in the README.", "\nIt was built for ROS 1, but possible to re-build it for ROS 2. I am continuing to gain understanding of ROS 2, and I\u2019m hoping the ADM project can help with the formulation of an IDS.", "Best wishes,", "\nVedanth", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["TODO", "TODO", "TODO", "Ritwik Gupta - Carnegie Mellon (rgupta at sei dot cmu dot edu)"], "url": "https://discourse.ros.org/t/ros-2-ids-intrusion-detection-system/4246"},
{"title": "Workaround for rosdep update timeout issue", "thread_contents": ["While new setup ros2 environment on Ubuntu 18.04, I have blocked by rosdep update.", "\nTry dozens of times, \u201crosdep update\u201d still timeout.", "Here is workaround by using python3_rosdep and Increasing timeout value.", "sudo apt install python3_rosdep", "Modify  /usr/lib/python3/dist-packages/rosdep2/", "\nsources_list.py", "\n\u201c- DOWNLOAD_TIMEOUT=15.0\u201d", "\n\u201c+ DOWNLOAD_TIMEOUT=600.0\u201d", "gbpdistro_support.py", "\n\u201c- DOWNLOAD_TIMEOUT=15.0\u201d", "\n\u201c+ DOWNLOAD_TIMEOUT=600.0\u201d", "rep3.py", "\n\u201c- DOWNLOAD_TIMEOUT=15.0\u201d", "\n\u201c+ DOWNLOAD_TIMEOUT=600.0\u201d", "After this change, rosdep update succeed rate will be a little more better.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/workaround-for-rosdep-update-timeout-issue/5625"},
{"title": "ROS2 Navigation Working Group Kick-off", "thread_contents": ["All,", "\nIf you\u2019re interested in our ROS2 Navigation plans and status, we\u2019re going to start a regular working group to discuss.", "Our first WG will be this Thursday, 8/2/18, at 8am Pacific time. If you are interested in joining, message me with your email and I\u2019ll send you an invite.", "Thanks,", "\nMatt", "Update - due to a conflict, I have to move this meeting to 7am Pacific time, still on Thursday 8/2. If you\u2019re interested, message me with your email address.", "Matt", "Will you guys publish your meeting minutes each time after the meeting ? It benefits the community to get aware of what\u2019s going on, thanks !", "Thanks to everyone who attended the first WG, overall it was a success. There is obviously a lot of work to be done, and we\u2019ll meet again in a few weeks.", "If you replied to me and didn\u2019t get an invite, I apologize, I didn\u2019t see some replies until after the meeting. Next time I\u2019ll try to create an event with a link that is public so anyone can join.", "The presentation slides - Navigation 2 Overview, are being pushed to our Github repo: ", "Feel free to file issues there for anything you want addressed.", "Thanks again,", "\nMatt", "All, here were the notes captured from the first meeting (thanks to ", "):", "\nNext time I\u2019ll try to be more organized. ", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Michael Ferguson\n", "Comment: Task dispatch engine: make this a separate library?\n", "Possibly, if it makes sense. Our first release will probably have it integrated", "\n", "\n", "Should implement continuous re-planning in the navigation node", "ROS2: compress these modules into same process?", "Warning: Environmental model across many processes could be performance issue\n", "Huge state machine graphs floating around\n", "Could we solve with local caching?", "\n", "Questions\n", "Porting A* and DWA or re-implementing?\n", "Mostly porting, with some refactoring", "\n", "Add some unit tests?\n", "Yes, we plan to have unit tests, integration tests and system tests", "\n", "Working on a branch, review upon integration into master?\n", "Yes we will integrate into master, branch is for temporary / work in progress code", "\n", "Timeline?\n", "December 14th (Dirk mentioned Crystal release)", "\n", "Fully working system?\n", "At least basic move to pose functionality, with collaterals", "\n", "Default platform?\n", "Turtlebot3", "\n", "\n", "\n", "David Lu\n", "Sharing of resources - reason for putting everything in one process, one node for move base", "Have to pass entire cost map - could be performance limiter", "Part of the reason to combine it was performance-related", "Overall trade-off between ability control things vs. ability to be modular", "Would we be better off (nav core) not having the cost map object not managed at the high level", "Planner tracking its own cost map", "What you lose is ability to call specific recoveries", "3D version of DWA", "\n", "Adam Duncan (Amazon)\n", "Anything in ROS2 design; fundamentally aren\u2019t achievable in ROS2?\n", "Answer - no, we believe this all is possible when Actions are implemented", "\n", "\n", "Any core components missing on ROS2\n", "Tf2 message filter", "Actions", "\n", "Ray Cole (Amazon, lead engineer on internal team, ROS)\n", "Performance: areas to try to test? Use cases, data flow.", "Something to do early on", "Introspection into what\u2019s going on?  Management console.", "Errors, invalid states", "Productized", "\n", "Tom Moore\n", "No comments", "\n", "Wei Zhi Liu\n", "No comments", "\n", "Dirk Thomas\n", "Overhead between processes\n", "Could put upper cap on cross-language capability", "Could incur high run-time cost", "Could stay within same language, build into shared libraries", "\n", "\n", "Shivang Tripathi\n", "No comments", "\n", "Steve\n", "No comments", "\n", "Doug (Amazon)\n", "No comments", "\n"], "url": "https://discourse.ros.org/t/ros2-navigation-working-group-kick-off/5559"},
{"title": "Explicitly Constraining Which Network Interfaces Are Used", "thread_contents": ["In raw dds, specifically for coredx, there is a way to give an interfaces list to the domain participant so that it will only talk on those network interfaces. Is there a way to use that through ros2?", "Nathan,", "\nYou might want to ask this on ", ", I think.", "Matt", "Thanks Matt. I asked it there as well.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/explicitly-constraining-which-network-interfaces-are-used/5652"},
{"title": "Image and PointCloud2 performance issue on ROS2 python", "thread_contents": ["When I try to use big data message by python code such as Camera Image or PointCloud2 on ROS2, I found the performance is terrible.", "Problem:", "Issue1: Execute \u201cros2 topic echo /topic_pointcloud\u201d, no message output -> ", "\nDescription: Launch ", " by realsense_ros2_camera, and subscribe \u201c/camera/depth/color/points\u201d by \u201cros2 topic echo /camera/depth/color/points\u201d. It will cost dozens of seconds to print out the PointCloud2 (640x480) data. On ros 1, rostopic shows data immediately.", "Issue2: Python sub-pub big data performance is worse that CPP - ", "\nDescription: Subscribe \u201c/camera/depth/color/points(sensor_msgs::msgs::PointCloud2)\u201d  by both cpp subscribe api and python subscribe code, the fps is different. cpp-code is 4hz, but python-code only 0.4hz.", "Debugging point to the time exhaust in the function convert_to_py while convert msg to python, in ", ":2261", "Is there any idea to fix Camera message computation performance issue?", "\nIssue1: Fixed by ", "\nIssue2: Workaround by \u201cexport PYTHONOPTIMIZE=0\u201d", "It\u2019s usually problem for ROS1. In ROS1 there is ECL package helping to address it: ", ". In essence problem is solved by using shared memory to pass big data between processes instead of standard ROS pub/sub pipe.", "I thought for ROS2 it should not be a problem, because ROS2 was created specifically to solve this particular and other ROS1 problems. If issue remains in ROS2, I\u2019d try to use same approach as ROS1 and pass Images and PClouds through shared memory.", "Update debugging status:", "\nI have wrote test code ", " to publish full-length PointCloud2 on topic /rttest_sample. the result is:", "\nSet data size as 64x48, \u201cros2 topic echo /rttest_sample\u201d works.", "\nSet data size as 640x48, \u201cros2 topic echo /rttest_sample\u201d cost ~10s.", "\nSet data size as 640x480, \u201cros2 topic echo /rttest_sample\u201d cost more than 60s.", "While I use ros1_bridge and echo the same(ros2) topic in ros1, it works well with 640x480.", "\ndebugging point to code:", "[INFO] [rcl]: Initializing wait set with \u20180\u2019 subscriptions, \u20182\u2019 guard conditions, \u20180\u2019 timers, \u20180\u2019 clients, \u20180\u2019 services", "\ntimeout = -1", "\n[INFO] [rcl]: Waiting without timeout", "\n[INFO] [rcl]: Timeout calculated based on next scheduled timer: false", "\n", "\nrmw_ret_t ret = rmw_wait(", "\n&wait_set->impl->rmw_subscriptions,", "\n&wait_set->impl->rmw_guard_conditions,", "\n&wait_set->impl->rmw_services,", "\n&wait_set->impl->rmw_clients,", "\nwait_set->impl->rmw_wait_set,", "\ntimeout_argument);", "Don\u2019t know why rmw_wait cost so much time.", "There seems to be at least one other user for whom PointCloud2 transmission is much worse on ROS2 compared to ROS1:", "I guess this will be fixed at some point?", " We performance_tested all sort of small and large data here and got latencies ~20ms for 2MB PointCloud2 messages: ", ".", "What I think is happening is that you are trying to publish  PointCloud2 data with the default QoS settings (", ") which are set to reliable and volatile.", " command is using sensor QoS (", ") which are best effort.", "I would suggest to use sensor QoS in your publisher (see example ", ").", "Otherwise it does not make much sense to print PointCloud2 messages to a console.", "For performance testing I would otherwise suggest you to use this tool: ", ".", "D.", " ", " appreciate for sharing your experiences, that would be very useful for us.", "It looks like there were several different issues discussed here.", "The ros2 topic issue seems to be a bug in the truncation of the output and printing to console is taking a very long time. This should be addressed by ", "The issue difference of FPS between C++ and Python that can be addressed by running the python interpreter in optimized mode: setting the environment variable ", " or passing ", " to the python invocation. (related ROS answers post ", ")", "HTH,", "\nThanks for your comments, I have just updated the issue status, here is only one issue left that why python is much slower than CPP to subscribe PointCloud2 msg, I will try PYTHONOPTIMIZE to verify.", " Just verified, after set PYTHONOPTIMIZE", "export PYTHONOPTIMIZE=0", "The FPS of python code increased, the result is very close with C++.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", "\n", "\n", "\n"], "url": "https://discourse.ros.org/t/image-and-pointcloud2-performance-issue-on-ros2-python/5391"},
{"title": "\"rostopic\" command for ROS2?", "thread_contents": ["Dear developers and users of ROS2,", "here is another \u201cnaive\u201d question from me:", "Is there already some tools or APIs that can help me see the currently active Topics in an existing ROS2 network? Something like the ", " command in ROS1?", "thanks for any answer!", "Is there already some tools or APIs that can help me see the currently active Topics in an existing ROS2 network?", "Yes, ", ". All command line tools are provided through ", ".", "There is also a sample in the wiki about ros2 command line tools. Maybe you will find this useful:", "ros2 topic supported commands with echo/info/list/pub, while compare with rostopic, there is no bw/delay/hz/type supported by ros2 topic, is there any plan to enable those enhance commands?", "there is no bw/delay/hz/type supported by ros2 topic, is there any plan to enable those enhance commands?", "Afaik currently nobody works on these. We often implement verb on demand. Please consider contributing them through a pull request if they are of immediate use to you. The ROS 1 code is usually a good starting point in terms of command line options and overall structure / functionality.", "Afaik currently nobody works on these. We often implement verb on demand.", "Is there a big table somewhere of feature support between ROS and ROS2 tooling?", "Is there a big table somewhere of feature support between ROS and ROS2 tooling?", "Not that I know of. Since the available features will also change quickly over time it would be quite some effort to keep this page up-to-date.", "I am going to port \u201chz/delay/bw\u201d from ROS topic to ROS2. Issue reported ", ".", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/rostopic-command-for-ros2/2565"},
{"title": "Mapping between rospy and rclpy", "thread_contents": ["I am attempting to migrate join_state_publisher package from ROS 1 to ROS 2 and trying to find equivalent API. For example", "If it\u2019s not defined in ", " then it\u2019s probably not defined anywhere. I don\u2019t know off the top of my head where this was being used in ", ", but it may make sense to have it in ", " and it simply hasn\u2019t been ported yet. It might be connected to the init/shutdown or rate features that are still missing.", "It is missing, but those issues I don\u2019t think are the best connection to that feature. I\u2019d say:", "Which is being worked on now:", "rospy.Rate() is missing which I do guess will covered here: ", " Any alternative?", "Yes, that issue specifically mentions ", " and ", " concepts, which are dependent on finishing the \u201cROS Time\u201d implementation in ", ".", "Does rospy.is_shutdown seems to have been removed in rclp. How do we check for shutdown? Can we use rclpy.try_shutdown()?", "It\u2019s not been explicitly removed as far as I know, it just hasn\u2019t been implemented yet. You could use ", " to test, but if you only wanted to test you\u2019d be out of luck since the side-effect would be a shutdown in many cases. This feature is captured in this issue (in my opinion):", "Which it seems you\u2019ve already found and offered to help (thanks!).", "Thanks for answers ", ".  I created issue for missing exceptions here: ", ".", "I can get that covered as part of ", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["rospy has Exceptions like ROSInterruptException. I do not find an equivalent exception to use from rclpy. Is there some other package which defines these?", "rospy.get_param is missing in rclpy. Will this be covered as part of this - ", "? Also, what is the alternative for this till then? Can I use the example in ", " ?", "rospy.Rate() is missing which I do guess will covered here: ", "\u2026 Any alternative?", "Does rospy.is_shutdown seems to have been removed in rclp. How do we check for shutdown? Can we use rclpy.try_shutdown()?", "rospy has Exceptions like ROSInterruptException. I do not find an equivalent exception to use from rclpy. Is there some other package which defines these?", "rospy.get_param is missing in rclpy. Will this be covered as part of this - ", "? Also, what is the alternative for this till then? Can I use the example in ", " ?"], "url": "https://discourse.ros.org/t/mapping-between-rospy-and-rclpy/5737"},
{"title": "Status of actions in ROS2", "thread_contents": ["I\u2019m trying to migrate ", " from ROS to ROS2. It lists actionlib as a dependency. From ", " thread it looks like there has been some initial work on actions in ROS2. But it doesn\u2019t look like a repo has been started.", "Does anyone know what the status of actions are in ROS2?", "There are a few of us trying to get going on actions in ROS2. It\u2019s blocking the new navstack work as well so we need to get it done. The design pages pull request is here:", "Many of us are resource-constrained for implementation, though. If you have time to help out implementing prototypes, I think it would be very welcome.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/status-of-actions-in-ros2/5765"},
{"title": "Syncronized callbacks in ROS2", "thread_contents": ["Hello,", "\nwhile playing with the beta wanted to create a callback on two topics.", "\nIn ROS it is possible through the message_filters package e.g.", "message_filters::Subscriber image1_sub(nh, \u201cimage1\u201d, 1);", "\nmessage_filters::Subscriber image2_sub(nh, \u201cimage2\u201d, 1);", "\nTimeSynchronizer<Image, Image> sync(image1_sub, image2_sub, 10);", "\nsync.registerCallback(boost::bind(&callback, _1, _2));", "i don\u2019t know if this is possible in ROS2 yet? I couldn\u2019t find anything in the demos.", "That\u2019s one of the parts that hasn\u2019t been ported/migrated to ROS2 yet.  It\u2019s definitely in the cards, we just haven\u2019t had time to do it.  If you are up for it, contributions are welcome.", "I just happened to see this thread while trying to find out ROS2 message filter solution.", "\n", ", I saw the ros_astra_camera project code, and have one question.", "\nIs the file astra_camera_nodelet.cpp used ?", ", if I want to do the porting job, which branch should be my start point?", "thank you", "\nPeter Han", " usually we do a port on a branch, then PR into ", ".", "If you are porting, do keep in mind that some of the changes can be upstreamed, so they should be done in separate commits (", " migration, ", " migration, de-boostifying, etc) and a PR likely filed upstream so that the ROS1 side of things can be improved.", " Thank you for you kindly reminders.", "\nI\u2019m afraid I didn\u2019t put my question clear.", "\nLet me take message_filters as an example, if I want to port message_filters to ROS2, which branch I should forked from the ros_comm project. lunar_devel or kinetic_devel or some else, as there are too much branch.", "Regards,", "\nPeter Han", "I would recommend to always fork from the latest branch.", "For message_filter porting, what\u2019s the recommend approach, creating a new repo in ", " or put it under a existing repo?", "For message_filter porting, what\u2019s the recommend approach, creating a new repo in ", " or put it under a existing repo?", "Keeping it together with the existing ROS package i certainly preferred.", "In the future we hope that a single code base using the same branch will be able to support both ROS versions.", "In the future we hope that a single code base using the same branch will be able to support both ROS versions.", "That would be wonderful!", "Are there any preliminary design notes suggesting how that could be done?", "Are there any preliminary design notes suggesting how that could be done?", " addresses the blocker of package manifests being able to declare separate ROS 1 and ROS 2 dependencies.", "From a technical point of view it is then possible to have a ROS package using a single branch. The CMake logic can be made conditional based on the ROS version (the ROS 1 part using ", ", the ROS 2 part using ", "). And the source code needs to distinguish between the ROS versions using whatever approach preferred (based on preprocessor definitions and/or conditional includes in C++, conditional imports in Python).", "Of course anything which reduces differences between the ROS versions makes this more convenient and requires less conditional logic, e.g. typedefs, API shims, etc. On the other hand if a ROS package would like to use features from ROS 2 which aren\u2019t available in ROS 1 (e.g. multiple nodes in a single executable) than the code will need to be different for that.", "I like to see ament support in ROS 1.", "In code I have seen, that could significantly reduce the diffs. For example, consider the diffs between the ", " and ", " branches of the simple ", ".", "I like to see ament support in ROS 1.", "In code I have seen, that could significantly reduce the diffs. For example, consider the diffs between the master and ros2 branches of the simple unique_identifier packages.", "I agree with you that this would be great to have. But supporting ", " in ROS 1 implies a tremendous effort which we are not sure atm we can and want to spend. There is no technical reason not to do it - only a problem of available resource. This \u201cfeature\u201d could also be contributed by the community which makes it less \u201cnecessary\u201d that OSRF is spending its sparse resources on.", "As mentioned above with REP 149 implemented you should be able to avoid that part of the diff and maintain the CMake code on a single branch. The CMake would have two sections - one using ", " and one using ", ". You can use common programming language feature to try to deduplicate e.g the list of source files, targets, etc.", "I like to see ament support in ROS 1.", "In code I have seen, that could significantly reduce the diffs. For example, consider the diffs between the master and ros2 branches of the simple unique_identifier packages.", "I agree with you that this would be great to have. But supporting ", " in ROS 1 implies a tremendous effort which we are not sure atm we can and want to spend. There is no technical reason not to do it - only a problem of available resource. This \u201cfeature\u201d could also be contributed by the community which makes it less \u201cnecessary\u201d that OSRF is spending its sparse resources on.", "This is off-topic, but: I haven\u2019t been paying attention to ", " too much. Could you briefly describe what would be needed to get it to work with ROS1 (ie: what would the \u201ctremendous effort\u201d entail exactly)?", "Could you briefly describe what would be needed to get it to work with ROS1 (ie: what would the \u201ctremendous effort\u201d entail exactly)?", "Beside releasing the packages into ROS 1 the build tools will likely need to be updated to support the way ", " generates the package specific setup files. That should be not too much effort though.", "I am mostly referring to writing documentation, updating tutorials, writing a migration guide for ROS 1, etc. That effort will in my opinion exceed any \u201cprogramming\u201d part by a lot.", "I am mostly referring to writing documentation, updating tutorials, writing a migration guide for ROS 1, etc. That effort will in my opinion exceed any \u201cprogramming\u201d part by a lot.", "If we had a working ROS 1 version to try out, I believe the community would probably help with those kinds of documentation.", "I\u2019m actually a big proponent of the idea to backport ament to ROS 1 (and maybe even some ament features to catkin), because I think it lets people take a step toward ROS 2 without jumping in with both feet while simultaneously gaining some benefits (assumption is ament is better than catkin, which I do believe). Also, it lets developers more easily support ROS 1 and ROS 2 at the same time (same branch). This is especially attractive for packages which are mostly ROS agnostic, e.g. ", " or the new ", " package.", "I don\u2019t want to hijack the thread, but just to expand on what ", " said, I collected a list of things that would need to be addressed a while back:", "Dirk, I am not sure I understand your point. So, if I\u2019d like port message_filter which is originally in ", ", you mean create a ros2 branch in ros_comm or create a directory under an existing ROS2 repo such as rclutils?", "Actually, ros_comm ROS package include some other stuffs, e.g client libraries and introspect tools which were already into ROS2, under different repos.  However , message_filter which is under ros_comm/message_filter have not ported yet. Can you point the direction more clearly how to port message_filter from ros_comm/message_filter to ros2, which repo should it stay? thanks.", " ", " is certainly not a simple case for migration. The location in ", " with the various other packages makes it more challenging to maintain a ", " branch. A separation of that repository into smaller repo is certainly desired but would require a significant amount of effort.", "Currently a separate branch or fork is required since we can\u2019t support both ROS versions from a single code base yet. In the (near) future the goal is to make that possible though. As soon as that is the case I would prefer to merge any ROS 2 specific patches directly into the default branch and aim to minimize conditional code as much as possible.", " yes, location of message_filter make it a challenging case for migration. As you said, split it out from ros_comm and into a small repo require significant effort, so you prefer to separate a branch/fork on ros_comm, right? In new branch, I try make message_filter support both ros version with some conditional code? how I handle other packages, keep them intact?", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["support building packages with the ", " of ", " (", " and ", ")\n", "make the ", " files (which are installed to the install folder\u2019s root) source both catkin and ament setup files and environment hooks (currently only handles catkin stuff)", "address conflicts which may occur when ", " uses Python3, but the ROS 1 packages and the build tool in ROS 1 (", " or ", ") uses Python2", "\n", "release all packages in the ", ", ", ", and possibly ", " repositories", "deal with ", " versus ", "\n", "for details about ", " see: ", "\n", "not sure what needs to be done here, maybe just add ament packages to the ", "\n", "otherwise support would be needed in ", ", ", ", and ", " (maybe other places) for the ", " too or some other solution", "\n", "consolidate ", " and ", "\n", "not strictly needed, but would prevent us from having two implementations of ", " parsing", "\n", "deal with any issue that arise and update documentation so people are aware of the changes"], "url": "https://discourse.ros.org/t/syncronized-callbacks-in-ros2/2015"},
{"title": "ROS2 Package Migration: Replacement for CallbackQueueInterface", "thread_contents": ["I am looking at porting tf2_ros/include/message_filter.h from ROS1 to ROS2 (see issue: ", ").", "The existing tf2 message_filter.h relies on using the CallbackQueueInterface in order to enqueue messages that it receives before they are sent on to subsequent filters/callbacks. It appears that ROS2 has changed the concept of a node have a single CallbackQueue to a node having multiple CallbackGroups that can have different thread locking mechanisms. This makes sense, but it is unclear to me how I can use a CallbackGroup instance to add a callback event to be processed. Are callback groups the proper way to handle this in ROS2 or is there a different mechanism that should be used to decouple two filters in a chain from being run in the same thread context? If CallbackGroups are the proper way to do this then how do you actually add a Callback to the group in order for it to be processed?", "Thanks,", "\nNick", "If anyone runs into this I\u2019ve answered this question at: ", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-package-migration-replacement-for-callbackqueueinterface/5751"},
{"title": "Non-DDS-based RMW implementation", "thread_contents": ["This is to announce what we believe is the first ROS2 RMW implementation that is not based on RTPS or DDS, you can find it here ", "  It runs over Intel\u2019s Distributed Pub/Sub protocol for IoT (imaginatively named DPS-for-IoT)  ", "  Full documentation for the DPS protocol and APIs is here ", "The base protocol is largely complete but we are working on some QoS features needed by ROS2. The package has been tested on Bouncy on Ubuntu 18.04 and Windows 10.  Most of the ROS2 test cases are currently passing.  The RMW implementation uses CBOR for payload serialization and the DPS API has a handy JSON translator. Without saying if this is a good or bad thing, this makes is easy to send or receive ROS2 messages without actually running any ROS2 code.", "We welcome community participation and contributions to either the RMW or DPS code bases.", "  It\u2019s awesome for your work, but before digging deeply to the Intel DPS, could you please brief what\u2019s the essential difference between Intel DPS and DDS ? Especially the advantage/use cases over DDS or it\u2019s merely another counterpart of DDS for ROS2 ?", "\nGenerally speaking, I personally think that it will be pretty interesting if it can bring ROS2 robotics to another level from IoT perspective, but not sure whether it\u2019s the case. Thanks !", "what we believe is the first ROS2 RMW implementation that is not based on RTPS or DDS,", " on the release, but there are at least two non-DDS based RMW implementations \u2018out there\u2019 already: an OPC-UA one (presented at the ", ") and one using NDN (", ").", "Probably not as polished as ", ", but they were \u2018frist\u2019 ", "Thank you for pointing this out, I stand corrected about being the \u201cfirst\u201d non-DDS implementation.", "Greg.", "This is covered in the wiki but some of the high-level features are:", "Full-distributed (no broker)", "Built-in security \u2013 messages are authenticates and encrypted end-to-end (node-to-node)", "Publications and subscriptions can have multiple topic strings (subs only match if all required topics are present)", "MQTT-like wild-card matching (+ and #)", "MQTT-like retained messages, but with TTL", "Forms mesh overlay network with hop-by-hop routing based on subscriptions", "Automatic subnet bridging- container and virtual network friendly", "Supports UDP multicast and unicast", "Built-in support for RPC", "Built-in support for data series", "Simple protocol designed to be implementable on MCU\u2019s", "Protocol itself is payload agnostic", "Not all of these features are currently exploited in the RMW layer.", "Regardless of who got there first, it\u2019s great to see these different RMW implementations coming into existence! It offers encouragement that the design decision in ROS 2 to develop and adhere to the RMW abstraction layer was a good one. No matter how effective DDS (RTPS) is for some domains, there are going to be applications where other middleware backends are a better fit and now we can accommodate those needs without changing the ROS 2 code on top.", "Built-in security \u2013 messages are authenticates and encrypted end-to-end (node-to-node)", "I went reading through the DPS docs and was concerned that the security section made no mention of a access control (like with DDS\u2019s specification):", "I then spotted a brief subsection in the tutorials page about adding support for access control by interjecting custom policy functionality that could operate on the context of the connection, be it subscription, publication or acknowledgement control:", "While that seems like a good start, I\u2019d like to see a default plugin that could be shared among client libraries to maintain interoperability. I fear leaving everyone to writing their own Policy Enforcement Point (PEP) and/or Policy Decision Point (PDP) could lead to inconsistencies in interpretation and enforcement of access control implementations.", "Good points on the policy aspects of DPS, would you mind starting the discussion by creating an issue at ", "?  That will be the best way to track future work.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/non-dds-based-rmw-implementation/5890"},
{"title": "ROS1 shim library development proposal", "thread_contents": ["In ", " with ", " & ", " the idea of making a ", " to transparently have ROS1 API call ROS2 API underneath.", "I\u2019m starting the thread so we can discuss how doable this is and what are the limitations we will find (given that ROS2 structure does not exactly match ROS1).", "I think the aim would be to have both a C++ and a Python shim, I\u2019m up for doing work on the Python part (which I\u2019m way more familiar with).", "In Python a few dirty monkey-patching tricks on rospy may get something working relatively quickly without doing a full rospy client shim.", "I don\u2019t know what could be the approach to minimize or straight away remove the need to touch code on the C++ side.", "I guess all the stuff that needs to be shimmed is:", "I think actionlib, dynamic reconfigure, TF, etc all build upon those so most stuff should work.", "The option of modifying roscpp and rospy is likely faster and more backwards compatible. It might also help with the other maintenance efforts on ROS1.", "That said, if we could eventually transition to something built on top of rcl, it would allow is to get rid of the legacy codebase.", "Steps for roscpp, with several design choices to make that also apply to rospy.", "For hacking the old codebase, we need a rosgraph replacement as well, to get the info about the system. It might be a good start to have a rosmaster node, maybe based on the ROS2 info server (not sure what that\u2019s called right now). In a later step, we could replace the roscpp graph calls with queries of the rmw info directly. Or maybe it would be easier to do that right away, that would be something look at.", "rostime and rosconsole I would have to look at in l more detail.", "In roscpp, the transport is already pluggable, so it \u201cshould\u201d be straightforward to replace with rmw.", "Topics and services are a fairly small layer above that, maybe we can even reuse the existing ones.", "Parameters live in the node in ROS2, which is not a big issue in itself, but we would also need to provide the parameter node interface. Or we could support the old parameter server in the master, which would again be more backwards compatible but is a break from how ROS2, particularly its launch system does it", "ROS2 node interfaces are required for full integration with ROS2. We have a port of the ROS2 lifecycle to ROS1 already, which could be used to build the lifecycle interface. Not sure about the rest.", "Btw, all that\u2019s just of the top of my head right now, because I\u2019m traveling with bad Internet access and can only email irregularly. As well as having family things to do ", " Expect more interaction starting from 10th of September.", "However, bouncing around some of the design questions should be possible. I\u2019ll try my best.", "Cheers, Ingo", "It\u2019s old, out of date, and full of dragons, but ", " and I did some experimental hacking on a ROS 1 shim a couple of years ago:", "in theory, this repo will allow compilation of ROS1 code in ROS2 - codebot/ros1_shim", "I can\u2019t recommend building on it, but there it is in case it\u2019s helpful in seeing the direction we were headed. We got a few things working with that approach to shimming.", "I\u2019d like to be clear on the goal here. Is it:", "To be honest I\u2019m not entirely convinced that a shim would increase the speed or ease of adoption of ROS 2. Interoperation is already achieved using the bridge, and maintaining a ROS2-based implementation of ROS1 seems like adding a third thing to maintain without sufficient benefit. The only place I think the shim is a long-term benefit is using legacy ROS 1 code without needing to maintain the complete ROS 1 code base - and I\u2019d still prefer that such code is ported instead.", "Still, if it\u2019s going to happen then I\u2019d like to see it done right. ", "In general, I think it would be easier to take one API at a time and, using just the headers, provide alternative implementations that use ROS 2 facilities instead of the old ROS 1 facilities. In many places suitable defaults for ROS 2 parameters, such as QoS, need to be decided; they need to mimic as close as possible the ROS 1 behaviour.", "For hacking the old codebase, we need a rosgraph replacement as well, to get the info about the system. It might be a good start to have a rosmaster node, maybe based on the ROS2 info server (not sure what that\u2019s called right now). In a later step, we could replace the roscpp graph calls with queries of the rmw info directly. Or maybe it would be easier to do that right away, that would be something look at.", "I think that providing a master implementation using a ROS 2 node works well. The graph info daemon in ROS 2 should provide the information that rosgraph needs.", "rostime and rosconsole I would have to look at in l more detail.", "Logging works a little differently in ROS 2 but the API is I think wrappable in rosconsole\u2019s API. The functionality is close enough.", "Parameters live in the node in ROS2, which is not a big issue in itself, but we would also need to provide the parameter node interface. Or we could support the old parameter server in the master, which would again be more backwards compatible but is a break from how ROS2, particularly its launch system does it", "The ROS1 parameters API would need to be reimplemented to use the ROS2 parameter API but I don\u2019t think that would be too difficult. The more difficult part is deciding how to provide the ROS1-style behaviour. I think it would be relatively trivial to recreate the parameter server using a ROS2 node and have the shimmed ", " launch that node instead of the old parameter server.", "ROS2 node interfaces are required for full integration with ROS2. We have a port of the ROS2 lifecycle to ROS1 already, which could be used to build the lifecycle interface. Not sure about the rest.", "A ROS 1 node doesn\u2019t ", " a life cycle. This is starting to get into \u201cturn ROS 1 nodes into ROS 2 nodes\u201d territory, which means adding new APIs to ROS 1. I don\u2019t think that is a useful goal. If someone wants their ROS 1 code to operate on top of the ROS 2 code base and benefit from all the useful features of ROS 2, they should port it to ROS 2. Otherwise the shim will contribute to keeping the community split across two separate APIs rather than on a path to eventually converging on ROS 2. The shim should be limited only to mimicing existing ROS 1 behaviour using ROS 2 as the underlying middleware.", "Hi Geoff,", "Good questions. Short term, I have two issues I\u2019d like to solve: 1) The ROS1 middleware has no security, and is therefore problematic in products. Many other issues I can address on a per-node basis, but security is reallu pervasive. 2) the ROS2 ecosystem lacks some features, particularly in libraries, that ROS1 has.", "Long term, I\u2019d like to have joint community efforts as much as possible. The bridge is problematic in this respect, mostly because of tooling. A shim for using some ROS1 libs is also problematic, but less so, IMO.", "So, I would describe the goal as being able to use a ROS1-API-based node implementation in a ROS2 system as seamlessly as possible, including launching it using launch, etc.", "Where to go from there, e.g. doing a full port, or keeping it like that, I can\u2019t really say right now. I would expect that the advantages of ROS2 eventually lead to a full port. However, the shim gives users much more freedom on when to do so.", "One general comment here: When discussing porting, please do not forget QA. QA for a product is quite different from what many in academia are used to. Porting a full product in one big effort is essentially a no-go, particularly, but not only, for the many applications where only a small number of units are ever sold.", "Thus, a shim that starts from the existing ROS1 libs and their semantics stands a much better chance than reimplementing these APIs based on ROS2. Changing the middleware is enough of an issue as a first step. We can then gradually replace more over time, once we have a better idea of the QA issues.", "Cheers,", "Ingo", "I definitely agree that this is a limitation with an outsized influence. However, I\u2019m interested to hear what you think about why SROS is not sufficient. (I have my own opinions, but I\u2019m not a security expert and want to hear yours.)", "I also agree that many libraries are lacking. It would be nice to see things like MoveIt come to ROS2 rapidly, and as a major library it might do, but there are lots of small libraries that are also useful and are less likely to be ported soon.", "The bridge is problematic in this respect, mostly because of tooling.", "What sort of tooling is the bridge a problem for?", "So, I would describe the goal as being able to use a ROS1-API-based node implementation in a ROS2 system as seamlessly as possible, including launching it using launch, etc.", "\u201cLaunching it using launch\u201d could imply many things, from ", " mimicking the simple process starting of ", " to having a ROS1 node appear to be and behave as a native ROS2 node. I don\u2019t see a problem with the former, but I feel that the latter is going beyond what is necessary. I feel that if a node needs to behave indistinguishably from a ROS 2 node, it should be ported.", "One general comment here: When discussing porting, please do not forget QA. QA for a product is quite different from what many in academia are used to. Porting a full product in one big effort is essentially a no-go, particularly, but not only, for the many applications where only a small number of units are ever sold.", "Thus, a shim that starts from the existing ROS1 libs and their semantics stands a much better chance than reimplementing these APIs based on ROS2. Changing the middleware is enough of an issue as a first step. We can then gradually replace more over time, once we have a better idea of the QA issues.", "I understand the QA concerns of industry. However I disagree that a shim that \u201cstarts from the existing ROS1 libs and their semantics stands a much better chance than reimplementing these APIs based on ROS2\u201d. By replacing the underlying framework with ROS 2 you are making major changes in the behaviour of the node. It\u2019s not just a matter of swapping out the communications middleware, you are also suggesting things like changing the behaviour of a node to meet the ROS 2 semantics via the shim. Interoperation via having the same middleware is one thing, but behaving like a ROS 2 node, which is what is implied by \u201cbeing able to use a ROS1-API-based node implementation in a ROS2 system as seamlessly as possible\u201d involves major changes in the behaviour of the node even though the node\u2019s source itself has not changed. Changes range from how parameters are delivered to how execution of the node is managed. I think the QA effort involved would be less, but not significantly so.", "Nevertheless, I do agree that even if QA is not reduced then re-implementation time is reduced by having a simple shim that provides some level of interoperability between a ROS 1 system and a ROS 2 system without using a bridge, which is a benefit. I just disagree on how far the shim needs to go.", "Good questions. Short term, I have two issues I\u2019d like to solve: 1) The ROS1 middleware has no security, and is therefore problematic in products. Many other issues I can address on a per-node basis, but security is reallu pervasive. 2) the ROS2 ecosystem lacks some features, particularly in libraries, that ROS1 has.", "I don\u2019t know what is the best and most realistic path to achieve them, but I personally think the long term goals are twofold:", "Remember that this thread was started from a call-to-help for maintaining the core ROS1 libraries. In order for the shim to have any impact on that front, it must eventually be able to replace the ROS1 core library implementation with an implementation based on ROS2. This implementation must be able to mimic the behaviour of ROS1 to a very large degree in order to be an acceptable replacement. The users of the shim are those that want to or need to keep using ROS1, for whatever reason. Their node implementations don\u2019t need to change, since the API is unchanged. Only then can maintenance of the current ROS1 implementation be dropped. Until it is complete, there is little benefit for \u201creduced maintenance effort\u201d. I have no idea how realistic this is, but it is a big task that can probably not be called a short-term goal. However, if reducing ROS1 maintenance efforts is a goal, this has to be kept in mind.", "Different from the first point is minimizing the migration effort to use ROS1 libraries in a ROS2 context. The bridge fulfills this need to some degree, but it seems people feel like it is not enough (I can\u2019t comment on that). With ROS2 being largely incompatible, the fear of some people has been that the community is splitting between ROS1 and ROS2 with little synergies between them, and while OSRF is focusing most efforts on ROS2, ROS1 is left behind. Think of all the small libraries and nodes that are available in ROS1, but are very unlikely to be ported to native ROS2, since the effort of porting and maintaining two implementations is just too much. In ROS1 there was even talk of adopting a rolling-release model and there is a team of maintainers just for re-releasing working/useful packages, that are not even being re-released into the latest distro by themselves, so you cannot expect that anyone will re-write the majority of these packages for ROS2. Here the shim would allow these nodes to be compiled and used in a ROS2 context, without any or with very little code changes, ", " (no matter if with the current ROS1 middleware, or with a ROS2-backed version). This way you would hope to channel maintenance efforts for both ROS1 and ROS2 to benefit each other, since they work on the same code base. Again, the semantics are tricky, since from the node\u2019s perspective they has to be largely the same to ensure that it can work as it was written. At the same time you would like good interoperability with native ROS2 nodes, therefore some semantics will probably have to change in some respects when compiling for ROS2. This need will probably be hard to balance.", "I don\u2019t know how realistic either of the two goals really are, but if either or both are not even considered potential mid-/long-term goals, this should be stated from the beginning so expectations of where this is headed don\u2019t get mixed up. If they are considered potential mid-/long-term goals, any short-term effort should ideally aligned with working towards them.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Node creation/management", "ROS time", "ROS console", "Msg & Srv", "Topics", "Services", "Parameters", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "to allow a ROS 1 node to run on top of the ROS 2 code base so that node can be used as-is for ever more?", "to allow a ROS 1 node and a ROS 2 node to interact?", "to allow a node to work seamlessly with pure ROS 1 or on top of the ROS 2 code base depending on how you compile it?", "to provide an easy path to gradually migrate a code base from ROS 1 to ROS 2?", "to make it easier to use legacy, unmaintained ROS 1 nodes without porting them?", "something else?", "all of the above?", "The ROS1 middleware has no security, and is therefore problematic in products. Many other issues I can address on a per-node basis, but security is reallu pervasive.", "the ROS2 ecosystem lacks some features, particularly in libraries, that ROS1 has.", "\n", "\n", "\n", "\n"], "url": "https://discourse.ros.org/t/ros1-shim-library-development-proposal/5873"},
{"title": "ROS2 package RPM building without the top CMakeLists.txt for CMake", "thread_contents": ["Now we can see it has different cases in the ros2 packages which are cloned with the ", ":", "with a top CMakeLists.txt, it works for all, because it is the standard behaviour to CMake, so why not to add a top CMakeLists.txt to organize and propagate the whole building with the subsidiary packages or projects to make it standard ? or once the \u201cNo CMakeLists.txt\u201d error found, there are so many packages to handle for this kind of ROS2 packages.(actually, now I met this kind of error when I try to enable ROS2 with another environment which merely supports to pass source tarball of a project (e.g rcl) to build the package (e.g) as RPM package)", "PS: I know that it also works to wrap the corresponding build environment just like ament/colcon to bypass that kind of \u201cNo CMakeLists.txt\u201d issue, but I\u2019m try to discuss why not make it as the standard way of working for CMake directly, thanks ! ", "Repositories such as ", " are not a single CMake project. They are a collection of related packages and they do not necessarily need or want to be built as a single CMake project. They are designed to be build individually but in the correct order. The build order may be non-trivial, for example, or you might ant to only build one package from a large repository. This is why although you can clone the repository to get all the packages at once, you need to use a tool like ", " to build them. ", " will sort out things like the build order automatically based on information in the ", " file, which often contains information not found in the ", " file. Furthermore, some repositories may have a mix of C/C++ and Python (or other language) packages. It wouldn\u2019t be feasible to insist that these all have a top level ", " file.", "Regarding building multiple packages in a single CMake context the following design doc describes why that is a \u201cbad\u201d idea: ", "Also some ROS 2 packages are not built with CMake at all but are Python packages.", "Thanks for the feedback, so\u2026 if we want to build those ros2 packages as RPM package, we need to wrap a copy of the implementation as what the ", " and ", " implements for ", " in order to enable normal building the source tarball of those ros2 packages given the right run-time environment /dependencies of cmake building process ? ", "\nIs there some possibility to simplify this work or reduce the effort while porting what ament_* packages are doing for rpmbuild ?", "You can use bloom to help with building binary packages.", "And Bloom should already support ", " file generation. That was added for Fedora support of ROS 1.", "And Bloom should already support ", " file generation. That was added for Fedora support of ROS 1.", "The RPM spec file generation doesn\u2019t yet support the build types needed for ROS 2. It was refactored to allow for support to be contributed and I\u2019ll make every effort to review pull requests and provide guidance in that direction. I\u2019m not familiar enough with the RPM generation to estimate how much change is required from the catkin build types.", "if we want to build those ros2 packages as RPM package \u2026", "You should map each ROS package to a RPM package. That is the same way as it is done in ROS 1 and for Debian packages in ROS 2.", "And Bloom should already support ", " file generation. That was added for Fedora support of ROS 1.", "While bloom supports ", " file generation for ROS 1 I don\u2019t think it  does for ROS 2 at the moment. Several patches necessary for ROS 2 where only applied to the Debian process (e.g. ", "). I don\u2019t have a good overview what else would need to be updated but patching ", " to support RPMs in ROS 2 would be the way to go.", "ok. thanks. what needs to contain in binary package installation of debian/RPM is the content under the ", " folder of the corresponding package, am I right ? If it\u2019s right, does it work with the following process for RPM creation for quick prototype/verification? as follow:", "I know that it\u2019s not feasible to manually create spec and RPM for many package in this way, and it also requires a great deal of effort to maintain, just try to verify one project before further code development. ", "I\u2019d suggest taking a look at bloom\u2019s current template for catkin (ROS 1) packages: ", "Packages built with bloom templates use the default build tool for their build type, cmake for cmake, catkin, and ament_cmake, and python setuptools for python packages respectively rather than using the recommended build tool for working with source workspaces.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["One case, it has a top CMakeLists.txt e.g ", " and I think it should be built normally for various building environment and OS", "The other case, the project doesn\u2019t contain any root CMakeLists.txt but separate CMakeLists.txt in each sub-folder (or say sub-projects/sub-packages) e.g ", " and ", ", This is very common in the ROS with the concept of meta package and I know that it works well to build with ament/colcon, but why it works is because the ament/colcon manually add codes to handle the kind of projects. but it\u2019s not the same for all the build environment and it will results in build failure when it doesn\u2019t find a ", "\n", "For RPM ", " part: invoke the ", " to build a package normally as the way to build with source code", "For RPM ", " and ", " part: manually add the content of the corresponding package underneath the ", " folder of the workspace (that\u2019s to say you have already know the details of the ", " folder with the way of source building)", "finally, rpmbuild with the above rules of spec file to create the RPM package"], "url": "https://discourse.ros.org/t/ros2-package-rpm-building-without-the-top-cmakelists-txt-for-cmake/5933"},
{"title": "Discussion about how to add a new PRIMITIVE_TYPES to rosidl(msg)", "thread_contents": ["Hi , I\u2019m working on adding a new type (e.g. ", ") to ", " in ", " , cause i want to do some extra operations on the ", " data but i don\u2019t want to effect the original ", " type", "For example , in rosidl/rosidl_generator_py/resource/_msg_support.c.em , i can change the ", " type to ", " instead of ", " when i received  the msgs", "I have looked some relative codes , and i find this in ", "PRIMITIVE_TYPES = [", "\n\u2018bool\u2019,", "\n\u2018byte\u2019,", "\n\u2018char\u2019,", "\n# TODO reconsider wchar", "\n\u2018float32\u2019,", "\n\u2018float64\u2019,", "\n\u2018int8\u2019,", "\n\u2018uint8\u2019,", "\n\u2018int16\u2019,", "\n\u2018uint16\u2019,", "\n\u2018int32\u2019,", "\n\u2018uint32\u2019,", "\n\u2018int64\u2019,", "\n\u2018uint64\u2019,", "\n\u2018string\u2019,", "\n# TODO reconsider wstring / u16string / u32string", "\n# TODO duration and time", "\n\u2018duration\u2019,  # for compatibility only", "\n\u2018time\u2019,  # for compatibility only", "\n]", "So i guess it\u2019s possible to add a new type", "But i don\u2019t know whether there are other codes i need to consider , besides the ", " and  ", "Looking forward to some suggestions !", "\nThanks !", "Maybe you can elaborate what exactly you are trying to achieve. The current format supports basically all primitive types. Your use case seem to be already addressed by defining a field with the type ", ". Maybe for that type it only needs to be reconsidered how it is mapped into specific languages like Python. I agree with you that ", " sounds like the more \u201cnatural\u201d type in Python.", "Maybe you can elaborate what exactly you are trying to achieve", "when I use ", " in ros2 , the img_msg is turned into ", " in python , but the ", " needs a ", " type when transform the ", " into ", " img type .", "\n(the ", " is ", " and is turned into ", " after transform)", "So we rewrite the ", " in ", " to make the uint8 turn into ", " type , and it works well", "but to avoid effecting other algorithm which using uint8 as well in pyhton , we want to create a ", " for a new msg type like ", " so that we don\u2019t need to transform all ", " to bytes , but only in some special situations (like using cv_bridge) , we can use the new message type and get the byte type instead of list . and other algorithm can still receive the ", " as ", " type", "So i just want to know whether this idea can work , and how to make it .", "I\u2019m trying to rewrite the python-end in rosidl and build a new primitive type \uff08maybe use dtype() ?\uff09 and a new msg_type and try to analyze the type", "I don\u2019t think \u201cjust adding a new type\u201d is the right way here. A patch adding ", " would also not be accepted in a PR.", "Instead the existing mapping (see ", ") should be re-evaluated. In that process all other language mappings need to be considered too.", "As mentioned above I am in favor of mapping ", " In Python to ", " instead of a list of integers.", "As mentioned above I am in favor of mapping byte[] In Python to bytes instead of a list of integers.", "Currently,  in Python, ", " maps to a list of ", " (each list element being of length 1). And I agreed with you it could be just ", " and not a list.", "My understanding is that the proposal from ", " is to map ", " to ", " as several ROS 1 messages use uint8[] to send binary data around. So this is a different proposal I think, and I\u2019m not sure that this should map to ", " in that case.", "Instead the existing mapping (see ", ") should be re-evaluated. In that process all other language mappings need to be considered too.", " that\u2019s been on our list for a long time but we didn\u2019t get around doing it yet.", "My understanding is that the proposal from ", " is to map uint8[] to builtin.bytes as several ROS 1 messages use uint8[] to send binary data around", "I agree with that . Just map all the ", " to ", " instead of ", " may cause other problems since some algorithms are designed using the ", " as ", " in python .", "So that\u2019s why i want to create a type like ", " that i can also create a ", " which use the type to deliver image messages like what \u2018Image.msg\u2019 does . And i have changed some files in ", " package and ", " package and succeeded in ament building .", "I have changed following files to add the ", ":", "But i failed using the new type to publish the ", " type with reporting :", "\n", "convert_from_py != NULL && \u201cunable to retrieve convert_from_py function, type_support mustn\u2019t have been imported\u201d\u2019 failed.`", "So i want to know whether i can add the ", " type and if i can , what i have missed to make the ", " can work .", "Thanks", "I find that maybe I should try to add a ", " to ", " instead of adding a ", " type directly .(like ", " and ", ")", "So that\u2019s why i want to create a type like ", " that i can also create a ", " which use the type to deliver image messages like what ", " does .", "The primitive type should not by specific to what \u201csemantic\u201d data you put in. Therefore ", " is in my opinion a no-go. The same type could also store other binary data.", "Just map all the ", " to ", " instead of ", " may cause other problems since some algorithms are designed using the ", " as ", " in python .", "That is why I recommended using ", ".", "Blockquote[quote=\u201cZongpei_Jiang, post:6, topic:4607\u201d]", "\nI agree with that . Just map all the ", " to ", " instead of ", " may cause other problems since some algorithms are designed using the ", " as ", " in python .", "\n[/quote]", "I still think that using ", " rather than ", " would be a good move (at least from IDL ", " types, if not for ", " types). Yes, it would be a breaking change, but it would be a ", " breaking change and most dependent code would be very easy to update (and likely get a nice speed boost).", "I still think that using ", " rather than ", " would be a good move (at least from IDL ", " types, if not for ", " types). Yes, it would be a breaking change, but it would be a ", " breaking change and most dependent code would be very easy to update (and likely get a nice speed boost).", "Agreed ", "\nWe are planning on revisiting the mapping of all primitive types as we migrate to IDL 4.2 later this release cycle, will make sure to take all the feedback from this thread into account when doing so.", "I still think that using ", " rather than ", " would be a good move (at least from IDL ", " types, if not for ", " types).", "Just  mention the current state: you can already use ", " in a ", " file and the resulting field in Python will be of type ", " (see ", ").", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/discussion-about-how-to-add-a-new-primitive-types-to-rosidl-msg/4607"},
{"title": "Connext DDS debian packaging", "thread_contents": ["It\u2019s really exciting to see the connext SDK packaged as a debian, however ", " doesn\u2019t support non-interactive installation in any way. Typically ", " and/or debconf preseeding would do the trick. Would anyone know who maintains this package?", "I guess you tried something like this:", "I haven\u2019t tried to install it unattended, but the license prompt in there is very intentional. We don\u2019t want anyone installing it assuming anything about the license it comes with.", "If there\u2019s a way we can keep that interruption for most users but make it easier for you I\u2019m sure that would be of interest. I think RTI themselves made this deb, but ", " knows more about it than me.", "As William mentioned the Debian package is provided by RTI. So for any change requests it is probably best to contact them directly (likely through ", ").", "That being said you can set an environment variable to automatically accept the license and install the package in a non-interactive way: ", "\nSee the ", " how it is being used on the buildfarm.", "That being said you can set an environment variable to automatically accept the license and install the package in a non-interactive way: ", "\nSee the ", " how it is being used on the buildfarm.", "Thanks for pointing that out, I\u2019ll have a dig through that Dockerfile the next time I have questions as well.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/connext-dds-debian-packaging/5980"},
{"title": "ROS2 Object Analytics Release", "thread_contents": ["We are happy to announce new version of the ", " packages. These packages aim to provide live object analyses over RGB-D camera inputs, provide 2D tracking and 3D localization. In this release we fully supported on ROS2 and improved performance.", "Ref to ", "Ref to ", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["fully support ros2 implenetation without ros1_bridge connunication", "support object_analytics_rviz on ros2", "splite pointcloud2 to xyz and rgb", "restruct tracking and localization object message type", "optimize localization segmentation implementation", "seperate ncs launch interface", "enable cppcheck and unittest", "support ubuntu 18.04"], "url": "https://discourse.ros.org/t/ros2-object-analytics-release/5985"},
{"title": "Porting Image Pipeline to ROS2", "thread_contents": ["I want to use depth_image_proc/point_cloud_xyzrgb from image_pipeline package, but not found this package be available on ROS2, not sure if someone has already start working on it?", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/porting-image-pipeline-to-ros2/6107"},
{"title": "ROS2 on microcontrollers with RIOT", "thread_contents": ["Hello !", "I am studying the possibility of porting ros2 to RIOT.", "To begin wiith, I have seen a (very old) fork of RIOT on the ros2 organisation.", "\nIs there someone who works (or worked) on that ?", "Cheers !", "Hi ", ",", "The fork you referred to is available ", ".", "RIOT was indeed considered as one of the candidates to build up a prototype of a ROS 2 microcontroller-oriented framework however the prototype was finally built on top of NuttX instead. The resulting prototype is available ", ".", "The amount of time/effort put into that prototype was relevant so I\u2019d encourage you to review the NuttX one before jumping straight to a new RTOS.", "Hi ", ",", "Thanks for your answer.", "\nAfter reviewing the ", ", I have found that you were implementing a ", " compared to the ", ". The interfaces are even not compatible.", "\nIs that a choice ? Or is it an early proof of concept interface that will tend to look like the \u201cnormal\u201d interface ? Or am I completely wrong and this is not the code you are using ?", "hi ", ",", "Or is it an early proof of concept interface that will tend to look like the \u201cnormal\u201d interface", "that was the case. At the time of writing, ROS 2 rcl was still being written and only a minimal set of interfaces were implemented.", "The code is not actively maintained anymore but it should provide a good starting point for anyone with relevant interest in the topic of ROS 2 running in microcontrollers.", "Hello !", "I\u2019m here to give you some news about my project of porting ROS2 to RIOT.", "\n", "While porting the ROS2 code to RIOT, I implemented 2 new RMW which are not based on DDS :", "To make it work on microcontrollers (they don\u2019t support the C++ standard used in rclcpp), I also implemented a part of rclc.", "As a result, I was able to ", ".", "The hardware running the ROS2 nodes are two ", ", with wireless communication. The microcontroller, ATSAMR21G18A, is quite small, with only 32Kb RAM and 256Kb Flash, compared to the 192Kb RAM and 1Mb Flash STM32F407IG used for the previous NuttX-based example.", "That\u2019s really cool!", "Did you have any trouble with code size? I recently looked the code sizes on a desktop machine and they were not huge, but still big for the micro you\u2019re using. There were some low hanging things we could optionally turn off to help with that. E.g. since all of our error strings are set through a macro we could compile them out. They actually account for a non-trivial portion of the code size at this point.", "Did you have any trouble with rcl? I guess that there are some features creeping in that won\u2019t work on a micro (use of env variables and/or filesystem checks). This is mostly due to the security features which can be turned off at compile time, but I\u2019m curious what else you might have needed to change to make it work.", "Also, I don\u2019t see mention of ", " anywhere, so I\u2019m guess you\u2019re using an older release of ROS 2 rather than beta 2 or master?", "Thanks ! ^^", "Did you have any trouble with code size?", "Not so much. But of course this proof of concept is far from having all the features. Here are the current sizes :", "For the NDN version :", "\nRAM : ~12Kb", "\nFlash : ~60Kb", "For the MQTT-SN version :", "\nRAM : ~18Kb", "\nFlash : ~62Kb", "For the whole OS, ROS2, and user application.", "\nThe RAM is not counting the heap used, but it takes in account the stack of the different threads.", "Also, I don\u2019t see mention of rcutils anywhere, so I\u2019m guess you\u2019re using an older release of ROS 2 rather than beta 2 or master?", "I\u2019m based on beta1, mainly because I could not use the ROS2 build system (microcontrollers + RIOT having it\u2019s own build system, hard time), and I needed some generated files (from rosidl) that were not compatible with the master branch at this time (February). It was more secure to base my work on a stable branch.", "Did you have any trouble with rcl?", "Not so much. I just had to change the time.c implementation to use RIOT, and some warnings made my build system unhappy (mostly old-style function definition), but the rest was ok.", "The most hard part I (still) have is with the rosidl/typesupport things, which prevent me to support any type but Strings.", "Very interesting, thanks for sharing!", "For the RAM and flash does that include a comms stack? (you mention wireless communications - is that serial?) We are looking at using Ethernet so we would need a TCP/IP stack. I noticed in the RIOT documentation it seems to be at least marginally supported, is there anything missing?", "Which did you prefer using between the NDN and MQTT-SN protocols, ie: which would you use in the future?", "Merci", "Yes, that include the comms stacks.", "\nThe wireless communication is ", ". In the user application point of view, RIOT provides a net interface similar to the interfaces you can find with Linux. RIOT have a fully working UDP/IPv6 stack (I use it in my project). I think TCP is also working, but I never used it, same for IPv4. About Ethernet, it depends on how you would use it.", "Before choosing between NDN and MQTT, let me quickly list the pros and cons", "NDN", "\n", " replace the full TCP/UDP/IP stack", "\n", " is topic-oriented by design", "\n", " is decentralized by design", "\n", " can be used on top of TCP/UDP/IP as well as directly on the MAC Layer (ethernet, 802.15.4, \u2026)", "\n", " is still an active research topic and not standardized", "\n", " currently don\u2019t provide the ROS2 communication patterns (Pub/Sub, Services)", "\n(but I implemented a beginning of Pub/Sub)", "MQTT-SN", "\n", " is based on UDP/IP", "\n", " is topic-oriented by design", "\n", " provide a Pub/Sub communication that fits well ROS.", "\n", " is quite standardized", "\n", " is centralized by design (needs a broker)", "\n", " don\u2019t provide the ROS\u2019 Services communication pattern", "For me, as a PhD student, NDN seems more interesting than MQTT, but harder to integrate in ROS2. But the thing is that I need to compare any of my implementation to something. Since I was not able to use DDS on my hardware, I just tried these 2 solutions, which may not be the only two I will try.", "Hello !", "Here are some news about the project :", "I finally was able to integrate my modules with the \u201cnormal\u201d ROS2 build system (now you can use \u201cament build\u201d). The thing is that I needed to modify the build steps of some standards packages (", ", ", ", ", ", ", ") to make it work with RIOT\u2019s build system. To make it short, instead of compiling the sources with ament/cmake, I just generate Makefiles used by RIOT to compile the final application. Any feedback on how I managed that would be appreciated ^^.", "I also began to experiment with rosidl to generate some serialization code, and currently the project can handle messages composed of strings, (u)int32 and (u)int64 fields. Serialization is made with cbor.", "Cheers !", "Hello !", "I haven\u2019t posted news from ", " for a long time now, but here is the summary of my last developments :", "In the other hand, I also removed some features that I have no time to maintain anymore (be understanding, I\u2019m working alone on this project ", ") :", "Also, my implementation of rclc (ROS Client Library for C) has recently been merged with the ", " (many thanks to the reviewers). I could not reach the point where it would be included in the official ROS2 stack, but at least it is usable with the normal ROS2 stack and the RIOT-ROS2 stack ! You can check ", " for trying with the normal stack.", "My roadmap for this year is :", "Of course any contribution is welcome, even just saying that it does not work on your computer !", "Cheers !", "Hi ", "It\u2019s great to have some news about that project!", "I am following your work since the beginning because I am very interested in using ROS2 on microcontrollers.", "I remember that you used to use the 802.15.4 wireless connectivity of the Atmel SAMR21 to communicate between 2 microcontrollers. Do you have a wired communication now or a least one with a computer? I have quickly looked at the repo and did not find the answer.", "Because, as a Eurobot competitor, I am not used of the wireless communication between the components inside a robot.", "Hey ", "! Pretty cool to hear about your updates. Very well done and thanks for sharing it and keeping all of us posted.", "We are also looking at ROS 2 in microcontrollers as part of a European project and after a look at the structure of the code, I think we can inspire quite a bit from you. Our objective, is to end up with a \u201cframework for microcontrollers\u201d that should supports different alternatives for underlying RTOS, communication middlewares, etc. In particular, for the RTOS, we are looking at using NuttX (", " to our fork). Given the maturity of your work (which to me seems much more advanced than ours) I think it\u2019s worth to try re-using your structure and eventually converge if possible.", "Provided that this sounds good to you, I\u2019m up for spending some time researching your code and try putting together a prototype of your system with NuttX as the underlying RTOS. Would you be willing to support us if we do so? Ideally we could end up submitting a PR to your code with NuttX support (which from a hardware perspective, opens up your system to many more possibilities). How does this sound?", "Cheers,", ", I currently haven\u2019t managed to do it on wired communication yet. But, like you, I will need some wired communication for Eurobot. I plan to try at least USB/UART and CAN during the (few) remaining months before the competition. Normally, UART (over USB) between a board and a computer should be already possible thanks to RIOT\u2019s module \u201cethos\u201d, and it would be a great first tutorial if I manage to make it work, actually ! ^^ Even better than board to board communication.", ", it sounds interesting, indeed. With my development of the 2 last months, I feel it\u2019s possible to use different underlying OS quite easily now, I was even thinking about porting ROS2 to the Arduino framework (when I would have the time). I would try to help you ! I\u2019m looking forward to have more information on your project.", "Fantastic! I\u2019ll allocate time for it and have a look then in the following weeks.", "I\u2019m looking forward to have more information on your project.", "I\u2019m also eager to share more. I hope this will happen soon. Certainly, knowing attitudes like yours, I\u2019ll advocate to try and establish paths for contributions as soon as possible.", "Hello ", ",", "\nAfter your question about board to computer communication, I made a proof of concept.", "\nNow if you read the README, you should find a way to make a (RIOT) native ros2 node communicate with a node that is embedded on a microcontroller.", "\nIf you want to try this example on your hardware, I would be happy to help you if there is any problem.", "Just a little warning : the microcontroller version seems to crash because of a bug I introduced recently. I need to work on that, so if the app complains about heap allocation problem or goes crazy (printing junk on stdout), it\u2019s a known bug. Just don\u2019t control your motors with that for the moment ", " !", "Hi ", "That\u2019s very interesting! I will try it as soon as I find some time.", "Thanks!", ", please find at ", " a few bits about the micro-ROS European project I mentioned. The following architecture should help describing our goal:", "I will start looking at how to integrate (if possible) your work in ours (I\u2019m happy interacting publicly here but let me know if you\u2019d prefer a more private channel).", "Regards,", "Nice !", "Yes, I think it would be better to use an other channel for some things we would discuss. I have sent you an email.", "I have some comments on your diagram :", "Hello !", "I\u2019m here to bring some news of the project :", "Also, with the contribution of ", " :", "Here is the updated roadmap :", "Cheers !", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["using NDN", "using MQTT-SN", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "I have updated the ros2 packages I use from beta2 to arment !", "I have improved the build system integration between Ament and RIOT, now the build process looks much more like the ", ".", "I don\u2019t need to modify the official packages\u2019 CMakeLists.txt anymore, so that future update will be easier.", "removed rmw_mqtt implementation", "removed some examples", "to complete rclc so that it may be included in a future ROS2 version", "to have a full implementation of topics, services and discovery with rmw_ndn.", "to update to newer versions of RIOT", "to write some example tutorials for using on a microcontroller (the main benefit of my project ", ")", "to build a complete autonomous robot with this project (and take part to the ", ")", "Does ", " refers to a language-specific client lib ? or to ", ", adapted to microcontollers ?", "In the first case, I would say that it would be nice to use and complete ", "\n", "In the second case, I would say that using ", " is better, even if the use of malloc is not the best choice for microcontollers, it is quite well designed, and the most important is that ", " would be the glue between normal ROS2 and ROS2 for microcontrollers.", "Why defining a ", " interface ? What would be different from ", " ?", "The problem with RTOS abstraction is that, beside well known standards (POSIX, socket, libc, \u2026), there is no library that manage an application layer protocol (MQTT, HTTP, CoAP, etc\u2026) that is ported to several RTOS : each RTOS has it\u2019s specific solution/interface.", "The version of RIOT used have been updated, enabling the support of new boards and features.", "I have implemented rmw_ndn for the \u201creal\u201d ROS2 stack, so that it can be chosen in place of the default rmw_fastrtps. ", ".", "This new implementation is more advanced than the one based on ndn-riot. For instance, it supports pub/sub with multiple publishers (multiple subscribers was already supported) and discovery.", "I have managed to make the two stacks (RIOT-ROS2 and ROS2 with rmw_ndn) communicate with eachother.", "A proof-of concept port  of ROS2 for NuttX is ", ".", "A docker for compiling the project is provided.", "rclc still need to be completed", "the implementation of pub/sub and discovery need to be stabilized, and ported to microcontrollers", "services implementation needs to be done", "starting an ", " ? Did I say Arduino ?"], "url": "https://discourse.ros.org/t/ros2-on-microcontrollers-with-riot/1293"},
{"title": "Publication: Security and Performance Considerations in ROS 2: A Balancing Act", "thread_contents": ["A joint US-Australia effort resulted in this publication I wanted to share with the ROS 2 community.  Full link below, and abstract here:", "Robot Operating System (ROS) 2 is a ground-up re-design of ROS 1 to support performance critical cyber-physical systems (CPSs) using the Data Distribution Service (DDS) middleware. Accordingly, the security of ROS 2 is highly reliant on the security of its DDS communication protocol. However, finding a balance between the performance and security is non-trivial task. Inappropriate security implementations may cause not only significant loss on performance of the system, but also security failures in the system. In this paper, we provide an analysis of the DDS security protocol as well as an overview on how to find the balance between performance and security. To accomplish this, we evaluate the latency and throughput of the communication protocols of ROS 2 in both wired and wireless networks, and measure the efficiency loss caused by the enabling of security protocols such as Virtual Private Network (VPN) and DDS security protocol in ROS 2 in both network setups. The result can be directly used by robotics developers to find the optimal and balanced settings of ROS 2 applications. Additionally, we analyzed the security specification of DDS using existing security standards and tested the implementation of the DDS protocol by performing static analysis. The results of this work can be used to enhance the security of ROS 2.", "Full link:", "\n", ", you\u2019d be probably be interested on this.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/publication-security-and-performance-considerations-in-ros-2-a-balancing-act/6212"},
{"title": "ROS2 OpenVINO Toolkit Release - Initial Version(V0.3.0)", "thread_contents": ["Hi All,", "We are happy to announce the initial release of \u201c", "\u201d. The ", " quickly deploys applications and solutions that emulate human vision. Based on Convolutional Neural Networks (CNN), the Toolkit extends computer vision (CV) workloads across Intel\u00ae hardware, maximizing performance.", "\n", "This project is a ROS2 wrapper for CV API of ", ", providing the following features:", "This project has been open sourced in github: ", ". Please refer to ", " file for more details about this project. We have tested it on RealSense D400 series camera and Standard USB camera. More features, such as object detection, vehicle-attributes-recognition and license-plate-recognition are under development and will be included in future release. Stay tuned. Welcome feedback and participation.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Support CPU and GPU. FPGA and Movidius will be supported in the future.", "Support standard USB camera and Intel\u00ae RealSense\u2122 camera", "Support Video and Image file as detection source", "Support person-attributes-recognition, including face detection, emotion recognition, age gender recognition and head pose recognition.", "Demo application to show above detection and recognition."], "url": "https://discourse.ros.org/t/ros2-openvino-toolkit-release-initial-version-v0-3-0/6234"},
{"title": "Restricting communication between robots", "thread_contents": ["How will ros2 work with multipel robots and restricting communication between the robots?", "Is there any mechanism now that can be used? Is this supposed to be solved by the Quality of Service specification?", "I want certain topics to just be available inside the robot were the network is on cable.", "You can set the DDS Domain ID. On ROS2 it\u2019s called ROS_DOMAIN_ID (Not sure about the spelling)", "\nI think it should be enough to export it as an environment variable.", "For that to work I think you need to be able to set the domain id on a topic. Is that possible? Or have different namespace for internal and external messages and possibility to set domain id and QoS per namespace and topic.", "We also have the caser were data sent intenrlly have different QoS specification than data sent externally. Is that supported in any way?", "Ahh sry, didn\u2019t see you wanted certain topics for both robots available. In this case I think using namespaces for the other topics should be the thing you are looking for.", "In theory DDS supports applications that use multiple DDS Domain IDs but I don\u2019t think ROS2 allows this.", "But even if I use different topics somebody can start a subscription by mistake and kill the wifi.", "The solution I am thinking of is:", "I then just have to trust that nobody subscribes on the namespace topics between robots.  What I wantes was a techical way to make it impossible.", "If you want to enforce connection limits we are in the process of adding support for the DDS Security specification. That would allow you to prevent connections between the robots if you deploy certificates appropriately.", "A DDS person would tell you to use partitions, probably. For us, since we\u2019re currently using DDS partitions in our implementation and don\u2019t expose them through the ROS 2 api, I would advise you to just use ROS namespaces. We\u2019re planning on having more sophisticated at runtime and during runtime topic manipulation to help with this.", "I gained a lot of insight on what would be needed to deal with situations like this when working on the ", " package as part of the rocon project. I think with some more options to configure the namespaces (remapping and aliasing) it will be a more tractable problem, but we don\u2019t have those features yet.", "A stronger separation would be to have different domains and have some bridges to expose parts of one domain to another.", "What about a capability to specify that a specific namespace uses a specific domain? It sounds clunky, but if a neat way could be found to do it, that would give proper separation.", "Has there been any advancement in this regard?", "Specifically I believe there are two issues here, how to handle multiple independent robots on a same physical network, and how to have some sort of multirobot communication.", "Regarding the first issue, from the comments above it it looks like either setting a different ROS_DOMAIN_ID or using namespaces might be enough.", "But each seems to be either limited or cumbersome when compared to the old \u201cuse different ROS_MASTER_URI\u201d.", "If we need a separate domain id per physical robot, as more robots are distributed, having non-conflicting domain ids seems extremely difficult.", "On the other hand, using a different namespace for each robot\u2019s nodes and topics might do the trick, but in my opinion it needs to be implicitly supported in ROS2, so that it can be transparent to the user after configuring it.", "Let\u2019s say you want to distribute an rviz2 configuration for visualizing the tf data of the Robot Foo, you add a display of /tf.", "If you have two of these robots in your office, foo-1 and foo-2, in ROS1 you\u2019d export the ROS_MASTER_URI to the corresponding hostname and open rviz.", "There needs to be a way of doing this so that when the user opens rviz (or any other tool, or launches a node of it\u2019s own), it doesn\u2019t need to change the topic manually.", "Is there anything that I\u2019m missing?", "As a DDS person and someone who built distributed industrial robotics systems I can tell you that partitions are by far the best way to go when trying to build such a system. DDS partitions are hierarchical and support wildcards.", "So the general approach is to publish all robot internal data on a partition called \u2018robot-X\u2019.", "It gets more complicated when other systems like a global TF is involved. So a robot might want to know all local TFs and TFs provided by a external map server but not TFs from other robots. In this case the robot can subscribe to its local partition and to a global partition.", "Also, the use case of remote diagnostic systems is covered as they can on demand access all topics of a specific robot by just accessing the proper partition.", "I think it is really important to remove dependency of ROS 2 from DDS partitions and open them up for usage of the end user.", "To be clear, as of the Bouncy release of ROS2, we have stopped using partitions for ROS2 internal use.  That means they now should be available for end-user usage (though there are no provisions for them in the RMW API right now, so it would have to be configured \u201coutside\u201d of ROS2).", "Great news! Thank you!", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Use namespace topics inside the robot", "For all inter robot communication use topics without namespace"], "url": "https://discourse.ros.org/t/restricting-communication-between-robots/2931"},
{"title": "Is it worthwhile including standard messages for registration pulses, features and descriptors?", "thread_contents": ["Since ROSCon 2018 I\u2019ve been thinking about whether it makes sense to include a ", " for visual localization that allows the perception step to be decoupled from state estimation through message abstraction. This would us to push the output from localization pipelines (feature tracking, marker tracking, ICP tracking) to a filter in a standardized way.", "Here are a tentative set of messages for exchanging registration pulses and correspondences:", "Additionally, we could add some general messages to store features and maps of features", "I don\u2019t know if anybody else would find this useful, or where we could put these features (perception_msgs? vision_msgs?). Comments warmly welcomed!", "Andrew", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/is-it-worthwhile-including-standard-messages-for-registration-pulses-features-and-descriptors/6310"},
{"title": "Publication: Open Problems in Robotic Anomaly Detection", "thread_contents": ["A research effort in collaboration between Carnegie Mellon\u2019s Software Engineering Institute and the US Government resulted in a publication I wanted to share with the ROS 2 community.  Abstract below, and link to arXiv at the bottom:", "Failures in robotics can have disastrous consequences that worsen rapidly over time. This, the ability to rely on robotic systems, depends on our ability to monitor them and intercede when necessary, manually or autonomously. Prior work in this area surveys intrusion detection and security challenges in robotics, but a discussion of the more general anomaly detection problems is lacking. As such, we provide a brief insight-focused discussion and frameworks of thought on some compelling open problems with anomaly detection in robotic systems. Namely, we discuss non-malicious faults, invalid data, intentional anomalous behavior, hierarchical anomaly detection, distribution of computation, and anomaly correction on the fly. We demonstrate the need for additional work in these areas by providing a case study which examines the limitations of implementing a basic anomaly detection (AD) system in the Robot Operating System (ROS) 2 middleware. Showing that if even supporting a basic system is a significant hurdle, the path to more complex and advanced AD systems is even more problematic. We discuss these ROS 2 platform limitations to support solutions in robotic anomaly detection and provide recommendations to address the issues discovered.", "Link below:", "\n", "I think it\u2019s worth highlighting the recommendations stated:", "V. RECOMMENDATIONS FOR ROS 2", "\n(\u2026)", "\nGiven  these  core  ingredients,  we  make  the  following", "\nrecommendations for ROS 2 based on our findings:", "\n(\u2026)", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Introduce strict value ranges into messages (II-B).", "\n(\u2026)", "Provide automatic subscription to new topics and mes-", "\nsages in", "\nrosbag", "\n(III-B).", "\n(\u2026)", "Develop a better profiling environment", "\n(\u2026)", "Integrate best-known-state tracking and recovery (II-F)", "\n(\u2026)", "Introduce state introspection (II-D, II-F)", "\n(\u2026)", "Provide a safe mode (II-F)", "\n(\u2026)"], "url": "https://discourse.ros.org/t/publication-open-problems-in-robotic-anomaly-detection/6213"},
{"title": "Ros2 and DDS messaging", "thread_contents": ["I am trying to interface our ROS2 project with a third party that wants to communicate using DDS.  The third party is providing me with IDL files for the messages.  These IDL files include features like enums and inheritance that aren\u2019t supported in the ROS message format.  Is there an easy way to get the ROS2 system to build messages into a package directly from IDL, instead of having to start with .msg files?", "No, not currently.", "We have talked in the past about supporting an IDL->.msg workflow to support your use case, but because we\u2019ve not had to do it yet, we haven\u2019t implemented it. Also, I always operated under the assumption that extra features like enum and inheritance would not be supported in this workflow.", "You should also be aware, that our use of topics and partitions within DDS will change soon (proposal has been accepted, we\u2019re in the process of implementing it now), see:", "And some examples of that:", "This will likely affect your ability to subscribe to an existing DDS topic from ROS, and perhaps your ability to create a publisher in ROS with the exact characteristics you\u2019d like on the DDS side. We\u2019re aware of this use case, however, and have some ideas about how to allow you to publish and subscribe to \u201cnative\u201d DDS topics without any of the ROS specific mangling:", "Breaking the ability for \u201cnative\u201d DDS communication seems harmful. That seems like a helpful feature for adoption on production systems. I see the proposal for partitions/topics has ideas for fixing \u201cnative\u201d DDS comms, but nothing has been settled on. I also have seen your proposed Roadmap for releases, including V1 in Dec. Does the current Roadmap include resolving this incompatibility?", "Breaking the ability for \u201cnative\u201d DDS communication seems harmful. That seems like a helpful feature for adoption on production systems.", ", I agree and that\u2019s why we spent some time thinking about it with respect to the topic name and partitions.", "The current proposal has the benefit that so long as the target DDS configuration doesn\u2019t require a partition that violates our topic name rules (e.g. contains invalid characters like ", "), then all we need is an option to avoid putting the ROS specific prefix on the topic, which should be easy to do, and it\u2019s my intention to do that on the first implementation pass (since it\u2019s easy to do).", "We didn\u2019t settle on a way to pass \u201cexact\u201d topic name and partitions as described as possibilities in the design document. For features beyond \u201cavoid the ROS prefix in the partition name\u201d I do not believe they are on our roadmap. But they could be points where community contributions would be tractable.", "If you need a very specific partition name or multiple partition names, then it gets harder to support that through the ROS API. An alternative which makes lots of things possible, but also addresses this issue, is to implement the ", " packages, which allow you to get access to the underlying DDS objects for various ROS primitives. For example, if you create a ROS subscription, then with this package (say ", " for example) you could get the underlying ", "'s, ", "'s, ", "'s, etc. and do to them whatever you want, including creating additional ", "s. There may be consequences you have to deal with when you do this (it might change ROS API behavior), but it gives you full control to do what is required in various cases.", "Unfortunately, I see the mismatched IDL types on the topics to be a larger barrier to this working than the topic names and partitions being used.", "I must say the idea to define a custom non compatible naming scheme that hinders the communication with non ROS2 DDS nodes shocks me a little bit. What is the point of using a standard communication system if you do not intend to use it in a standard way?", "Wasn\u2019t the broader idea behind using a proven standardized communication protocol to make ROS2 more compatible and wider accepted? To me the whole idea of designing a middleware agnostic system seem not to be really smart - it creates incompatibilities and does not allow to really embrace the underlying system nor to use its specific features. It would be like using TCP/IP but not letting details like IP addresses and DNS appear at the surface but instead do all kinds of name-mangling and concept translations.", "The ROS2 design team should be aware of the rise of IoT. I personally would suggest to design ROS2 as compatible as possible. Otherwise I see the danger for ROS to be superseded by successful IoT systems that can be used for the robotic use-case as well\u2026", "After reading more of the ROS2 design documents some points become clearer to me.", "\nPlease correct me if I got something wrong:", "So it seems the DDS<->ROS2 interop is mostly a one-way thing by design, e.g. it is not possible to access all DDS featues via the ROS2 API. A ROS2 node that had to communicated with DDS nodes usind complex IDL definitions had to interact with a concrete DDS implementation beside of the ROS libs (middleware implementation specific).", "Is it now possible to communicate with the ROS2 idl messages to an external tool (Non-ROS topics) ?", "Moderator edit: Duplicate of ", " please follow up there.", "topics and partitions within DD", "On the other hand, contaminating a namespace with foreign objects/messages is also fraught with peril.  You may be better off to write a bridge node for this type of application.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["ROS2 only uses a subset of the DDS functionality while hiding all of the middleware implementation details (e.g. IDL definitions) to the package author (who creates ROS specific msg, srv files etc.).", "The protocols on top of DDS used by ROS2 for services and actions (preemptable serices) are ROS specific.", "It was decided to completely hide the fact that DDS is used in order to keep the way open for non-DDS middleware implementations.", "Non-ROS DDS nodes could subscribe to ROS2 nodes but the other way round is only possilbe if the DDS node would restrict itself to the ROS2 compatible feature/type subset and adhere to the ROS2 naming-rules.", "All ROS2 messages are effectively serialized twice. First from language specific ROS2 message classes to a representation that can be processed by the selected DDS middleware library and then from the DDS library to a format that goes over the wire.", "Interop with non-ROS DDS nodes was not the driving factor for the ROS2 design. Relevant points for the choice of DDS were standardization, stability, security, professional impls etc."], "url": "https://discourse.ros.org/t/ros2-and-dds-messaging/1556"},
{"title": "Hls_lfcd_lds_driver porting to ROS2", "thread_contents": ["All,", "As ", " confirmed that hls_lfcd_lds_driver ported to ROS2, our team at Persistent System will extend help in testing the package. Please let us know if anyone has any concern or any important information that we will help us in this testing effort.", "Thanks,", "\nDan", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/hls-lfcd-lds-driver-porting-to-ros2/6381"},
{"title": "Libccd for ROS2", "thread_contents": ["Hello everyone,", "Has anyone started porting libccd  ?", "\nI would like to work on this migration work of libccd.", "Thanks,", "\nPoonam", "Hi All,", "As communicated with Ioan Sucan, Our team at Persistent System is extending help in porting libccd package to ROS2. Please let us know if anyone has any concern or any important information that we will help us in this porting effort.", "Thanks,", "\nDan", "Thanks Dan for the detailed and clear post.", "\nAs libccd is ROS independent, I have built and tested the libccd library code on  ROS2 successfully without any code changes.", "\nPlease let me know if anyone has any other information or further steps for libccd .", "Thanks,", "\nPoonam", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/libccd-for-ros2/6321"},
{"title": "Industrial_msgs porting to ROS2", "thread_contents": ["Anyone working on porting industrial_msgs to ROS2? If not, our team at Persistent System is ready to put the effort in porting industrial_msgs to ROS2. Please let us know if anyone has any concern or any vital information that we will help us in this porting effort. If anyone has already started already working on porting industrial_msgs, Please let us know if you will be interested to obtain our assistance in the porting effort.", "\n", ", I see that you are the maintainer of this package in ROS, hence I\u2019m tagging you here in this post.", "Thanks,", "\nDan", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/industrial-msgs-porting-to-ros2/6395"},
{"title": "ROS 2 Time vs std::chrono", "thread_contents": ["We were investigating if we should use ROS 2 Time or ", " for our product. Note that our use case is a highly safety critical real-time system influencing the priority of the arguments.", "Upon closer inspection, I found that ROS 2 Time is largely redundant to ", ".", "\nAll functionality of ROS 2 simulated time can also be achieved by providing a custom ", " clock encapsulating the ", " which would look like this (modulo some shared ptr shenanigans I omitted):", "So from my point of view it is hard to justify using ROS 2 Time as:", "So given our use cases, are there arguments speaking for using ROS 2 Time in our code instead of ", "?", "I totally agree.", "\n+1 for using modern C++ and avoid redundancy.", "ROS2 time is probably there to support in an unified manner the different client libraries.", "Also to provide simulation in lockstep and at a different rate from 1:1", "These are the first reasons that come to my mind.", "Is it important for your product to support being used by two nodes in the same process at the same time?", "If ", " used ", " then there could only be one clock per clock type per process. If a process with two nodes starts and a user sets ", " to ", " on one node and ", " on the other then what time should ", " return?", ":  You can wrap the clock provided by the node again in a ", " clock wrapper and you would have simulation time available.:", "The additional safety of not mixing clocks is lost in this case, but ROS 2 time is also not safe in this regard and not likely solvable.", "If I understand correctly, I think the issue is that the ", " don\u2019t allow ", " to be a non-static member function.  ", " has to be ", " and could not access ", ".", "A while ago I did try prototyping a clock that conformed to the ", " requirements except with a non-static member ", ". Not all C++ API\u2019s allow this. For example ", " tries to call ", " on the time point passed into it. I gave up because whether or not an API calls ", " in its implementation is undefined behavior.", ": Oh, that is a really good point! Thank you!", "They should have designed ", " as they fixed ", ". ", "This has the interesting implication that ROS 2 time can never be converted to ", " time and used with the standard library as it is not determinable from which clock the time came.", "I will check if it is possible to create a ", " clock which at least works on a global level such that an error is produces when someone tries to switch a node to a different time than some global setting.", "This has the interesting implication that ROS 2 time can never be converted to ", " time and used with the standard library as it is not determinable from which clock the time came.", "Why? From my perspective the time point returned from ROS Time must be compatible with the system clock since that\u2019s what is returned when no simulated time is used.", "I don\u2019t see any reason why we could not have a conversion function between a ROS Time instance and a chrono ", " instance.", "I will check if it is possible to create a ", " clock which at least works on a global level such that an error is produces when someone tries to switch a node to a different time than some global setting.", "I don\u2019t think that\u2019s what ", " was after, it might be totally correct to have one node using sim time and the other not, I see no reason to couple it to a global state.", "Also, you have to consider the case where two nodes exist and only one has the subscription to the ", " topic and then that node is destroyed. Now the second node still exists and is expecting sim time but has no clock subscription.", "These cases are why we have a non-global and non-static clock class.", ": Thank you for your input!", "I checked the code more closely and it is actually encoded in ", " which clock was used. This is great! But if it set to ", " I have no information about the state of the clock which was used to create this ", ", right? Maybe it was simulated time, maybe something else. Should ", " not have a pointer to the associated ", "?", "Maybe I am missing a feature in ROS 2 time which solves this issue but I am unable to find it.", "I am also unsure about the solution how would one implement the conversion from ", " to ", ".", "One could use ", " or extend the standard library but those are surely not optimal solutions.", "So this is where my expectation for ROS Time and what is actually implemented right now has diverged.", "My expectation is that ROS Time would not be able to store or provide Steady time, and instead that would be a separate type or just be ", " instead.", "I did bring up this issue at the time, but I think the refactor to address my concerns was tabled for later, but unfortunately I don\u2019t see an issue on ", " tracking the problem either. ", " do you know if this is tracked somewhere? Perhaps on a meta issue or something?", "Either way it is stated this way in the design document:", "  will be typed differently than the interchangable  ", "  and  ", " . This is because SystemTime and ROSTime have a common base class with runtime checks that they are valid to compare against each other. However SteadyTime is never comparable to SystemTime or ROSTime so it would actually have a separate implementation of the same API. Thus you could get protection from misusing them at compile time (in compiled languages) instead of only catching it at runtime.", "\u2013 from: ", "If you assume that this change is made, then ROS Time (i.e. ", ") can only either be from the system time or from a custom time source. However, the custom time source must provide a time that is \u201ccompatible\u201d with system time. For me that means it uses the same epoch (i.e. unix epoch) and it follows the same behaviors like handling leap seconds. Put another way a time stamp from system time and the same timestamp from a custom time source should match when converted to a date time (yyyy-mm-dd-\u2026).", "So with that assumption, the conversion function would look like this:", "do you know if this is tracked somewhere? Perhaps on a meta issue or something?", "I don\u2019t think that this ended up being tracked because there was a desire to not grow the backlog with enhancement tickets for known things to do. We specifically did leave it in the design document as a specific choice. And since it\u2019s something open that might be able to be picked up by someone else it would probably be worth us opening an issue to track it.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", " uses ", " already.", "\n", " is safer as it is not possible to mix durations from different clocks.", "\n", " allows a custom time representation allowing to create overflow and underflow safe time operations.", "With sticking to a single time library there is no confusion on which to use when and no performance degradation from type conversion.", "\n", " is the C++ standard many people are already familiar with."], "url": "https://discourse.ros.org/t/ros-2-time-vs-std-chrono/6293"},
{"title": "Industrial_utils porting to ROS2", "thread_contents": ["Anyone working on porting industrial_utils to ROS2? If not, our team at Persistent System is ready to put the effort in porting iindustrial_utils to ROS2. Please let us know if anyone has any concern or any vital information that we will help us in this porting effort. If anyone has already started already working on porting industrial_utils, Please let us know if you will be interested to obtain our assistance in the porting effort.", "\n", " , I see that you are the maintainer of this package in ROS, hence I\u2019m tagging you here in this post.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/industrial-utils-porting-to-ros2/6406"},
{"title": "Functional Safety Design Patterns", "thread_contents": ["As ROS2 seems to consider functional safety in the system design it\u2019s probably worth checking out the thesis ", ". The thesis recommends SW and SW/HW design patterns based on safety integrity level (SIL) requirements. The required SIL usually depends on the domain (e.g. automotive, avionics, medical, etc.) the system is used in, application specific risk estimations, etc. . The patterns are not limited to Embedded Systems but generic and can potentially be adapted to ROS2 on different levels (source code level, node level, collection of nodes implementing a \u201ccross-cutting\u201d feature). The reliability of some ROS2 core components could potentially be improved. I don\u2019t want to raise the question if and in case which ROS2 components should consider the design recommendations. However I think it could help a lot to point at this topic early to prevent from technical debt and/or \u201cvendor\u201d specific forking/development/maintenance of ROS2 core components which could easily be shared without conflicting with vendor specific interests.", "Some things to point out:", " Probably interesting for SoM (H-ROS), HRIM as well as MARA.", "Many thanks ", ", we\u2019re processing it and will apply as much as we can into our systems.", " You are welcome.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["The HW patterns from the catalog of patterns (6.8. Catalog Structure) are not about HW only but imply/require SW considerations as well.", "The list of \u201chigh, architectural level\u201d patterns is not exhaustive.", "The list of \u201clow, idiomatic level\u201d patterns is not considered at all. In the HAL-level of MCUs vendors usually provide \u201cself-test libraries\u201d e.g. for ", " to implement the SW for HW-based self-check capabilities. The libraries of MCU vendors usually provide one implementation variant for e.g. the \u201cmemory self test\u201d pattern. However, also in this layer of abstraction, there are different alternatives how to implement a single pattern.", "The level of abstraction does not always allow a strict categorization of patterns. They can sometimes be applied to different levels of abstraction.", "A single pattern or a combination of different patterns (either addressing SW or HW+SW) can lead to the same end result w.r.t. satisfying the required reliability/safety requirements. The recommendation of decision trees to support the design process (6.5. Decision Support) has been implemented as part of the thesis but which is unfortunately not publicly accessible."], "url": "https://discourse.ros.org/t/functional-safety-design-patterns/6364"},
{"title": "Functional Safety Design Packages", "thread_contents": ["To ease certification of embedded systems with functional safety requirements many vendors of MCUs provide \u201cFunctional Safety Design Packages\u201d (e.g. ", ", ", ").", "These design packages contain:", "The same approach used by these vendors on the MCU/HAL level could be adapted to ROS2 on various levels as well. E.g. H-ROS system components, higher level application SW components, etc.", "Adopting a \u201cdesign package\u201d approach would help to:", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["SW/hardware abstraction libraries (HAL) for the MCU", "documentation about the design (basis for certification(s) of \u201cdesign package\u201d), e.g. refer to ", "\n", "\u201cdesign package\u201d certification document(s) (to justify suitability for system integration of the \u201cdesign package\u201d)", "documentation about \u201cFailure Mode and Effects Analysis\u201d (FMEA) and \u201cFailure Modes, Effects and Diagnostic Analysis\u201d (FMEDA) to ease certification of the overall system", "save vendor specific resources", "enable acceptance of ROS2 in the industry", "establish ROS2 as a standard in robotics with broad acceptance (not limited to research and low risk domains and applications but higher risk domains and applications as well)"], "url": "https://discourse.ros.org/t/functional-safety-design-packages/6451"},
{"title": "ROS2 Documentation", "thread_contents": ["Perhaps I should start a different thread on this \u2013 but I think documentation plans for ROS2 is also a major concern for adoption by ROS1 users (and all users really).", "Currently, most things seem to be documented in the ros2 github wiki, or the design documents. But now that there is a larger group working on porting things to ROS2, I\u2019m not sure where documentation is supposed to go.", "Given the flat namespace of the current wiki, along with the maintenance issues of the custom MoinMoin stuff, should there be a separate wiki for ROS2? Is the ros2/rosdistro being parsed anywhere currently? The original ROS wiki push done at Willow was definitely a turning point in ROS adoption.", "Also, I personally find it is pretty hard to locate where the ROS2 version of a particular package might be (for instance, I only recently noticed that there was an RVIZ repo under the ros2 org). Do we have any \u201cbest practices\u201d for where to put things? I know there is a lot of working going on with the \u201cnavigation2\u201d package in ros-planning org, but should we instead have a ros2-planning org?", "-Fergs", " I jumped this into a new topic as it\u2019s worth it\u2019s own thread and it\u2019s still an area of active development.", "Currently, most things seem to be documented in the ros2 github wiki, or the design documents. But now that there is a larger group working on porting things to ROS2, I\u2019m not sure where documentation is supposed to go.", "There\u2019s actually a drafted design document about documentation from several years ago ", " It\u2019s only a draft but lays out a lot of our thoughts on how to help our system scale better than the wiki and associated infrastructure. We have not fully revisited that or tried to fully implement it yet. But for the Crystal release we\u2019re targeting getting some minimum viable products out to help organize the ecosystem. In particular we\u2019re looking to federate the documentation in the same model as we do the code and keep the documentation and the code closer together.", "Given the flat namespace of the current wiki, along with the maintenance issues of the custom MoinMoin stuff, should there be a separate wiki for ROS2? Is the ros2/rosdistro being parsed anywhere currently? The original ROS wiki push done at Willow was definitely a turning point in ROS adoption.", "We\u2019ve been prototyping a new documentation site based on ", " ", " 's ", ".", "We have a test site live at ", " It\u2019s still a prototype that we\u2019re working on.", "If you\u2019d like to see what\u2019s happening please take a look at:", "A community-maintained ROS package index. (source code) - ros-infrastructure/rosindex", "As always contributions are appreciated and welcomed. There are several enhancements that are ticketed but not yet implemented. And if you have other ideas of what could be added or improved please open issues or PRs.", "Also, I personally find it is pretty hard to locate where the ROS2 version of a particular package might be (for instance, I only recently noticed that there was an RVIZ repo under the ros2 org)", "Once the index is up at least things that are indexed should be much easier to find. ", " which can get you pretty quickly to ", "Do we have any \u201cbest practices\u201d for where to put things? I know there is a lot of working going on with the \u201cnavigation2\u201d package in ros-planning org, but should we instead have a ros2-planning org?", "I recommend keeping code as close to the existing hosting as possible, without being too disruptive. If you\u2019re doing a straight port, we\u2019ve found that having ROS2 branches in the same repository as the ROS1 branches works well. If there\u2019s a significant structural change or a significantly different development team/workflow etc a separate repository can be helpful to keep issues separate. It\u2019s always a judgement call and a balancing act between forks or branches.", "In contrast, I\u2019d recommend against creating duplicate organization units. I see that the organizations represents a ROS sub-community and recreating the sub-community structure for a new version of the software doesn\u2019t really make sense. We did separate a lot of things into separate organizations and websites in our early prototyping but that was mostly to keep things cleanly separated so that ROS users wouldn\u2019t accidentally stumble upon early prototypes of ROS2 and try to use it and get confused when it didn\u2019t work, or wasn\u2019t compatible.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-documentation/6475"},
{"title": "Relaxing ROS2 topic/service field name restrictions", "thread_contents": ["Back in 2015, the ROS2 rules for the names of fields in topic and services were tightened up to disallow uppercase characters (and hence camel case).  The original discussion seems to have been here:", "with the follow-up PR done here:", "Since then, some users of ROS2 have expressed a desire to loosen these restrictions, and put the rules back to what they were in ROS1 (allowing camel case, among other things).  I\u2019m interested in hearing opinions from the community on whether the restrictions are beneficial, harmful, or don\u2019t matter very much.  Thoughts welcome!", "My 2 cents: Either use _ as the word separator throughout or CamelCase, but please not both.", "My 2 cents: Either use _ as the word separator throughout or CamelCase, but please not both.", "Says the guy with handle ", " ", "Jokes aside, from the google groups discussion I don\u2019t really understand why the decision to enforce stricter rules in the first place was reached, but I haven\u2019t really been following the developments as much.", "In my opinion minimizing the migration effort by far outweights the consistency concerns. Consistency can be improved by having some style guide and linters to educate users and maybe even enforce the rules for new core messages. At the same time we should still allow exceptions, in particular also to accommodate non-public messages people might have. So for that reason I\u2019m in favor to have the same rules as for ROS1, unless there is a very strong technical reason to change it (making constants easier to distinguish from fields is nice, but not a very strong reason but rather only a little bonus IMHO, especially since most IDE\u2019s have syntax highlighting for that sort of thing).", "For core messages like ", ", I personally would only change them if there is a strong reason to do so and if there is consensus among a larger number of actual users of these messages that the new version is actually an improvement. For some suggestion of one person of a more consistent / understandable naming, there are probably 5 people that disagree or have their own alternative suggestions.", "Says the guy with handle ", "Oops ", " Having to say, that was system-generated\u2026", "Regarding migration and consistency: I agree with you there. Maybe we should have this as a warning rather than an error.", "My 2 cents: Either use _ as the word separator throughout or CamelCase, but please not both.", "The idea is that we would stay consistent in the core (probably keeping with the current underscore approach), but would open it up so that developers of downstream packages could use what they like.  My two concerns with the current restriction is for migration (as ", " pointed out), and the \u201cgetting started\u201d cost for new users.", "For core messages like ", " , I personally would only change them if there is a strong reason to do so and if there is consensus among a larger number of actual users of these messages that the new version is actually an improvement. For some suggestion of one person of a more consistent / understandable naming, there are probably 5 people that disagree or have their own alternative suggestions.", "We are in an interesting situation with things like CameraInfo.  When we originally ported CameraInfo to ROS2, we made it follow the current underscore/lowercase restrictions.  If we relax the restrictions, we could go back to making it consistent with ROS1, but at the cost of being inconsistent with earlier versions of ROS2.  I\u2019m not sure which way we would go, though it is not my intention in this thread to hash that particular detail out.  I mostly just want to see what people think about the current restriction.", "Regarding migration and consistency: I agree with you there. Maybe we should have this as a warning rather than an error.", "That would be possible as well, though I still think it is a developer unfriendly.  After all, there is no ", " a message can\u2019t have CamelCase fields, so for those who want to do that they could never have a warning-free build.", "If we relax the restrictions, we could go back to making it consistent with ROS1, but at the cost of being inconsistent with earlier versions of ROS2. I\u2019m not sure which way we would go \u2026", "I think the obvious thing to do is go with the larger current user base, so go back to the ROS 1 style. That is if consistency is the only thing that matters, but I see it as improving what was in ROS 1 to make that message more consistent with the others. By and large the rules we\u2019re enforcing in ROS 2 were the common convention in ROS 1, it\u2019s just that this particular message was different from the other ROS 1 messages, so when we enabled the enforcement it was out of line already.", "That would be possible as well, though I still think it is a developer unfriendly. After all, there is no ", " a message can\u2019t have CamelCase fields, so for those who want to do that they could never have a warning-free build.", "For me the obvious case solution is to provide a linter, enable it by default, and provide a convenient way to silence the linter in particular cases that you\u2019re unwilling to change, a la ", ".", "Why not make \u201ccase\u201d and \u201c_\u201d transparent so that they may be optionally used for documentation clarity, but from a programatic perspective these would all be the same:", "FredFrog", "\nfredFrog", "\nfredfrog", "\nfred_frog", "\nf_e_d_f_r_o_g", "\nFREDfrog", "\netc.", "take any string, toLower, substitute _ for nothing, then compare strings.", "After all, there is no ", " a message can\u2019t have CamelCase fields", "Well, the reason is consistency. All other things being equal, it would be better if there would one, consistent way of naming fields. This makes developers\u2019 lives easier.", "The trouble, of course, is that we have legacy, so the question is how to deal with that. On the one hand, ROS 2 has already made so many breaking changes that one more doesn\u2019t seem like a big deal.", "On the other hand, currently with a fairly small amount of pre-processor conditionals and appropriate \u201cusing\u201d directives, we can write components which work on both ROS1 and ROS2, as long as the field names stay the same. If field names change, we can still address this with pre-processor conditionals, but it becomes unbearable. This is the rationale for allowing it at all.", "Still, for the future, why not ensure more consistency. No harm, right? There is no ", " of either naming convention over the other, we just have to pick one.", "To get rid of the warnings, we can put messages on a legacy list or something like that.", "For me the obvious case solution is to provide a linter, enable it by default, and provide a convenient way to silence the linter in particular cases that you\u2019re unwilling to change, a la ", " .", " on this solution + maybe a \u201cconvention\u201d disallowing this opt-out for new messages in core packages.", "I\u2019m still not convinced on the ", " case. I do agree that consistency by itself is valuable in particular also for the core messages and maybe this is a good time to improve things, but from past experience with writing datatype converters between different systems (a few iterations of of ROS1 + X) I still believe that ease of transition in this particular case is more valuable. (But then again, I don\u2019t really know what overhead is really incurred by changing message and field names in this case, so it\u2019s hard to judge for me.)", "Still, for the future, why not ensure more consistency. No harm, right? There is no ", " of either naming convention over the other, we just have to pick one.", "Fully agreed on no harm / only benefit, if we consider only new messages and leave legacy as they are.", "To get rid of the warnings, we can put messages on a legacy list or something like that.", "\u201cLegacy list\u201d sounds like a centrally managed solution (probably you didn\u2019t mean that anyway), but we would need is an in-package per-message opt-out option (a la ", " as William mentioned).", "Why not make \u201ccase\u201d and \u201c_\u201d transparent so that they may be optionally used for documentation clarity, but from a programatic perspective these would all be the same:", "Not sure about this, sounds to me like more potential for things going wrong, as IMHO it is a surprising convention for people that are not already familiar with the rules and thus is likely to result in tools / scripts that work in many cases, but break in surprising ways since this rule was not accounted for.", "Even very simple things like topic names ", " and ", " not being treated equal has caused me many a headache in rosbag processing.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/relaxing-ros2-topic-service-field-name-restrictions/6371"},
{"title": "ROS2 Navigation WG - next Thursday 10/18/18 10am Pacific (GMT -7:00)", "thread_contents": ["All,", "\nSorry it has been awhile since we had a meeting. We\u2019re having a meeting next Thursday.", "Thursday, October 18", "10:00 \u2013 11:00am", "\ue04b", "Real-time meetings by Google. Using your browser, share your video, desktop, and presentations with teammates and customers.", "\ue0cd", "\u202a+1 470-326-0279\u202c PIN: \u202a345 848 516\u202c#", "Also, please reply here if you plan to attend so we have some idea of who to expect.", "Thanks,", "\nMatt", "I\u2019ll be there, I\u2019d like to see how things have progressed.", "Thanks,", "\nRay", "I\u2019ll be there!", "-Fergs", "All,", "\nWe have a lot to cover, so we\u2019ll probably go until 11:30 tomorrow:", "Agenda: (about 5-10 minutes on each)", "For each topic, we\u2019re prepping a README in the repo which will explain what we\u2019ve done and why. We\u2019ll keep it high level and quick, but can obviously take more questions off-line through github issues.", "Last topic:", "\nHelp Wanted - we\u2019ll try to ID some issues where people could help if they\u2019re interested", "I\u2019ll be there as well. Thanks!", "~ Ian", "Sorry, the calendar link was broken, so I removed it, but the \u201cJoin Hangouts Meet\u201d link should be all you need to join in tomorrow.", "So sorry but I have completely mismanaged my calendar. I have a conflict and will not be able to attend, I\u2019m going to try to get one of our other engineers to attend in my stead. Are you planning on posting a summary? I would really like to understand the progress and timelines.", "Thanks,", "\nRay", "I\u2019ll be planning to attend.", "-Nick", "Ray, no problem. We\u2019ll post some notes. Also we have been documenting what we plan to cover in several PRs. See this issue for links:", "\n", "\n", "If you want to read through those and post feedback to the PRs, that would be great.", "10:00 \u2013 11:00am", "I might add a timezone in the future for those that don\u2019t know you\u2019re in Oregon.", "Steve", "You\u2019re right, it\u2019s in the title but not the body, I thought I had it in both", "Oops, no you\u2019re right, I didn\u2019t read the title closely. Disregard\u2026", "Hi!  I\u2019m in,  sorry, didn\u2019t read the request for confirmation till now", "Here are the notes from last week\u2019s meeting. Thank you to all who attended!", "Thursday 10/18/18 10am Pacific (GMT -7:00)", "Agenda: (about 5-10 minutes on each)", "Participants:", "Current status", "System overview with comparison to ROS Navigation", "AMCL / Localization", "Map Server", "Costmaps", "Mission Execution", "Navigation (Simple Navigator and BT Navigator)", "Global Planner", "Local Planner", "Other questions", "Ferguson: Stack to the point where it can run on hardware? He can help on that.", "Ross: What is the reasoning to use a world model for the api to costmap_2D and instead use a plugin? Some local planners use different concepts of path, such as a vector field, or series of waypoints + vector field to compute a local trajectory, how would this design solve passing that data to the local planner?", "Steve: Need a migration plan from Task to Actions lib", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Current status", "System overview with comparison to ROS Navigation", "AMCL / Localization", "Map Server", "Costmaps", "Mission Execution", "Navigation", "Global Planner", "Local Planner", "Sam - new attendee", "Steve Macenski (Simbe Robotics)", "Mike Ferguson", "Stephen Phillips", "Nick Burek (Amazon)", "Jorge Santos Simon (Magazino)", "Mauro Passerino (iRobot)", "Ross Desmond (Amazon)", "Daniel Stonier (Toyota)", "Ian McMahon (Toyota)", "David Lu", "Intel (Matt, Mike, Carl, Mohammad, Brian, Carlos)", "No comments or feedback", "(Ian?) Likes making AMCL a package that can be used outside of navstack", "Jorge Santos: MRPT localization (Mobile Robot Programming Toolkit)\n", "\u201cBetter experience with this than with AMCL\u201d", "\n", "Support for maps from Cartographer?", "Discussion around Dynamic Reconfigure\n", "See issue here: ", "\n", "\n", "Ian (Toyota): Generalize BT module", "Ferguson: For now BT resides on nav2", "Jorge: can load other planners as plugins? Pattern is different now, each planner implements the ComputePathToPoseServer.", "Look into implementing a simple planner. \u2013 Carlos: should we implement minimal examples for each module: minimalPlanner, minimalController, minimalAMCL?", "Ferguson: Planner can be cancelled? Two things need to happen:\n", "Controller can be stopped in the middle of a computation", "The task can be preempted", "\n", "Steven: Clarify recovery behaviours\n", "This is handled by the BT", "\n", "We believe this would be handled by adding the corresponding action type for the planner in question, however an example would help us to test that reasoning", "Ross - please file an issue with an example of a planner, so we can determine if we\u2019re able to handle that or similar planners.", "Matt is currently working with OSRF and will file issues for the work needed when the design is understood"], "url": "https://discourse.ros.org/t/ros2-navigation-wg-next-thursday-10-18-18-10am-pacific-gmt-7-00/6443"},
{"title": "ORB_SLAM 2 porting to ROS2", "thread_contents": ["Anyone working on porting ORB_SLAM 2 to ROS2? If not, our team at Persistent System is ready to put the effort in porting ORB_SLAM 2 to ROS2. Please let us know if anyone has any concern or any vital information that we will help us in this porting effort. If anyone has already started already working on porting ORB_SLAM 2, Please let us know if you will be interested to obtain our assistance in the porting effort.", "\n", "@gmail.com  I see that you are the maintainer of this package in ROS, hence I\u2019m tagging you here in this post.", "Hi, I  ported the ORB_SLAM2 monocular example to ROS2 Bouncy just yesterday.", "ROS2 node wrapping the ORB_SLAM2 library. Contribute to alsora/ros2-ORB_SLAM2 development by creating an account on GitHub.", "I managed to get it working fine with images coming from my laptop camera.", "\nI did the porting really quickly, just to see if it was working, but in the next days I hope to have time to port also the other camera modes and improve the building process", "Besides the porting of the ORB_SLAM2 examples, I am trying to create a version of the library fully compatible with ROS2.", "I removed the dependency on Pangolin, in order to let all the SLAM data to be published on ROS2 topics, thus allowing to visualize them with Rviz and to plug this SLAM node into a complete navigation solution.", "I would like to facilitate the cross-compilation of ORB_SLAM2 with ROS2 for the RaspberryPi and then try to run the whole system there, reducing the camera frame rate.", "You can find here the ROS2 version of the ORB_SLAM2 library; it includes a Dockerfile for building everything you need.", "\nIf you have suggestions  or features that you would like to change, just let me know or contribute with a PR!", "Real-Time SLAM for Monocular, Stereo and RGB-D Cameras, with Loop Detection and Relocalization Capabilities - alsora/ORB_SLAM2", ", Thanks for letting us know that you ported ORB_SLAM2 to ROS2. This is really helpful for the whole ROS2 community. As you mentioned that you are currently working on creating a version of the library fully compatible with ROS2, you can continue with your build/development/enhancement effort. During or at end of your porting effort, please let me know so that we can provide you assistance in testing fully ported ORB_SLAM2 into ROS2 so that we collaborate and run an extensive testing to confirm the functionality. Also, please let us know if you like to obtain any other assistance from our team at Persistent System, and we will be happy to contribute.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/orb-slam-2-porting-to-ros2/6418"},
{"title": "Simple_message porting to ROS2", "thread_contents": ["Anyone working on porting simple_message to ROS2? If not, our team at Persistent System is ready to put the effort in porting simple_message to ROS2. Please let us know if anyone has any concern or any vital information that we will help us in this porting effort. If anyone has already started already working on porting simple_message, Please let us know if you will be interested to obtain our assistance in the porting effort.", "\n", ",  I see that you are the maintainer of this package in ROS, hence I\u2019m tagging you here in this post.", "As none has responded, I\u2019m assuming none is working on porting this package to ROS2 at this time. If so, Our team at Persistent will work on porting this package very soon.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/simple-message-porting-to-ros2/6420"},
{"title": "Openni2_launch porting to ROS2", "thread_contents": ["Anyone working on porting openni2_launch to ROS2? If not, our team at Persistent System is ready to put the effort in porting openni2_launch to ROS2. Please let us know if anyone has any concern or can share any vital information that we will help us in this porting effort. If anyone is already working on porting openni2_launch, Please let us know if you will be interested to obtain our assistance in the porting effort.", "\n", " I see that you are the current maintainer, so tagging you here based on our offline communication.", "Thanks for offering. Let us continue discussion in ", " to keep discourse less noisy from very specific subjects like this.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/openni2-launch-porting-to-ros2/6567"},
{"title": "Roswww porting to ROS2", "thread_contents": ["Anyone working on porting roswww to ROS2? If not, our team at Persistent System is ready to put the effort in porting roswww to ROS2. Please let us know if anyone has any concern or would like to share any vital information that we will help us in this porting effort. If anyone has already started already working on porting roswww, Please let us know if you will be interested to obtain our assistance in the porting effort.", "\n", " I see that you are the maintainer of this package in ROS, hence I\u2019m tagging you here in this post.", "Thanks for offering. Let us continue discussion in ", " to keep discourse less noisy from very specific subjects like this.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/roswww-porting-to-ros2/6577"},
{"title": "Voxel_grid porting to ROS2", "thread_contents": ["Anyone working on porting voxel_grid to ROS2? If not, our team at Persistent System is ready to put the effort in porting voxel_grid to ROS2. Please let us know if anyone has any concern or would like to share any relevant information that we will help us in this porting effort. If anyone has already started already working on porting voxel_grid, Please let us know if you will be interested to obtain our assistance in the porting effort.", "\n", ", ", ", ", "  I see that you are the maintainer of this package in ROS, hence I\u2019m tagging you here in this post.", "Please see ", " \u2013 which is the port/update of navigation.In particular - ", " shows that this is labeled \u201chelp wanted\u201d \u2013 please follow up on that ticket", "-Fergs", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/voxel-grid-porting-to-ros2/6581"},
{"title": "Object_recognition_msgs porting to ROS2", "thread_contents": ["Anyone working on porting object_recognition_msgs to ROS2? If not, our team at Persistent System is ready to put the effort in porting object_recognition_msgs to ROS2. Please let us know if anyone has any concern or any vital information that we will help us in this porting effort. If anyone has already started already working on porting object_recognition_msgs, Please let us know if you will be interested to obtain our assistance in the porting effort.", "\n", ", I see that you are the maintainer of this package in ROS, hence I\u2019m tagging you here in this post.", ", Any comments? Are you ok for us to put effort in porting of object_recognition_msgs to ROS2?", "Thanks ", " for your interest in porting and maintaining ROS2 packages!", "Based on ongoing discussion at ", ", it looks like the ORK stack may not be a candidate for porting. So this package may not be worth porting for now (or maybe at all), packages needing computer vision messages should consider using the new ", "  package instead.", "To echo questions asked on separate threads, could you please provide more information on how the packages you and your team want  to port are selected? as well as the ROS2 maintenance plan for the ported packages?", "Thanks!", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/object-recognition-msgs-porting-to-ros2/6417"},
{"title": "Web-video-server porting to ROS2", "thread_contents": ["Anyone working on porting web-video-server to ROS2? If not, our team at Persistent System is ready to put the effort in porting web-video-server to ROS2. Please let us know if anyone has any concern or any vital information that we will help us in this porting effort. If anyone has already started already working on porting web-video-server, Please let us know if you will be interested to obtain our assistance in the porting effort.", "\n", "  I see that you are the maintainer of this package in ROS, hence I\u2019m tagging you here in this post.", "As none has responded with any concern, I\u2019m assuming, this package has not been on radar for porting by anyone. If so, Our team at Persistent will be working on porting this package very soon.", "Awesome. Great to hear. Can you send me your GitHub id? I can give you web-video-server mainatainership so that you can merge PR by yourself.", "Jihoon", "Are you referring to this repository: ", " ?", "If yes, there is already a PR porting the package to ROS 2: ", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/web-video-server-porting-to-ros2/6425"},
{"title": "Industrial_robot_client porting to ROS2", "thread_contents": ["Anyone working on porting industrial_robot_client to ROS2? If not, our team at Persistent System is ready to put the effort in porting industrial_robot_client to ROS2. Please let us know if anyone has any concern or any vital information that we will help us in this porting effort. If anyone has already started already working on porting industrial_robot_client, Please let us know if you will be interested to obtain our assistance in the porting effort.", "\n", " , I see that you are the maintainer of this package in ROS, hence I\u2019m tagging you here in this post.", "Hi ", "within ROS-Industrial we\u2019re very happy that community members are stepping up and want to contribute to the porting effort of packages from our GitHub organisations.", "However, we\u2019re currently setting up our roadmap and setting development goals for this inside our respective organisations and consortia.", "Porting individual packages \u2013 such as ", ", ", " and ", " \u2013 is nice, but our preference currently goes to a more coordinated and cohesive effort. An ad hoc transition of just parts of our infrastructure does not really fit with our style of development.", "Finally: a straight port of many of these packages may not even be that interesting and a transition to ROS 2 would seem to present a good opportunity to revisit some design decisions made in the past.", "Pull requests are of course always welcome, but it would be in all our best interests to try and avoid duplication of effort. If and when we start porting we\u2019ll make sure to reach out to you to see whether we can coordinate something.", "Edit: could I also please ask you to not direct-email individual maintainers? If you\u2019d like to start a discussion please post something in ", " and we can interact there.", ", thanks for your response and giving me some insight of your plan on enhancement + porting of industrial_* packages.  Do you have any timeline in mind when that can be accomplished so that ROS2 have all the critical packages available? If that timeline is not in near future, we can just port packages as is (if possible) and later focus on improvement. But if you have planned for it very soon, I completely agree with you that we should do both things together. As you mentioned that you are actively looking at enhancement opportunity for these packages, I\u2019ll have my team not to focus on industrial packages at this time, but if you need longer time for enhancement, and need extra-hands to do an interim porting of the package as is to ROS2 for immediate benefit of ROS2 community without you lose your focus on enhancement, let me know so that I can have my team assist on porting.", "We\u2019ll get back to you when/if it\u2019s appropriate.", "In the meantime, you posted ", ".", "That is also a ROS-Industrial package.", "Please take all ROS-Industrial packages of your to-port list for the time being as we\u2019re sorting out the roadmap.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/industrial-robot-client-porting-to-ros2/6405"},
{"title": "Roslisp porting to ROS2", "thread_contents": ["Anyone working on porting roslisp to ROS2? If not, our team at Persistent System is ready to put the effort in porting roslisp to ROS2. Please let us know if anyone has any concern or any vital information that we will help us in this porting effort. If anyone has already started already working on porting roslisp, Please let us know if you will be interested to obtain our assistance in the porting effort.", "\n", ", ", "@cs.tum.edu I see that you are the maintainer of this package in ROS, hence I\u2019m tagging you here in this post.", "As none has responded, I\u2019m assuming none is working on porting this package to ROS2 at this time. If so, Our team at Persistent will work on porting this package very soon.", " Sorry for the late response and thank you for offering to port roslisp to ROS2! We are currently not working on porting roslisp to ROS2. ", "@cs.uni-bremen.de What do you think?", "Actually, I am surprised about your request. Why do you want to port roslisp to ROS2? We are using it in our research quite a lot, but are not clear on how to port it to ROS2. Does your team have experience with SBCL? How do you plan to approach the port?", "Also, ", " is a port of roslisp needed for ROS2?", "Since roslisp is a client library rather than a bunch of nodes, it will need to be rewritten for ROS2 rather than just ported. Theoretically, it should be easier because \u201call\u201d that is needed is wrapping ", ".", "Also, ", " is a port of roslisp needed for ROS2?", "I think being able to write ROS2 code in lisp would be as welcome as it is in ROS1. ", " Thanks for the quick answers. I have not yet looked into ", ". Wrapping would be the preferred way, for sure. Is ", " and its API stable enough to do this for other client libraries, yet?", "To clarify: My other question was intended to mean: Is roslisp on any dependency-path of ROS2? I hope not, but wanted to be sure.", "Several additional client libraries that wrap ", " have already been produced, such as for C# and Rust.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/roslisp-porting-to-ros2/6419"},
{"title": "ROS1 to ROS2 Migration Tools", "thread_contents": ["Over at Amazon we have started doing ROS1 to ROS2 migrations and decided to automate some of the repetitive tasks in a set of tools. We\u2019ve open sourced the tools so everyone can leverage them, the code can be found at ", ". The package also contains some documentation on the general process of migrating a package and what changes need to be made. This is just a beginning and there\u2019s a lot of room for improvement. We\u2019d love to have anyone interested in the migration effort contribute to make these tools as useful as possible as well as provide us feedback.", "The tooling is generic enough so that it should be helpful for migrating any ROS package, but it won\u2019t do 100% of the work. I\u2019d recommend trying it out on the talker example from the migration guide (", ") to get a sense of the current state. We\u2019re also happy to take pull requests for new features.", "Yes, ROS2 is targeting Python 3 (", ") so it seemed reasonable that the migration tooling would also target Python 3.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Can we migrate all the things with this tool?", "Is it required only Python 3?", "\n", "\n", "\n", "\n"], "url": "https://discourse.ros.org/t/ros1-to-ros2-migration-tools/6505"},
{"title": "Geometric_shapes porting to ROS2", "thread_contents": ["Anyone working on porting geometric_shapes to ROS2? If not, our team at Persistent System is ready to put the effort in porting geometric_shapes to ROS2. Please let us know if anyone has any concern or can share any vital information that we will help us in this porting effort. If anyone is already working on porting geogeometric_shapes, Please let us know if you will be interested to obtain our assistance in the porting effort.", "\n", ", ", ", I see that you are the current maintainer, so tagging you here.", "The MoveIt! team welcomes your support in migrating geometric_shapes, that would be great!", "There are a number of open issues around some of the mesh and shape functionality that would be ideal to address now, also. Adding test coverage would be great, too. Feel free to reach out to me offline to discuss possibly getting commit access.", "@ ", ", thanks for your response. I\u2019m adding Geometric_shapes in our to-do list and as soon as team is done with first set 6 packages that we are actively working on either porting+testing or testing (as porting is already done), we will prioritize geometric_shapes. We will also reach out to you when we get there which will be very soon.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/geometric-shapes-porting-to-ros2/6561"},
{"title": "Srdfdom porting to ROS2", "thread_contents": ["Anyone working on porting srdfdom to ROS2? If not, our team at Persistent System is ready to put the effort in porting srdfdom to ROS2. Please let us know if anyone has any concern or would like to share any relevant information that we will help us in this porting effort. If anyone has already started already working on porting srdfdom, Please let us know if you will be interested to obtain our assistance in the porting effort.", "\n", ", ", ", I see that you are the maintainer of this package in ROS, hence I\u2019m tagging you here in this post.", "I believe ", "\u2019s response in ", " applies to this as well.", ", thanks for your response. As srdfdom follows geometric_shapes, I\u2019m adding srdfdom in our to-do list and as soon as our team is done with first set 6 packages that we are actively working on either porting+testing or testing (as porting is already done), we will prioritize srdfdom along with geometric_shapes.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/srdfdom-porting-to-ros2/6580"},
{"title": "Tf2_sensor_msgs porting to ROS2", "thread_contents": ["Anyone working on porting tf2_sensor_msgs to ROS2? If not, our team at Persistent System is ready to put the effort in porting tf2_sensor_msgs to ROS2. Please let us know if anyone has any concern or any vital information that we will help us in this porting effort. If anyone has already started already working on porting tf2_sensor_msgs, Please let us know if you will be interested to obtain our assistance in the porting effort.", "\n", ", I see that you are the maintainer of this package in ROS, hence I\u2019m tagging you here in this post.", "Hi ", ": It\u2019s great that you and your team are willing to port (and I assume assist with the maintenance) of over two dozen ROS packages! It\u2019s quite unprecedented!", "Could the community have a bit more insight into how your team is funded and what your long-term interest is? It would be unfortunate if there was a burst of effort put in and then these packages were then left orphaned.", "As none has responded, I\u2019m assuming none is working on porting this package to ROS2 at this time. If so, Our team at Persistent will work on porting this package very soon.", "@", ", Thank you. Thats a valid ask and I\u2019ll sent out a seperate communication on that to interested parties very soon.", "Thats a valid ask and I\u2019ll sent out a seperate communication on that to interested parties very soon.", "Given the large number of packages you are proposing to port, I think that \u201cinterested parties\u201d is everyone. Please post this information to Discourse for all to read.", ", Sure, I\u2019ll share this information very soon.", "Coming to back to original ask - I did not see any response that anyone is working actively on porting tf2_sensor_msgs to ROS2. I\u2019m assuming that this package might not have been taken up by anyone. If so, I\u2019ll add this to our to-do list as well. If anyone has any concern, please let me know.", "I have a PR pending for the C++ elements of it", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/tf2-sensor-msgs-porting-to-ros2/6423"},
{"title": "Geographic-msgs porting to ROS2", "thread_contents": ["Anyone working on porting geographic-msgs to ROS2? If not, our team at Persistent System is ready to put the effort in porting geographic-msgs to ROS2. Please let us know if anyone has any concern or any vital information that we will help us in this porting effort. If anyone is already working on porting porting geographic-msgs, Please let us know if you will be interested to obtain our assistance in the porting effort.", "\nFYI: Jack, I see that you are the current maintainer, so  tagging you here - ", "@gmail.com", "It looks like the package has been ported already and the code is available on the ", ", there is a follow-up PR at ", " that is pending review and merge.", "If you get a chance to confirm that that PR works for you it would be great. Otherwise I think this package can be considered ported.", ", we will verify and confirm if the PR works for us and keep you posted.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/geographic-msgs-porting-to-ros2/6394"},
{"title": "Uuid-msgs porting to ROS2", "thread_contents": ["Anyone working on porting uuid-msgs to ROS2? If not, our team at Persistent System is ready to put the effort in porting uuid-msgs to ROS2. Please let us know if anyone has any concern or any vital information that we will help us in this porting effort. If anyone has already started already working on porting uuid-msgs, Please let us know if you will be interested to obtain our assistance in the porting effort.", "\n", " , I see that you are the maintainer of this package in ROS, hence I\u2019m tagging you here in this post.", "As none has responded, I\u2019m assuming none is working on porting this package to ROS2 at this time. If so, Our team at Persistent will work on porting this package very soon.", " did you ever decide if you wanted to use this in actions?", "Thanks ", " for your interest in porting packages to ROS2!", "Similar to ", ", this package and the others in the unique_identifier repo seem to already have a partial ros2 ports on the ", " branch, as well as PRs for full port awaiting review and merge: ", ".", "In order to reduce the noise on discourse I would like to encourage you to browse existing PRs and  issues for ROS2 ports and communicate there in priority.", "Thanks!", "The plan is to use UUIDs as goal IDs in ROS2 actions. As a stopgap, we might implement (or find) some tools for working with UUIDs in C (since the core logic for actions will be in ", "). But, ultimately we\u2019d like to port ", " as a core repo along with separate language specific libraries for working with UUIDs (ticket pending; last checkbox in ", ")", "For example, we might create a repo, ", ", with the following packages:", "Where the first three packages are ROS-agnostic libraries for working with UUIDs, and the last is essentially what uuid_msgs is now.", "If we go forward with making uuid_msgs a core repo, it looks like we can fork from ", ".", "\n", " (and others), what are your thoughts on replacing the unique_id package with language specific packages instead?", "what are your thoughts on replacing the unique_id package with language specific packages instead?", "I\u2019m in favour of this. Many languages (Python comes to mind as an example) have packages for working with UUIDs as part of their core libraries. Being able to leverage these where possible would reduce maintenance burden for the ROS libraries.", ", Thank you for your reply. Do you have any specific timeline in mind for stopgap as well as target separate language specific libraries?", "I expect the stopgap implementation will happen by end of next week (since we need this for the rcl implementation). I don\u2019t think the separate language specific libraries are as crucial, but hopefully they could be in for Crystal release (by end of December).", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["unique_identifier_c", "unique_identifier_cpp", "unique_identifier_python", "unique_identifier_msgs"], "url": "https://discourse.ros.org/t/uuid-msgs-porting-to-ros2/6424"},
{"title": "Sweep_ros porting to ROS2", "thread_contents": ["Anyone working on porting sweep_ros to ROS2? If not, our team at Persistent System is ready to put the effort in porting sweep_ros to ROS2. Please let us know if anyone has any concern or any vital information that we will help us in this porting effort. If anyone has already started already working on porting sweep_ros, Please let us know if you will be interested to obtain our assistance in the porting effort.", "\n", "  I see that you are the maintainer of this package in ROS, hence I\u2019m tagging you here in this post.", "Hi ", "! Thanks for taking this on! I do not know of anyone currently working on this port.", "Just so you know, Scanse shutdown, and thus sweep is no longer being produced.", "I\u2019m happy to give you permissions to the repo if you\u2019re interested in continuing development.", "-Kent", ", Thanks for the confirmation. As sweep device is no longer manufactured, porting this package to ROS2 may not be needed. We will monitor the need to port this package and take action as needed in future.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/sweep-ros-porting-to-ros2/6422"},
{"title": "Latency and throughput in ROS2", "thread_contents": ["The paper ", " evaluates the latency of ROS2 (different node configurations, different DDS implementations, different QoS policies, etc.).", "Does someone know if these results have been updated by some more recent work(s)?", "We will release a plugin-based tool that will let you evaluate latency and memory resource while altering number of pubs/subs, QoS, RT settings, large and small message types, publishing frequency, security settings, inter and intra process communication, etc. We need 2-3 more weeks, stay tuned.", "That\u2019s fantastic ", ", looking forward to have a look.", "On our side, we recently released a first tech report (", ") that\u2019s part of a series that hopefully will characterize better the latencies and throughput in ROS 2 while taking in consideration Real-Time aspects. This first tech report treats OSI layers 1 and 2.", "Hi all, we released the performance_test tool: ", " to e.g. benchmark latency, jitter, lost samples, etc. in different DDS implementations.", "\nCurrently supported benchmarking is for communication mean over:", "We plan to extend it to use ROS1 comms as well.", "Hope you find it useful, any feedaback is more than welcome.", "D.", "Hello !", "Nice tool ", " !", "What are the requirements on the RMW layer to be tested ?", "\nI have a ", ", but it currently only support simple pub/sub.", "\nIt would be interesting to measure performance with your tool and compare it to DDS implementations.", "Also (for latency), is it only measuring the end-to-end latency, or can it be more comprehensive ? For example measuring the time spent in each layer (RCL/RMW/DDS/Network).", "Hi ", ",", "I am the maintainer of the performance test tool.", "If you already have RMW implementation which supports pub/sub you should be able to directly test your communication mean without any additional work. You just need to set the proper environment variable ", " before starting the tool.", "It can not messure latency based on application layers unfortunately, for this it would have to be invasive in all these layers.", "But you can create a new communication plugin for the NDN transport as I did for FastRTPS here:  ", ".", "This will allow you to compare only the communication frameworks performance and will also give you some insight over the overhead the various RMW layers introduce.", "If you run into issues implementing the plugin I will be glad to support you.", "Thank you for your answer ", ",", "I was lacking some features (typesupport, proper management of multithreading, etc\u2026), but in the end I was able to test my stack with your package. Also, I already implemented the invasive solution for measuring the latency of each layers. I will ask you if I need help, thank you again.", "Hi ", ",", "Also, I already implemented the invasive solution for measuring the latency of each layers. I will ask you if I need help, thank you again.", "Would you mind sharing some more details about your solution for measuring latency in each layer? Maybe we could even integrate it into the performance_test itself.", "I didn\u2019t do anything complex, but since it is an invasive way of measuring, I don\u2019t know if it is easy to integrate into the performance_test. ", ", and then post processed with a python script. It is not very precise, but since I don\u2019t want the real latency (only being able to compare the two implementations), it is ok for me. To avoid the print extra cost during the experiment, you can register the events+timestamp in a (pre-allocated) table, and print everything at the end.", "Very nice. I was thinking if someone could do a  ros message extension to add-in the latencies at each layers in a private area of the message at each layer (encode as a BLOB) and could be retrieved at the subscriber to measure-in.", "For those interested, a new technical report studying this topic is available: ", ".", "Here\u2019s another update: ", "In this work we present an experimental setup to show the suitability of ROS 2.0 for real-time robotic applications. We disclose an evaluation of ROS 2.0 communications in a robotic inter-component (hardware) communication case on top of Linux. We benchmark and study the worst case latencies and missed deadlines to characterize ROS 2.0 communications for real-time applications. We demonstrate experimentally how computation and network congestion impacts the communication latencies and ultimately, propose a setup that, under certain conditions, mitigates these delays and obtains bounded traffic.", "Compared to other results:", "Hello Victor, thanks a lot for your reports, I\u2019m reading them right now and I came to a sentence that I don\u2019t understand. On ", " on the 4th page you say:", "Additionally, as Ethernet is asynchronous, the high priority frames sharing the same link can content between them.", "What does ", " mean in that context?", "Sorry if it\u2019s a bit of a picky question.", "Oops, later on I found the usage of ", " which now makes sense to me. I guess that one was a typo ", "Hey there ", "! It certainly sounds like a typo. Many thanks for reporting. Let us review it internally and report back if our mistakes go beyond that.", "Cheers!", "An another one:", "A new generation of robot systems which are modular, flexible and safe for human-robot interaction are needed. Existing cobots seem to meet only the later and require a modular approach to improve their reconfigurability and interoperability. We propose a new sub-class of cobots named M-cobots which tackle these problems. In particular, we discuss the relevance of synchronization for these systems, analyze it and demonstrate how with a properly configured M-cobot, we are able to obtain a) distributed sub-microsecond clock synchronization accuracy among modules, b) timestamping accuracy of ROS 2.0 messages under 100 microseconds and c) millisecond-level end-to-end communication latencies, even when disturbed with networking overloads of up to 90 % of the network capacity.", "Read the tech report at ", "Hi Victor,", "Thank you for the reports related to latency using RT_PREMPT linux and ROS 2 with various network settings. It was very interesting to read.", "Have couple of questions.", "In the base RT_PREEMPT linux kernel report (", "), I understand Table-III and Table-IV is what matters. But, while looking at, Table-II (Roundtrip latency results with RT normal), was curious if you know what might be the reason for TX traffic at 100Mbps, the MAX latency is considerably high at 25ms? I would expect latency to be high when RX traffic at 100Mbps", "In the ROS 2 evaluation report (", "), in Fig 5-a, when the system is idle, DDS2 has high MAX latency(4ms) compared to others. Was just curious which DDS implementation is this and what might be the reason?", "In the Fog 6-f of the ROS 2 evaluation report, at 80Mbps, where it cannot meet the deadlines and dropped packets, was curious, is ksoftirqd processing the packets the primary cause for the latency or can it be the DDS layer causing the latency. Also, about packets being dropped, would setting the size of kernel socket buffers ( net.core.rmem*, net.core.wmem*) would help too.", "Thanks", "\nAnup", " see 3 questions above by folks from Apex.", "Hi ", ", ", "Thanks for your feedback, I will try to clarify some of your doubts:", "Both TX and RX paths are suffering from the context change to the ksoftirqd threads but in a different way. In the transmission path both streams are going trough the same Qdisc queue. When there are packets pending to be transmitted in the Qdisc queue they are sent from the ksoftirqd context. At some point the fair scheduler decides that the ksoftirqd thread has consumed enough CPU and it is preempted. During this time, packets are accumulated and we observe high latencies in the order of milliseconds. For 100 Mbps it looks like the RX path, packet are processed more efficiently. This is probably because the Ksoftirqd context is not triggered all the time and part of these packets are processed in the Ethernet IRQ thread which has real-time priority. However, when we increased the network load of the concurrent traffic (>200Mbps) we observed also high latencies even in the RT normal case.", "For fig 5a and 5b we were using the default configuration of each DDS. In the case of that DDS the default configuration might not be optimized for low bounded latencies but for other purposes. However, when for the real-time settings (fig 5c and 5d) we customized the configuration of that DDS and the problem was solved.", "In this case we had 80 Mbps non-ROS 2.0 concurrent traffic with the ROS 2.0 round-trip traffic. As there is no contention in the DDS layers the problem was very likely caused in the kernel level. Posterior analysis tracing the kernel confirmed our suspects. Changing the socket queues may prevent packet drop but would not solve the root of the problem which is going to cause latency. The real problem is caused by how the net processing is deferred to ksoftirqd context. For the moment we can only mitigate these problems and expect this is solved in the new kernel releases.", "My colleague ", " just answered ", ". Ping me if you guys are around IROS and would like to discuss this face to face.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["FastRTPS directly", "ROS 2 rmw layer (and thus any supported rmw_* implementation)", "Connext DDS Micro directly", "All the measurements have been made in embedded devices.", "We measure latencies in a inter-component scenario. Given the lack of synchronization mechanisms (in this particular work we did not set them up), we use round-trip (ping-pong).", "Previous work focuses on the measurement of local latencies while we measure distributed ones.", "We measure how communications are affected in stressed conditions. This is the best way to show if the communication stack is well configured for real-time (which connects to previous work ", " and ", ").", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n"], "url": "https://discourse.ros.org/t/latency-and-throughput-in-ros2/4367"},
{"title": "ROS2: Security tools for development and production", "thread_contents": ["Hi all, my team at Amazon is looking for your input on security tools!", "Developers looking to secure their robots and actively develop new nodes will have to manually create keys and policies, as well as debug their node connectivity should security not be set up properly. Conversion from an unsecure DDS to secure DDS may also have a performance impact, therefore developers will need to test and develop with security enabled for production.", "SROS2 has done an excellent job creating their own wrappers to demonstrate the security capabilities of FastRTPS and RTI Connext. With this in mind, we want to bring forth three tools to make security quicker and less error prone for developers.", "\nThis is error prone for developers since we often use docker containers, different machines, direct development on the robot, and all the amazing ways we like to create robots.", "\n", "\nWe would like to present a cmake macro for generating the key and keystores during build time. Our macro uses SROS2 on the back end, but the macro definition should stay the same should a team want to define their own security generator. This enables each developer to have the expected authentication without having extra steps at run time. The ROS security environmental variables will still need to be set outside the macro.", "\n", "\n", "\n", "\n", "\n", "\n", "\nA release engineer or developer would need to inspect the node graph, all services, and soon actions to create policies for each node. We are considering creating two tools for easing deployment to production security and debugging.", "\n", "\nDevelopers will be using ROS2 for a myriad of applications, and teams will want to know the effects of choosing certain providers over others, and the level of security they need. ApexAI provides their repository (", ") which we will use to run a series of performance tests with and without security to prevent regression and understand system impact.", "\n", "Thanks for putting this together! Although not formally a command line tool, our team at Alias Robotics has been working on the Robotics CTF (RCTF). An online environment for penetration testing. RCTF can run both in our servers or locally through Dockerized scenarios (", ").", "We are making very active use of this with our clients and are more than happy to contribute with support and maintenance to the community.", "\nIn addition to the availability of the RCTF, we\u2019d be happy to put person-power and create custom scenarios for sensitive security aspects within ROS 2.0. This way, evaluation is simplified and easily accessible to a wide variety of security researchers", "\nStatus: In Code Review", "\nDeadline for release: 11/7/2018", "\nStatus: Blocked on Node Graph API", "\nDeadline for release: 11/14/2018", "\nStatus: Started for eprosima Fast-RTPS", "\nDeadline for release: 11/14/2018", "\nSee: ", "\nStatus: Upcoming", "\nDeadline for release: 11/16/2018", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["A node graph inspection tool will be available to take a snapshot of the node graph and generate policies for each node. It will print feedback on nodes which advertise services and actions, which developers will use to add permissions for client nodes.", "(OPTIONAL) rqt_graph modified with permissions, such that a developer can inspect their system and visualize the access control of their nodes."], "url": "https://discourse.ros.org/t/ros2-security-tools-for-development-and-production/6487"},
{"title": "ROS graph information tools implementation discussion", "thread_contents": ["The stretch goals for Beta 1 (due in mid-December) include rostopic. rostopic is a faily vital tool when developing with ROS, and is probably one of the most-used tools in the ROS-based robot developer\u2019s toolkit. However, there are some challenges in developing rostopic for ROS 2, particularly the ", " command.", "In ROS 1, rostopic can easily go off and get the list of known topics from the master, because the master Knows All. This approach is not so straight forward in ROS 2. The use of distributed discovery in DDS means that, by default, no one knows for certain the entire state of the DDS network. Furthermore, when a new participant starts up, it has absolutely no knowledge of the state of the network (beyond what may be hard-coded in) and has to wait for the discovery process to being producing results. This process may be very quick for things on the local machine, but for remote computers it is likely to take a significant time.", "If we implement ", " by making it start up, wait for a given length of time, then print the result, there is a good chance that it will not give a complete picture of the ROS graph and so will not be a useful tool.", "The purpose of this topic is to decide how to implement rostopic such that it provides the same rapid response as ROS 1, while dealing with the distributed nature of the graph in ROS2, and with as complete information as possible given the limitations of distributed discovery.", "To get right into it, my proposal is:", "The daemon mentioned above could be easily extended to also provide information for rosnode, rosservice, and similar commands.", "If we use the above approach, I would like to fix the ROS topics provided by the deamon as well as any other protocol interfaces/ports, and data formats (e.g. YAML) so that they are useful by other tools and tool implementors, such as rviz and rqt_graph.", "There has also been work done on rostopic and friends by the fine folks at Erle Robotics:", "Their implementation I think uses a listener waiting for information to pour in on a specific topic. However rather than trying to summarise their work myself, it would be great if ", " could drop by and give us a description himself.", "Hey ", ",", "Totally agree with your reasoning above. Good hearing that there\u2019s someone else interested on this :).", "The issue you pointed out above summarizes our work pretty nicely I believe. We had an initial (more complex) implementation for OpenSplice and then switched to FastRTPS. As for now, we\u2019ve got simple  ", " and ", " functionalities published and available. Changes are needed in ", ", ", ", ", ", ", ".", "Motivated by your comments I just went ahead and submitted a set of pull requests to integrate the changes needed upstream. Here they are:", ", i think you\u2019ll be interested in this.", "\nCheers!", "A dedicated information service seems to be a good approach, and I\u2019m not overly worried about introducing a point of failure there.", "However, when googling for this, some patents pooped up! Checkout ", " and ", "  They are not exact matches, but particularly \u201cnetwork assisted peer discovery\u201d is pretty close.", "btw, from the first patent, you can find a number of other patents related to DDS. I know this is tangential to your question, but it has me a bit worried here.", "Could you give a brief overview of your approach, for a basis of discussion? How much does it differ from my proposal above?", " That\u2019s a little disturbing. There\u2019s probably prior art (I basically described DNS), but it could put off companies.", "Could you give a brief overview of your approach, for a basis of discussion? How much does it differ from my proposal above?", ", the current proposal from our side (shared in the PRs above) uses the FastRTPS primitives to inspect the existing DDS participants/topics and report those using the ROS tooling. This simple approach did the job for us but we understand that a more generic and DDS-vendor agnostic layer might be put in place at some point.", "Hope that helped clarifying our approach.", "I am very interested in this discussion, as we at ASI have been playing around with ROS2 a lot. We had implemented our own version of ", " by using ", "We haven\u2019t had the time to really dig into the rcl and rmw layers to understand fully what\u2019s going on, but using this call has worked out fairly well. I will attest to ", " statement that using this call comes at the cost of time. We have to let the tool spin for many seconds (currently around 15 seconds) just to be sure we\u2019ve collected info from everyone in the system. Pretty inconvenient from a timing perspective, but still better than nothing!", "Also, I\u2019ve noticed a new flaw in this approach which I think may be related to my previous discussion ", ". When we set the Participant Index for OpenSplice to \u2018none\u2019 I think it\u2019s causing the get_topic_names_and_types() to come up empty-handed. Or at least, it\u2019s coming up empty in a sporadic way. I still have to investigate that some more.", "As an aside, we\u2019ve also got a rostopic echo working on most basic messages. It\u2019s a simple python hack-fest where we have a python script that does:", "This has helped tremendously, even as hacky as it is.", "I could post the code if anyone thinks it\u2019ll be useful.", "I think the idea of a daemon process to optionally provide the requested information faster is a good approach ", "I would like to comment on several aspects mentioned in the thread:", "Imo all of the following cases should work:", "The command line tools are only one use case of that interface. It should be possible to write code on-top of it which accesses the information without caring about the internal optimization of having a daemon. So all the functionality should be exposed in an API which is then also being used to implement the cli.", "I am not convinced that the daemon should have a ROS-based ", " order to call its service the client would still need to wait for some discovery phase. Even if that is local it will take additional time which we want to avoid.", "\nTherefore I think the daemon should provide its interface using a different protocol. That protocol needs to work without any \u201cdiscover\u201d and be available across all targeted platforms.", "With the choice of the protocol comes also the decision how that daemon is being identified. It could be one single daemon per ROS graph or it could be one daemon per host to make the queries \u201clocal\u201d. If the daemon would e.g. expose its interface via d-bus you would probably run it on each host. Someone mentioned a REST service it could be either a single global one or a local one per host. Anyway we need to determine how the daemon is being referred to in the context of running to separate ROS systems on a single machine.", "Any of these tools and interfaces should be independent of any specific rmw implementation. If the rmw interface is being implemented by the newest and hotest discovery / marshalling / transport solution the tools should continue to work. The rmw interface might need to be extended to provide all the necessary information.", "Non-Roboticist outsider looking in.", "Service Discovery in a distributed environment while not necessarily a solved problem has many implementations currently in use in production in a variety of companies and deployments.", "Of the top of my head I\u2019m thinking about EtcD and Consul.", "Has anything like that been considered?", "Glad to see that many people manifested interest in this discussion.", "\nAs expected these tools are needed by everybody and it resulted on a lot of prototype solutions being created by each and everyone of us. Hence the need for this discussion to provide a global rmw agnostic solution for these tools.", "Thanks ", " for this great summary.", "A couple notes / open questions on top of what has been stated:", "Agreed on ", " comment that the daemon should be seen as a way to provide information faster rather than as a single-point of failure. The feature should hence work without it (at a performance cost)", " on the fact that the ROS side of things should be rmw_implementation agnostic and allow users to develop their own tools or daemons using the protocol of their choice.", "Protocol-wise I\u2019d be curious to know what the preference of all of you is. It seems to me that REST services became very popular now that most people provide web interfaces to their systems but would it be your preferred choice ?", "In the case of multiple juxtaposed ROS systems, it comes down to how do we identify \u201cdifferent\u201d ROS systems. An approach could be to have the daemon aggregates all graph information for a given DDS Domain. And thus create a deamon for each DDS Domain used. What other approach for differentiating ROS systems could be used ?", "Another point being addressed is the tradeoff between duplicating daemons (and information storage) on each host vs having a single global daemon and service. If the default protocol allows it, this could be left up to the end user by providing an option to specify when and how to launch the daemon. And the way to query daemon information should be adapted accordingly. We will still need to specify the default behavior for this.", "Imo all of the following cases should work:", "The daemon got started before (by launch, the system, wherever, this should be an implementation detail).", "The daemon gets started on demand by the first invocation of a command line tool needing it (slower on first call).", "No daemon is there but the tool should still provide reasonable results (trade off between wait time and completeness).", "The command line tools are only one use case of that interface. It should be possible to write code on-top of it which accesses the information without caring about the internal optimization of having a daemon. So all the functionality should be exposed in an API which is then also being used to implement the cli.", "Thanks for enumerating those. I agree whole-heartedly with all of them. (Especially the last! I implement my tools like that and it\u2019s been very useful.)", "I am not convinced that the daemon should have a ROS-based ", " order to call its service the client would still need to wait for some discovery phase. Even if that is local it will take additional time which we want to avoid.", "\nTherefore I think the daemon should provide its interface using a different protocol. That protocol needs to work without any \u201cdiscover\u201d and be available across all targeted platforms.", "I strongly support having a non-ROS based interface. You\u2019ve listed the advantages already. However perhaps it could be useful to have a ROS-based interface in case someone wants to use the functionality from a node? Perhaps this should be a lower-priority feature unless we find an actual use case for it.", "With the choice of the protocol comes also the decision how that daemon is being identified. It could be one single daemon per ROS graph or it could be one daemon per host to make the queries \u201clocal\u201d. If the daemon would e.g. expose its interface via d-bus you would probably run it on each host. Someone mentioned a REST service it could be either a single global one or a local one per host. Anyway we need to determine how the daemon is being referred to in the context of running to separate ROS systems on a single machine.", "Yes, there are several ways that this could go. I think that if we use an environment variable that we can build an automatic mechanism without too much trouble. For example, the rostopic tool/library could look for an environment variable defining the graph information daemon\u2019s address, and if it isn\u2019t defined attempt to contact one on the local machine. If that doesn\u2019t work then it could request the daemon be launched on the local machine.", "Any of these tools and interfaces should be independent of any specific rmw implementation. If the rmw interface is being implemented by the newest and hotest discovery / marshalling / transport solution the tools should continue to work. The rmw interface might need to be extended to provide all the necessary information.", "Absolutely agree. This is another benefit of hiding it behind a well-known service description, I think: It becomes easier to abstract away the implementation. Then we can look into using existing technologies such as those ", " mentioned and see if they do what we need already.", "Protocol-wise I\u2019d be curious to know what the preference of all of you is. It seems to me that REST services became very popular now that most people provide web interfaces to their systems but would it be your preferred choice ?", "I\u2019m in favour of a REST service as the initial goal. I\u2019ve also been told by someone locally who does a lot of tool implementations, using the browser as an interface, that he wants \u201ceverything\u201d to be available over REST. I\u2019m assuming he\u2019s talking about introspection facilities, not absolutely everything.", "However, I think the information should be available on other protocols from the same daemon if someone wants it that way. If we specify the data structure and the protocol used to access it separately then it should be relatively easy to add additional access methods.", "In the case of multiple juxtaposed ROS systems, it comes down to how do we identify \u201cdifferent\u201d ROS systems. An approach could be to have the daemon aggregates all graph information for a given DDS Domain. And thus create a deamon for each DDS Domain used. What other approach for differentiating ROS systems could be used ?", "Being able to configure which domains the daemon aggregates data for, and run different daemons for different domains, sounds like a sensible use case. Especially with the potential for using domains for security zone partitioning.", "I would check whether ", " a non-ROS (which, in this case I take to mean a non-DDS) interface is strictly necessary. Maybe we can avoid the discovery phase by other means, e.g. by pre-supplying the necessary information, assuming that the daemon runs locally (which other means would also have to assume).", "My reason for that is to avoid duplicating communication code and functionality. While at first it might appear simple to open a TCP connection and exchange some data, you have to handle edge cases, like when the port is blocked by something else, or supporting in-process communication, and so on. I think the reliance on XML-RPC in ROS1 was a cause of complexity, and one of the advantages of using DDS is that we can avoid that.", "It would still be possible, of course, to offer a non-ROS interface ", ", e.g. for use by web-based services. This would not necessarily have to run on every machine, however, but only when necessary.", "Demand starting is a tricky business. I would prefer that, in the first instance, the launch procedure starts the daemon, the client implementations falls back to DDS discovery when the daemon is not present. Also, I would prefer that when demand-starting is implemented, we do this through a minimal daemon process which loads the \u201creal\u201d process upon first connection. This again keeps demand starting functionality out of the core libraries.", "Regarding independence of the specific rmw implementation: The interface should be independent, but the internal implementation could be vendor-specific. Several DDS vendors offer this functionality already (including FastRTPS, as far as I can tell), and this would be very good to re-use. I would be worried that we\u2019re inefficient otherwise, when we bypass the vendor.", "I would check whether requiring a non-ROS (which, in this case I take to mean a non-DDS) interface is strictly necessary. Maybe we can avoid the discovery phase by other means, e.g. by pre-supplying the necessary information, assuming that the daemon runs locally (which other means would also have to assume).", "So we\u2019ve got a vote here for the ROS interface being the only interface.", "I think it is reasonable to have the same information available over different interfaces. Certain tools (e.g. web-based tools) would benefit from not needing to use the DDS stack.", "Which interfaces are ", ", and which interface is considered the \u201cdefault\u201d interface by tools, are the questions that we need to settle.", "How fast a tool using a ROS topic can start up and get the information it wants is something I hope to test today.", "My reason for that is to avoid duplicating communication code and functionality. While at first it might appear simple to open a TCP connection and exchange some data, you have to handle edge cases, like when the port is blocked by something else, or supporting in-process communication, and so on. I think the reliance on XML-RPC in ROS1 was a cause of complexity, and one of the advantages of using DDS is that we can avoid that.", "I think this overstates the difficulty. If we implement using Python, as an example, there are good libraries available for providing web services, such as Django, CherryPy and several lower-level-but-still-abstracted libraries included in Python 3.", "The counter-point there is that, like XML-RPC in ROS1, we would be increasing the number of dependencies if we use something like Django or CherryPi.", "I think this overstates the difficulty.", "I meant not just implementation difficulty, but also use-time complexity. While not entirely comparable, consider in ROS1, the use of XML-RPC was the root cause of all the mess with ROS_NAME/ROS_IP, and the various DNS resolution issues that led to. At least in my experience, lots of people struggled with that.", "You\u2019re taking in an entirely new communications stack, with all the side effects that has.", "Sure, you can try and avoid that, for this special case, but that\u2019s just why I\u2019m suggesting that we investigate whether it\u2019s really necessary first, instead of barging headlong into an implementation.", "You are right about use-time difficulty; I hadn\u2019t thought of that. The less that can go wrong, the better, from that perspective.", "I agree that investigation is necessary. I originally envisioned the ROS tools like rostopic using the DDS stack to get the information, with the REST interface being a convenience thing for makers of tools that benefit from not using the whole ROS stack. ", " would prefer it be the other way around, I think.", "Anyway, I spent some time today hacking a wholely-unscientific benchmark into the add_two_ints_client example. Here are my results, based on 100 runs on a 2015 macbook pro (because for some reason alpha8 just point blank doesn\u2019t run on my Ubuntu desktop and I haven\u2019t had time to figure out why yet). Times are in seconds.", "I would like to second the argument of ", " about use-time complexity of multiple communication mechanisms, from a different point of view: I have a student working on developer understanding of ROS and the current variety of communication mechanisms, and the consensus about the persons being interviewed is that there are too many of them.", "I am all in favor of keeping it simple, and implementation-wise, the original proposal using a daemon and the existing ROS communication mechanism looks very attractive to me. The daemon always runs and has the information available as a ROS service call, plus uses a topic to broadcast changes to the graph such that long-running tools are informed of this.", "If later on it turns out that more is needed (e.g. REST API), this can simply be implemented as extra functionality on top of this layer.", "I just want to reiterate: the reason why the current command line tools are slow is because they have to wait for the discovery phase to finish before they can query the desired information. The idea of the daemon is that it is already running before and it has already accumulated the information.", "If the command line tool wants to use the ROS interface to request information from the daemon it again needs to wait for the discovery phase to finish before it can do so. It might only need to wait for the availability of that daemon but still this implies a significant overhead in waiting time for the user. I don\u2019t think a command line tool (which e.g. is often also used for completion) can have that time penalty. While I am certainly not a big fan of having a different transport mechanism I don\u2019t see how the requirement of the lowest latency possible can be fulfilled with using a distributed peer-to-peer system like DDS.", "I guess ", " point was to use DDS communication, but find a way to avoid the discovery phase in the specific case of connecting to the daemon. It seems to me that letting a tool like rostopic know how to directly connect to the daemon with DDS is not a much different problem from letting the tool know how to connect to the daemon through some other protocol.", "Thanks to ", " for making my point better than I did ", " Yes, that is exactly what I was tryint to suggest.", "if the command line tool wants to use the ROS interface to request", "\ninformation from the daemon it again needs to wait for the discovery", "\nphase to finish before it can do so.", "Not necessarily. See ", ", for example.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["A daemon is started by  something, e.g. roslaunch, or on system start up, or when starting the terminal and sourcing setup.bash, or some kind of ", " command.", "This daemon\u2019s job is to listen for changes in the graph. It records all changes and stores the current state of the graph. The recent work on listening for graph changes by ", " would be used.", "The daemon provides a ROS topic on a well-known topic, e.g. ", " (based on the idea that the ", " namespace is reserved for infrastructure topics). Connecting to this topic will provide the current state of the graph.", "This topic probably needs to be a service to avoid wasting resources broadcasting something only needed intermittently.", "If it is a service, there is still value in having a topic that broadcasts on change for long-running tools to listen to.", "It may be worth considering having a separate domain for the infrastructure topics.", "Each computer being used should run a copy of the daemon so that connecting to it does not involve traversing the network and so is fast.", "The ", " command, upon starting, connects to the daemon\u2019s topic, gets the current graph info, and prints it out.", "If rostopic cannot find the expected topic, then it prints a warning, then waits a configurable length of time (with a suitable default), running the DDS discovery process and listening for graph information. After the time limit it prints the result.", "If you see that warning, you should understand that something is broken in your ROS system.", "This is a downside of the daemon approach: It is a single point of failure for the rostopic functionality.", "The daemon can also provide the same information over any other useful protocols. One particularly useful one would be a REST service, so that tools could connect and get the information without needing to use DDS or potentially be a part of the ROS graph. For example, a web-based tool.", "takes commandline input for topic name, message type and qos", "does some smart file searching for .msg files", "does some string-replacing on a ", " file", "executes that newly generated ", ".", "\n", "\n", "The daemon got started before (by launch, the system, wherever, this should be an implementation detail).", "The daemon gets started on demand by the first invocation of a command line tool needing it (slower on first call).", "No daemon is there but the tool should still provide reasonable results (trade off between wait time and completeness).", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n"], "url": "https://discourse.ros.org/t/ros-graph-information-tools-implementation-discussion/674"},
{"title": "ROS2 Navigation WG - Thursday 10/25/18 10am Pacific (GMT -7:00)", "thread_contents": ["All,", "\nWe\u2019re going to meet again this week. Same time as last week:", "\nThursday 10/25/18", "\n10am Pacific (GMT -7:00)", "Hangouts Meet", "\n", "\n\u200e(\u202aUS\u202c) \u202a+1 423-588-1304\u202c", "\nPIN: \u202a426 363 201#\u202c", "I\u2019ve scheduled this as a recurring meeting every week, same time, assuming this works. I can change the time if needed.", "Please reply if you plan to attend so that we know who to expect.", "Thanks,", "\nMatt", "I\u2019ll be there.", "Thanks,", "\nRay", "I\u2019ve scheduled this as a recurring meeting every week, same time, assuming this works. I can change the time if needed.", "Could I convince you to bring the meeting 2 hours earlier or 3 or 4 hours later? Either option makes it more feasible for those of us in the Asian and Western Pacific timezones to attend. The former is probably more preferable for those in Europe, of course.", "Hi ", " - What time zone are you in? We also have East coast attendees, so I\u2019m not sure what time overlaps for you and them.  I\u2019m happy to move it if we can find a good time. Although I don\u2019t want to change this week, I could starting next week. We could also have additional meetings for other time zones like yours.", "Will be there as well.", "I\u2019m in Japan, so the timezone is GMT+9. I have another meeting (unrelated project) every Monday which also features people from both coasts of the USA, Europe, and Asia. The time we use that works well for everyone is:", "This is why I suggested two hours earlier. Four hours later also works if people from Europe are willing to attend a late meeting:", "If the only viable solution is to have separate meetings then I would say don\u2019t. The QA group tried doing that for a while and it turned into a disconnect between the two different segments.", "I probably won\u2019t be able to make this morning\u2019s meeting.", "As for discussion of alternate times \u2013 as an East Coast person, I would prefer 2 hours earlier rather than 3 or 4 hours later (starts to run into dinner time).", "-Fergs", "I\u2019ll be there today. 2 hours earlier is fine by me for future meetings.", "If 8am Pacific time works for everyone, we can move the meeting time to Thursday 8am Pacific.", "Anyone opposed, please reply. I\u2019ll give people until Monday then make the change.", "Can\u2019t promise I\u2019ll make every week at 8am but will try my best. Our office runs a west coast startup style 10am-7pm schedule.", " - can you call in from home? I\u2019d like to make this change so ", " can attend.", "I think I can make it happen", "S", "All,", "\nI went ahead and made the change, we\u2019ll meet tomorrow: Thursday 8:00 am Pacific time.", "Matt", "Thanks for making space for me. Barring a sick kid or something, I will be there.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-navigation-wg-thursday-10-25-18-10am-pacific-gmt-7-00/6557"},
{"title": "ROS2 security functional tests", "thread_contents": ["Hi friends,", "My team at Amazon is planning to release a package that contains a series of functional tests to ensure security is enforced properly in a ROS2 system. These tests target access control and authentication plugins in the DDS layer. To summarize, the ", " verifies the identity of a user/application that invokes operations on DDS, performs mutual authentication between participants and establish shared secrets, and the ", " enforces policy decision on what operations on DDS an authenticated participant can perform i.e. which domain it can join, and which topic it can pub/sub.", "You can run these tests in your CI/CD. The package comes with a README that will help you set up the package.", "If you have any suggestions for making this more useful for you, please let us know.", "Thanks in advance!", "\nStatus: Upcoming", "\nDeadline for release: 11/16/2018", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-security-functional-tests/6719"},
{"title": "Introduction of Persistent Systems to ROS2 initiative", "thread_contents": ["Hello ROS Community,", "I\u2019ve written the response below to answer questions posed over the past few weeks about who I am and why we are trying to help port packages from ROS1 to ROS2.", "Persistent Systems (BSE & NSE: PERSISTENT) is a global leader in Technology Services. We build software that drives the business of our customers\u2019 business; enterprises and software product companies with software at the core of their digital transformation. We have a global presence in 15+ countries,  9000+ Employees, 25+ years building software-driven business. Our FY2017-18 revenue was USD 470.55 Million. For more information, please visit ", ".", "Persistent Systems has been funded internally and externally to build out our Robotics expertise and we have formed an initial engineering team focused on ROS development. We will be developing software for our internal projects and for our customers around the globe that will leverage ROS as a foundation, so we have a sincere interest in improving ROS and contributing to the advancement of ROS2. At this time, we have on-boarded an initial team of software engineers to work on this project, initially porting packages from ROS1 to ROS2, and we are committed to investing time and effort to contribute to ROS2.", "Regarding package selection and maintenance, we selected the top 40 most commonly used packages. Our initial thought was that we would help people migrate packages that they were maintaining on ROS1 and wanted to have available on ROS2 but didn\u2019t have the bandwidth to port themselves.  We assumed the owners would accept the help if we submitted the pull request. I was reaching out to the community at large only because we didn\u2019t want to duplicate any other ongoing porting efforts \u2013 if anyone has a suggestion to improve this, please let me know. We are available to help answer questions in the community after these packages have been ported, as the original maintainer sees fit.", "Our team is learning here and we welcome your feedback as we engage with the community. Please let me know if you have any questions.", "Regards,", "\nPrasenjit Dan", "\nCall : (+1)-714-902-3074", "\nProgram Manager", "I applaud your willingness to put such a large quantity of resources into helping push ROS2 along.", "I think there are a couple of things you should consider in your plan:", "Just plain making a package work in ROS2 is useful, but ", ". You should take advantage of as much of the new capabilities allowed by ROS2 as possible. This means things like restructuring the design of nodes to be composable, taking advantage of QoS and deciding the best default QoS for each topic, using local parameters, and using read only parameters where it makes sense (when they become available). ", ", so doing it as part of the porting process is valuable.", "Yes, this.", "This is so important, it cannot be stated often enough.", "As nice as plain ports are, they will never be what the pkgs could be if they were only conceptually ported instead of ", " (I know that doesn\u2019t work that way \u2026 if only), and when there is a plain port, there will be much less of an incentive to do anything about the ported pkg as it\u2019s there and it works \u2026 well enough.", "Thanks ", ", ", " for your valuable input. Point noted.", "Consider giving some resources to porting tools to ROS2. As valuable as nodes are, tools are far more so.", "Can you give an example of some tools you\u2019d like to see ported?", "All the GUI tools, especially the ros QT tools, are very useful. Each one is small but they all combine to provide a powerful toolchain. Even the robot monitor GUI tool is massively useful.", "On the one hand, I agree. This is a great opportunity to do a lot of refactoring and optimization that is now possible thanks to the features of ROS2. On the other hand, I am strongly in favor of incremental development. You\u2019re almost suggesting to go for a re-implementation, meaning big steps, premature optimization, the introduction of new bugs and changes in behavior. This makes the step towards ROS2 bigger instead of smaller. Also, I think we should trust the community to contribute to the restructuring of nodes, especially after many people moved to ROS2. JMHO", "Completely agreed, This is absolutely our way of thinking as well. ROS1 to ROS2 is a significant step and I appreciate everyone\u2019s way of thinking. We are also looking back on capacity. We arefocusing on what we can contribute that will be extremely valuable to the community, and incremental development or rather incremental steps are our key focus at this time.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Porting a package from ROS1 to ROS2 is an ideal opportunity to revise the implementation in major ways. You should coordinate with the package\u2019s developers to make sure you are not rushing ahead with just making it work in ROS2 and removing that chance from them in case they have plans.", "Just plain making a package work in ROS2 is useful, but you should do more than just port. You should take advantage of as much of the new capabilities allowed by ROS2 as possible. This means things like restructuring the design of nodes to be composable, taking advantage of QoS and deciding the best default QoS for each topic, using local parameters, and using read only parameters where it makes sense (when they become available). Once code is available working in ROS2 I think it is less likely that such restructuring will be done, so doing it as part of the porting process is valuable.", "Make sure the maintainer of the package is willing to also maintain and make ROS2 releases. If the maintainer is only interested in releasing for ROS1, then a ROS2 branch may get neglected.", "If you port an unmaintained package, you should be willing to take on maintainer responsibilities and do the releases for that package. (This would be a ", " thing to help with, by the way.)", "As you do your work, also keep an eye out for things to improve in the core libraries. Then post issues for them. Or, even better, make those improvements and post pull requests. It sounds like you have a lot of resources and devoting some of them to helping with ROS2 feature development would be much loved, I think.", "Consider giving some resources to porting tools to ROS2. As valuable as nodes are, tools are far more so.", "Just plain making a package work in ROS2 is useful, but you should do more than just port. You should take advantage of as much of the new capabilities allowed by ROS2 as possible. This means things like restructuring the design of nodes to be composable, taking advantage of QoS and deciding the best default QoS for each topic, using local parameters, and using read only parameters where it makes sense (when they become available). Once code is available working in ROS2 I think it is less likely that such restructuring will be done, so doing it as part of the porting process is valuable."], "url": "https://discourse.ros.org/t/introduction-of-persistent-systems-to-ros2-initiative/6656"},
{"title": "Import error No module named 'rclpy._rclpy' cross compiling", "thread_contents": ["Hi,", "I am ", " ros2 beta2 for a ARM platform. I get the source ", " done and after I try to launch the python talker but ", " cannot be imported. The default Python version is Python 3.5.", "The talker written with C++ works perfect.", "I also tried to update the ", " repo to the latest version, and I am getting the same error.", "I have noticed that are similar errors at Windows platform.", "\n", "\n", "Regards and thanks.", "Hi guys!", "any updates about this? I\u2019m having the same issue.", "Thanks in advance.", "Regards", " can you please open an issue on the ", " with all the information regarding your setup and your install ?", "Regarding cross-compilation, sorry ", " for missing this thread.  AFAIK we haven\u2019t tried to cross-compile the Python stack. The logic of the python imports has changes quite a bit since beta2 so the situation may be different today. If you happen to be willing to give it another shot and report here with the details of how you defined and linked against your targets\u2019 python libraries that would be helpful.", "\nIn the meantime for ARM users we do provide ros2 debs for aarch64 on ", " and nightly aarch64 builds ", ".", "Thanks you both for reporting these issues", "Hi ", ",", "thanks for the reply. I was able to avoid the error. It seems that when we try to cross compile it is not deploying the necessary stuff with the proper names (arm\u2026)", "Regards,", "We also discovered that buying ARM processors is cheaper than making the cross-compile work.", "Sorry for resurrecting this old thread, but several links on the web point here even if a solution to the problem is not presented clearly.", "As ", " pointed out the problem is with the name of the cpython libraries.", "To fix the error you have to add the following CMake argument to the cross-compile command:", "For example", "As for the specific error at the beginning of the thread, Python is looking for a module named ", ".", "\nThat module is contained in the cpython library located at ", ".", "When you are on an ARM processor, that library is not automatically loaded due to its name, where it referes to a different architecture.", "However if you inspect the file, you will notice that it has been cross-compiled correctly.", "If you manually load the missing module from the library absolute path you will notice that indeed it works.", "The CMake variable ", " is responsible of the name of this library, as you can see from ", "For a full example you can refer to ", " repository for RaspberryPi cross-compilation.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/import-error-no-module-named-rclpy-rclpy-cross-compiling/2463"},
{"title": "Rosbag in ROS2", "thread_contents": ["Is rosbag available in ROS2?", "It\u2019s not yet available, unfortunately. I\u2019ve started working on a design document, but it\u2019s work in progress as I still have to evaluate the best underlying storage format.", "\nFeel free to comment on the design PR:", "Karsten,", "\nIs it worthwhile to have a rosbag port to ROS2 for the interim? I could do something (maybe with a little help) so that we can atleast record/play bags without resorting to the ros1 bridge. My current idea was to simply port rosbag\u2019s subscription/publish/node stuff to ROS2", "I personally would advise against it. We are starting the rosbag2 development soon and I don\u2019t think that maintaining two systems does bring much benefit. Also I believe, using the bridge for using existing ROS1 bags does work (to a realistic degree) as such an interim.", "To simply port the pub/sub to ROS2 won\u2019t bring you that much as things like connection information (type information, quality of service parameters, etc) won\u2019t be trivially portable. I\u2019ll try to break down my idea of development into multiple bits and tasks so that it\u2019s possible to contribute.", "Also I believe, using the bridge for using existing ROS1 bags does work (to a realistic degree) as such an interim.", "I can entirely second this. We are piping through the ros1_bridge (used in ", " mode, ROS2 => ROS1 direction) ~10MB/s of data and don\u2019t have any problem neither with latency nor with throughput.", "We\u2019ve created a github issue for tracking the development of rosbags for crystal:", "\n", "\n", "Feel free to keep an eye on it. At this point, it\u2019s pretty rough and I am not able to distribute any easy tasks here. But I will update it with individual sub-tasks which hopefully give us the opportunity to make some of them available for contributions.", "Hi Karsten\u2026 I have a question, How long it may take first release version of rosbag2 with play and record? does it support backward compatibility", "In its current form you can record, replay and get some basic info about rosbags. It\u2019s not released, so you have to build it yourself from source, but we\u2019re aiming to have rosbags part of the upcoming Crystal release.", "\n", "Contribute to ros2/rosbag2 development by creating an account on GitHub.", "\n", "once compiled, it extends the ", " with the verb ", ". So that you can run:", "Currently, it\u2019s using SQLite3 as a storage backend by default, but the storage API is flexible enough to load various storage backends via pluginlib. One of these backends will hopefully be ROS1. The idea here is to load ROS1 data from existing ROS1 bags and convert them to ROS2 via the static ros1bridge.", "Currently, it\u2019s using SQLite3 as a storage backend by default, but the storage API is flexible enough to load various storage backends via pluginlib.", "Very nice design decision.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/rosbag-in-ros2/4827"},
{"title": "ROS2, Building from source problem (macOS)", "thread_contents": ["Hello, I was trying to install the ROS2 according to the instruction here: ", "\nEverything was fine until the section \u201cGet the ROS2 code\u201d", "mkdir -p ~/ros2_ws/src", "\ncd ~/ros2_ws", "\nwget ", "\nvcs import src < ros2.repos", "when I try to execute the last command, I get this error:", "$ vcs import src < ros2.repos", "\nstty: stdin isn\u2019t a terminal", "\nVideo Contact Sheet *NIX v1.13.2, \u00a9 2007-2014 Toni Corvera", "\nUnable to locate DejaVu Sans font. Falling back to helvetica.", "\nFile \u201cimport\u201d doesn\u2019t exist", "\nFile \u201csrc\u201d doesn\u2019t exist", "\nstty: stdin isn\u2019t a terminal", "Anyone knows why?", "Another question is, what\u2019s the difference between ", " and ", " ?", "\nIf I want to build a ROS1<->2 bridge, then I have to build from source right?", "(For the website maintainer:", "\nYou might want to consider adding \u201c\u2013user\u201d in the following instruction:", "python3 -m pip install empy setuptools nose vcstool pep8 pydocstyle pyflakes flake8 mock coverage", "\nin case that any newbies like me who doesn\u2019t have root permission, to have problems installing.)", "With respect to the ", ", I have no idea. Are you pasting that command into a normal terminal (using  ", " or ", " or something)?", "If I want to build a ROS1<->2 bridge, then I have to build from source right?", "You have to build from source if you want the ROS 1 <-> ROS 2 bridge on OS X. Our Linux binary has the ROS 1 <-> ROS 2 bridge built for ROS Kinetic on Xenial, but otherwise you have to build the bridge from source.", "Thank you for you reply. Yes, I am using a normal Terminal.app", "So, these are my experience solving these problems:", "\nTools like vcstool need to be located in usr/local/bin.  So always use \u201csudo\u201d when installing.", "\n(e.g. ", " )", "\nTest every tool in Terminal first, make sure they are installed properly before going for ament build.", " thanks! without really thinking I installed \u201cvcs\u201d using brew, however that is not vcstool, but video contact\u2026 something. So the command of course failed, but uninstalled and installed vcstool using pip and it worked ", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-building-from-source-problem-macos/1789"},
{"title": "Limit throughput (how to?)", "thread_contents": ["I have problem with 4 computers on WiFi running ROS2 nodes and the WiFI performance is killed. I would like to limit the bandwidth used by ROS2 so how do I do that?", "I have tested with a DEFAULT_FASTRTPS_PROFILES.xml looking like:", "Is this the correct syntax for this file? Where can I find working examples of this file? How can you confirm that this file is loaded properly?", "The above does not seem to work since the ping time at least is killed becoming around 1s.", "I am running the latest release of ROS2.", "Thanks for your question. However we ask that you please ask questions on ", " following our support guidelines: ", "ROS Discourse is for news and general interest discussions. ", " provides a forum which can be filtered by tags to make sure the relevant people can find and/or answer the question, and not overload everyone with hundreds of posts.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/limit-throughput-how-to/6841"},
{"title": "ROS2 Best Practices for Supporting Windows 10", "thread_contents": ["We are currently learning how to port ROS1 packages to build on Windows for the ", " and have been unable to find any good guides for this. I believe many others have and will continue to face steep learning curves on Windows support, so I think it would be best if we started a migration guide / best practices for \u201cthings you typically need to change to support Windows\u201d.", "I found a ", " kind of question, and there was a ", " about general ROS2 best practices, but is there anything else I\u2019ve missed?", "If not, where should such document live in a post-ROS wiki world? I\u2019m still having trouble understanding where to put ROS2 documentation since the ", " seems like its going to be pretty \u201csmall\u201d. Also, slightly related ", ".", "This sort of content is pretty well directed at the ROS2 documentation. We already have a ROS1 migration guide that can be extended with more information about improving Windows compatibility: ", "General ROS2 documentation can go in the generic ros2_documention repository. For package specific content we\u2019re recommending keeping it within the package in things like the README so that it can stay closer to the content as well as be versioned.", "The ROSOnWindows project has a Cookbook document that seems to be similar to what you describe:", "\n", " .", "Related discussion: ", " .", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-best-practices-for-supporting-windows-10/6854"},
{"title": "ROS 2 documentation home moving to index.ros.org/doc/ros2", "thread_contents": ["We\u2019re happy to announce a new home for the main entry point for ROS 2 documentation at ", "As many of you are surely aware for a while we\u2019ve been hosting ROS 2 development documentation on a Github wiki under the ROS 2 organization, ", ". This has been a temporary location out of convenience while we have been setting up new infrastructure to host it for the longer term. As we move on with the ", ", we\u2019re now taking the step of moving the ROS 2 wiki to ", ".", "Unlike the wiki, which could be edited by anyone with a Github account, the new content can be edited by opening pull requests against the ", " repository. Another change is that the documentation is now using the ", " instead of markdown. Like with the rest of the ROS 2 development process this will help us improve the documentation by letting us have it go through the same type of review process that we\u2019re applying for code changes.", "The wiki links will continue existing, but they now display a notice to their new URLs, and we recommend that you update links within any external documentation you may be hosting.", "As an aside, is a soft launch of the new ROS Index site. It is still a beta version under development at ", ". It\u2019s built on the ", " from ", " at ", " and although it\u2019s a fork right now we hope to homogenize it in the future. If you\u2019re interested in contributing, there are several enhancements ticketed. At the moment content is expected to update nightly. As always, we welcome new issues and especially pull requests ", ".", "Another change is that the documentation is now using the ", " instead of markdown. Like with the rest of the ROS 2 development process this will help us improve the documentation by letting us have it go through the same type of review process that we\u2019re applying for code changes.", "Sorry if I missed ", ", but can you better help us understand why reStructuredText was used instead of Markdown? You say its for the \u201csame type of review process\u201d but you can actually have that for either formats. ReStructuredText, however, is a lot more complicated to learn IMHO and is clunky.", "Markdown seems to have become the dominant format in recent years due to its simplicity. For example ", " and of course all pull requests and issues at ", ".", "In reality, since Github is the dominant ROS code hosting platform, using Markdown (what github uses) would let it \u201cgo through the same type of review process that we\u2019re applying for code changes\u201d.", "For the MoveIt! project, we currently use Markdown for the website and reStructuredText for the tutorials, and the reStructured text and much trickier and people routinely (myself included) make mistakes with it.", "I realize that reStructured text allows you to do a lot more complicated Python scripting, but I\u2019m not convinced we need that for the global ROS2 docs. Do you plan on committing code files to this repo as well? Instead I\u2019d prefer increased accessibility for people to contribute, and consistency with what we\u2019re using on Github and Discourse.", "Sorry that extra statement of changing the markdown was poorly edited between the other two sentences.", "Like with the rest of the ROS 2 development process this will help us improve the documentation by letting us have it go through the same type of review process that we\u2019re applying for code changes.", "Is a follow up to", "Unlike the wiki, which could be edited by anyone with a Github account, the new content can be edited by opening pull requests against the ", " repository.", "It\u2019s actually a significant pain to monitor the github wiki pages for changes that might be at issue. There have been changes that have inserted regressions into the installation instructions that we had to manually go back and correct and ping the author to ask what the reason for the change was and opening a ticket and @ mentioning them is the only way to reach them. Versus if they\u2019d opened a PR against the repo we\u2019d have been notified in our standard development stream, several users could review and give feedback and if more information is needed we can iterate there in the PR thread.", "The choice of RST was to support sphinx integration such as ", ". We would like to and tried to suppport markdown too, but because there were [technical limitations of the markdown integration with sphinx we had to let it go. It\u2019s certainly something that can be added back but we don\u2019t have the bandwidth to make it work. The ability to have the integrated code references is an important part of our ", ".", "Note that this limitation is only for the Doc section and content in the ros2_documentation repository. This Doc section is where we plan to have core tutorials and instructions and documentation but it is not designed to grow significantly beyond the current scope. As linked in our design draft we are working to encourage documentation and tutorials to live with the code following our more federated model. For a given project the maintainer is welcome to pick the markup language of your choice. The index should then provide a place for you to link to it.", "Specifically the limitation does not apply to the READMEs that the site renders from the indexed repositories and packages (most of them are in markdown and are rendering just fine, ", ") which I believe will be the majority of the content that users will contribute to the site.", "I\u2019ll echo what Dave said. While I agree that forcing a formal review of documentation changes is a good idea, I\u2019m not a fan of adding another technology in the form of RST that I have to learn in order to contribute to ROS2.", "We would like to and tried to suppport markdown too, but because there were [technical limitations of the markdown integration with sphinx we had to let it go. It\u2019s certainly something that can be added back but we don\u2019t have the bandwidth to make it work.", "Is there a ticket for this?", "Is there a ticket for this?", "I\u2019m not sure if they made a ticket for it, but hopefully it is possible, since ReadTheDocs (which also uses Sphinx) apprently supports markdown with ", " (", "), see:", "What I was hoping for was a ROS-specific ticket that says what work would need to be done in order to support Markdown. I imagine there\u2019s some portion of rosindex that needs configuring, but I\u2019m not sure what fork that would be on, or where the particular configurations are.", "Yeah, I dunno, maybe one of the people working on that can help. The best thing might be to open an issue asking what needs to be done. I\u2019m not sure that all of them are watching discourse closely.", "Sorry I couldn\u2019t help more.", "As an aside, is a soft launch of the new ROS Index site. It is still a beta version under development at ", ".", "I\u2019d like contribute, but I\u2019m also still a bit confused about the organizational structure and direction of ROS2 documentation. Given that this is a soft launch, the index site will be the main entry point for ROS 2 documentation, plus the new ros2/ros2_documentation repo, some of my decision paralysis arises from:", "There looks to be a related ticked addressing the foreboding flat layout:", "I guess ROS has always been a bit different in that is not just one cohesive library, nore is merely a package ecosystem; So its difficult to pin down the documentation model to either a monolithic source of knowledge vs a decoupled sprinkling or context specific notes. Even before the index, I\u2019ve puzzled about the asymmetry of activity and relevance between ", " and ", ".", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["What is the expected workflow for contributing new content?\n", "E.g. are there templates I should start from, what are the expected conventions?", "With ", ", we used templates for adding packages, tutorials, user guide, etc.", "How does the previous wiki play into all of this?", "\n", "How should authors gauge where to host the candidate documentation?\n", "E.g. should it reside with closest related package?", "Or when does something warrant being on ros2_documentation?", "What if we\u2019re writing about core ROS2 features?", "Should it instead be structured the doc folder in the core packages code repo?", "\n", "How is ros2_documentation versioned over releases and patches?\n", "E.g. allowing users to index through general docs wrt. release history.", "If I\u2019m writing about features in a specific release, do we meta-tag it somehow?", "\n"], "url": "https://discourse.ros.org/t/ros-2-documentation-home-moving-to-index-ros-org-doc-ros2/6612"},
{"title": "New TIME - ROS2 Navigation WG - Thursday 11/8 2:00 pm Pacific (GMT -7:00)", "thread_contents": ["So that we can include the Asian time zones, we\u2019re going to meet at a new time:", "\nThursday, November 15", "\n2:00 \u2013 3:00pm", "Real-time meetings by Google. Using your browser, share your video, desktop, and presentations with teammates and customers.", "\u202a+1 423-588-1304\u202c PIN: \u202a426 363 201\u202c#", "Bumping this to make sure people see the new time.", "Also, if you want to be added directly to the Calendar invite, please message me with your email address. I will add you directly so you get updates on the calendar.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/new-time-ros2-navigation-wg-thursday-11-8-2-00-pm-pacific-gmt-7-00/6857"},
{"title": "ROS2 for real-time applications", "thread_contents": ["As a newbie, I would like to understand the current status of ROS2 wrt real-time. My goal is to identify the gaps and contribute towards making ROS2 real-time compatible. Aiming to get some direction and clue.", "Check this packages in the ros 2 github repo :", "There is also a demo for the realtime support :", "Thanks ", "\nAlso, I wanted to know if there are any changes made in ROS2 stack for real-time (as proposed here - ", " ). Do we have multiple versions of ROS2 (real-time vs non real-time) or are there any special configuration to enable real-time code.", " real-time is a larger topic and as Jackie in above article points includes memory management (no allocations on the runtime), device IO (e.g. no logging to disk) and synchronization (thread priorities, no indefinitely blocking calls, \u2026).", "In addition you also need to have an RTOS that supports deterministic scheduling (e.g. QNX) and a real-time DDS implementation (currently only Connext Micro DDS is so and for that we do not have an rmw_* layer yet).", "For below assume that I only talk about C++ code, so no python, java and friends.", "Said that following has been done to make ROS 2 real-time so far:", "What would still need to happen:", "Finally developers should also use ", " to be able to differentiate between memory pre-allocation and memory re-use on the runtime. Developers should also use an RTOS and a static DDS implementation.", "I am probably still missing out on lots of other things but this is from the top of my head and as you see still quite some work to get there.", "rclcpp needs to be memory audited, e.g. if there are usages of STL containers, we need to use memory allocators for them (e.g. ", ")", "Would it be reasonable to write a static analyzer for checks like this? (As far as I know there is none yet.)", "Thanks ", ". I will perhaps have more question once I do the env setup and run real-time apps with ROS2.", "\nI am curious to know how real-time specific code for ROS2 will be maintained . Whether there will a different branch or different configuration or some other approach.", " ", " ", " I have run the pendulum_demo app and below are the results. I would like to understand how do I analyze the results and what should I do to make it better -", "Initial major pagefaults: 0", "\nInitial minor pagefaults: 2208529", "\nrttest statistics for pendulum_demo_results:", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Is there some standard steps documented to setup/run/test/profile real-time apps with ROS2. This is to enable me to setup a right development environment.", "In the document - ", ", there are few proposals made on how to make ROS2 achieve real-time compatibility. I would like to know if there was any decision taken or progress made wrt the proposals.", "\n", ".", "all rmw_* implementations have static type support (", ", ", ")", "all data structures in rcutils, rmw, and rcl take in allocators (", ", ", ", ", ")", "\n", " you\u2019d have more to add here \u2026, right?", "rclcpp needs to be memory audited, e.g. if there are usages of STL containers, we need to use memory allocators for them (e.g. ", ")", "allocators need to be passed correctly between rmw, rcl and rclcpp layers", "threads need to have controllable stack sizes and priorities", "\n", " need to be used", "logging to memory needs to be implemented (as oppose to the file)", "\n", " needs to be looked at. This is probably not real-time safe", "waitset concept needs to be implemented in addition to callbacks (see ", ")", "\u2026", "Minor pagefaults: 0", "Major pagefaults: 0", "\nLatency (time after deadline was missed):", "Min: 1833 ns", "Max: 74480 ns", "Mean: 32574.4 ns", "Standard deviation: 1.35819e+07"], "url": "https://discourse.ros.org/t/ros2-for-real-time-applications/6493"},
{"title": "ROS2 Security: CLI tools", "thread_contents": ["Hi all, my team at Amazon has been working on security tools for ROS2 (see ", "), and as part of that effort we\u2019d like to help with adding support for secure CLI.", "In essence, being able to create keys & define a permission policy for ros2cli, enabling all CLI commands (such as ", ", ", ", as well as ", ") to operate with those permissions and using the supported DDS security plugins (authentication, encryption, access control).", "Part of the issue lies with the fact that the CLI tool starts up different nodes using different names, and sometimes those names are only determined at runtime (e.g. due to appending the process ID to the name). The security directory lookup is done by the node\u2019s name, overall making it unfeasible to generate and use keys & security settings for CLI nodes.", "We have investigated a few possible solutions and have a proof of concept working for one (Option C). We\u2019d appreciate your input before proceeding.", " Consistent node naming, known at compile time. This essentially means having all CLI nodes use the same name (for example, \u201cros2cli_node\u201d). This is the simplest approach; however, while non-unique node names should be possible with DDS, ROS2 makes no such guarantee and empirically this has been shown to cause problems [", "].", " External override to the node\u2019s security directory. This is the approach proposed by ruffsl at ", " and it involves allowing a special environment variable to override the security directory lookup for the node.", "\nUsage could look something like,", "Overall this is a good approach, but it relies on environment variables which could be error-prone and introduces the minor inconvenience of having to invoke the CLI tool in a different manner.", ": Directory lookup based on longest-prefix match rather than an exact match, and have all CLI nodes use the same predetermined prefix. Thus when a node named ", " starts up, it would settle for the directory ", " if it can\u2019t find any better match.", "From the user\u2019s perspective, usage would stay exactly the same. Since CLI nodes would start with the same prefix, say _ros2cli_node, you could simply setup security for all CLI nodes by using that prefix, e.g.:", "\n", "Currently, the subscriber node (the one used for ", " ) is started as \u201chidden\u201d (underscore prefix). If we keep that discrepancy, with Option C users would need to generate two sets of keys & policies:", "This obviously complicates the setup, but regardless - ", " in ROS1, CLI nodes are all visible as far as I know. Considering that this functionality is at the CLI layer and can be easily ignored with --all, I wonder whether that discrepancy is something worth keeping.", "We\u2019d greatly appreciate any thoughts you might have on the various options presented, as well as on the matter of aligning the CLI nodes\u2019 prefix.", "Thanks!", "\nAvishay", "Overall this is a good approach, but it relies on environment variables which could be error-prone and introduces the minor inconvenience of having to invoke the CLI tool in a different manner.", "If the ros2cli tool supplies the environment variable itself when it runs, then that removes the error-prone aspect and the inconvenience for the user. The user wouldn\u2019t even need to know it was happening.", "From the user\u2019s perspective, usage would stay exactly the same. Since CLI nodes would start with the same prefix, say _ros2cli_node, you could simply setup security for all CLI nodes by using that prefix,", "I got the impression from another post of ", "\u2019s that any kind of wildcard matching when doing security policies was a Bad Idea[tm].", "This obviously complicates the setup, but regardless - ", " in ROS1, CLI nodes are all visible as far as I know. Considering that this functionality is at the CLI layer and can be easily ignored with --all, I wonder whether that discrepancy is something worth keeping.", "This sounds to me more like an oversight in the ros2cli tools implementation than an intentional design choice.", "I am wondering what the goal of making ", " \u201csecurity-enabled\u201d is - maybe you can clarify?", "If you grant e.g. the ", " command access to subscribe to a specific topic what make this permission specific to the cli tool? Isn\u2019t that conceptionally equivalent of allowing \u201ceveryone\u201d to subscribe to that topic. If not, any other entity could simply invoke the command line tool and \u201cget\u201d the information from there since the tool is designed to \u201coutput\u201d the requested information.", "So I would argue that instead of giving ", " any kind of explicit permission you could grant the same permission to any entity (which would make the need to identify the command line tool obsolete.", "Thank you for all your comments!", "If the ros2cli tool supplies the environment variable itself when it runs, then that removes the error-prone aspect and the inconvenience for the user. The user wouldn\u2019t even need to know it was happening.", "Unless I\u2019m missing something, you\u2019d still have to specify the override directory, so the best we could do with that approach would probably look like:", "\n", "I got the impression from another post of ", "\u2019s that any kind of wildcard matching when doing security policies was a Bad Idea[tm].", "I\u2019d like to understand what was this based on. ROS2 Security is not really reliant on naming - ROS nodes can change their name and decide to use w/e name they want. It relies on having a set of keys & signed permissions files locally accessible by the node. The way it performs dir lookup is a minor implementation detail. To minimize confusion or unexpected behavior, the node could print a log message that says which security directory was loaded.", "I am wondering what the goal of making ", " \u201csecurity-enabled\u201d is - maybe you can clarify?", "We assume that most production ROS2 systems would use ROS2 Security. Not necessarily right from the start, but that\u2019s the direction it\u2019s going towards. With that in mind - we thought that when operating a production system, having the ability to use the CLI tools would be extremely useful in investigating & resolving issues. Does that make sense?", "For example: right now, if I have access control & encryption enabled, I can\u2019t use rosbag2 to record node communication without creating permissions explicitly for that node. Then say I want to do ", ", I would need to generate a new set for the CLI publisher. I may want to run ", " but once again I\u2019d need to generate a new set for the CLI service node. I wouldn\u2019t be able to ", " at all because the name is not known in advance.", "If you grant e.g. the ", " command access to subscribe to a specific topic what make this permission specific to the cli tool? Isn\u2019t that conceptionally equivalent of allowing \u201ceveryone\u201d to subscribe to that topic. If not, any other entity could simply invoke the command line tool and \u201cget\u201d the information from there since the tool is designed to \u201coutput\u201d the requested information.", "If you grant ", " permissions, what makes those permissions specific to ", "? Precisely the fact that the ", " executable has the platform-specific permissions to access and read the locally-stored keys & permissions files.", "\nAs an extension of that, a developer working on ROS2 systems would want to differentiate between development machine setup and production setup. For example:", "So I would argue that instead of giving ", " any kind of explicit permission you could grant the same permission to any entity (which would make the need to identify the command line tool obsolete.", "I\u2019m not sure what did you mean here, could you elaborate? To clarify, ros2cli would not get any special treatment. The user would still need to generate keys & permissions for it.", "I\u2019d like to understand what was this based on. ROS2 Security is not really reliant on naming - ROS nodes can change their name and decide to use w/e name they want. It relies on having a set of keys & signed permissions files locally accessible by the node. The way it performs dir lookup is a minor implementation detail. To minimize confusion or unexpected behavior, the node could print a log message that says which security directory was loaded.", "It was ", " in the context of the actions design discussion.", "I see that he was referring to topics and you are talking about directories on the file system, so probably it\u2019s not relevant?", "A little late to the party here, but I\u2019ll try and touch on all points raised thus far.", "Thoughts on the different approaches discussed? Is there a potential problem we missed? Is there a fourth option worth considering?", "In regards to ", ", I agree deterministic node naming prior to runtime would simplify a lot of the use cases presented, however I think the added complexity in dealing with non-unique node names in ROS2 would be a non-starter.", "That being said, I think it\u2019s about time we should start to contemplate contingency strategies for routing with non-unique node names when dealing with multi robot systems. E.g. how can ROS2 be made conscious of or distinguish duplicate nodes of common names running on seperate robots in a homogeneous swarm system, sharing the same DDS domain. The subject of multi robot namespacing is perhaps a whole new world of issues I think that warrants its own security thread, and was an item we touched on in the Future Work section of ", ".", "As you\u2019ve linked with ", ", ", ", I\u2019m presently a proponent of extending the environment to enable the user to override or specify the exact security artifacts to be loaded. In time, with support of added sources of secure storage like Trusted Platform Module (TPM), I suspect such configuration options to expand. For now, I think the following PRs strike a decent balance between configuration generality and specificity:", "With regards to ", ", I don\u2019t think the strategy of directory lookup based on longest-prefix match would be wise. Rather than an exact match lookup, using longest-prefix match could lead to unanticipated collisions or loading of unintended security credentials. Personally from a user perspective, I\u2019d prefer that nodes either load the exact security artifacts I point to or none at all and error out; rather than silently finding an applicable match elsewhere at runtime.", "For generating security credentials however, I would be more receptive to using more flexible logic in matching nodes to permissions. In fact this was something I did back in SROS1 where a keyserver was used to provision permission certificates to nodes. In newer profile language for ROS2 in development, ComArmor, I\u2019ve tried to refine this idea of lists of attachment expressions, evaluatable via regex or ", ".", "This obviously complicates the setup, but regardless - ", "Again, I think this would be a good case for leveraging the environment during debugging and development, as I can specify all nodes spawned by the invoked command to utilise the exact security artifacts I set. This might become tricky if I\u2019m using something like ros2 launch to start my nodes with ", " credentials, and the nodes themselves have ", " node names. At that point, you could modify your ", " to pass in the appropriate environment for each node, or remap the node name via run args to be deterministic.", "This sounds to me more like an oversight in the ros2cli tools implementation than an intentional design choice.", "In regards to hidden nodes or hidden topics, I think that kind of meta information would be nice to embed into the discovery or data tag information, rather than just ", "ed namespaces. This would be useful if one wanted multiple or granular levels of visibility, not just a binary flag; E.g. e.g. ", " vs ", "If you grant e.g. the ", " command access to subscribe to a specific topic what make this permission specific to the cli tool? Isn\u2019t that conceptionally equivalent of allowing \u201ceveryone\u201d to subscribe to that topic. If not, any other entity could simply invoke the command line tool and \u201cget\u201d the information from there since the tool is designed to \u201coutput\u201d the requested information.", "The goal is to ensure that ros2cli tooling remains function when security is enabled; at least to the degree capable in accordance with the permission granted. As for what permissions that are provisioned, and who is given those security artifacts is between you and your friendly sysadmin ", " . I\u2019ll paint a scenario to illustrate the use case.", "Say some end developer, Bob ", ", orders a black box robot ", "  by some OEM, ACME ", " . ACME is in possession of both the Permissions and Identity Certificate Authorities (CAs), and continuously controls what artifacts are installed/deployed onto the black box robot. ACME, like any CA provider, also has a online portal where Bob can send certificates request and permissions for signing. This allows Bob to meditate who is authorized to communicate with the robot, while ACME can additionally regulate what permissions are granted.", "Assuming the CAs are wise enough to only sign certificate requests with unique subject names, and access to security artifacts on the robot are controlled (via TPMs, ARM Trust Zone, Intel SGX, etc.), this would allow ACME to protect system critical interfaces in the robot, while simultaneously provisioning Bob with the minimal subset of permission necessary for developing with the product. E.g. enabling Bob to ", " sensor data ", " for calibration with the end user app, but not screw with factory set PID gains params in the safety controller ", " .", "Later, if Bob needs to take the robot to the local certified shop ", " for repair, ACME could provision the shop with the admin level permissions to debug dagious or system critical interfaces. ACME would also take care to only issue such admin level permissions with a validity set expire after the expected duration for repair.", "Ideally, I\u2019d like afford Bob to be in possession of the Identity CA, since Bob is going to be held responsible for the robot in the end application, but this would require some alterations to the binding between permissions and identity certs in the default Secure DDS plugins. Presently this is via matching subject names fields, but could be customized to bind to something else like a cert\u2019s public key. In any case, this paradigm will probably work against the ", ", a movement I concur with; yet this is a service model I\u2019ve seen quite a few robotics OEMs request for, and expect to see more of in the future.", "I\u2019m not sure what did you mean here, could you elaborate? To clarify, ros2cli would not get any special treatment. The user would still need to generate keys & permissions for it.", "I\u2019m not sure I caught that either, but I\u2019m guessing ", " is asking whats the points of granting ros2cli permissions and credentials, if any old application could use those same security artifacts, e.g the transport layer security artifacts are not inherently bound to a specific application layer.", "To that I\u2019d argue that even though nothing inherently restricts one set of security artifacts from be used for a different  purpose, aside from controlling access to those security artifacts, the benefit of selectly specifying the security artifacts for ros2cli tooling to use vs the rest of my ros2 application helps development. In the scenario above, I might want to have my ", " on my workstation to have super admin permissions (", " for subscribe and publish permissions) so I can triage whether its the topic publisher or the subscriber in the robot that has insufficient privileges.", "Unless I\u2019m missing something, you\u2019d still have to specify the override directory, so the best we could do with that approach would probably look like:", "\n", "An alternative might be to support ", " like args in more general ros2clis, like:", "To minimize confusion or unexpected behavior, the node could print a log message that says which security directory was loaded.", " I would also appreciate a log entry for location of the resolved security directory used. That\u2019d make debugging missing or invalid security artifacts easier, knowing exactly where the node was looking first.", "It was ", " in the context of the actions design discussion.", "I see that he was referring to topics and you are talking about directories on the file system, so probably it\u2019s not relevant?", "Yes, that was my little rant against core ros2 subsystems embedding uncontrollable dynamic strings in namespaced resources, making static access control infeasible; thus necessitating the use of wild card expressions for even basic features like actions. My cautionary stance towards longest-prefix matching lookup remains, but geven node names in general are controllable/accountable its not as bad as embedding a GUID/PID number in a object namespace.", "Thanks for the detailed responses ", " ", "\nThinking about it some more, I don\u2019t think options B and C contradict each other; I think we should implement both.", "\nSo if the override is specified, we would use that. Otherwise, we\u2019d prefix match. That would allow a variety of use cases while still being fairly simple. Of course, we need to make sure to log the exact security directory loaded, and document the lookup mechanism appropriately.", "\nI\u2019ll have a PR out soon.", "We have submitted the relevant pull requests, see:", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["What does this mean?", "Why isn\u2019t it supported today?", "\n", "\n", "\n", "\n", "\n", "\nor potentially having the ros2cli tool supply that environment variable when invoked with a special flag.", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "rcl: longest prefix matching ", "\n", "ros2cli: use the ros2cli_node prefix when starting up nodes by changing the following\n", "\n", "rosbag2: Pass in the prefix from ros2cli all the way down to ", "\n", "\n", "\n", "\n", " to grant permissions to hidden CLI nodes", "\n", " to grant permissions to all other CLI nodes", "Development setup: generate ros2cli_node security dir and have it accessible to assist throughout development (alternatively, turn off security when troubleshooting).", "Production setup: do not deploy ros2cli_node security dir to the system. When there\u2019s an issue on a specific robot, deploy it to that robot in order to use the CLI tool for the investigation (alternatively, have it deployed but with locked down file permissions, depending on the level of security you need).", "nodes: # reserved name for node certificate configuration", "  /**: &default # certificate configuration for a globbed namespace; keyserver uses first match found in order listed", "<xs:complexType name=\"ProfileAttachmentsKind\">", "    <xs:sequence minOccurs=\"1\" maxOccurs=\"unbounded\">", "        <xs:element name=\"attachment\" type=\"ProfileAttachmentKind\" />", "rcl: ", "\n", "ros2cli: ", "\n", "rosbag2: ", "\n"], "url": "https://discourse.ros.org/t/ros2-security-cli-tools/6647"},
{"title": "RCL implementation in go", "thread_contents": ["Hi there,", "A couple of months ago I saw the RCL concept for wrapping ROS2 in different languages. As I recently started learning go, I thought it would be great to have that library available in this language.", "Unfortunately, there weren\u2019t any repositories on github doing that so I decided to do it by myself:", "Current implementation covers approximately 75% of the rcl  functionality (it is not totally functional yet). The most difficult part is the type binding. I plan to use a code generator to bind directly the C types definitions.", "Any thoughts about it? Any suggestions? There are many good features from go (goroutines, reflection, interfaces\u2026) that could result really interesting when working on robotics.", "Best Regards!", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/rcl-implementation-in-go/6925"},
{"title": "Rosbag Backward Compatibility", "thread_contents": ["I\u2019m not sure if ROS 2 has reached this point in its development, but has there been any discussion about maintaining some level of backwards compatibility with bag files from ROS 1? I\u2019m specifically thinking about the scenario where I have a lot of data collected using ROS 1 that I would like to replay into ROS 2 systems.", "ROS 1 bags store the actual message data with the same format as it is being used on the wire (plus some additional header and meta information). This is done so that recording / replaying bags is efficient.", "Since ROS 2 will use a different marshaling / transport its wire format will be different. Therefore I would expect the ROS 2 \u201cbags\u201d to be stored in a different format.", "But there are two ways moving forward:", "I\u2019d also say that, as you pointed out, we\u2019re not to the point where we\u2019ve decided on the bag format. In ROSBag version 2 (which is the current version used in ROS 1: ", "), it assumes ROS 1\u2019s serialization and ROS 1\u2019s topic properties (like latching = true/false). One option would be to do a ROSBag version 3 which would have the ability to store arbitrary connection information and serialized data. Then you\u2019d just need the right plugin to read or write a particular format for the data. If we did that, then we\u2019d probably consider trying to backport this to ROS 1 and create migration tools like we did with ROSBag version 1 -> version 2 (", ").", "Another option would be to use some other existing data format scheme like hdf5 (", ") or something like that. We\u2019re keeping an open mind about reusing more broadly used solutions, but the rosbag format has familiarity and commonality with ROS 1 in its favor. Until we come up with a concrete solution for ROS 2, I think you have to assume the format might be different from what\u2019s in ROS 1. Either way, we\u2019re aware that people have loads of rosbags already and will need to either have them work natively in ROS 2 (through the bridge or a plugin maybe) or have them easily converted to the ROS 2 format.", "Thanks for the quick response, it sounds like there\u2019s a number of viable solutions.", "Several years ago I did a bit of work on developing and implementing a possible new format for ROSBag heavily based on the Matroska container format (.mkv). It uses EBML and is very flexible, supporting pretty much any data and metadata you can dream of, chapters, streaming, chunking across multiple files, etc. It has compatibility with the tools you can use to modify and manage Matroska files. You could even conceivably store a ROSBag 2 format file in this container format, although I doubt that would be very efficient or worthwhile.", "Although I finished the format design, I never finished the implementation (changes at work got in the way). The half-finished implementation is still online:", "tawara - Stream-based data recording and playback library", "The specification is probably more useful than half an implementation:", "I\u2019m not suggesting that this format is the way ROSBag should go in ROS 2. Never finishing the implementation meant I never tested its viability and speed, for example. But I thought I\u2019d mention it if anyone is interested. ", " was also involved in this work.", " also did work in his previous lab with a variation of the ROSBag format. I\u2019m sure he will chime in with the results of that work.", "At the same time as the above work, I also looked at HDF5. I haven\u2019t looked at it since, but back then my impression was that it\u2019s great for certain kinds of data, like lots of raw numbers coming from things like strain sensors and temperature sensors, but it was not an ideal fit for more structurally complex data. However, that may have changed and the library and tools were good. Being able to make use of existing tools would be nice. The people at KULeuven have done a lot of work with HDF5.", "Phew, been a while ", "What I can say about my own work on the format ", " mentions is that it was motivated not completely, but significantly, by internal politics. At my old lab, we had a different middleware developed internally, and it was not acceptable (politically) to use ROS. I thought that maybe others had the same problem, but exchanging data would be very useful, so we tried to create something which didn\u2019t have \u201cROS\u201d in the name, but was conceptually quite close, so ROS could eventually migrate. There was not a lot of interest either in the ROS camp, nor in the other camp, though, so this went nowhere, unfortunately.", "Otherwise I probably wouldn\u2019t have felt the need to change anything fundamentally ", "My colleagues here also tell me that they some of the use cases of rosbag2 are problematic, e.g., when a rosbag is split, there is no information about this in the bag file. You have to infer either using external information, or a heuristic based on the file-name. We would prefer some information on this to be in the library.", "Maybe I\u2019ll post some more later, if I remember anything more.", "Having spoken with a number of colleagues about this now, we primarily see a few necessary feature extensions. This would actually apply to the current rosbag already:", "The Matroska-based format I mentioned above can do all those things with ease. With the exception of the last point, I expect it wouldn\u2019t be too hard to add then to the existing format, too.", "Hi Dirk,", "I am trying the first approach i.e getting rosbag data in ros2 using ros1 bridge.", "\nBut I am facing some issues here.", "\nThe callback for the subscription of rosbag data is not consistently happening.", "\nI suspect that this is somewhat related to the clock. Please let me know your suggestions on the same.", "\nI did not play bag with --clock as I am not sure that how to use use_sim_time with my ros2 nodes.", "steps i followed in each terminal:-", "\nroscore", "\nstart the dynamic bridge :-  ros2 run ros1_bridge dynamic_bridge", "\nrospbag play", "\nros2 run  ros2-node", "Thanks,", "\nPoonam", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["You can simply use the ROS 1 rosbag application to playback a ROS 1 bag file and use the ", " to bridge the messages to a ROS 2 system.", "As soon as a ROS 2 specific bag solution exists someone could write a \u201cplugin\u201d to enable also reading files with the ROS 1 bag format.", "The use of textual data-type definitions in rosbag2 was the most problematic thing, and we discussed about that quite a bit.", "I recall I found some of the arbitrarily sized meta-data structures to be a bit annoying to parse.", "Other than that, yes, the format is non-standard, but it\u2019s not overly complicated. To my knowledge, there are no generic data-writing libraries out there, because it appears that almost everybody his or her own format. This is a bit annoying, but it also suggests that finding the right abstractions is not trivial.", "continuation information. when a bag is split, there is no information about this in the file. You have to guess from the file-name. It would be awesome if there would be a marker at the end of the file, to let readers know where to continue.", "information on parameters: currently completely missing, so you can\u2019t reconstruct parameter settings, nor can you detect run-time changes", "latching. there is no information that I know of that a topic is latched", "playing multiple bags: when loading multiple bags, I\u2019m told that rosbag indexes all of them in a time-consuming fashion to determine whether they are to be played sequentially or interleaved. maybe we could avoid that."], "url": "https://discourse.ros.org/t/rosbag-backward-compatibility/773"},
{"title": "ROS2 Security Working Group Online Meeting", "thread_contents": ["Hi all, I\u2019m an engineer at Amazon working on ROS2 and wanted to get in touch with people working on SROS2 and the Crystal release of ROS2. I\u2019ve met with a few folks in the community and want to make security intuitive, easy to configure, and performant in ROS2. There were some great talks at RosCon regarding ROS2 and security and I would like to join forces with people working on security-related items for ROS2.", "Some gaps to be addressed for ROS2 Crystal:", "This is by no means an exhaustive list, purely just what could be the minimum bar for a system based on ROS2. I would really like to get input from folks working on security and ROS2 and want to host an online meeting on October 15th @ 17:00 PDT.", "Please reply if you are interested.", "Some gaps to be addressed for ROS2 Crystal:", "It\u2019s not realistic for ROS2 Crystal as well however worth to be considered for the long time roadmap:", "There is a ", " about how to integrate public repositories into ", " (\u201ccontinous open source software fuzzying as a service\u201d) and about how to make OSS-Fuzz work for private repositories. Google tries to motivate people to integrate projects into OSS-Fuzz with ", "\u2026 probably an interesting model to get people like ", " (", ") involved into ROS2 security improvement ", " . However OSS-Fuzz based Fuzzy Testing addresses low levels of abstraction (source code like ", ", ", ", ", ") the priority in comparison to the other point in the list (higher levels of abstraction like features, \u201csecurity by design\u201d) is quite low. Nevertheless worth to being mention here I guess.", "I would really like to get input from folks working on security and ROS2 and want to host an online meeting on October 15th @ 17:00 PDT.", "Sounds good, count me in!", "\nI could start earlier though, as I\u2019ll have to leave for another meeting after 18:30 PDT.", "\nCan you post a link to the online meeting?", "FYI: Meeting notes from previous security meetup:", "Here\u2019s the meeting info:", "October 15th @ 17:00 PDT", "You have been invited to an online meeting, powered by Amazon Chime.", "Meeting ID: 3393 57 7780", "United States Toll-Free: +1 855-552-4463", "\nMeeting PIN: 3393 57 7780", "One-click Mobile Dial-in (United States (1)): +1 206-462-5569,3393577780#", "United States (1): +1 206-462-5569", "\nInternational: ", "Meeting PIN: 3393577780#", "I completely agree, fuzz testing would be a great thing to add. There\u2019s quite a few more things like HSMs and other ideas that people have thrown out which would be very useful.", "I want to try to capture all of this, however I would also like to primarily focus on what could be there for Crystal as well.", "Thanks for setting this up.  I will call into the meeting.", "I\u2019ll be there.", "I\u2019d like to see some type of threat scenarios listed with the security measures listed for each.", "For example:", "\nScenario 1: Robot running in a public place, connected to wifi with other users on it.", "Those are some admittedly simple examples. I would like to see a more comprehensive list and some type of security answer for each as to how to defend against the threat.", ", it\u2019ll be great if you could share the notes after the meeting (or even better, record it)", "\nI\u2019m sure there\u2019re several individuals and groups that like myself, would love to join however 17:00 PDT is a bit late in Europe.", "Looking forward to see the results of it.", "I\u2019d like to see some type of threat scenarios listed with the security measures listed for each.", "+1 for this approach. Maybe compiling a list or a joint document would do.", "FYI: Back in my ", " slides, page 19, I listed some other possible action items for SROS2:", "I\u2019ve uploaded the session slides, linked inline with the schedule, and additional materials to onto the tutorial website ", ". Unfortunately my digital recorder failed, and I lost the audio I attempted to capture during the presentations, but the added reference publications and linked videos should include the same degree of information.", "Good call ", " I\u2019ll make sure to record the meeting and try to have it available. At a minimum, I\u2019ll make sure to post notes and what we covered here.", "Much appreciated ", " !", " there is a lot of great content in this presentation. Are you actively working on all of the items in here? It appears there\u2019s some overlap here in the parts we\u2019re targeting. Specifically:", "I\u2019d be really interested to see your how you\u2019re thinking about these items and if there\u2019s some way we could collaborate on them.", "Thanks,", "\nRay", "Hi everyone,", " and I will try to also attend the meeting, even if it\u2019s a bit later for us here in Europe.", "We wanted to point out that the RCTF(", ") is already available and open for contributions. As we pointed out on ROSCon, it can be played both online and offline, as the containers for the scenarios are available at ", ", they are also open for modification and contribution too.", "It would be very interesting to propose new scenarios that align with the security strategies of ROS2, so we can both train the security researchers to find weaknesses in misconfigured ROS2 systems, as well as to train developers to take care of the security aspects in ROS2 so they actively enforce them.", "Right now the available scenarios only cover the basic aspects, but we are working to include more complex scenarios, and specially, more focus on ROS2. Feel free to point out any feedback or improvements that you would like to see, and of course, feel free to create new scenarios that you would like to be included!", "Thanks ", " I appreciate you taking the time out to make it, even though it\u2019s a very inconvenient time. I think it would probably be good to schedule a time more amenable to folks in Europe very soon.", "Thanks,", "\nRay", "Thanks for organizing. I\u2019m looking forward to the discussion. -Morgan", "Thanks to everyone that attended last night! It was a great discussion and I\u2019m happy to find out what people are building related to security. In addition to the summary, I have a recording of the session and will post it as well once I\u2019ve got the logistics worked out. Unfortunately since I did not have anything on the screen for most of the meeting, the video is completely black, however the audio is all there.", "We decided to meet again within 2 weeks and I\u2019ll post again once I\u2019ve verified an appropriate time. All future meetings will be held in morning US time so we can make sure to include as wide an audience as possible. If you have problems making the schedule, please let me know.", "I am also posting a separate meeting on Thursday AM PDT to have all the folks I unintentionally excluded from Europe due to the timing of the meeting.", "Reviewed security-related tasks Amazon is delivering for ROS2 Crystal", "Focusing on simplifying configuration, logging, security development, and community education", "Review attached presentation for details", "Ruffin / ", " presented several key items related to SROS2", "Dynamic topic names - could potentially impact security configuration, are teams doing things like this?", "Gerardo / ", " presented what RTI is currently working regarding ROS security", "ROS2 Threat Model", "Apex.ai", "A couple of PRs are out there now for improving how security artifacts are retrieved", "Open question: How do we deal with security failures?", "Meeting again within 2 weeks", "I wanted to get a chance to talk to as many people as possible so I\u2019m having another session Thursday morning for folks in other time zones. In the future, I\u2019ll try to schedule meetings such that we can have a single group, however for this first one, I want to give everyone a chance to talk about what their working on.", "You have been invited to an online meeting, powered by Amazon Chime.", "Meeting ID: 5568 19 1908", "United States Toll-Free: +1 855-552-4463", "\nMeeting PIN: 5568 19 1908", "One-click Mobile Dial-in (United States (1)): +1 206-462-5569,5568191908#", "United States (1): +1 206-462-5569", "\nInternational: ", "SIP video system: meet.chime.in", "\nor", "\nH.323 system: 52.23.133.56", "Meeting PIN: 5568191908#", "I have both the presentation and a recording of the meeting available.", "\n", "Thanks ", " for uploading the recording and the notes from the meeting. See you in the next one!", "We had a great second meeting for the folks in other time zones. In attendance were people from Amazon, RTI, Alias Robotics, UCSD, and Acutronic Robotics. Unfortunately I completely forgot to record the meeting so the only artifact is the summary below.", "I\u2019m tentatively going to schedule the next meeting for October 30th @ 08:00 AM PDT. Please let me know in the next couple of days if this is not a convenient time, otherwise I will post here with the meeting details.", "Alias", "RTI", "Threat model", "Should security be exclusive with performance?", "Does the sensitivity of the data merit the performance hit (tf or odometry)", "Realtime systems", "How do we deal with security failures?", "SROS2 tutorial has a walkthrough on securing Turtlebot3", "Thanks for everyone for attending!", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Secure services and parameters", "Secure key storage", "Automated security recommendations and configuration", "Secure, signed configurations management", "Auditing and logging", "External network connectivity", "Security best practices", "Promoting security-driven tests", "Ray Cole", "Secure services and parameters", "Secure key storage", "Automated security recommendations and configuration", "Secure, signed configurations management", "Auditing and logging", "External network connectivity", "Security best practices", "Promoting security-driven tests", "integration of fuzzy testing in to the CI environment", "Click to join the meeting:", "You can use your computer\u2019s microphone and speakers, however, a headset is recommended. Or, call in using your phone:", "Threat - user can potentially start publishing to ROS2 topics, how do we ensure no user can publish to CMD_VEL topic for instance and start driving our robot?", "Threat 2 - instead of publishing to a topic, what if they try to make service requests over and over to create a DoS attack?", "Assistive permission policy generation", "Descriptive connectivity manifests", "Procedural provisioning security artifacts", "Expressive security policy definitions", "Generation, deployment, revocation of PKI", "Distributed logging over networks", "Recording Security Events levels", "Adding additional automated CI tests", "\n", "\n", "\n", "\n", "\n", "\n", "ROS2 Threat Model", "Security specific integration tests for eProsima and RTI", "Security file generator for configuration", "CMake target for generating configuration for testing", "Snapshot tool to generate access control (\u201csecure my system\u201d)", "Recommendations for key/config security", "Security event logging", "\n", "\n", "\n", "Procedurally Provisioned Access Control for Robotics Systems - ", "\n", "Candidate frameworks for automation and testing\n", "Keymint - Meta-build system key generation and signed artifacts - ", "\n", "Abstract communication language (ComArmor) - graph of subjects and objects and generate artifacts at compile time", "Maps object or service to DDS mechanisms", "\n", "\n", "Scrape metadata about DDS at runtime and build security artifacts for compilation", "Want to use static verification and include results in security manifest", "Include all elements, topics/messages/services in the manifest", "\n", "\n", "\n", "Do we need wildcarding or something else to handle salt in topic names?", "Typical configurations have static connections between nodes along known topic names", "\nstarting point for creating their own threat model", "\n", "\n", "\n", "No outstanding plans for ROS2 right now", "Believe existing patterns can be used for services and parameters", "Will depend on design of how these elements are implemented on top of DDS", "If use cases are not covered by existing DDS security specifications, additional support could be needed", "Data tags could be used by the identity layer / constrains on security", "Service mapping is using topics and not DDS service names, which means its unclear if changes are necessary", "What granularity is needed for parameters, all-or-nothing or more granular permissions", "\n", "\n", "\n", "Are there existing threat models for ROS2 out there?", "Will not target a specific robot but be a \u201ccookbook\u201d to enumerate possible threats and provide someone building a specific system", "Will use a document on github for collaborating on the threat model", "Come up with a basic template for a threat model\n", "Possibly multiple templates because the domain is so large", "Start with small number of concrete scenarios and try to expand from there", "\n", "SROS2 issue tracker has several long standing issues on the topic", "Many security papers are already out there to draw upon", "\n", "\n", "\n", "Impossible to get a single threat model", "Use STRIDE for modeling threats ", "\n", "Focusing on several different areas: anomaly detection, data integrity, and static analysis", "Ament plugin for pclint and colcon build package to show code coverage", "Security concerns have been around QNX\n", "Preconfiguring the entire system (baked, signed, and shipped)", "\n", "\n", "\n", "\n", "Currently the keystore directory matches the name", "PR to traverse the namespace to allow multiple packages with the same name to have separate security artifacts", "\n", "\n", "\n", "What should be the behavior when a node failed to authenticate/authorize?", "Depends heavily on the implementation, it may be ok to have reduced functionality or could be a critical safety issue", "Should it be modeled similar to mobile applications, where there is a fallback behavior?", "Should there be specific actions taken on failure?", "Need the ability to run in audit mode to find errors", "\n", "\n", "\n", "Click to join the meeting:", "You can use your computer\u2019s microphone and speakers, however, a headset is recommended. Or, call in using your phone:", "To connect from an in-room video system, use one of the following Amazon Chime bridges:", "\n", "\n", "Current in assessment phase for ROS2", "General check for vulnerabilities", "Interest in collaborating on threat model", "\n", "\n", "\n", "Not working specifically on security for ROS2", "Should parts of DDS need augmentation, happy to collaborate on them", "\n", "\n", "\n", "Collaborate via a wiki on SROS2 repo", "Want to start with a less complex, publicly available system to model as an example", "Could use the Turtlebot3", "Victor @ Acutronic offered to use ", " as a possible alternative", "\n", "\n", "\n", "Need to balance security and performance", "May want to have subset of nodes secure", "May only sign or could be sensitive data", "Publicly known data not very sensitive", "High performance, high through put topics may not tolerate problem", "\n", "\n", "\n", "Someone could reconstruct sensitive information from non-sensitive data", "Reconstruct context based on partial information", "Default should be total security", "Model how does partial disclosure affect the system", "There is a paper in the SROS2 tutorial about security, latency, throughput", "\n", "\n", "\n", "Security on realtime systems could impact the realtime aspects", "Various security related functions that will need to happen", "Handshake could cause some non-deterministic elements which would be detrimental to realtime", "Are there other non-deterministic security related functions that could affect realtime systems?", "\n", "\n", "\n", "Extend lifecycle state related to safety of the component", "Allow system to recover by fixing the issue", "Could have mediator that fixes the issue", "This could have problems if nodes begin requesting permissions not needed before", "Nodes/messages could be marked as critical and cause an error if those messages are not able to be processed due to permission errors", "Would require the CA to live close to the system", "Have specific error modes when permission", "\n", "\n", "\n", "Compilation has problems since there\u2019s not a 32-bit build of ROS2", "Use QEMU to cross-compile", "Problems getting the XRCE agent with security enabled, could not communicate with the XRCE node", "Ended up with insecure XRCE nodes and using the RTI router to connect it to the rest of the secure graph", "Need agent to be able to relay the XRCE traffic under it\u2019s own GUID potentially?", "\n"], "url": "https://discourse.ros.org/t/ros2-security-working-group-online-meeting/6393"},
{"title": "New TIME - ROS2 Navigation WG - Thursday 11/1 8:00 am Pacific (GMT -7:00)", "thread_contents": ["Note the time change this week to 8:00 am:", "Navigation2 WG", "\nThursday 10/25/18", "\n10am Pacific (GMT -7:00)", "Hangouts Meet", "\n", "\n\u200e(\u202aUS\u202c) \u202a+1 423-588-1304\u202c", "\nPIN: \u202a426 363 201#\u202c", "Our repo:", "\n", "ROS2 Navigation. Contribute to ros-planning/navigation2 development by creating an account on GitHub.", "\n", "Please reply if you plan to attend so that we know who to expect.", "Thanks,", "\nMatt", "I intend to be there. I\u2019m still catching up on the navigation work though so I expect mainly to absorb.", "I should be there as well", "Thanks all for attending today. Here are some notes:", "Attendees: ", ", ", ", ", ", ", ", ", ", ", ", ", ", ", ", ", ", ", "October recap - ", "Current Status -", "Behavior Tree / Mission Execution overview - Mike Jeronimo (", " )", "Global Planning - question from David Lu (", ")", "CI - Steve Macenski (", ")", "AMCL - Can we remove the rosbag code? Need an issue filed for this", "Quote of the Day:", "\n\u201cNever assume the navigation code knows what it\u2019s doing\u201d - ", "Thanks all for a great meeting!", "Is there a sync this week?", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Great progress over month of October:", "\n\u2013 Merged 78 Pull Requests", "\n\u2013 Closed 42 Issues", "\n\u2013 Excluding merges, ", " have pushed ", " to master and ", " to all branches. On master, ", " have changed and there have been ", "\n\u2013 Added Travis CI ", " ROS2 CI (bloom) to the repo", "Had basic Navigation working using Gazebo and RVIZ over the ROS1 bridge with Bouncy last week", "Moved to master branches for all ROS2 packages to get Gazebo in ROS2", "Using turtlebot3_simulations ros2 branch from ROBOTIS", "\n\u2013 able to teleop the robot in the Gazebo simulation using turtlebot3.world", "Running into some issues when running Navigation2", "\n\u2013 some transforms missing: odom -> base_footprint -> base_scan", "\n---- work-around is using static_transform_publisher for now", "\n\u2013 local_costmap seems to be using wall clock time not sim time", "\n---- work around this by using \u2018ros2 set param local_costmap use_sim_time true\u2019", "Having issues with Gazebo transforms, publishing \u2018Z\u2019 value as though the robot is falling (gravity)", "Mike will post the files he reviewed later", "Need to use standard ROS messages for Path", "\u201cTolerance\u201d to a pose should be optional part of the Navigate to Pose message and needs to be x,y,z,r,p,y.", "\n\u2013 Should there be a boolean flag to set to use the tolerance? False = use default?", "\n---- Mike will open an issue for more discussion", "\n\u2013 Tolerance could be available in the BT editor (Groot)", "\n\u2013 Can we add velocity to endpoint (ie. a \u2018rolling stop\u2019)?", "\n---- Need an issue for this also", "\n\u2013 Recovery modes should work by default without need for user configuration", "Can we re-plan with a new plan every second?", "\n\u2013 Yes, although currently we have to cancel and send a new plan each time", "Should make sure pre-empt option is available that will keep current state", "Will address as part of move to ROS2 Actions", "Steve set bloom up for the navigation2 repo", "four packages need to be removed from our ros2 dependencies.repos file before it will fully work:", "\n\u2013 Behavior Tree - uses catkin", "\n\u2013 XMLRPCPP - will be removed (open issue)", "\n\u2013 launch - currently using a patched version due to timing issue", "\n\u2013 message_filters - issue ", "\n"], "url": "https://discourse.ros.org/t/new-time-ros2-navigation-wg-thursday-11-1-8-00-am-pacific-gmt-7-00/6666"},
{"title": "ROS2 Security Working Group Online Meeting - Nov 30th, 2018 @ 10:00 AM PST", "thread_contents": ["There\u2019s been lots of updates since the last meeting including new security based CMake macros to ease developing secure systems. As always, I\u2019m happy to take suggestions on an agenda, however I never run short of questions.", "Please let me know if there\u2019s something you would like to discuss, otherwise I will propose a subject.", "You have been invited to an online meeting, powered by Amazon Chime.", "Meeting ID: 6170 43 7479", "United States Toll-Free: +1 855-552-4463", "\nMeeting PIN: 6170 43 7479", "One-click Mobile Dial-in (United States (1)): +1 206-462-5569,6170437479#", "United States (1): +1 206-462-5569", "\nInternational: ", "SIP video system: meet.chime.in", "\nor", "\nH.323 system: 52.23.133.56", "Meeting PIN: 6170437479#", "Please let me know if there\u2019s something you would like to discuss, otherwise I will propose a subject.", "I\u2019d like to suggest adding time for discussing Security for ROS2 Actions to the agenda. It seems the current proposal relies upon composing action interfaces from dedicated ROS2 topics and services. Should these dedicated topics and services for actions be namespaced into the same DDS topic mapping as ordinary ROS2 topics and services, I suspect this crossover of interfaces will make securing or compartmentalizing/isolating permissions to specific ROS2 interfaces difficult as middleware layer; i.e. the colliding of resource identifiers from supposably different ROS2 interfaces will hinder the fedelty at which users can construct policy permissions.", "To cut to the chase, see my review comments starting ", ".", "Perhaps some others involved in action proposal/implementation could also join this week\u2019s meeting to help shed light on the challenges in rectifying this architecture concern. Ping: ", " ", " ", " ", " ", " ", " ", " ", " ", "Sounds good, I\u2019ve reached out to a couple of the people on the list, hopefully they can help spread the word. In lieu of any other suggestions, I\u2019ll plan on this being the topic of discussion.", "Hopefully some of the other people involved in the actions stuff will be able to join. The meeting is during the few hours of the night when I really do need to sleep.", "FYI: relevant PR to the ", " design article addressing actions:", "Sorry gbiggs, I plan on recording the meeting and making it available in addition to my notes. I\u2019ll try to vary the times in order to be able to get as many folks as possible.", " ,  as per the action item out of the today\u2019s meeting, could you pm me with a draft a draft of community survey on security use cases for separating privilege between topics, parameters, actions, and services? I\u2019d just like to iterate on that to make sure we are asking questions that would be informative.", "Feel free to loop me in on the draft if you want a review from outside the immediate security sphere.", "Link to the recording of the meeting: ", "I\u2019ll try to come up with something we can use as a starting point. I would prefer to just use the discussion on the ros2/design wiki unless there are objections. Having the discussion openly would given us the widest possible audience.", "Does anyone have any guidance on the format of the survey? I haven\u2019t been around for something like this in the past and don\u2019t know what the community would be most likely to respond to.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Click to join the meeting:", "You can use your computer\u2019s microphone and speakers, however, a headset is recommended. Or, call in using your phone:", "To connect from an in-room video system, use one of the following Amazon Chime bridges:"], "url": "https://discourse.ros.org/t/ros2-security-working-group-online-meeting-nov-30th-2018-10-00-am-pst/6953"},
{"title": "Stereo-image-proc porting to ROS2", "thread_contents": ["Anyone working on porting stereo-image-proc to ROS2? If not, our team at Persistent System is ready to put the effort in porting stereo-image-proc to ROS2. Please let us know if anyone has any concern or any vital information that we will help us in this porting effort. If anyone has already started already working on porting stereo-image-proc, Please let us know if you will be interested to obtain our assistance in the porting effort.", "\n", ", I see that you are the maintainer of this package in ROS, hence I\u2019m tagging you here in this post.", "As none has responded with any concern, I\u2019m assuming, this package has not been on radar for porting by anyone. If so, Our team at Persistent will be working on porting this package very soon.", " our team is porting image_pipeline, but the stereo_image_proc does not start. Glad to see you would like to port it, please go ahead.", "Issue tracked here:", "\n", "\n", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/stereo-image-proc-porting-to-ros2/6421"},
{"title": "Timeline for Crystal", "thread_contents": ["With the ROS 2 Crystal release getting closer and the number of contributors increasing we want to provide a more concrete timeline to give everyone a heads up to update / release packages. All of the following dates are our best estimates when things will happen:", ", week Nov 5th - 9th, first round of ", " releases:", ", Wed Nov 21st, API freeze for core packages - avoid breaking API changes after this:", ", Tue Dec 4th, feature freeze packages for roughly everything in the ", " file", " announcement on Fri Dec 14th ", ", on demand:", " - so today is feature freeze for ros2.repos right?", "Sorry if this is a dumb question but, what\u2019s the cutoff for other packages like Navigation2 in order for us to make the Dec 14th release as a debian? We are still trying to get Behavior Trees into the build farm so that we can release.", "so today is feature freeze for ros2.repos right?", "what\u2019s the cutoff for other packages like Navigation2 in order for us to make the Dec 14th release as a debian", "Both are unrelated to each other.", "For ", " releases there is in general never any cut off for new package releases. E.g. if you want to release a new package into Crystal in January you can do that anytime. That being said new packages are only being synced from time to time to the public repo (usually when there are no regressions). For the release date of Crystal in 10 days you should get ", " releases out as quickly as possible to ensure they successfully build and you have enough time to test the actual Debian packages. You can always release a new patch release later. If a patch release arrives only a few days before the release date we can\u2019t guarantee that it will be synced in time since the version we announce on the release date was commonly built a couple of days before already.", "Regarding the ", " file all contributions need to build across all the targeted platforms. Since that bar is even higher (then only Ubuntu amd64 for the Debian packages) I would also suggest asap. After a successful run of the CI builds a PR can be merged quickly (assuming they build and test with no regressions). The closer we get to the release there might be more congestion and therefore a longer delay before we can test contributions. Once repositories are added to the repos file we do expect the branch to be stable and not fail the builds / have failing tests (otherwise the repo is subject to be removed again until it is stable again).", "So in both cases for ", " I can only suggest as soon as possible to reduce the risk of ", " not working out when done the first time and then missing the release announcement.", "Dirk, thanks for the reply. We do want to have our package ready in time for the Dec 14 release, but good to know we can do updates later, we\u2019ll definitely be making incremental improvements for quite a while. We have the one dependency on the Behavior Tree but we\u2019re meeting with ", " to try and get that resolved this week. We have a preliminary bloom release but it is failing the build due to that dependency not being available in bloom yet.", "Anyway I think we\u2019re going to make it but was looking for a \u2018drop-dead\u2019 date for making it into the release on the 14th. It sounds like there isn\u2019t one officially, but to be safe we should assume it\u2019s no later than next Tuesday? Let me know if that\u2019s too late.", "I just submitted he package Behavior Tree. If everything is OK, it should not be a blocker any more.", "Awesome! Thanks so much!", "We can still meet Thursday to discuss how we\u2019re using it and answer any questions you have.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Alpha status.", "Allows maintainers to register their repositories for release / CI / PR testing.", "At that point we don\u2019t guarantee that the API is 100% final yet (see next milestone).", "Beta status.", "Until that date work is ongoing on the ", " interface, ", " as well as ", " which is expected to break some API used by downstream packages, we will update the documentation on the (to be generated) ", " as we go.", "Afterwards external contributors have enough time to update rmw implementations and message generators to match changed API and get them released before the Crystal release date.", "RC status.", "Cut-off for ", " releases introducing features (bug fixes during the testing phase will still be accepted).", "Other packages / repositories can of course be released any time - even after the release announcement (same as for existing ROS distros).", "Make patch releases where necessary.", "Sync on demand (same as of existing ROS distros)."], "url": "https://discourse.ros.org/t/timeline-for-crystal/6676"},
{"title": "ROS2 security performance tests", "thread_contents": ["Hi friends,", "My team at Amazon is planning to release a package that contains ROS2 RMW implementation performance results. We use the tool Apex.AI (", ") provides to obtain data points and generate reports for when security is turned on/off in a ROS2 system. We will also provide a tool for comparing results and generate a single report for that. You will be able to read the commit history in our package to track down the history of a RWM implementation security performance by commits.", "If you have any suggestions for making this more useful for you, please let us know.", "Thanks in advance!", "\nStatus: Upcoming", "\nDeadline for release: 11/16/2018", "Hi ", "this intel is really helpful for ROS2 users, thanks a lot.", "quick question, what do you mean \u201csecurity\u201d by here.", "\nif you could describe the difference and details, it would be really helpful too.", "thanks", "Hi there.", "\nIn ROS2 we can enable security. There are several ROS2 middleware implementations you can choose from to enable security. This performance test package allows you to understand performance impact (e.g. communication delay) when you enable security vs. disable security in your ROS2 system, AND with different ROS2 middleware implementations. The OMG group has detailed documentation on their definition of DDS layer security ", ". These ROS2 middleware", "\nimplementations conform to this security standard.", "Does this make sense?", "Thanks!", "FYI, support for ", " has been merged, and might help to simplify the test scaffolding in ", " when arbitrarily scaling up the number of nodes with unique namespaces, allowing the tests to reuse a common set of predefined security artifacts at runtime.", "yeah it does, actually that is what i expected.", "\nthanks,", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-security-performance-tests/6718"},
{"title": "ROS2 Navigation WG - Thursday 12/13 2:00 pm Pacific (GMT -7:00)", "thread_contents": ["Meeting Thursday 12/6. 2pm Pacific.", "If you want to be added to the google calendar, message me your email address.", "Thursday, December 6", "2:00 \u2013 3:00pm", " ", "Real-time meetings by Google. Using your browser, share your video, desktop, and presentations with teammates and customers.", "Join by phone", "\u202a+1 423-588-1304\u202c PIN: \u202a426 363 201\u202c#", "Bumping this - we\u2019ll meet again tomorrow 12/13 at 2pm Pacific, our last meeting of this year.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-navigation-wg-thursday-12-13-2-00-pm-pacific-gmt-7-00/7038"},
{"title": "vision_opencv:image_geometry porting to ROS2", "thread_contents": ["Hello All,", "Myself Akhilesh Moghe, a Software Developer from Persistent Systems (India office), I have recently started working on porting ROS1 packages to ROS2.", "\nI have resolved image_geometry python test errors for ROS2 and changes are ready to merge on ROS2 branch. I will also work on other cosmetic/lint/CI build tests as a next step.", ",", "\nI have seen a your recent PR for image_geometry package on ROS2 branch, will it be fine for you if I take over this package porting and raise a PR for failed python test.", "\nor you would prefer to complete this porting yourself.", "Kind Regards,", "\nAkhilesh", "You can take over this project! thanks for your effort ", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/vision-opencv-image-geometry-porting-to-ros2/7123"},
{"title": "Announcing Navigation2 Crystal Release", "thread_contents": ["We\u2019re proud to announce that we have successfully released ", ", as part of the Crystal Clemmys release!", "Our core team consists of:", "\n", ", ", ", ", " , ", " and ", " of Intel Corporation", "\nAlong with ", " of Simbe Robotics", "This team has done a lot of heavy lifting to port, redesign and refactor the key components of the ROS Navigation stack with an eye towards the future. We ", " and we have tried to incorporate it into the new version.", "Currently ", " is available as a Debian package install as well as source code from our repo: ", "Caveat: This is a first release and should be considered \u2018experimental\u2019 or \u2018alpha\u2019 level software, not yet ready for production. However, we invite the ROS community to come and try it out in simulation, with more releases to come in the coming months.", "\u2022\tBasic 2D navigation in a known map, using RViz or other method to set initial pose, set goal pose and move to that pose", "\n\u2022\tBasic obstacle avoidance using the costmap obstacle layer", "There\u2019s more information in our design documents here:", "\n", "ROS2 Navigation. Contribute to ros-planning/navigation2 development by creating an account on GitHub.", "\n", "Please come to our repo, try out the code and give us feedback.", "Look for more updates coming soon!", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Move base has been replaced / refactored\n", "A \u2018simple_navigator\u2019 node is the current default, however we\u2019re currently developing a Behavior Tree based navigator called ", " which will replace the main functionality with a Behavior Tree thanks to (", ")", "Using Behavior Tree, we\u2019ve also implemented flexible recovery behaviors (backup, spin) and left room for future extensions", "\n", "The global planner (nav2_navfn_planner) is now a node called through a topic pub/sub interface called a \u2018Task\u2019\n", "Tasks are temporary proxies for Actions which were not yet implemented in time for our first release, but we plan to replace tasks with Actions in 2019", "\n", "The local planner (nav2_dwb_controller) is ported from the robot_navigation repo (thanks ", ") and is also now a node called through the \u2018Task\u2019 interface"], "url": "https://discourse.ros.org/t/announcing-navigation2-crystal-release/7155"},
{"title": "Laser_assembler porting to ROS2", "thread_contents": ["Anyone working on porting laser_assembler to ROS2? If not, our team at Persistent System is ready to put the effort in porting laser_assembler to ROS2. Please let us know if anyone has any concern or any vital information that we will help us in this porting effort. If anyone has already started already working on porting laser_assembler, Please let us know if you will be interested to obtain our assistance in the porting effort.", "\n", " I see that you are the maintainer of this package in ROS, hence I\u2019m tagging you here in this post.", "Thanks,", "\nDan", "Awesome! I can make a ros2 branch in the repo when you\u2019re ready to PR. I\u2019ve created an issue on the repo for discussion of any design decisions: ", ", Thank you, Jon for your resposponse. Team has started actively porting (and any development needed) for few of the packages and I\u2019m adding Laser_Assembler in priority list to be taken up next. One quick question, Will it be a straight porting or it will also require development effort?", " i\u2019m not aware of any major design changes that are needed, but the current design does depend on the \u201cfilters\u201d ros package and uses TF. So depending on how different the code is for those packages in ros2, changes may be needed in laser_assembler.", "Hi ", ",", "Could you please create ros2 branch in laser_assembler repository , We are ready to give pull request for first port of the laser_assembler package.", "Created branch here: ", "We have completed initial port of laser_assembler package to ros2 and tested on ros2 version bouncy.", "\nPlease find pull request here: ", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/laser-assembler-porting-to-ros2/6416"},
{"title": "CI for cross-compilation", "thread_contents": ["Hi there,", "After the upload of the instructions for the cross-compilation, I wonder if it will make sense to include a job on the CI to cover this use case ?", "\nThis will increase the chance to keep the instructions up to date and insure that any new PR will not break the them.", "If this idea seems reasonable, I guess some changes to the ", " scripts will be necessary ?", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ci-for-cross-compilation/7205"},
{"title": "Filters porting to ROS2", "thread_contents": ["Hi All,", "We are working on laser assembler porting to ROS2 but its dependent on Filters package.", "\nSo we have already taken up it for porting.", "Discourse laser assembler link- ", "have already taken up it for portin", "Hi,", "\nWe have done with the porting of filters package to ROS2 and send a PR.", "\n", "\n", "\nWaiting for the review and suggestion for the same.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/filters-porting-to-ros2/7091"},
{"title": "Colcon / ament_tools /?", "thread_contents": ["I\u2019m trying to ascertain how to best integrate the Ada tooling into the build process of ROS2. I thought that amend_tools was the way to go, seeing that Java, D, Rust all go that route.", "Almost by chance I have seen ", " in the ros2/design repo where it says colcon is the new build tool. But in the top of ", " it says nobody is working towards this. Also I find no thread in the Discourse with colcon in it. ", " doesn\u2019t mention it either.", "I\u2019m a bit confused at this point. Further, the separation between build tool and build system argued in the colcon page seems to be one of the features of amend_tool.", "My instinct tells me to forget about colcon and work with amend_tools, but I might be missing the big picture.", "So\u2026 any thoughts on this?", "The referenced PR to the design article updates the \u201ctop\u201d existing article to update it to reflect the current state (see ", ").", "We are currently rolling out the new build tool but the PR hasn\u2019t been merged yet and the wiki instructions haven\u2019t been updated yet. We are using the tool on ", " as well as locally to polish things before recommending it to be used by everyone. So for now you can use ", " as before. Within a week or so we will hopefully move forward with these and recommend using ", " to build ROS 2. At that time we plan to also post the information on discourse.", "the separation between build tool and build system argued in the colcon page seems to be one of the features of amend_tool", "The separation is not only about having two separate packages / repositories. But also about the naming as well as the ability to not be limited to a single project. The name ", " suggests that it only works with ", " which is mostly also the case. The goal of ", " is not be tied to ", " or ROS 2. Instead it can be used to build ROS 1 as well as e.g. Gazebo including the ignition packages which don\u2019t even have ", " files. Integration of any external tooling or build system should be easier with ", " as it offers many more extension points.", "Great, thanks for the information. So colcon is moving forward then.", "This is important to my case because Ada has its own build system because of language-mandated checks and I\u2019d prefer to go with proper integration from the start instead of patching it through CMake to have to redo it at a later time.", "Given what you say I\u2019m going to go straight for colcon and see if I can get my bearings around. I suppose documentation will be scarcer than for catkin/amend, so\u2026 should I monitor the relevant PRs or do you recommend any other ways of staying on top of this matter?", "Thanks!", "I suppose documentation will be scarcer than for catkin/amend", "That is certainly the case. sorry about that. Let me know if you have any specific questions and I am happy to help.", "should I monitor the relevant PRs or do you recommend any other ways of staying on top of this matter?", "It depends mostly on how \u201cdeep\u201d you want to be. If you only mind about the \u201cpublic\u201d announcement listening to discourse will be sufficient. If you want to get more involved / informed on the progress you can subscribe to the referenced design PR and/or consider watching some of the ", " repositories.", "If you end up working on an extensions to ", " I recommend to consider placing it under the ", " org unit (see ", " for more info why).", "That is certainly the case. sorry about that. Let me know if you have any specific questions and I am happy to help.", "I\u2019ll probably take you up on the offer in the near future ", " For now I\u2019ll focus on other aspects of the binding while the dust settles.", "If you end up working on an extensions to colcon I recommend to consider placing it under the colcon org unit (see rtd 3 for more info why).", "Good to know. I\u2019ll keep that in mind, thanks.", "Is there any equivalent to ", ", ", " in colcon? Building a single package without ", " would be nice too, like it is possible with catkin. So far colcon looks like a bad version of catkin tools to me. I hope it\u2019s only because I\u2019m not used to it yet. Are there plans for more features in colcon?", "Is there any equivalent to ", " , ", " in colcon?", " doesn\u2019t have profiles but offers different concepts:", "The most significant reason why mixins are favored over profiles is that they are combinable which makes it feasible to share mixins between users encouraging reuse (e.g. ", "). Supporting something similar than a default profile would certainly be good - I guess it has not been implemented yet since it is not yet clear how best to do so / how best to use such a feature.", "Building a single package without ", " would be nice too", "It should be fairly straight forward to add this feature to the ", " extension. Please consider to create a PR for it.", "One thing to consider is that there can only be one kind of positional arguments like this. Package names to be selected seems like an obvious choice. It might just be that for other use cases other positional args would make more sense. That is why currently all command line options are named arguments (and also have pretty verbose names to avoid collisions of the numerous options).", "So far colcon looks like a bad version of catkin tools to me. I hope it\u2019s only because I\u2019m not used to it yet.", "That might highly depend on your point of view. ", " has certainly some nice usability features which ", " doesn\u2019t have at the moment.", "But on the other hand there is a pretty long list of features in ", " which go beyond what ", " can do (just a short excerpt):", "Are there plans for more features in colcon?", "Features are simply being developed on demand so whenever there is a use case which needs something. For many use cases the current state works pretty well and there is no list of features we are planning to work on soon. But as always please feel free to contribute whatever features you consider necessary / important / valuable.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", " to provide information about packages", "\n", " to set the default values of command line arguments", "\n", " to define sets of configuration options which can be combines", "works on all targeted platforms (Linux, macOS, Windows)", "supports the current features of package manifest files including group dependencies", "supports packages without a ", " file (e.g. Gazebo)", "is supported by the ", "\n", "highly modular architecture which enables / encourages implementing plugins externally and many are being developed by external people which is great: ", ", ", ", ", ", ", ", ", "\n", "using more modern tools, e.g. ", " including several of its plugins to run Python tests", "being actively maintained since it is the default build tool of ROS 2", "\u2026"], "url": "https://discourse.ros.org/t/colcon-ament-tools/4685"},
{"title": "ROS 2 Collaboration Bulletin Board", "thread_contents": ["Let everyone know by posting here!", "Ask here!", "Thanks!", "This thread is meant to be a place where people can announce what they\u2019re working on so that people working on ROS 2 related things can find one another.", "We\u2019ve seen that different groups who are experimenting with ROS 2 are duplicating work and don\u2019t know about one another, so hopefully this thread will be useful for discovery within the community.", "Hopefully it will also be useful for people to find out what others have already done and where development is focused at the moment.", "I\u2019d like to try and keep some ground rules for this thread to keep it succinct and browsable. We\u2019ll see how it works out and adjust if necessary.", "Hopefully these rules will keep this more of an announcement bulletin board like thing, rather than pages on pages of memoranda.", "I\u2019ll probably be moderating (removing comments, sticky-ing things if I can, and/or updating this top post) to help keep it easy to consume.", "Thanks!", "I\u2019m working on rviz for ROS 2 by refactoring rviz from ROS 1 into parts and replacing ROS 1 specific parts only with ROS 2 ones. Here\u2019s my plan:", "I know some other people have already been working on this, so if you are let me know and hopefully we can work together on it!", "I have been working on porting many packages which I will organize into various groups. All of the following packages are linked with more detail ", ". Some of the packages were ported merely to a compiling state and have not been properly tested.", "As recommended by ", " and OSRF, I plan to submit upstream PRs for each of these packages in the coming days.", "I am in process of combining my own changes with those of ", " so these link to the (soon to be) combined repos.", "I was looking to see the level of difficulty of getting rqt tools working and ported all the packages necessary to get rqt_dep to an initial working state.", "I\u2019ve also been porting ", ". My approach is not as thoughtful as ", "\u2019s approach: I removed all plugins and am adding them back in one at a time. So far I have: tf, map, and laser scan to some level of functionality.", "One of my main motivation in doing this was to avoid needing to publish OccupancyGrid\u2019s through the ros1_bridge.", "How well has actionlib been ported? I\u2019m interested on working on that, but in a more improving-not-just-porting way. Specifically, I want to make actions a first-class citizen (like messages and services) and write up a REP that specifies how they should be defined and used, so that tools can be more certain about what they are dealing with. It would be great to have an \u201cofficial\u201d rosaction tool, for example, and to not see 5 topics when I list the currently in use topics.", "It\u2019s on the near term roadmap, but we haven\u2019t started it yet.", "We will likely release  an overview (maybe as detailed as a design document?) in the near future describing how we expect actions to look like in ROS2. Regarding a rosaction tool (for ROS1), there is ", " discussing what the feature set of such a tool would be. We could use the ideas in that ticket as a base for a ", " tool in the future. Feel free to pitch ideas there!", "Do you have a draft of that overview available yet? If not, would you like me to start working on one?", "I think if all the guys work on ROS2 github, everyone can contribute to the community and easy to know the progress and synchronize the patch.  If everyone fork one branch to develop , someone don\u2019t know this web page. It will result in many duplicated work.", "\nContributing to ROS 2 github, it would also make developer feel the ROS2 community very active and open.", "\nAll the above , just my suggesiton:slight_smile:", "We try to keep things on the ros2 github repository (at least for now), but not everyone has the permissions to create things there, and not everything belongs there. Since all administration of the organization has to go through the owners of the org, sometimes it is easier and more appropriate to have them on a different organization.", "I consider this an alternative way to notify people of what your working on, not mutually exclusive with pushing things to the ros2 org.", "This is great. How close is this to us being able to bag and playback data without needing the bridge anymore?", "I haven\u2019t done any work on rosbag or playback, so that is entirely unimplemented and not working.", "As for not using the bridge, you can run rviz using ROS 2 and make use of several of the plugins to avoid having to pass data through the bridge. Some of the interesting working plugins are: tf, laser scan, map, and robot model. Others (odom, path, point) may work but I have not tested them.", "Note that to use the robot model plugin it requires a change to the robot state publisher to publish the robot model (see this ", "). I just created a ", " for these changes.", "You said you got tf working to some level of functionality.  We have been running into issues when querying for transforms with lookupTransform.  We query for a transform at a given time, and we always get a transform back that does not match the time stamp that was asked for.  It is anywhere from a few milliseconds behind to 4 seconds ahead of the timestamp that was asked for.  The error actually cycles through from being a bit behind to far in the future.  Did you run into this when you were getting tf to work?  I would give more detail (code, etc.) but did not think this thread was the right place.  We can continue this discussion elsewhere if you have any thoughts that could help.", " If you can reproduce it and believe that it\u2019s a bug please open a ticket and we can dig into it there. ", "Edit: Actually you\u2019re ahead of me, I see the ticket at ", "What is the status of this work? Did you submit this PR? I am mostly interested in diagnostics.", "Haven\u2019t had time to work on any of this recently. ", " created a PR a couple weeks back to update diagnostic updater to work with ros2 ardent (and updated the urg packages as well). The other diagnostic packages have not yet been updated.", "I just created ", " to make the ros2 changes more visible and eventually get them merged into a single repo.", "Hope this answers your question.", "Hi,", "I have been working on ROS2 nodes for the Raspberry Pi camera (a.k.a. raspicam) and the AprilTag detector. Both are implemented as components and are therefore composable for intraprocess communication.", "I am open for all contributions and also don\u2019t mind if the packages get moved to official ros2 groups like ", " or ", ".", "ROS2 node for camera module of Raspberry Pi. Contribute to christianrauch/raspicam2_node development by creating an account on GitHub.", "This is a port of the original ", " from ROS1.", "ROS2 node for AprilTag detection. Contribute to christianrauch/apriltag2_node development by creating an account on GitHub.", "The implementation uses the original apriltag2 library from ", ". For integration with ament workspaces, I am using a CMake version of this library: ", ".", "Given the camera parameters, ", " computes the pose of the marker in the camera frame. It also publishes the raw detections (including the quality of the detection for filtering) and therefore depends on ", " definitions from ", ".", "Hi, I have already ported the ", " which is necessary for ROS2 image processing in the perception applications with OpenCV, and I am trying to upstream it to hopefully benefit more ROS2 users, please let me know if you find any problems, thanks !", "Here is some update to the ros2 cv_bridge, now ", " has been officially upstream to the original ros-perception vision_opencv with a dedicated ros2 branch, please submit/fix issues there when you find to make it benefit more community users from now on, thanks a lot !", "Hi,", "\nCan anyone update me regarding the porting of message_filters to ros 2 environment ? I will be happy to take up this task.", "Actually, we have been porting the message_filters to ROS2, however, you know, it has some dependency to C++ Boost in ROS. now it works except for keeping its Boost dependency in ROS2, next to clean its dependency of Boost with the way in C++11/14, I think it\u2019s good if you would like to help, maybe ", " can update you for more details.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Try to only post once per project/effort, and link to a another discourse post or GitHub issue to continue in depth discussions\n", "Update the first post (rather than post new comments with updates) if you want to keep current details there", "\n", "Feel free to express interest in a topic or in porting a ROS 1 feature/package or to ask if anyone else is already working on it, but try to keep the back and forth short, preferring to split off into a separate Discourse thread or GitHub issue once you\u2019ve connected with one another.", "Try to avoid long discussions about unifying overlapping efforts, preferring to create a new discourse thread instead, linking to it from this thread.", "Before asking if a feature is in ROS 2, check the announcements, Roadmap, and Documentation first. You should not use this thread for a casual \u201cdoes ROS 2 do X yet?\u201d. Only post here if you\u2019re pretty sure it\u2019s not in ROS 2 yet, but you\u2019re interested in helping make it happen and looking for peers to work with.\n", "\n", "\n", " (also see ", ")"], "url": "https://discourse.ros.org/t/ros-2-collaboration-bulletin-board/2239"},
{"title": "Announcing RQt Crystal Release", "thread_contents": ["PickNik is excited to announce the release of RQt for ROS 2 as part of the release of Crystal Clemmys.", "RQt is a visualization framework built on top of Qt5 that provides plugins to visualize, interact with and introspect your ROS system. With RQt, robotics developers can now visualize and interact with their ROS 2 system through a GUI. We are especially excited to see the potential of ROS 2 exhibited through numerous RQt plugins developed by members of the ROS 2 community.", "RQt for ROS 2 is supported on Ubuntu, MacOS and has limited support on Windows 10.", "We would like to thank Amazon AWS for their support of this work and contribution to the open source robotics software community.", "We would also like to personally thank Dirk Thomas at Open Robotics for his time and advice during this project. We never could have delivered this port in time for the Crystal release without his extremely generous contribution of time.", "More:", "Ported packages and plugins so far:", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/announcing-rqt-crystal-release/7337"},
{"title": "ROS2 Navigation WG - Thursday 1/10/2018 2:00 pm Pacific (GMT-7:00)", "thread_contents": ["Thursday, January 10", "\n2:00 \u2013 3:00pm", "Weekly on Thursday", "Real-time meetings by Google. Using your browser, share your video, desktop, and presentations with teammates and customers.", "\u202a+1 423-588-1304\u202c PIN: \u202a426 363 201\u202c#", "Please reply if you plan to attend.", "Also, if you would like to be added to the Calendar notice, please message me with your email address.", "Matt", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-navigation-wg-thursday-1-10-2018-2-00-pm-pacific-gmt-7-00/7390"},
{"title": "Composition and Parameters: Best Practice Suggestions", "thread_contents": ["I\u2019m playing around with the manual_composition example code and I want to insert a parameter service for the nodes.", "I wasn\u2019t sure what the intended implementation path is for that.", "\nI implemented it this way:", "By adding the two service/client objects for each node, I am successfully able to send and get params for each individual node using the ros2param tool.", "However, I run into issues if I try to connect an ", " callback.", "I added one to the talker client ", ", but when I set variables to the listener, it still triggers the on_parameter_event. Interestingly, it doesn\u2019t add the parameter to the talker, but it does fire its on_parameter_event callback.", "\nSo, I\u2019m not sure if that\u2019s a bug, or if I\u2019m using the API incorrectly.", "I\u2019ve seen some comments where the parameter service/client stuff may be launched automatically inside the node in the future. So should I be putting it in the Talker class constructer instead? Will that be the intended usage of the parameter service, especially when working with components and composition?", "\nOr have I discovered a bug and should add it to the GitHub Issues?", "Thanks.", "The way you extended the example to include parameter client and service will work, but that\u2019s not the way I think you should do it. The idea of the manual_composition file is that you take existing nodes, instantiate them, add them to an executor, and run them, but nothing else. If I were you I would have added the parameter service and client to the node itself. (also I think the node automatically has a parameter service, so you should only need a client)", "As for the parameter_event callback, that is a global event topic, meaning any change to any node will generate a message there. It was designed for tools to be able to notice any change to any parameter on the whole graph. We\u2019ve talked about different ways of breaking that up, but for now it is an aggregate topic only. ", " already opened an issue that these events cannot be associated to the node in question because the same topic is used by every node:", "We haven\u2019t addressed that, I think, because we still had not gotten to parameter addressing and how namespacing will work with DDS. We covered the namespacing part, but we still haven\u2019t gotten to the parameter address scheme.", "However, if all you want to know is when a parameter has changed on the current node, you can use the ", " method, see:", "To add on to ", " allows other nodes to set/get/list parameters in this node.", "\n", "  provides API to set/get/list parameters on other nodes.", "Neither of these are the API for interacting with the parameters for this node, which should be done through ", ".", "A caveat on ", ", you can only register one callback per node (currently), if you register multiple times, only the last one will be called.", "ParameterService allows other nodes to set/get/list parameters in this node.", "(also I think the node automatically has a parameter service, so you should only need a client)", "I initially tried sending params to the talker without adding any code, and it failed. So that puts this statement into question.", "Thanks for the insight on the proper usage.", "Neither of these are the API for interacting with the parameters for this node, which should be done through Node", "I guess I never knew this. What is the API for setting/getting params in Node? I hadn\u2019t seen anything in the past. Maybe things have changed and I\u2019m just oblivious. ", "The way I\u2019ve been working with parameters is to create a Service and Client for each node. Then I register an event callback for each node. And inside the param event callback for each node, I condition on the name of the parameter being modified/created/deleted, and assign the value to a local variable used for computation, etc.", "Sounds like that approach is off-the-mark. I\u2019ll look into the ", " method and modify how I\u2019m working with parameters.", "\nUsually my use case is to create/setup my node, wait for parameters to be set to a good value (typically by an external entity), then proceed to do work.", "What is the API for setting/getting params in Node?", "Yeah, definitely oblivious. I see it there, just the same function calls of ", " and ", ".", "Yup, they\u2019re in the Node class: ", "I initially tried sending params to the talker without adding any code, and it failed. So that puts this statement into question.", "Hmm, that might be a regression on our part then. If you could confirm that a basic node cannot have parameters set externally that would be nice to know.", "Ok.", "Ran the talker app directly (assuming this comes from ", "], and can see the Hello World output.", "\nOn another terminal, run ", ", I get the response ", ".", "\nThis is running beta1 with FastRTPS as the only rmw, on a Windows machine.", "I opened an issue here", "\n", "We should move this discussion there.", "I saw that this was moved, but I believe I am running into an issue that is independent of the ParameterService starting by default.", "I haven\u2019t seen an example of doing ros params not involving the \u201cmanual_composition\u201d yet.  All the tutorials for parameters still appear to use clients/services.", "Looking over the comments for the register_param_change_callback, it appears that the callback should be doing set_parameters_atomically, unless I am misreading that.", "This is what I have:", "Then when I use ros2params to set the parameter.  Callback occurs, but as soon as \u201cset_paremeters_atomically\u201d occurs, I get memory violations.  If I fail to call that I see no problems.", "So am I reading the comments correctly?  Should I be calling \u201cset_parameters_atomically\u201d", "FYI, I am using Alpha 8 on Windows.", "Thanks,", "I haven\u2019t seen an example of doing ros params not involving the \u201cmanual_composition\u201d yet.  All the tutorials for parameters still appear to use clients/services.", "This is the only place I know that is using the node interface, but there might be others. ", "As for ", ", I can see how the comments could be confusing. To clarify, the function is supposed to act atomically in sense that any changes to state in your code are only expected to occur if all the parameters are valid. In other words if changing the parameters modifies internal variables, it is expected to change nothing if it fails.", "This restriction/expectation is there because otherwise the atomic parameter API could guarantee nothing.", "Another note, it is expect that you set the result manually in the callback, by doing ", " after you verify that the parameters are valid for your node.", "The parameter callback is actually called by ", ". By calling ", " inside your callback you are actually creating a cycle, creating the memory errors you are seeing (probably some kind of stackoverflow).", "Hope that helps.", "Thanks, that clarity is what I was looking for.", "Hi All,", "\nI am also trying to use manual composition and ros2 parameter feature with the demo example only.", "\nI tried both ways.", "add parameter client to the node itself.", "rclcpp::SyncParametersClient::SharedPtr parameters_client = std::make_shared", "(this);", "With this approch, I get error as no matchin function as \u201crclcpp::SyncParametersClient::SyncParametersClient\u201d. Because this is referrence to talker node which is of type composition.", "2)add parameter client before adding to the executor:", "\nauto talker = std::make_shared", "();", "\nauto parameter_client = std::make_shared", "(talker);", "\nexec.add_node(talker);", "\nWith this approach, not able to set parameters, as parameter_client is define here and set parameter action is getting done in talker_component.cpp.", "I am testing this on crystal.", "\nThanks", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", "\n", "\n", "\n"], "url": "https://discourse.ros.org/t/composition-and-parameters-best-practice-suggestions/1001"},
{"title": "OS X ROS2 setup script for quick installation", "thread_contents": ["Hi all,", "I recently setup ROS2 from source on my macbook with High Sierra using the installation instructions here: ", "\nI have written a shell script to execute the commands needed for the setup and would like to contribute it back to the documentation. I believe this will help fellow developers setup (or update) their workspaces quickly and I am hoping that this can be used for testing purposes as well.", "Can you please let me know how to make this contribution? Should I fork the ", " repository and submit a PR after adding the script and updating the documentation?", "Yes, a pull request against the repository is the right way to do it.", "My recommendation is to put your script on a separate (new) page and then put a note at the top of the macOS instructions saying there\u2019s an alternative way to install using an automated script, and then link to the page with your script.", "Generally we shy away from scripts like this because we like people to know what\u2019s being done to their system before they do it, and because on platforms with \u201crolling\u201d package managers (like macOS and Windows) scripts are often fragile and need lots of maintenance or user intervention.", "We appreciate your contribution anyways and we can continue to discuss how to present it and how/what it should do in a pull request to the documentation repository.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/os-x-ros2-setup-script-for-quick-installation/7422"},
{"title": "Rosconsole for ROS2", "thread_contents": ["Hi ", ",", "Can you please share us rosconsole porting status to ROS2? Is it already ported to ROS2? As communicated with you over the email, Our team at Persistent System is willing to extend help in porting rosconsole package to ROS2. Will you be ok if we start testing of your package once ported?", "Thanks,", "\nDan", "There is no porting status on that package. Any kind of effort for porting functionality like this is either covered by the roadmap or an existing ticket. If it is listed in neither of these places there is simply nothing to report.", "That package is also highly specific to how ROS 1 does logging. It is extremely unlikely it will be ported. It is more likely that functionality provided by that package is being implemented in ROS 2 at some point.", "So if you are interested in making these features available in ROS 2 I would suggest to create a ticket in the ", " repository describing the exact feature(s) and how you plan to implement them. That will enable early feedback on the approach.", "@", ", thanks for the clarification. As you mentioned over email, features provided by Rosconsole in ROS1, might already exist in ROS2 through some other package. As time permits, we will verify the features that Rosconsole provides in ROS1 and based on finding, we will take further determination on porting / development effort. I hope, you are ok with this approach.", " , We have ported rosconsole package in ROS2 with all existing functionality available in ROS.", "\nSo, we need to have ros2 branch for rosconsole to give PR.", "\nAlso, Please suggest any other approach for logging required in/for ROS2.", "We have ported rosconsole package in ROS2 with all existing functionality available in ROS.", "As mentioned above similar functionality (eventually partially) might already exist so I am not sure what a \u201cport of rosconsole\u201d means in this case.", "we need to have ros2 branch for rosconsole to give PR.", "I don\u2019t think a ", " branch in the ", " repo makes any sense since I don\u2019t see where there would be any code shared between the functionality in ROS 1 and ROS 2 due to their different design in this area. Please share you changes somehow to allow others to take a look.", "Please suggest any other approach for logging required in/for ROS2.", "My previous suggestion still stands:", "I would suggest to create a ticket in the  ", "  repository describing the exact feature(s) and how you plan to implement them. That will enable early feedback on the approach.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/rosconsole-for-ros2/6380"},
{"title": "What should be the correct behavior of a \"reliable\" transmission? (throughput problem)", "thread_contents": ["Hello, everyone.", "We\u2019ve been testing the ROS2 and DDS lately and came across the following issue.", "\nFirst of all, I\u2019m using ROS2 ardent with OpenSplice DDS. But I believe the behavior can also be apply to newer version and other DDS vendors. Please correct me if I\u2019m wrong.", "\nTest source: ", "\nRelated article: ", "TL;DR: We cannot guarantee the arrival of topics even with \u201creliable\u201d QoS", "Full version:", "\nWe I\u2019m running the throughput testing tools (link above), I\u2019ve discovered that the publishing rate is significantly higher. In fact, I can publish at rate of over 85000 Hz with 4KB payload setup (that is, 332MB/s). While the subscribing node only got average of 1000 Hz, and the rate is very unstable. Originally I thought it was the problem of the QoS setting, but it turns out the \u201creliable\u201d QoS is already the default.", "\nAfter some weeks long investigation, we\u2019ve finally discovered the root cause. To our understanding, because the default history QoS is set to KEEP_LAST, the DDS system will discards the data that\u2019s already in the buffer, which is not yet taken by the rmw layer, and replace it with the newest \u201cLAST\u201d data sample.", "However, to achieve throughput measurement, I want every bit of my data to arrive at the destination.", "\nTo achieve that, I modify the node with history QoS=KEEP_ALL, plus", "\nadding modification to the ", ", (", ") and ", ", (", ") with", "respectively (see later notes).", "\nSo when the reader buffer is full, the writer will be blocked by the reader, and thus every sample will arrive at the subscribing side. About the detail of this writer blocking behavior, I\u2019ve been studying the Vortex OpenSplice C++ Reference Guide (", "), p.347.", "\nWith this setting, I can get synchronized publishing/subscribing rate of >15,500 Hz, and that\u2019s more than 60MB/s!!!", "So my question is, how should I view this result? Yes, the DDS did \u201creliably\u201d sent the data over to the reading entity (at least that\u2019s what they claim). It\u2019s just that we can\u2019t poll the datareader fast enough so that the \u201cKEEP_LAST\u201d setting wipe out the existing data.", "\nHowever, from the user stand point, this might seems a little weird: \u201creliable\u201d QoS doesn\u2019t mean 100% data reception. Should we somehow change the ROS2 definition and behavior? Personally, I would agree with default to KEEP_ALL with a default DDS buffer size, say, 100. So when the internal buffer is full, the writer function will block to make sure no data is dropped. And this should be defined as \u201creliable\u201d from the perspective of ROS2.", "Appreciate any opinion, and please correct me if I\u2019m wrong at any perspective.", "\nThanks.", " The qos addition is a little brutal, modify the ", " should be a much proper way of doing it.", "Setting the ", " QoS to ", " only means that data is resent when the receiver fails to receive it. The behavior for how to do queueing when the receiver is slower than the sender is all in the history settings, as you\u2019ve pointed out.", "In ROS 1 the behavior is always like ", " with a ", " (in ROS 1 it\u2019s called ", " which is a required argument when creating subscribers and publishers), for example see what happens in ROS 1 when the out going buffer is full:", "Most people just make larger queues when this is an issue.", "I think it\u2019s for this reason we decided to use ", " and a ", " (believe the default is 10 or 100), as our default, in order to emulate the ROS 1 default behavior as closely as possible.", " also has limits, but unlike ", "'s ", ", which always applies to each \u201cinstance\u201d of samples, ", " has two resource limits which always apply, ", " and ", ". You could just set ", " to the same value as ", " and then ideally ", " and ", " would only affect the strategy used when the queue is full, but you also need to set the ", " to a reasonable value as well. When using ", " you probably also want to set ", " to a reasonable value, and so using ", " is just more complicated.", "I think ultimately the user needs to understand the difference in ", " and ", ", and I think that departing from the terminology used by DDS (to your suggestion \u201cShould we somehow change the ROS2 definition and behavior?\u201d) is probably just going to be confusing. I also think that the default of ", " is what ROS 1 users will be expecting by default, and I think that it\u2019s \u201csafer\u201d in the sense that the publisher is less likely to be negatively impacted by a misbehaving subscriber (e.g. a visualization tool over a lossy link) and therefore ", " is more situational (like for use in services). For those reasons I think ", " makes sense as the default, but it\u2019s definitely a subjective and opinionated position for the ROS 2 API to take.", ", I really appreciate your detailed explanation of what\u2019s going on.", "\nIt makes a lot of sense if you compare the behavior to ROS1, that the publisher will not care if the receiver gets the data or not.", "I fully agree that we should make it clear for the user. The tutorial page ", " did caught me off guard for a while since it states ", " and that \u201cdelivered\u201d did not means the delivering for the end-to-end ROS publisher/subscriber, but actually means the operation of underlying DDS. This would be a easy fix of wiki on that regards.", "Indeed, in this ", " style, no publisher will be affected by the broken subscriber and probably will make most scenarios easier (unless you\u2019re measuring throughput ", "). However, I did find the current system default history.length is set to 0 according the the ", ". I couldn\u2019t find the meaning of setting this value to 0?", "As far as the QoS configuring goes, I thought we can only consider ", " since ROS2 rwm implementation is currently keyless (ans thus have only one instance) AFAIK. The definition I found (as quoted below) stated that ", " will not take history length into consideration. According to my experiment, the memory access will kept expand very quickly until the computer dies. This match the behavior stated in the DDS manual that ", " in both ", " and ", " are set to  ", ". I propose we can expose the ", " through RMW as well as provide limited value for any preset that involve ", " history. And this behavior should also be properly documented so the user knows what they\u2019re doing when adjusting the configuration.", "Again, thanks for your reply. Any other opinions are much welcome.", "P.s. The definition I found in the OSPL DDS document", "KEEP_ALL_HISTORY_QOS - all samples are stored, provided, the resources are available. On the publishing side, the Data Distribution Service will attempt to keep all samples (representing each value written) of each instance of data (identified by its key) managed by the DataWriter until they can be delivered to all subscribers. On the subscribing side, the Data Distribution Service will attempt to keep all samples of each instance of data (identified by its key) managed by the DataReader.", "\nThese samples are kept until the application \u201ctakes\u201d them from the Data Distribution Service via the DataReader::take operation. The setting of depth has no effect. Its implied value is LENGTH_UNLIMITED. The resources that the Data Distribution Service can use to keep this history are limited by the settings of the ResourceLimitsQosPolicy.", "\nIf the limit is reached, the behaviour of the Data Distribution Service will depend on the ReliabilityQosPolicy. If the ReliabilityQosPolicy is BEST_EFFORT_RELIABILITY_QOS, the old values are discarded. If ReliabilityQosPolicy is RELIABLE_RELIABILITY_QOS, the Data Distribution Service will block the DataWriter until it can deliver the necessary old values to all subscribers.", "Sorry for the long delay.", "As far as the QoS configuring goes, I thought we can only consider ", " since ROS2 rwm implementation is currently keyless (ans thus have only one instance) AFAIK.", "For now that is true, but we\u2019re currently working on supporting IDL 4.2 directly in ROS 2, at which point you may specify a key and it will influence queuing as separate instances for each key value.", "I propose we can expose the ", " through RMW as well as provide limited value for any preset that involve ", " history. And this behavior should also be properly documented so the user knows what they\u2019re doing when adjusting the configuration.", "I agree, we need to expose more QoS to make ", " more usable. Any help you (or others) could provide on this in the form of pull requests would be appreciated.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["if (!queue_full_)", "{", "  ROS_DEBUG(\"Outgoing queue full for topic [%s].  \"", "         \"Discarding oldest message\\n\",", "         topic_.c_str());", "}", "\n", "outbox_.pop(); // toss out the oldest thing in the queue to make room for us", "queue_full_ = true;"], "url": "https://discourse.ros.org/t/what-should-be-the-correct-behavior-of-a-reliable-transmission-throughput-problem/6826"},
{"title": "ROS 2 wrapper for velodyne drivers", "thread_contents": ["Hi, Is anyone aware of any active development of a ROS2 compatible version of the velodyne drivers. Presently, I could only find the ROS1 version ", ".", "\nI couldn\u2019t find a velodyne library either, does that mean if I want to use it in native ROS2 (without the ros1 bridge), I\u2019ll have to build it completely in ROS2 from scratch?", " we have written a VLP16 driver for ROS2 which is easily extendable to other ring-shaped lidars.", "\nThe driver is loosely based on ", " but also greatly improved in terms of:", "Currently we are not ready to release it yet but plan to do it later this year.", "If you need it earlier send me a PM.", "D.", "  Would you mind ask when do you release the driver?", " it is planned for this month, see: ", ".", "LMK if you interested to test it.", " / ", " - I am one of the current maintainers for ", ". Is there any way that one of you (or any of the other ros2 Github maintainers) could create a velodyne fork under ", " so I (and others) can begin working on the port in an official repo?", " If you\u2019re maintaining both versions unless you\u2019re planning a ground up rewrite I\u2019d recommend developing keeping it in the same repository and just use a different development branch. This will allow you to keep the code bases close and facilitate code reuse.", "Like ROS1 the ROS2 ecosystem is intended to be a large federated ecosystem, we put a lot of things into the ros2 organization during early development but not everything needs or should be there, and some things will be expected to merge back to their original repositories as we get time to cleanup and merge back changes instead of planning to maintain parallel forked projects.", "Thanks, ", ". I\u2019ll work on it as a separate branch for now.", " - Any news on a release date from your end? I saw that it had been pushed back to another milestone but I would be happy to test it pre-release as well.", " we\u2019re also interested in helping develop and/or testing your Velodyne driver. Thanks!", " ", " sorry for late reply. The development for ROS2 based velodyne driver has been done and merged. I commented on it here: ", ".", "Thanks, ", "! I\u2019ll reply in the Github issue.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Static memory", "To work on data as soon as it\u2019s available", "To have minimal latency by using e.g. ring buffers"], "url": "https://discourse.ros.org/t/ros-2-wrapper-for-velodyne-drivers/4744"},
{"title": "Diagnostic-aggregator and diagnostic-updater porting to ROS2", "thread_contents": ["As communicated with ", " Hendrix, Brice Rebsamen, Our team at Persistent System is extending our help in porting diagnostic-aggregator and diagnostic-updater packages to ROS2. Please let us know if anyone has any concern or any important information that we will help us in this porting effort.", "Hi,", "You can find a first port of the diagnostic-updater package for ROS2 Ardent here : ", ".", "\nI don\u2019t know if it\u2019s a full port of the diagnostic-updater or not though.", "\nI did a minor update to make it compile for ROS2 Bouncy here : ", ". Just had to change from c++11 to c++14.", "Hope it can help you.", "@ ", ", this is really helpful information and great pointer to start with. We also have additional communication with ", ". We will check the state of the first port of diagnostic-updater and take necessary actions as required.", "Is this planned to be a direct port or is there a design document for review somewhere?", "We had some issues with ", " diagnostics not matching ", ", but much of that seemed intrinsic to ROS1. The ", " being measured in units of ", " events instead of time was somewhat disintuitive. At one point we had a ", " with topics that update at less than 1Hz.", "While ROS2 could still expose more ", ", ", " was just ", ", so that should provide a starting point for ", " diagnostics. However, I\u2019m personally in favor of integrating metrics into the ", ".", "On a previous project, we could have used better status filtering for some devices. In particular we had a FLIR camera that would do it\u2019s own self-test / running recalibration if, for example, the ambient temperature changed by 0.1C it would drop 1-3 frames while closing a shutter to recalibrate. Ideally we would have a way to escalate the status level when the topic frequency drops below ", " over a given period of time. Sonar sensors may be a similar aperiodic use case.", "It was never clear to me if ", " should be a UUID, serial number, VID/PID, mac address, etc.", "\nDoes information such as the vendor, model number, hardware/firmware version and/or ip address belong in diagnostics if it does not produce a status level change? I\u2019m not sure it was the right choice but we ended up making separate topics to log introspected information to rosbags to track hardware changes. Much of the data really just needed to be stored once per bag file but the lack of metadata in ROS1 bag files prevented this from being a viable option given development resource constraints.", "Does it make sense to implement a ", "/", "/", " group in the parameter server and have rosbag2 write everything from that parameter group into a chunk at the beginning of each bag? or a ", " service that rosbag calls on a logged topic when the log rotates?", "Our team also had questions about handling self_test when some of the tests should only be run when the system is not moving. Perhaps, ", "/DiagnosticStatus could use a SKIP status level.", "Some of the tests we wanted to perform required external interaction / feedback but ", " appears to block ", ". One way of looking at the problem is that much of what is needed for interactive testing is similar to a generic sensor calibration manager interface. Use cases include controlling rotating platform for IMU testing, dynamometer feedback, external pose estimation, calibration maneuvers (driving in circles, moving objects), etc.", "We have always used the diagnostics not only for monitoring hardware, but also software behavior.", "\nYou can monitor the tf topic frequency in the same way you monitor a camera topic.", "In that sense hardware_id has been something inconvenient, I don\u2019t know if it makes sense for ROS2 to rename it to something more generic.", "  :   we have created new ros2_devel branch and merged changes from bponsler:ros2-devel branch. Additionally we have updated  code and port test cases as per ROS2 guidelines to support ROS2 Bouncy.", "\nNow we want to share this development  but there is no branch for ros2 development on ", "  , so please suggest how to move forward in this case .", "please suggest how to move forward in this case .", "Create a ticket in the upstream repo asking for a `ros2 branch to be created so that you can create your PR against it.", ", Thanks for your feedback. ", " had created a ros2-devel branch under ros/diagnostics to support ROS2. we have raised a PR request ", " against it but CI build check has failed (as below) that seems some build env issue as it is triggering ", ". We have tested it locally and build/test is successful in Bouncy. so please suggest in this case.", "CI build check has failed", "The ", " file on your branch still uses ROS 1 logic to try to build and test the code. You either need to update it to actually test ROS 2 or remote it for now.", "Hi dirk", "\nthanks for your response and support .", " ", "   Now we have successfully migrate diagnostic package to ros2 . we are looking forward for community response and suggestion for this package improvement.", "\npull request link is ", "Sorry; I\u2019ve been out of the loop here for a while (my ", " subscription does not work very well).", "The PR at ", " seems like it has gotten out of hand; it\u2019s over  160 files changed and over 65k lines of diff, and the CI has been removed. It\u2019s unclear if it\u2019s an update of the existing code, or a complete rewrite at this point.", "As has been my feedback since the first PR, more than anything else, I\u2019d like to see CI set up for this project, so that we can have some confidence in what works, and what still needs work.", "I\u2019ve haven\u2019t seen any attempts to do that yet. I did some searching and found ", " , ", " and ", " . All of these mention CI, but none of them describe how to register the new ros2-devel branch with the ROS build farm or Travis.CI. I also found ", " , but it seems very out of date and doesn\u2019t seem to support testing on Windows (Since Windows is a first-class citizen in ROS2, I\u2019d like to have some CI run on it).", ": can you provide any references or tutorials on how to set up CI for ROS2 packages?", " thank you for all of your hard work on this so far. I think to move forward, we need to break the current PR down into smaller pieces that can be reviewed incrementally. The obvious way to do that is:", "If you have functional or structural changes that you\u2019re making, let\u2019s discuss those before we discuss the details of the code changes.", " suggests a common system for reporting sensor information (serial number, part number, etc). I do not know much about ROS2, but if the logger supports capturing parameters like that, then that would be an excellent feature to add, and would probably be good for it to replace the old hardware_id .", "If ROS2 has support for embedding a generic message within another message type, it would be worth looking into ways to use that to replace the existing KeyValue message type with more structured data (trying to extract data from the ROS1 diagnostic messages is very painful).", "can you provide any references or tutorials on how to set up CI for ROS2 packages?", "There is no difference between ROS 1 and ROS 2 in that regards. You can do any of the following:", "Ok; it seems like I\u2019d like to register the repository with the rosdistro database so that the buildfarm builds every pull request against the ros2-devel branch. The bloom documentation at ", " describes registration with rosdistro, but doesn\u2019t describe how to enable builds for pull requests; is there some documentation on how to do that?", "The bloom documentation at ", " describes registration with rosdistro, but doesn\u2019t describe how to enable builds for pull requests; is there some documentation on how to do that?", "If I recall correctly ", " will interactively ask you if you want to enable the option.", "This is correct. During the first release into a ROS distro, bloom will ask you interactively at the very end if you want to enable pull request testing. Also, you have to give ros-pull-request-builder access to your repo (or set up a webhook), as described here: ", " .", "If you have already released a repo into a ROS distro, bloom won\u2019t ask you again (even if you run ", "). Then you have to make a manual pull request to rosdistro where you add the ", " flag).", "  I am working to break this PR into smaller but while porting from ros1 to ros2 multiple changes required in all files in single package so it will be difficult to insure code compilation at each commit but i will insure code compilation and  test cases execution at each PR will it be fine ?", "Also if  we make one PR for sub packages like diagnostic_aggregator  then that PR itself contain more than 30 files changes . will it be fine for you to review ?", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Renames and code changes in separate pull requests.", "Separate pull requests for each package within the diagnostics repository.", "Register the repository in the rosdistro database and the buildfarm will optionally build each commit on the target branch and/or every pull request against that target branch. This approach requires dependencies to be released and available as Debian packages.", "Use Travis (or any other service) to invoke a build of the repository using the ", " scripts. This can e.g. do a prerelease build which can span multiple not yet released repositories.", "Manage your own custom build logic."], "url": "https://discourse.ros.org/t/diagnostic-aggregator-and-diagnostic-updater-porting-to-ros2/6382"},
{"title": "Should the rqt packages really be included in ros2.repos?", "thread_contents": ["More generally, should ros2 packages that aren\u2019t necessary to build ros2 from source be included in the master ros2.repos file? Building all of the ~200 packages in the ros2.repos file takes around a half hour on my very fast machine. While this may be acceptable at the moment, as ros2 grows, it makes sense to separate the ros2.repos into smaller repos files. To me a reasonable split would be  ros2_core.repos and ros2_extras.repos.", "The ", " file is not intended to be used long term and it is more than overdue to replace the instructions with something like ", " instead (which is what the ROS 1 instructions use).", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/should-the-rqt-packages-really-be-included-in-ros2-repos/7689"},
{"title": "ROS2 pcl_perceptions", "thread_contents": ["Hi,", "While working with ros2, happen to find pcl_perceptions for one of the algorithms developed useful. But, this", "\nsupports only with ros1, is there any plans or already available version of the same which supports ros2 native?", " Could you help or guide?", "Porting ", " is a non-trivial effort. Especially it depends on some ROS2 core features that have not been finalized/ported to ROS2 yet. Example: Replace dynamic_reconfigure and its .cfg files, porting filter plugins to components, etc\u2026", "Did anyone contact the maintainers asking about their plans? I guess most people are waiting for ROS2 to be more mature to minimize code rewrite/throw-away, especially huge stacks like perception.", " Could you help or guide on this? I wrote an email to you, about the same. I\u2019m ready to put in the effort, but need some initial ideas of for sanity.", "+1, from ", "pcl_conversions is mainly about type masquerading, which isn\u2019t targeted for a release yet.", "pcl_ros is primarily input/ouput/pipeline nodes. For porting that, I\u2019d really like to see how (dynamic) parameters and managed nodes shake out in the summer 2018 release.", "Costmap2D has a dependency on pcl_perceptions, and I don\u2019t see this on the Crystal Roadmap yet. Does anyone have the bandwidth to port it to ROS2?", "I believe the navigation stack as a whole has dropped pcl_* as a dependency in melodic.", "There is certainly interest in a port/refresh of pcl_* to ROS2, but bandwidth is low at the moment. The only thing outstanding from my excuses in February however is type masquerading, and we can probably agree that that isn\u2019t critical for a port.", "I can confirm that the Melodic branch of navigation is PCL-free, but does depend on the sensor_msgs::PointCloudIterator \u2013 not sure the status of that being ported.", "-Fergs", "but does depend on the sensor_msgs::PointCloudIterator \u2013 not sure the status of that being ported.", "There is a ROS 2 version of PointCloudIterator available at ", "Yes I saw that melodic no longer has this dependency after I posted. Thanks for the replies!", ", ", ", our team at Persistent System is ready to put the effort in porting perception_pcl to ROS2. Please let us know if you will be interested to obtain our assistance in the porting effort.", "\nIt seems no body start on this task. Ref to ", ". If you have resource on this tasks, I would suggest you announce on  ", ", and just start the work.", "There is ROS2 ", " package ported on ROS2 before moving on perception_pcl. The pcl_conversions deprecated on ROS 1, if we port perception_pcl, we could switch to use ", " instead of ", " on ROS2.", "The pcl_conversions deprecated on ROS 1, if we port perception_pcl, we could switch to use perception_pcl instead of perception_pcl on ROS2.", "I don\u2019t quite follow you here, but as far as I\u2019m aware nothing related has been deprecated.", "If you have resource on this tasks, I would suggest you announce on ", ", and just start the work.", "+1 to that. I would welcome any PRs for perception_pcl, and I\u2019m happy to provide feedback, but my bandwidth to do actual ", " is fairly limited.", "A few advance points - while a direct port of perception_pcl to ROS2 has value, what would be much more valuable is an overhaul of the perception_pcl \u2018filter\u2019 nodelets, taking the new ROS2 lifecycle concepts into account. That said, it would be great to have a design discussion prior to diving in.", "I don\u2019t quite follow you here, but as far as I\u2019m aware nothing related has been deprecated.", " yechun:", "It seems to me that questions are more around ", " deprecation. Having said that, we have already started working on perception_pcl porting effort.", ", Do you want me to setup a call with you with our team who is working on perception_pcl? If so, let me know so that I can setup a call.", ", ", " from our team has posted in \u201c", "\u201d for our intend to contribute on this porting effort.", ", as we discussed on PCL_ROS over the email, we at Persistent System are currently evaluating dependencies as a part of our porting effort. As we are planning to have a separate call with you, we are hoping to get further insight and guidance from you on this effort.", "For others, Please let us know if anyone else is working on PCL_ROS porting to ROS2? Our team at Persistent System has already started researching the porting requirements for PCL_ROS. Please let us know if anyone has any concern or like to share any vital information that we will help us in this porting effort.", "Please refer thread \u201c", "\u201d for further information on this effort.", "I agree with ", ", this could use a design discussion.", "While the \u2018filter\u2019 nodelets work, chaining them can be problematic, particularly if a new point cloud arrives before the current one is finished being processed. Perhaps the ROS2 lifecycle could be used to start a new filter chain if, for example, the current cloud is taking longer than usual to ICP. Something similar to a worker/scheduler model.", "It may also be worth looking at ", ".", "In the long term I\u2019d like to see a means of passing a point cloud to a GPU and having it to run a set of filter/operations on it. Perhaps something like shaders in OpenGL\u2019s rendering pipeline or gstreamer\u2019s approach to video processing.", "While the \u2018filter\u2019 nodelets work, chaining them can be problematic, particularly if a new point cloud arrives before the current one is finished being processed. Perhaps the ROS2 lifecycle could be used to start a new filter chain if, for example, the current cloud is taking longer than usual to ICP. Something similar to a worker/scheduler model.", "Indeed one of the design elements for the executor based threading model in ROS2 is that we wanted to be able to support synchronous pipelines. To achieve that we\u2019ll need to develop a custom executor that\u2019s aware of the pipeline flow, but once that is configured it can synchronously call each element in the pipeline. This in combination with the unique pointer publishing API supporting ", " should be quite powerful.", "Hi Paul,", "Hope you are doin good.", "\nWe were busy in migrating some other packages so post-poned work on pcl_ros.", "\nNow we are again back on the pcl_ros work.", "\nAs you suggested, we are working on the design part of it which involves component and ros2 parameter features.", "\nIt would be appriciated if you help us to understand few of our doubts.", "Thanks.", "Hi ", ",", "I believe ros2 launch should handle restarting a node if it crashes, however I can\u2019t find an example of this in source or documentation (", ").", "A \u2018port\u2019 of ROS1 would involve instantiating several lifecycle nodes inside one process. See the \u2018composition\u2019 demos: ", "A more interesting implementation would have an executor aware of the pipeline structure (", "), however I don\u2019t think any implementation or demo of this exists in the wild.", "Correct, this certainly would be valuable to fix in the context of a porting effort.", "Thanks ", "  for your response.", "\nAll these questions were related to existing code of pcl_ros in ROS.", "\nAs per my analysis, nodelet/node monitoring is handled by bond package which is already added to nodelet.", "I am working on design doc for pcl_ros migration to ros2. Also I am checking how these things will be handled in ros2. Once the document is in good shape, will share with you.", "Thanks,", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["In the process of piplelining, if any node crashes or breaks down,how is this handled in ros?", "Pipelining of filters is happening serially or parallely?", "I have observed that all the operations of pcl_ros are not getting tested with either gtest or launch. Please confirm.", "In the process of piplelining, if any node crashes or breaks down,how is this handled in ros?", "Pipelining of filters is happening serially or parallely?", "I have observed that all the operations of pcl_ros are not getting tested with either gtest or launch. Please confirm."], "url": "https://discourse.ros.org/t/ros2-pcl-perceptions/3596"},
{"title": "ROS2 Cross compilation", "thread_contents": ["Hi,", "Following the multiple discussions around the cross-compilation of ROS2, I would like to combine all the effort under the same topic.", "There are a couple of different link regarding the cross-compilation (for arm architecture):", "The different instructions are using the same tools to achieve the cross-compilation:", "To simplify the life of the people who would like to cross-compile ros2 and concentrate the contribution on this topic at one place, I would like to:", "how does it sound ?", "\nPlease give me your opinions on this and any suggestions are welcome !", "I agree 100%.", "It would be nice to include in the repository some subdirectories for the most common platforms, containing scripts for creating a sysroot and cross-compiling.", "I think that this is the biggest lack of the current tutorial: the provided instructions are easy to translate to other architectures as long as you don\u2019t use a sysroot.", "In any case I will be happy to contribute to this new repository!", "EDIT: I just noticed this post from the ROSCon meetups", "I agree as well. It would be so nice if there were a general guide to \u201ccross-compile ROS2\u201d for other platforms (RTOS as well).", "\nI\u2019m searching something on web about this topic but I found the same links which you already presented.", "\nCould you let us know? thank you so much", "Thanks for your support on this !", "Here some news of my progress:", "I\u2019m almost done with the tutorial page. I add some general information about CMake and cross-compilation.", "I\u2019m still thinking on the best way to upstream the cross-compilation related files. The last idea is to create a ", " repo, which will contains a package with the same name.", "\nThis repo will come by default with a COLCON_IGNORE, allowing us to add it to the ros2.repos file. Native compilation will not be affected, and cross-compilation would be possible by simply removing this file.", "\nThis approach allows us to add a script to generate the sysroot with colcon, before the other packages.", "Regarding the cross-compilation itself, I still have to ignore the following packages:", "touch ", "\nros2_ws/src/ros2/rviz/COLCON_IGNORE ", "\nros2_ws/src/ros2/demos/intra_process_demo/COLCON_IGNORE ", "\nros2_ws/src/ros2/demos/image_tools/COLCON_IGNORE ", "\nros2_ws/src/ros2/robot_state_publisher/COLCON_IGNORE", ", I think support for RTOS is a more complicate topics than just cross-compilation. You will probably find more info on this if you look for \u201cembedded ROS2\u201d topics, like this one ", " additional request from my team:", "Could we have an example of cross-compiling an application against a pre-built ROS2 (for example, to cross-compile ", " without having to cross-compile ROS2 along with it)?", "good point, I will see what I can add regarding this !", ", ", ", We have created and implementation of the rmw layer using Micro XRCE-DDS, a middleware specific for microcontrollers. Regarding the cross-compiling topic here I think you may want to check how we cross-compile part of the ROS 2 stack into an STM32, using an RTOS like NuttX.", "The RTOS and cross-compilation interesting parts are in this repository (Following NuttX way):", "It is a WIP project so any feedback, idea or question will be helpful.", "Thank you all so much. I\u2019ll investigate on your suggested links and If I 'll find something useful, I\u2019m goint to share with you.", " I can\u2019t find a .cmake file to cross-compiling ROS2 in NuttX in your microROS/apps link. Is there? how do you perform the cross-compilation?", "Please, have a look at the first version of the ", " repo.", "\nNote that this is a temporary location for the repo ! We want to move this under ros2/cross-compile.", "The following PR add the documentation and the repo to ros2.repos:", "\n", "\n", "\n", "\n", ".", "In that case, NuttX build system is a set of plain makefiles.", "\nWe have a makefile calling colcon with a cross-compilation toolchain.", "\nIn this link:", "\n", "You can find the makefile and the related toolchain file.", "\nI think those are the files you may be interested.", "Hi ", ", I finally had time to look at the repository and the instructions. They look great!", "However I noticed that you are still targeting Bouncy repositories.", "Have you tried cross-compiling Crystal repositories using that same instructions?", "I\u2019m asking because I  have created a similar framework, which should allow me to cross-compile for Bouncy as well as for Crystal.", "\nHowever, even if the build phase goes fine in both cases, I get a ", " when running any of the Crystal example executables.", "However, even if the build phase goes fine in both cases, I get a ", " when running any of the Crystal example executables.", "If your target is a armv7l (i.e. 32-bit Raspberry Pi or similar), then ", " should fix the bus error in Crystal.", "Hi ", ",", "\nThanks for taking the times to look at the repo+instructions !", "I\u2019m facing some issues when cross-compiling Crystal and I would be interested to see the differences you have in your setup that allows you to pass the build.", "On my last try, qt_gui_cpp was failing and after that rosidl_python\u2026", "If your target is a armv7l (i.e. 32-bit Raspberry Pi or similar), then ", " should fix the bus error in Crystal.", " Thank you, that fixed the error perfectly.", " I\u2019m currently ignoring all the visualization packages.", "\nAfter Christmas I will try to cross-compile also these packages for RaspberryPi and I will let you know how it goes.", "Hi,", "\nI\u2019m now able to cross-compile the full Crystal release apart of ros-visualization and rviz packages !", "\nI\u2019m trying to find the issue with rviz and I will try the same with ros-visualization if I have the time.", "I have done a few updates on the cross-compilation assets:", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["the instructions we put together for the aarch64: ", "\n", "this ", " on the ros2-for-arm repo", "esteve ", "\n", "alsora ", "\n", "which appear on this ", ", ", "  on discourse", "and probably other one\u2026", "a cmake toolchainfile", "docker/chroot + qemu to prepare the target filesystem", "docker as environment for the cross-compilation", "create a \u201cROS2 Cross-compilation\u201d page with the instructions under ", " tutorials (I will do the PR in the coming days)", "push the required files on the ", " repo (Docker files + cmake toolchainfile)", "rviz (master) can now be cross-compiled", "a generic dockerfile is used to generate an aarch64 or armhf file-system. A build argument can be specified to docker:", "\n- armhf: docker build --build-arg ARM_ARCH=arm32v7 \u2026", "\n- aarch64: docker build --build-arg ARM_ARCH=arm64v8 \u2026", "the target docker container is cleaned after been extracted"], "url": "https://discourse.ros.org/t/ros2-cross-compilation/6834"},
{"title": "Mixed python/cpp Ament package", "thread_contents": ["Hello all,", "I have yet to see a mixed python/cpp ament package. Does anyone have an example or documentation to point to?", "Thanks.", " provided a CMake function to introspect a ", " and for a subset of the possible content do \u201cthe right thing\u201d.", "In ament the package ", " provides two functions:", "Those should cover the major need to install Python packages or individual modules. At the moment there is no support for additional features provided by setuptools like entry points.", "How would a ", " file be integrated into a pakage within the ", "? Would it be defined as an external module?", "Python packages with a ", " file are processed in a standard way. So you can do whatever you like in there which works for ", ", e.g. ", ".", "That works if my cpp file is not a ros2 node and a generic cpp file. But if it were to be a ros2 node, how would I define that in my ", "? Is there a way to do this?", "We have never tried that. CMake and ", " provide a lot of features to handle dependencies and build libraries and executables from C++ code. I would assume it is a lot of effort trying to mimic this within a ", " file.", "Maybe the other way around makes more sense: using more Python specific features by calling out to Python from CMake.", "Does that mean including ament_python in the CMakeLists.txt file and compiling my python node?", "If I were to do this, how would I go about it? It\u2019d be really helpful if you could give me a general sense of direction\u2026", "We don\u2019t have many examples of this but I think rclpy[1] can give you an idea. It is an ", " package[2] that compiles C code into a library and install it[3]. I also installs python modules[4] for the user to interact with. The difference here is that the libraries are installed in the python install directories (because they are python extensions) but you can install them where C++ libraries should go.", "Hope this helps", "[1]", "\n[2]", "\n[3]", "\n[4]", "Okay, this is what I have right now. My package has the following structure -", "My CMakeLists.txt looks like this -", "My ", " looks like this -", "\nfrom setuptools import setup, Extension", "I am able to compile the package, and generate an executable for ", ".", "\nHowever ", " fails to recognize the ", " and install a target for the python node. Is there something else I need to do specifically for ament to recognize the existence of a ", " and run it?", "It looks like you\u2019re mixing CMake (you have a ", ") and Python\u2019s setuptools (you have a full ", " file as well). Our build tool doesn\u2019t support dual build system packages like this. When building your package it will either run ", " or ", " but not both.", "If you need both then another solution will need to be found. Perhaps calling the ", " from the ", " or replacing the functionality of the ", " with just cmake code or replacing the functionality of the CMake code within ", " using ", ", which ", " linked to before.", "We don\u2019t currently have such an example as you\u2019ve setup here. Specifically something that contains non-trivial CMake code (which would not easily be replicated with Python\u2019s C++ Extensions) as well as a ", " file which uses ", " . Unfortunately, all I can say is that we don\u2019t have a solution for this yet and I don\u2019t know what the best strategy forward is at the moment.", "Ah okay. Thanks. I will try experimenting a little on my own and see if I can come up with something. If I\u2019m successful I can create a new post and share my experience.", "As suggested by ", ", using ", " to call the ", " would be the easier option. Is there any resources that you\u2019d be aware of that could help me to proceed in this direction?", "The closest thing I know of is how catkin from ROS 1 combines CMake and Python:", ", did you make any progress with this? I\u2019m struggling with the same issue right now.", "Just chiming in to say I also have the same package layload as ", " exemplified above, and would also be interested in how to get around this.", "We don\u2019t currently have such an example as you\u2019ve setup here. Specifically something that contains non-trivial CMake code (which would not easily be replicated with Python\u2019s C++ Extensions) as well as a ", " file which uses ", " . Unfortunately, all I can say is that we don\u2019t have a solution for this yet and I don\u2019t know what the best strategy forward is at the moment.", "Wrt. ros2 packages using both C++ and Python with CMake and ", ", is this still the case?", "Wrt. ros2 packages using both C++ and Python with CMake and ", " , is this still the case?", "Nobody has worked on that and afaik nobody is planning to do so. So the state is still the same.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/mixed-python-cpp-ament-package/1452"},
{"title": "No communication if no gateway is set", "thread_contents": ["Hi,", "\nI ran into trouble with a simple network setup consisting of two computes connected via a switch. I noticed ros2 will only send data in case a gateway is set (the gateway address doesn\u2019t need to be reasonable - for example I just set it to the ip of the switch).", "This leads me to the question. Why do I need to set a gateway?", "What version of ROS2 are you using?", "I\u2019m on the current master branches.", "Any ideas someone ?", "\nThis issue isn\u2019t that fatal but I\u2019d like to know if I\u2019m doing anything wrong or got a wrong understanding of the system.", "Could anyone of the ros2 team say if this is intended behaviour (or at least determined by the middleware) or if this is a bug?", "Maybe nobody else has answered since nobody knows the answer to your question out of the head. I quick ", " seems to indicate that a gateway might be required for udp multicast which are being used for the DDS discovery.", "Slightly related to this, you may want to make sure that multicast is", "\nenabled on your NIC. I\u2019ve noticed that on some Linux machines even the", "\nlocal communication doesn\u2019t work wo/ the multicast being explicitly", "\nactivated on the loopback adapter.", "\nSee here: ", "Thanks for your answers.", "\n", " Sry didn\u2019t wanted to sound rude.", "\nAs a user it is at the moment quite hard to tell if some behaviour is intented, a bug, or if I\u2019m simply using it the wrong way", "Regarding the gateway behaviour:", "\nI was just really irriated because this kind of setup might occur sometimes in robotic systems.", " Some of these phenomenas I already noticed myself. The loopback interface communication without having any other interfaces activated never worked for me regardless of using FastRTPS or OpenSplice.", "Just to make sure, this is not necessarily a problem of Fast-RTPS. I was", "\ngiving the link to the issue because it also shows you the steps needed to", "\nenable multicast on the lo device.", "With ros2 bouncy, using fastrtps, we are unable to get two computers talking directly without setting a default gateway. Enabling multicast on localhost as ", " said to try did allow it to at least talk locally, but it did not help with two machines talking to eachother.", "We can\u2019t always have a default gateway in our configurations. Any ideas?", "This exact problem was fixed with Crystal; see ", ", which was superceded by ", " .  I highly recommend upgrading to Crystal; there are only a couple of small API breakages between Bouncy and Crystal, so the upgrade is fairly painless.", "Thanks for the reply. I downloaded crystal for arm64 and on my Ubuntu 16.04 machine, I don\u2019t see a complete fix.", "Here are my tests:", "So one thing changed from bouncy, and that\u2019s the results of test 1 on Localhost, previously, that didn\u2019t work either. I read the links you gave and they only claimed to fix the localhost with no network interfaces. I was hopeful that the default gateway problem would go away as well, but looks like it didn\u2019t, unfortunately.", "With other dds versions (we use twinoaks coredx principally) these tests do work without a default gateway. Is there anything we can do to make that happen for fastrtps?", "Is there anything we can do to make that happen for fastrtps?", "I would suggest to open a ticket in the FastRTPS repository.", "Thanks ", " - I\u2019ve been posting on this one: ", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Localhost\n", "With networking completely disabled, a talker and listener work on localhost.", "With networking enabled (but no default gateway), a talker and listener do not work on localhost.", "With networking enabled (with default gateway set, but nonexistent on the network), a talker and listener work on localhost.", "\n", "Two machines connected directly via ethernet cable\n", "With networking enabled (but no default gateway on either machine), a talker and listener do not work", "With networking enabled (default gateway configured on one machine, but not both), a talker and listener do not work", "With networking enabled (default gateway configured on both machines, but nonexistent on the network), a talker and listener work", "\n"], "url": "https://discourse.ros.org/t/no-communication-if-no-gateway-is-set/2915"},
{"title": "Monitoring the RAM usage of ROS2", "thread_contents": ["Hi,", "Recently I have been investigating the performances of ROS2.", "\nWhat concerns me the most it\u2019s actually its memory usage and how it is increasing among different distributions.", "\nI would like to have a discussion with you about what do you think of these results.", "ROS2 nodes take always at least 20 MB of RAM in Crystal and this amount is increased from previous distributions.", "\nMoreover the virtual memory is extremely high in almost all cases.", "\nFastRTPS behaves really well for single node cases, but OpenSplice scales better when having more  nodes in the same process.", "I\u2019m measuring memory using", "\n", "Reading this old thread, dating back to April 2017, ", "\nthe amount of memory used by simple nodes was reported as", "\n", ": 4.7Mb", "\n", ": 8.7Mb", "If I run some simple nodes, I get the following results:", "The first thing we note is that the amount of physical memory used has increased a lot since that old Beta release.", "\nMoreover the Virtual memory requirement is extremely high.", "Trying to add publishers/subscriptions inside the same node, it seems to scale pretty well.", "There are almost no differences in adding more publishers/subscribers of the same type to a node.", "All these nodes were using very small messages, how things change if we use big messages?", "\nFor example with 2MB or 4MB fields? Or with subscription to two different big topics?", "With both the DDS tested,  the type of message and its dimension are not influencing the allocated memory for the subscription in a noticeable way.", "\nOn the other hand the virtual memory is way bigger than in the case of small messages.", "\nAdding an additional subscription to a different topic, increases the allocated physical memory. OpenSplice do not require any additional Virtual memory.", "\nThe physical memory overhead is around 50% in both cases.", "\nWe see differences when looking at nodes creating 40 subscriptions to different big topics.", "\nIn this case FastRTPS almost double the amount of physical memory, while OpenSplice has the same overhead as using 40 header topics, as shown in previous table.", "\nFor what concerns the virtual memory, FastRTPS shows a whopping 31GB, but also OpenSplice has a very high value, with its 16GB.", "Trying to create systems with more than 1 node.", "Here we see big differences between the two DDS.", "\nFastRTPS has a smaller memory usage when we talk about a system with a single node.", "\nHowever OpenSplice scales way better, using only 1/7 of memory when we have 20 nodes.", "What do you think of these results?", "\nWill the memory requirements of ROS2 keep increasing with the next releases?", "\nIn your opinion, how does this cope with the use of ROS2 in embedded platforms, which may be restricted to 32 bit memory addresses?", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/monitoring-the-ram-usage-of-ros2/7854"},
{"title": "Ci.ros2.org clang nightly job now available", "thread_contents": ["Hi all,", "\n", " and I have been collaborating with ", " to add a clang Linux job for ROS 2. Thanks Steven for your help!", "The job is available here: ", "The objective here is double:", "Currently, we already had a few runs going through. The build is unstable as some tests are failing. We\u2019ll take a look at those.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Ease Mac OS X support (where clang is the default compiler).", "Enable us to rely on clang-specific features such as ", ". No support has been added yet but we will start playing with those at the RMW layer to see if we can find bugs."], "url": "https://discourse.ros.org/t/ci-ros2-org-clang-nightly-job-now-available/7857"},
{"title": "ROS2 Setting severity level for a named logger", "thread_contents": ["I am trying to figure out if there is a way to set the severity level on a named logger? Right now I\u2019m using rcutils_logging_set_severity_threshold() but that\u2019s setting it globally so I\u2019m getting both my node level DEBUG output as well as rmw_fastrtps_cpp.  I\u2019d like a way to set it for just my node.", "No, not at the moment.", "This will require us to either pick an existing library or implement our own map-like data structure in C.", "The feature is listed on the ", " but not scheduled for a specific milestone yet.", "I have the same question and it\u2019s been some time since you replied.", "\nI took a look at he roadmap and wasn\u2019t able to figure out if it was implemented or it is still only projected.", "\nPlease let me know.", "Cheers", "I think ", " is up to date.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-setting-severity-level-for-a-named-logger/2517"},
{"title": "ROS2 Security Working Group Online Meeting - Feb 13th, 2019 between 2:00 - 3:00 PM PST", "thread_contents": ["Hi Everyone,", "I work with ", " who has been organizing these meetings in the past. First of all, we\u2019d like to apologize for not organizing this for some time now. I am setting up next WG meeting on 2/13 between 2 - 3 PM PST. We can use first few minutes of the meeting to walk through security tooling we released as part of Crystal, do a quick demo and we can open it up for anything else we want to discuss. As always, We\u2019re happy to take suggestions on an agenda. Please let me know if there\u2019s something you would like to discuss.", "You have been invited to an online meeting, powered by Amazon Chime.", "Meeting ID: 1287 75 7019", "United States Toll-Free: +1 855-552-4463", "\nMeeting PIN: 1287 75 7019", "One-click Mobile Dial-in (United States (1)): +1 206-462-5569,1287757019#", "United States (1): +1 206-462-5569", "\nInternational: ", "SIP video system: meet.chime.in", "\nor", "\nH.323 system: 52.23.133.56", "Meeting PIN: 1287757019#", "Thanks everyone who made time to attend this. ", "  is the link to the recording of the meeting.", "Summary:", "Discussed security tooling discussed as part of ROS2-C: ", "Discussion around how this can be used for a fleet of robots. This out of the box is intended towards making local dev easier. There is still  work needed for fleet management and key/cert distribution across fleet of robots.", "High level discussion about current state of the threat model Amazon is  putting together. We discussed out current approach based on STRIDE (", "). Feedback was mainly around using different hardware platforms to include platform specific threats. We\u2019re hoping to make this available to the community in 2-3 weeks of  timeline (publish on discourse and/or ROS2 design page). Idea is to keep this as a live document where community members can collaborate on including variety of hardware platforms, threats that are not captured and discuss potential mitigations for those threats. We will setup another Security WG meeting in 2-3 weeks timeline to review final version of threat model document.", "Cheers,", "\nRutvik", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Click to join the meeting:", "You can use your computer\u2019s microphone and speakers, however, a headset is recommended. Or, call in using your phone:", "To connect from an in-room video system, use one of the following Amazon Chime bridges:", "\n", "\n", "\n", "\n", "\n", "\n"], "url": "https://discourse.ros.org/t/ros2-security-working-group-online-meeting-feb-13th-2019-between-2-00-3-00-pm-pst/7639"},
{"title": "Design process of ROS 2", "thread_contents": ["During today\u2019s navigation WG meeting, we had some more discussion about the use of life cycle nodes and actions in the ROS 2 navigation code. This discussion came back again to issues that several people have with the design of the APIs for these features, which then further got into the fact that there is not much discussion about the detailed design and implementation of many features. Several of us feel that time pressures are leading to designs that are driven by implementation, features that are not fully fleshed-out before being implemented, or what are assumed to be prototype implementations ending up not changing and then being used by an increasing number of users, making them hard to change. We would prefer to see long-term design that aims for \u201cwe will eventually get to here\u201d. Even if the implementation does not get there immediately, at least everyone will know where we are going and that any current design or implementation is not the final result.", "The design repository is good and has allowed many people outside the OSRF, myself included, to contribute to designing concepts for ROS 2 and in some cases put quite a lot of detail into specific parts (the launch facilities come to mind). But the documents in this repository more often than not do not go into detail on things like APIs or library organisation, which are important details that impact how developers can use the feature being discussed. The two most prominent examples that I have seen are the life cycle nodes being implemented as a separate object type, which requires duplication of much of the API and means life cycle nodes can\u2019t be used in some parts of the ROS 2 API, and the ", " while topics and services are included in the Node class, which contrasts with what many were expecting would happen before implementation would begin. I have also seen the design of topic names often come up in security-related discussions, such as ", ".", "We recognise that there are limited resources being put into ROS 2 development, that those resources are also being asked to maintain and develop ROS 1, create new ROS 1 releases, maintain a build farm, and so on in addition to developing ROS 2 under huge time pressure. However the main problem is not so much the lack of time being put into detailed design of core ROS 2 features as it is the lack of an opportunity for people to comment on the details until a pull request with a completed implementation comes along - by which time it is difficult to say \u201cchange the whole concept of how this is implemented\u201d. When detailed discussions do happen in GitHub issues, it is usually after-the-fact and frequently the discussion thread just stops without a resolution - probably because the relevant people have so much on their plates to deal with. It was also mentioned today that these discussions often end up going circular due to the limitations of talking in text all the time. This is in contrast to there being working groups for non-core features that meet regularly (weekly, in the case of the navigation WG) and talk about requirements, goals, etc. that are driving how many things will work. These weekly meetings help push things along and help prevent discussions just stopping.", "The purpose of this thread is not to accuse anyone of ignoring detailed design. The conversations on the issues linked above show that the Open Robotics developers put a lot of thought into how they design APIs and implement features. I do feel that in general the core ROS 2 libraries are well-designed, but there are a growing number of places where I have concerns, and I know that others have places that concern them, too. What I think we need is:", "I agree strongly. I have the same concerns, particularly about Actions and Lifecycle nodes, which we\u2019re trying to implement within Navigation2 in the near future (Dashing release). I would really like to see a \u201cDesign Forum\u201d or working group formed to discuss topics such as these.", "I think there are two opposing goals about the development process here: on the one hand it should be as thoroughly designed and implemented as possible and on the other hand the community wants many new features as quickly as possible. We have done more of the former in the beginning of the ROS 2 development and then more recently - based on the feedback of the community - changed more towards the later. The desire for a fast development pace comes with the side effect that a first implementation of a concept might not be the final perfect solution. But I think that is absolutely fine. That is why ROS distributions exist. While the API in each distribution stays stable a newer ROS distribution has the freedom to break them in order to move forward.", "For ROS 1 - which is around for 10+ years - it is reasonable to expect that \u201ccore\u201d API doesn\u2019t usually change  between distros - or if it does that it aims for a tick tock cycle. For ROS 2 which is much less mature I don\u2019t think this is required at all. Just because a certain feature has been implemented doesn\u2019t imply it is final by any means. ROS 2 is too young to assume everything is stable / mature and not changing. As long as changes are clearly documented it can be expected from packages using the API to follow those instructions (e.g. for ", ") in order to support future ROS distros.", "The two features mentioned - lifecycle and actions - are good example of the process. There has been a significant amount of discussion and iteration on the design documents themselves as well as on the pull requests implementing these features. But most of the current concerns have not been raised during that multi-months time. These kind of feedback often only comes up way later when a bigger audience is trying to use the new functionality which I think is natural. Would it be great of these aspects would have been brought up and addressed earlier in the process? For sure. But the fact that they didn\u2019t come up earlier shouldn\u2019t prevent us from iterating on the design as well as the implementation in the future as needed. If this would imply \u201cchange the whole concept of how this is implemented\u201d that would be unfortunate but if the reasoning behind that need is sound it should probably be done.", "Regarding the question about the venue / forum for this kind of discussions: imo these already exist in various forms. There is the design repo with already merged, pending or to-be-created issues and PR, the actual tickets implementing specific features as well as this Discourse category. All these can be used to discuss topics like this. You referenced two specific tickets where this exact kind of discussion is actually happening. The main step missing from these discussions is imo a follow up in terms of someone taking the lead to act on the discovered shortcomings and working towards improving them. And ultimately this is very often limited due to resource constraints as well as lack of initiative.", " What kind of forum do you have in mind? As ", " mentions, there are already ample asynchronous communication tools at our fingertips, but they don\u2019t appear to meet your (or ", "\u2019s) needs. Is the problem from your perspective the lack of a regular synchronous interaction?", "Maybe I\u2019m just tired from a long week (yay Saturday!) but I don\u2019t seem to be as worried about this as I was yesterday. ", " Also I kinda agree with all but the first half of the last paragraph of Dirk\u2019s post. I like an agile, iterative approach to development like that ROS2 is following (or at least trying to).", "My post above was an amalgamation of the points raised in the navigation WG meeting, so I don\u2019t want to speak out of turn for all those points of view. I think for me the main problem is that although we expect and need to iterate on features, that iteration is not necessarily happening. Dirk alluded to this in his last paragraph. For example, the life cycle nodes implementation is still mostly unchanged (in terms of how it is implemented) from the first implementation 2 (?) years ago. Yet now tools, libraries and major projects are starting to be built on it. The larger the mass of users the greater the force against major changes, and at some point each feature will reach a critical mass of use where the pushback against change is greater than the push for change, and we end up stuck where we are. Isn\u2019t this why ROS2 began in the first place?", "But as everyone keeps pointing out, this lack of iteration likely comes from a lack of resources. As each feature gets done, developers move on to the next feature being demanded by the community and lose track of something that they probably originally intended to go over again. I know I\u2019m guilty of this over the years. (Doing new stuff is always more fun than reworking old stuff!)", "In regard to what kind of forum might be needed, I don\u2019t like the way it is hard to see into the thought processes of why a feature is implemented the way it is, and where it is intended to go. We are not all in the same office so it is hard to just roll over in my chair (too lazy to walk) and ask. Yes, we have many textual forums available, but text is slow and easy to misunderstand while simultaneously hard to correct. This is why I like the idea of having a regularly scheduled teleconference where we can ask about something and get a rapid, easily-clarified answer. A question for the TSC, perhaps?", "Another improvement could be to introduce epics into the feature management process. That might make it easier to track how a feature is being iterated on, what the current end goal is and how far along towards that goal we are. There are some issues that track major features with a checklist of smaller issues, but these are usually \u201cimplement large feature X for next release\u201d. Epics are traditionally used across many release cycles and take a longer-term view. I\u2019m not sure how easy it would be to get epics into GitHub\u2019s or Waffle board\u2019s facilities, but I feel like this could be a relatively low-resource way to improve visibility of the longer-term development goals and process. I\u2019ve added a task to my list to look into if it is technically possible with our current tools in the next week.", "I think lack of time to iterate and the lack of a democratic process for contentious design choices are issues here, but instead of solving those difficult issues here and now, I think better communication practices could help in the meantime.", "tl;dr I think we should:", "I think the discussion we had about the actions API suffered due to the nature of email/discourse discussions being so delayed. You end up with a lot of interleaved responses and it\u2019s hard to iterate on disagreements.", "To that point, I think one thing we\u2019re missing is ", " instantaneous chat.", "We have an IRC channel (", ") which is ", " chat and is in my opinion just ok.", "\nI am usually on IRC but rarely use it.", "\nHowever, I recently had some design related discussions with a community member (", " sorry to single you out) and it was honestly much more productive than back and forth on GitHub or discourse are usually. So I\u2019d like to see more of this kind of chat to see if it helps these cases.", "However, IRC is just ", " and we lack a convenient way to do higher bandwidth communication like voice or video without scheduling a meeting (for what ever reason we don\u2019t use IRC to agree to do a Google meet or skype or w/e). I really enjoyed having a google hangout \u201csituation room\u201d during the crystal release. I think it was helpful for community members trying to get things into the release to be able to just hop in and ask a question, or just listen.", "I know ", " likes to say \u201cdifferent tools will not solve the problem\u201d (and I tend to agree), usually meaning that when there\u2019s an underlying issue like lack of time to read and respond to design questions different tools won\u2019t help, but in this case I think a chat system that\u2019s more modern than IRC might be helpful, especially if it has a voice and video option which would make it casual to start up a conversation.", "I think using text chat (whether IRC or something else) would help, but honestly it will cause other issues. Usually, if I don\u2019t answer a question about design things on discourse or GitHub immediately it\u2019s because I\u2019m busy. If someone hits me up on IRC with a very specific question, they\u2019re more likely to get an immediate response out of me, and that\u2019s good for both me and them, but it also makes it harder for me to focus on long running tasks. It\u2019s all too easy for me to loose an entire day to reviews or design questions or help with bugs (whether they come from the OR slack or IRC or GitHub, etc\u2026). So if we spend more time talking on these high bandwidth channels, I think it\u2019s going to improve others ability to work with us, but it\u2019s also going to consequentially impact our productivity.", "I\u2019ve seen this issue with content creators in the video game industry, and the way they balance this is by having community moderation, where issues bubble up through levels of access and insulate people who are easily overwhelmed. Email/GitHub/Discourse are kind of good for this, because it makes it easier for me to ignore conversations until I have time, but I still see them and often fall into reading them, thinking about them, or responding to them. I think a more casual setting might encourage community members to respond to each other before I even have time to read it. For what ever reason, I find this is more common on something like IRC than in forums like email. Perhaps because the perceived cost of a response is lower.", "I\u2019ve been thinking about suggesting that we emulate these communities for some time, but ironically I haven\u2019t had the time to put together a proposal. But briefly, I think we could learn from their use of community moderation, and the tools they use to accomplish that. One pretty common thing is that almost all of them use discord, which is a free service that provides text, voice, and video chat in channels (sort of like slack). However, it is geared towards gaming and gaming communities, but it seems to excel at community management, and it provides a lot of tools and automation for this purpose. There are a few projects using it already, and they have an Open Source outreach page: ", " Other communities have similar solutions with different tools, choosing to use slack or gitter or one of the other options. I\u2019m not tied to discord, but I do think it\u2019s a good solution. Obviously there\u2019s always a discussion to be had about memorandum and the benefits of asynchronous communication like email, but I personally think there\u2019s a place for these more modern solutions to facilitate ephemeral discussions.", "Currently we don\u2019t use the services we already have (IRC) to full effect, but I think if we had a more modern tool like discord or slack, and more of us committed to being available on it (IRC is pretty dead most of the time), then we might increase our use of it. This would help with communication. We could start with no moderation or hierarchy, i.e. everyone has \u201caccess\u201d to everyone else, and if it becomes an issue we can start to add some structure to prevent overwhelming individuals.", "No matter what we do (in terms of mitigation techniques like community moderation), this will negatively impact some people\u2019s productivity more than others, but it will also hopefully let us better leverage other contributors who are blocked or frustrated otherwise. So I think we just need to be aware of this trade-off and (this isn\u2019t a new request from me) also take this time spent collaborating into account when scheduling feature development. Personally I think this point needs discussion and support from the TSC level, but that\u2019s just my opinion.", "Maybe comparing some political models for open-source communities might be helpful.", "Such as", "The main trade-off maybe being: speeding up any process until an outcome vs. improving how well the outcome covers the needs of different (sub-)communities.", "However, I recently had some design related discussions with a community member (", " sorry to single you out) and it was honestly much more productive than back and forth on GitHub or discourse are usually. So I\u2019d like to see more of this kind of chat to see if it helps these cases.", "I was coming to say pretty much exactly this. IRC isn\u2019t perfect, although we\u2019ve been using it successfully for ", " in Ubuntu. If we were starting today would we use something else? Maybe, but I don\u2019t think the choice of tech matters so much as long as it\u2019s open to everyone and consistently used and attended (including Open Robotics folks). We have rooms with hundreds of people in it, and our community knows that we Canonical employees are always there. How do they know? Because we have our own design discussions there, live, in front of everyone. Some of us actually used Telegram for about a year because we were starting to tire of IRC, but we ended up finding that having design discussions and making architectural decisions out of the public eye ended up making our community feel a little alienated and out of the loop. This conversation sounds familiar ", " .", "I totally get that being on [chat platform] and being pinged causes a context switch that quickly eats up time, but delegation is key here-- if everyone is there, we can all share the load. And I\u2019ve actually told people \u201cI\u2019m sorry, I\u2019d love to help but I\u2019m slammed right now, can you come back tomorrow maybe an hour earlier in the day?\u201d and they will. Or \u201cI can\u2019t help at the moment, but [other person] was working on that yesterday.\u201d", "Not every community works like Ubuntu, I get that. One of the reasons we\u2019re able to have design discussions in front of everyone is that Canonical is a mainly remote company, and we have to have those conversations ", ". We might as well have them in public, and that has worked really well for us. As I understand it, Open Robotics is not a remote company, but you\u2019re working with a large community who is. Having discussions in chat instead of in-person would probably slow you down, but I wanted to share my perspective.", "I\u2019m total outsider here.  But with 20+ years experience in the aerospace software world.   I would not suggest adopting methods used in my industry, they result in very slow progress.   But I would make one hard change in your process.", "Note the observation about \u201clack of an opportunity for people to comment on the details until a pull request with a completed\u2026\u201d    this is natural, people don\u2019t notice until finally the change is made.", "One change in your software process might be that \u201cNO CODE IS WRITTEN UNTIL A X DAYS AFTER A DETAILED DESIGN IN CHECKED-IN\u201d  This will cause some slow down but that everyone sees the pull request for the change in the design documents and comments THEN,  not after the code is already written.  There is a natural tendency to NOT change working code.", "Basically take advantage of that observation that no one cares until after the pull request.  So make the pull an early step.", "Just saying \u201cwe should talk more\u201d rarely actually happens,  Make a rule that forces more talking.", "The goal should be to make changes early not \u201clater\u201d,", "With the increasing addition of remote engineering resources thanks to the efforts of the TSC, there must be some kind of instantaneous chat going on. ", " mentioned an Open Robotics slack; having an internal slack is not something I\u2019m going to argue against because I agree it is needed. As everyone seems to agree, what is lacking is the equivalent for the whole community that is ", ". I gave up trying to maintain my connection to ", " because was 95% no activity, 4% someone making a random statement along the lines of \u201cHi there! I\u2019m learning ROS! Yay\u201d, and the remaining 1% was interesting discussion. This not-being-used thing is a problem. As ", " said, having to hold your design discussions in a public channel that supports rapid, lightweight response is better all around.", "What technical solution to use for instantaneous chat is another thread now, but I am all in favour of trying to transform things a bit in this way.", "Plus my collection of Slacks is not nearly big enough yet.", "I don\u2019t think the choice of tech matters so much as long as it\u2019s open to everyone and consistently used and attended (including Open Robotics folks)", "I agree with this.  I\u2019ll go to whichever chat platform is used.  I think it would be useful to examine what particular issue causes the IRC to be inactive.  My first thought is that more activity from Open Robotics folks would be helpful.", "I\u2019m not sure I agree that adding slack or IRC is going to resolve this any better than Github and Discourse has. I think its just going to add more confusion, not less, IMO. I already get 10-30 github notifications, dozens of emails, and 5-10 Discourse notifications each day. Adding IRC/Slack will only make things less focused, not more. I think something more like the model that Google Cartographer is using for their ", " is a better way to discuss the key design issues in real-time.", "I would also like to add that I do understand the iterative approach, but without knowing what the long-term design goal is, often the first iteration becomes the only implementation (as noted above by ", "). At least if the goal is stated clearly in a design document (or an Epic as he suggested), then it can be made clear that there will be changes upcoming to reach that final design. I don\u2019t think we have that clarity right now. It might be clear to the implementers that it was only meant to be a first implementation, not the final one, but to the community, it\u2019s not clear. See the thread on ", " that was mentioned above for a good example of this.", "I\u2019m not sure I agree that adding slack or IRC is going to resolve this any better than Github and Discourse has. I think its just going to add more confusion, not less, IMO.", "My observation was that of two of my recent design interactions with people outside our office, one was on GitHub and one was on GitHub but with short bursts on IRC, and that the latter was much more productive. It certainly doesn\u2019t address issues where we have insufficiently written down what\u2019s in our heads so that external people can more clearly see what we envision for the API or design, nor does it address the fact that we\u2019re all already overwhelmed with notifications.", "To be clear we already have IRC, so we don\u2019t need to add it, though I suppose you mean \u201cadd it to our workflow\u201d, in which case my experience is that it would help, but again that\u2019s just my opinion.", "I think something more like the model that Google Cartographer is using for their ", " is a better way to discuss the key design issues in real-time.", "In my opinion, that\u2019s just using instantaneous chat on a regular schedule with meeting notes. Another way to address this short fall of \u201cbeing on the same page\u201d would be to have more meetings where we sync with one another, though I\u2019m not sure if that\u2019s more or less efficient that ad-hoc discussions in something like IRC or discord (or a voip conversation arranged in either). Personally, I\u2019m at my capacity for meetings already.", "I would also like to add that I do understand the iterative approach, but without knowing what the long-term design goal is, often the first iteration becomes the only implementation (as noted above by ", "). At least if the goal is stated clearly in a design document (or an Epic as he suggested), then it can be made clear that there will be changes upcoming to reach that final design.", "I\u2019ve always been a proponent of more detailed design and finding as many issues as possible before starting work (to that point I created the ", " website and tried to encourage its use), but I\u2019ve always been encouraged to just jump in and get started or to avoid things like \u201cdecision paralysis\u201d, \u201cpremature optimization\u201d, or \u201cover-engineering\u201d. I think those are valid concerns, but at the same time I anticipated issues related to not having enough of our design written down in order to involve external team members. I also started to make a ROS 2 version of the \u201cConceptual Overview\u201d from ROS 1 in order to convey more of this, but I\u2019ve not had time to keep it up, nor has any project come along that working on that seemed to fit with:", " (note this is out of date by now)", "Perhaps someone who is more on the side of \u201cget things done\u201d could speak up here.", "I would also like to add that I do understand the iterative approach, but without knowing what the long-term design goal is, often the first iteration becomes the only implementation (as noted above by ", ").", "I think it is important to discuss this point in particular.  I don\u2019t think that ", " in ROS 2 is written in stone.  The decisions that have been made are generally made with the best information at the time, but as we gain more experience and use cases, these can all evolve.  So things that are still on \u201cfirst iteration\u201d are mostly there because nobody has had the time to evolve them to where they need to be.", "Perhaps someone who is more on the side of \u201cget things done\u201d could speak up here.", "(clipping some good points by William)", "I am typically more on the \u201clet\u2019s get something in and iterate later\u201d side, but when building a middleware system, some advance thought does need to be put in.  While my point above about pieces evolving is true, we can\u2019t always improve them ", " (since we generally guarantee API compatibility).  So my opinion is that there should be some design work done up-front, but then things should move along and we can iterate towards a better solution later.", "Circling back towards whether instantaneous chat helps or hurts here, I have also seen it work on previous projects.  But it will mean that everyone involved (including at Open Robotics) needs to make a dedicated effort to be on that chat and to conduct design discussions on that chat, even when they are with people in the same building.", "because nobody has had the time to evolve them to where they need to be.", "It always comes back to the resources problem. I\u2019m curious if someone (", "?) is able to shed some light on how much development resources ROS2 currently has, how much help the TSC idea has been in increasing them, and how much development resources are expected to grow in the near future. It won\u2019t really help this discussion but it would put some things in a better context.", "even when they are with people in the same building.", "I was reminded of this need again this morning by ", ". I\u2019m not going to argue against wanting to gather around a whiteboard and discuss things in detail. That would be stupid. It\u2019s by far the most efficient approach (for the people there). But I wonder, were an instantaneous chat platform and instant teleconferencing available and used, if it would be feasible for when such a discussion begins to announce it in the chat and throw up a teleconference for anyone interested and available at that time to join in. I\u2019m grateful that notes were taken and posted to the pull request but if I had the opportunity I would have liked to be involved in that discussion and hear the context for and detail of the comments made.", "Another idea is, when a new design pull request or major feature implementation pull request goes up, to schedule a day or two later a teleconference to talk about it as part of the review process. Give people some time to read the document or the code, perhaps start their GitHub-based reviews, but also give a forum after that short period for having a chat about it to clear up more complex concerns.", "A couple thoughts, as an outsider (slash interested student).", "This is why I like the idea of having a regularly scheduled teleconference where we can ask about something and get a rapid, easily-clarified answer.", "Another idea is, when a new design pull request or major feature implementation pull request goes up, to schedule a day or two later a teleconference to talk about it as part of the review process.", "Something like PX4\u2019s ", " would help outsiders like me keep up with development and slowly get involved. It would also make development more transparent and open to the community. There\u2019s already a couple WGs for specific areas (e.g. navigation), but there are none for core ROS2 stuff (AFAIK) other than the (closed-ish) TSC.", "I think it would be useful to examine what particular issue causes the IRC to be inactive.", "Too many options just gets confusing, even if each one has its specific uses (discourse vs. answers vs. GitHub vs. IRC).", "Something like PX4\u2019s ", " would help outsiders like me keep up with development and slowly get involved. It would also make development more transparent and open to the community. There\u2019s already a couple WGs for specific areas (e.g. navigation), but there are none for core ROS2 stuff (AFAIK) other than the (closed-ish) TSC.", "This is something I\u2019m really in favour of, even though I have too many meetings already.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["A venue to have regular discussion of detailed design and implementation issues before we get presented with an implementation, and not buried amongst the dozens of other issues that come across our GitHub notification lists every day.", "Active participation in this venue by anyone working on a core ROS 2 feature.", "use instantaneous chat more often", "consider some tools to facilitate that (like discord ", " or slack)", "try to mitigate overwhelming core contributors with community moderation (as needed)", "Do-ocracy (e.g. explained here: ", ")", "(Benevolent) Dictatorship", "Timocracy", "Meritocracy", "Democracy"], "url": "https://discourse.ros.org/t/design-process-of-ros-2/7782"},
{"title": "ROS2 Navigation WG - Cancelled for today (Thursday 2/21/2019)", "thread_contents": ["The Naviation WG meeting is cancelled for today since we are missing a few key people and don\u2019t have any major topics for the agenda.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-navigation-wg-cancelled-for-today-thursday-2-21-2019/7942"},
{"title": "ROS2 subscriber to <sensor_msgs::msg::Joy>", "thread_contents": ["Hi,", "\nI\u2019m trying to create a subscriber to the joystick topic like this:", "\nsub_joy_  = this->create_subscription<sensor_msgs::msg::Joy>(\u201cjoy\u201d, std::bind(&exampleNode::recvJoy, this, std::placeholders::_1));", "with the handler as follows:", "\nvoid exampleNode::recvJoy(const sensor_msgs::msg:", ":SharedPtr msg)", "\n{", "\n}", "However, I get this error:", "\nCMakeFiles/example_node.dir/src/example_node.cpp.o: In function ", "rosidl_message_type_support_t const* rosidl_typesupport_cpp::get_message_type_support_handle<sensor_msgs::msg::Joy_<std::allocator > >()\u2019", "\ncollect2: error: ld returned 1 exit status", "It compiles if I substitute the joy message type to any other type.", "\nI include the joystick message as follows: ", " <sensor_msgs/msg/joy.hpp>", "Let me know what might be the problem.", "Thanks", "my bad. I didn\u2019t include sensor_msgs as target dependency.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-subscriber-to-sensor-msgs-joy/7960"},
{"title": "Colcon support was just released in snapcraft CLI", "thread_contents": ["Hey everyone. I wanted to make sure you were all aware that version 3.2 of the snapcraft CLI was just released today, which includes support for colcon, making it super easy to create ROS2 snaps. A single, confined, installable file containing a ROS2 workspace and all its dependencies can be built with a YAML file that looks like this:", "Please see the following blog post if you\u2019d like to learn more:", "The snapcraft CLI has supported building ROS1 snaps for a while via the catkin plugin. We supported the ROS2 betas via the ament plugin, but that was before Open Robotics had a ROS2 package repository setup, which meant that the ament plugin built...", "And of course, feel free to ask any questions you have right here!", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/colcon-support-was-just-released-in-snapcraft-cli/8048"},
{"title": "Adding clang thread safety analysis for ROS2 core packages", "thread_contents": ["Hi all ", "There\u2019s been some discussion about adding ", " for ROS2 core packages, to help us find mistakes automatically and early on. I\u2019ve talked to ", " and ", " about this a bit offline, we wanted to move it into a public forum before moving further.", "The thread safety features are enabled by some annotations that are best used by macros that can be turned off when using non-clang compilers (see ", " in the clang doc page), as a general utility. The first question is, where should these be defined?", "Given that, I personally think creating a new ", " package makes the most sense. It hasn\u2019t been needed yet but could make sense now given we have something that would fit there.", "In terms of using these annotations, we have a ", " that could raise thread safety warnings for annotated code, at least in the nightly build.", "For usage and roll-out, the ", " packages are prime candidates for first packages to start using the annotations, since they are highly threaded code. The thinking on guidelines", "I\u2019ve put together a proof of concept in ", " to illustrate", "Before changing anything, want to hear thoughts on 1) where the macros should live, whether we should create that new package, and 2) usage patterns as put together in that WIP commit", "How does the analysis handle threads that are not annotated? For example, threads inside the DDS implementation.", "I noticed in your proof of concept that there are places where locks have been added and places where they have been removed. Is this for the analysis or because the analysis found errors?", "How does the analysis handle threads that are not annotated? For example, threads inside the DDS implementation.", "Anything not annotated doesn\u2019t get analyzed. The llvm libcxx implementation has the Capability annotations on its ", " implementation, but if you don\u2019t mark any data as ", " the mutex, the analysis has nothing to operate on", "I noticed in your proof of concept that there are places where locks have been added and places where they have been removed. Is this for the analysis or because the analysis found errors?", "I kept all existing locking logic intact but shifted ownership of the locking around - The main difference is that in favor of a private mutex ownership patterm, I removed the \u201clock-wrapper\u201d LockedObject pattern, because it spread out locking and safety in such a way that it would be easy to make more mistakes, spreads ownership of safety to any user of the data, instead of centralizing in the thread-accessed data. That may not be the way we want to go, it\u2019s just what seems to make the most sense to me", "Anything not annotated doesn\u2019t get analyzed. The llvm libcxx implementation has the Capability annotations on its ", " implementation, but if you don\u2019t mark any data as ", " the mutex, the analysis has nothing to operate on", "Yep, that makes sense. What I\u2019m wondering is does this have any impact on the analysis of threads that are annotated? If an annotated thread interacts with a non-annotated one, how trustworthy are the analysis results?", "I kept all existing locking logic intact but shifted ownership of the locking around - The main difference is that in favor of a private mutex ownership patterm, I removed the \u201clock-wrapper\u201d LockedObject pattern, because it spread out locking and safety in such a way that it would be easy to make more mistakes, spreads ownership of safety to any user of the data, instead of centralizing in the thread-accessed data. That may not be the way we want to go, it\u2019s just what seems to make the most sense to me", "I haven\u2019t looked at the details, but what you say makes sense from a maintainability point of view.", "Yep, that makes sense. What I\u2019m wondering is does this have any impact on the analysis of threads that are annotated? If an annotated thread interacts with a non-annotated one, how trustworthy are the analysis results?", "Good question - the way I understand it the annotations are more about data than the threads themselves - so if you annotate data as being guarded, the analysis will spit out warnings for other code/packages only if it is built with ", ", and accesses that data unsafely (according to the the analysis rules). So we could keep \u201cnon-ported\u201d code warning-free by not enabling that flag on it until it\u2019s been looked at specifically.", "OK, that makes sense to me. Thanks for the clarifications!", "Proposal for phasing/staging moving forward on this:", " Thanks for your complete and well thought out proposal. Hopefully this can be a good example for others going forward.", "Overall we have general support for a utility package with a scope like ", " in parallel with ", " here. There are several utility functions in rclcpp that could be refactored out into this package too in the future.", "There was some discussion about whether there might be another more generic package scope. But there wasn\u2019t any strong alternative proposals so lets go ahead with this as proposed.", " what\u2019s the process for creating the new repo? I have a take at a an empty package on my account, with a PR against it adding the macros", "Contribute to emersonknapp/rcpputils development by creating an account on GitHub.", "But I realized I can\u2019t transfer ownership to ros2 because I don\u2019t have permissions to create repos in the org. Advice?", "Moving into an organization is a bit of a challenge. The most common thing to do is to transfer it to one of the individuals who has access and then they transfer it into the organization. Luckily github is relatively good about setting up redirects so most people won\u2019t notice the indirect path.", "If you can transfer it to me, I can then transfer it to the organization.", "Great! Done, thanks!", "Another thought, it seems  a little unwieldy to add this block to the ", " for every package that wants to use this analysis", "Would there be a better way to either", " maybe you have thoughts on this?", "We have two ways IMHO:", "My feeling is that, keeping this opt-in per-package will be challenging because mixing the clang and GNU standard libraries is probably unsafe. So it would need to be a global on/off flag. 2. is most likely too brutal of a change so 1. could be the best option.", "I\u2019ve hit a wall with enabling this - given the following constraint", "High level problem -", "Specific example case that I ran into -", "Workarounds I\u2019ve tried:", "In conclusion, here are a list of options I have come up with to move forward (I am also very open to other suggestions)", " thoughts?", "I think this analysis is valuable, but it\u2019s definitely got its technical hangups here", "Should the analysis always be run for best results, or can we limit it to a CI run? If the latter, then perhaps we can set up a separate CI run that builds everything from source using ", " and run that once a day or something, rather than making it part of every CI build.", "That sounds like the commonly used approach for this.", "In general the same applies when mixing libraries built with different C++ compilers, e.g. g++ vs. clang. While you might be lucky this is not something guaranteed.", "Should the analysis always be run for best results, or can we limit it to a CI run?", "I think that we gain value by running at all. Though it would be nice to run for every build, it seems prohibitively expensive given the current situation - we\u2019re only running a Clang build nightly today as it is.", "Based on ", " input, my thinking now is to get all code building from source in the nightly Clang build and force that build to use ", "As we talked offline, I would do as follow:", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["One thought was to add it to ", ", but since we definitely want to use it in the ", " layer, that would be too high", "Another candidate is ", ", but these macros are C++ specific (extending functionality of ", ", and that packages is meant to be C-specific", "private mutexes", "use GUARDED_BY on mutex-protected members to surface the rest of the usage needs", "copy small things to avoid blocking", "Create ", " package with annotation macros", "Enable ", " on ", " and migrate to the private-mutex pattern for ", "\n", "Enable ", " on ", " and add negative capability annotations where needed", "Perform 2&3 on the other rmw implementations", "Put that block in for all ament packages, so it\u2019s enabled globally, but only affects code that is annotated using the C++ macros", "Add a cmake macro/function to enable it as a one-liner, like ", "?", "Keep TSA optional and write a colcon mixin to enable this behavior.", "Inject the statements you quoted everywhere using the ", " mechanism.", "we do not want to make our own Mutex wrapper, in favor of using ", "\n", "To get the ", " annotations on ", ", I need to use ", " (LLVM)", "On Linux, by default, all libraries use ", " (GNU)", "The build, using ", " on an annotated package, can succeed just fine, BUT", "Any std objects passed across ", " boundaries into this library now have runtime undefined behavior, because you call ", " functions on ", "-created objects", "I add thread safety annotation to ", "\n", "link it to ", " to have ", " be analyzable", "\n", "upstream, an ", " test creates a Node, which eventually resolves to ", ", which:\n", "creates a ", " from ", " (which has not been modified, so it uses ", " ", " creation)", "calls ", " on the member vector (which jumps into the ", " implementation)", "program hangs", "slight variations on operations can cause a crash", "\n", "\n", " (mixin approach)\n", "FAILS (on Linux) because ", " is not built in the ROS2 workspace, and we get stdlib linker errors against it", "\n", "\n", " with the ", " block\n", "FAILS for same reason", "\n", "When we run this analysis, ", " linking flag that is turned on by the build caller, not specified at the package level\n", "Static analysis runs on compilation, giving useful warning messages", "We cannot expect linking or running code to work", "So, somehow disable linking?", "\n", "Build ", " code from source, allowing forcing the standard library for all code\n", "looking at ", " specificially here", "\n", "Run this analysis on Mac only, where all the code will be linked against LLVM ", "\n", "Remove the initially stated constraint and provide our own annotated ", " wrapper, removing the need for ", "\n", "Modify Fast-RTPS interfaces to remove the need to interact with ", " containers directly\n", "This may not be the only place where ", " objects are used across API boundaries, but it\u2019s the place I identified in my first annotations", "\n", "Build ", " code from source, \u2026", "Add and merge PRs adding the TSA colcon mixin, the rcpputils code for the macros and the class annotation. We can do that now and this is a no-op if the mixing is not being used.", "Try to find a way for the whole build + test run to succeed:", "Only target Mac OS X for now (if clang stdc++ is the default one on OS X? otherwise I guess brew can pass custom flags?)", "Try to build everything from source on Linux and check that it works. If yes, we can figure a way to build everything from source in the CI."], "url": "https://discourse.ros.org/t/adding-clang-thread-safety-analysis-for-ros2-core-packages/7930"},
{"title": "ROS2 perception porting status", "thread_contents": ["Perception includes very important components on ROS, there are 30 useful packages exist on ", " but not available on ROS2. Some topics people discussed to ask about the porting status (", ", ", "), some developers may like to contribute. Not found an overall plan for RO2 perception porting, so just did some search and summarized here ", ". Hope this will be helpful. If the information is not up-to-date, please share comments, I\u2019ll continuously update it.", "Original repositories:", "\n", "place where standard perception stuff is maintained - ROS Perception", "\n", "ROS2 Perception: (updated on 10/16)", " - ", " - ", " - ", " - ", " - ", " - ", " - ", " - ", " - ", " - Not start", " - Not start", " - Not start", " - Not start", " - Not start", " - not start", " - not start", " - not start", " - not start", " - not start", " - not start", " - not start", " - not start", " - not start", " - not start", " - not start", "As a maintainer and/or contributor of some of these, a few thoughts:", "calibration - not sure it is worth actually porting to ROS2 \u2013 while I spent a lot of time working on it at Willow Garage, it is still fairly PR2 specific. I think both the robot_calibration and industrial_calibration packages are in wider use, and more robot-generic. This calibration package is also mostly python-based, with hardly any tests, and so moving it to 3.0 will be quite a bit of work.", "graft - was never really finished. I would consider it superseded by the robot_localization package, which has already been ported to ROS2 AFAIK.", "sparse_bundle_adjustment / slam_karto - I would suggest that we not port sparse_bundle_adustment, and instead merge one of the several branches out there that implement better solvers for slam_karto \u2013 for instance, using ceres-solver.", "-Fergs", "There has been discussions in the past about stopping releasing (open)slam_gmapping in ROS distributions in favor of more performant SLAM approaches like karto or cartographer, so not sure if it should be ported to ROS 2.", "Some packages have been already (partially?) ported:", "I would agree with the decision to avoid poor-performing packages to ROS2. In general, the large number of ROS1 packages can be daunting for someone who is just starting out, especially when it\u2019s not immediately clear which of those packages are considered \u201cbest practice\u201d or are even actively maintained. The ROS QA group should help alleviate this but I think the easiest way to make it clear is to simply not make older outdated packages available in ROS 2.", "On this topic, I notice that we have no object detector package available, either in this list or in ROS2. The \u201cstandard\u201d answer to this problem, Object Recognition Kitchen, has not seen updates in quite some time, so I would argue that it is not the best candidate going forward. It would be great if the community could find an existing package that fills that gap for object detection.", " ", " and ", " are actually ported already.", " I ported these a while ago, just as an exercise. So maybe the solution is not to release them, but know they exist?", "I share the same view. \u201cObject Recognition Kitchen, has not seen updates in quite some time\u201d. For object detection/recognition, I would expect state-of-the-art algorithms being introduced to ROS2 ", ".", "I noticed these existing ROS2 packages missing from the ROS2 perception list, which I think they really could be part of it:", "Contribute to intel/ros2_object_analytics development by creating an account on GitHub.", "\n", "\nReal-time object detection, object tracking, and object localization.", "Contribute to intel/ros2_openvino_toolkit development by creating an account on GitHub.", "\n", "\nPeople related detection", "Contribute to intel/ros2_intel_movidius_ncs development by creating an account on GitHub.", "\n", "\nMobilenet-SSD and Tiny-Yolo object detection", "\nAlex-Net/GoogleNet/SqueezeNet/MobileNet/Inception object recognition", " - object analytics does detection but not recognition, is that correct? What about the last one on your list", "Alex-Net/GoogleNet/SqueezeNet/MobileNet/Inception object recognition", "Has anyone created a ROS2 package for that? Do we have any object recognition solution in ROS2?", " Right you\u2019re. The \u201cObject Analytics\u201d takes the detection results, and provides additional tracking and localization information.", "For object recognition, the ROS2 package \u201cros2_intel_movidus_ncs\u201d provide that feature. See details for which network models supported:", "\n", "Contribute to intel/ros2_intel_movidius_ncs development by creating an account on GitHub.", "\n", "\nThe \u201cclassification\u201d results include label (class or type) of the object, probability.", "I would agree with the decision to avoid poor-performing packages to ROS2. In general, the large number of ROS1 packages can be daunting for someone who is just starting out, especially when it\u2019s not immediately clear which of those packages are considered \u201cbest practice\u201d or are even actively maintained. The ROS QA group should help alleviate this but I think the easiest way to make it clear is to simply not make older outdated packages available in ROS 2.", "Probably it is not always just about performance but reliability in the architectural level as well: ", "On this topic, I notice that we have no object detector package available, either in this list or in ROS2. The \u201cstandard\u201d answer to this problem, Object Recognition Kitchen, has not seen updates in quite some time, so I would argue that it is not the best candidate going forward. It would be great if the community could find an existing package that fills that gap for object detection.", "I think the challenge here is that object recognition isn\u2019t \u201csolved\u201d, as most would consider robot navigation or arm planning (I know \u201csolved\u201d is a loaded term, but I hope it conveys the idea here, the navigation stack works about 80% of the time for a large portion of the robots out there. ORK in contrast has a hard time keeping up with changes in consumer packaging, and only supported ~60 or so objects at the time it was released, if I recall correctly). There are numerous cutting-edge research packages out there, but many of them aren\u2019t maintained because the authors move onto better algorithms and approaches.", "-Fergs", "I totally agree with your assessment. Perhaps it would be a useful exercise to try and figure out what an 80% solution is for computer vision, such as something that would not require object-specific detectors.", "I\u2019ve previously used ", " at a number of places \u2013 it does the basic \"segment a table and the objects that are on it, and generates grasps for MoveIt. I imagine that I will port it to ROS2 at some point, but there are a number of dependencies not yet ported (actions, MoveIt, and I think some PCL related stuff).", "-Fergs", " would you please list detail packages name as you mentioned about ", ", not all ROS perception packages are worth to port, but the packages which are required or depended by other ROS2 application should be considered to port or improve on ROS2.", "I\u2019d have to look into it in more detail \u2013 a quick look at the CMake shows it depends on \u201cpcl_ros\u201d \u2013 mainly for the transform stuff if I recall, although once the package is ported to TF2, all that changes anyways, so it might not be a problem. Actions/MoveIt are the big ones (no sense having a grasp planner if you\u2019ve got no arm planning software, and even in the upcoming release of ROS2 it is my understanding that actions will not be able to cross the ROS1/ROS2 bridge)", ",  regarding grasping, I\u2019ve done some upstream works on \u201cGPD\u201d. It\u2019s a state-of-the-art algorithm for grasp pose detection and very easy for using in ROS. I\u2019ve enabled a ROS2 grasp library as MoveIt plug-in for this algorithm, now in alpha version, coming soon ", "The GPD has been enabled with Intel OpenVINO technology for neural network computation deployment across various devices (CPU, GPU, VPU, etc.) and maximizes performance. Linkage here:", "\n", "Detect grasp poses in point clouds . Contribute to atenpas/gpd development by creating an account on GitHub.", "\n", "I have seen on Discourse and Github resources but found that no one has started to port pcl_msgs. Please let me know if anyone has not started pcl_msgs package. I am interested to port the same.", "Thanks.", "  I have not found someone work on it too. You could port the package and also announce on ", ". thanks.", "  what about the support to Lifecycle managed nodes in ", " (and eventually other stacks)?", "For example, to use ", " with my node based on Lifecycle I had to write another \u201cnormal\u201d node subscribing to image topics published by the \u201cmain\u201d node and republishing them using ", ".", "There is an open issue: ", "I do not know if there are other stacks (other than ", " that is outside \u201cperception\u201d)  that lack the support to LifeCyleNode", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", "\n", "\n", "\n", "\n", "\n", "branch ros2 ", " (should likely be moved to the upstream repository)", "\n", "\n", "\n", "cv-bridge ", "\n", "Image-geometry ", "\n", "\n", "\n", "\n", "Image_transport ", " - ", "\n", "\n", "\n", "\n", "\n", "/ ", "\n", "\n", "\n", "\n", "\n", "/ ", "\n", "\n", "\n", "\n", "Issue: (", ")", "\n", "\n", "\n", "\n", "  - original port on ros2 branch of ", ". ROS 1 pcl_conversions is deprecated and moved to ", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "may not worth porting, see comments of mikeferguson.", "\n", "\n", "\n", "should be superseded by ", ", see comments of mikeferguson.", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "laser_geometry: branch ", " of ", "\n", "depth_image_to_laserscan: branch ", " ", " (should likely be moved to the upstream repository)", "pcl_conversions: original port on ", " branch of ", " (before ROS 1 repositories were merged)", "\n", " - ", "\n", "\n", " - ", "\n", "\n", " - ", "\n", "branch ros2 ", " (should likely be moved to the upstream repository)", "\n", "\n", " - ", "\n", "\n", " - ", "\n", "\n", " - ", "\n", "\n", "/ ", "\n", "\n", "\n", " - ", "\n", "\n", "/ ", "\n", "\n", "\n", " - ", "\n", "Issue: (", ")", "\n", "\n", " - ", "\n", "\n", " - original port on ros2 branch of ", ". ROS 1 pcl_conversions is deprecated and moved to ", "\n", "\n", "\n", " - Not start", "\n", " - Not start", "\n", " - Not start", "\n", " - Not start", "\n", " - Not start", "\n", " - ", "\n", "\n", " - ", "\n", "\n", " - not start", "\n", " - not start", "\n", " - ", "\n", "\n", " - ", "\n", "\n", " - not start", "\n", " - not start", "\n", " - not start", "\n", " - not start\n", "may not worth porting, see comments of mikeferguson.", "\n", "\n", " - not start\n", "should be superseded by ", ", see comments of mikeferguson.", "\n", "\n", " - ", "\n", "\n", " - ", "\n", "\n", " - ", " (branch ", " should likely be moved to the upstream repository)", "\n", " - ", "\n", "\n", " - ", "\n", "\n", " - ", " (allenh1/", ")", "\n", " - ", " (allenh1/", ")", "\n", " - ", " (allenh1/", ")", "\n", " - ", "\n", "\n", " - ", "\n", "\n", " - ", " (", " - original port on ros2 branch of [ros2/pcl_conversions.git ](", " is currently used)", "\n", " - ", " (Issue: ", "\n", "\n", " - ", "\n", "\n", " - not start", "\n", " - Not start", "\n", " - Not start", "\n", " - Not start", "\n", " - Not start", "\n", " - Not start", "\n", " - not start", "\n", " - not start", "\n", " - not start", "\n", " - not start (may not worth porting, see comments of mikeferguson.)", "\n", " - not start (should be superseded by ", ", see comments of mikeferguson.)", "\n", " - ROS2 Intel openvino wrapper", "\n", " - ROS2 Intel Movidius NCS wrapper", "\n", " - ROS2 Intel RealSense wrapper", "\n", " - 2D object tracking and 3D object localication"], "url": "https://discourse.ros.org/t/ros2-perception-porting-status/6231"},
{"title": "Difference of ros2 demos and ros2 examples", "thread_contents": ["as the question has been unanswered on ", " I hope here someone kindly comments", "Tutorials refer to ros2 demos and to ros2 examples and both are actively maintained", "\nboth seem to rely on example_interfaces in /opt/ros/crystal/share/example_interfaces", "Is that a historically grown thing ? if not when should I to look at which ?", "\nOr in other words how would I extract the right files/infos to compose my own ros2 project ?", "As the ", " state, please do not ask your question more than once. Your question is up and visible at ", ". If no one has answered yet, it\u2019s because no one who knows the answer has seen it yet or had time to answer. Probably because you asked your question at the weekend.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/difference-of-ros2-demos-and-ros2-examples/8246"},
{"title": "ROS2 Grasp Library (MoveIt + Intel\u00ae OpenVINO\u2122) - Initial Release 0.4.0", "thread_contents": ["Hi All,", "\nWe\u2019re happy to announce the initial release of ROS2 Grasp Library, with OpenVINO enabling and MoveIt compliance.", "ROS2 Grasp Library (", ") enables state-of-the-art CNN based deep learning grasp detection algorithms on ROS2 for visual based industrial robot manipulation. This package provide ROS2 interfaces compliant with the ", " motion planning framework which is supported by most of the ", " in ROS industrial. This package delivers", "The package was verified with Ubuntu 18.04 Bionic and ROS2 Crystal release.", "\nVerification with ROS2 ", " is still working in progress. Before this, we have verified the grasp detection with ", " Melodic branch (tag 0.10.8) and our visual pick & place application.", "Thanks,", "\nSharron", "[1] Brief introduction to Intel\u00ae DLDT toolkit and Intel\u00ae OpenVINO\u2122 toolkit", "Intel\u00ae ", " is a Deep Learning Deployment Toolkit common to various architectures. The toolkit allows developers to convert pre-trained deep learning models into optimized Intermediate Representation (IR) models, then deploy the IR models through a high-level C++ Inference Engine API integrated with application logic. Additionally, ", " provides more than 100 pre-trained optimized deep learning models and a set of demos to expedite development of high-performance deep learning inference applications. Online tutorials are availble for", "Intel\u00ae ", " (Open Visual Inference & Neural Network Optimization) toolkit enables CNN-based deep learning inference at the edge computation, extends workloads across Intel\u00ae hardware (including accelerators) and maximizes performance. The toolkit supports heterogeneous execution across various compution vision devices \u2013 CPU, GPU, Intel\u00ae Movidius\u2122 NCS, and FPGA \u2013 using a common API. Online tutorials are available for", "This is great! Good job ", "!", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["A ROS2 Grasp Planner providing grasp planning service, as an extensible capability of MoveIt (", ")", "A ROS2 Grasp Detector generic interface, collaborating with Grasp Planner for grasp detection. Also a specific back-end algorithm enabled under this interface: ", " with Intel\u00ae ", " toolkit[1]", "Grasp transformation from camera frame to a specified target frame expected in the visual manipulation; Grasp translation to the MoveIt Interfaces (", ")", "A \u2018service-driven\u2019 grasp detection mechanism (via configure ", ") to optimize CPU load for real-time processing", "\n", "\n"], "url": "https://discourse.ros.org/t/ros2-grasp-library-moveit-intel-openvino-initial-release-0-4-0/8285"},
{"title": "Starting to enforce Developer Certificate of Origin (DCO) for (some) ROS 2 repos", "thread_contents": ["With the Crystal release being out of the door we will follow up on the previously mentioned goal to enforcement a ", " on contributions to core ROS 2 repositories [", "]. We will use the following GitHub App to automate the check: ", "After having done some testing with dummy repositories we will enable this for actually used repositories. We will start with a few (from two different orgs, repos with frequent contributions) and will add more repositories over time if we are confident that the process works well:", "In the beginning we won\u2019t require passing the DCO check in order to give us the freedom to merge already existing and reviewed PRs. But in the near future it will be mandatory so please consider ", " adding the ", " line to your commits now.", "You can do either of the following:", "Thanks,", "\nDirk", "With the Crystal release being out of the door we will follow up on the previously mentioned goal to enforcement a ", " on contributions to core ROS 2 repositories [", "].", "In the linked post ", " doesn\u2019t give a rationale, it contains merely a statement of intent:", "We\u2019re also working on updates to developer policies, such as enforcement of a ", " on contributions to core ROS 2 repositories.", "In ", " it\u2019s also only stated that DCO will be required. ", " states \u201cExplain rationale, say that we\u2019ll take comments now and at ROSCon\u201d.", "It\u2019s probably obvious, but could you perhaps provide some insight into the reasoning behind this decision?", "I\u2019ve probably missed it, so if there was any discussion at ROSCon about enforcing DCOs, my apologies.", "In short: (i) we decided to enforce a contribution mechanism because of strong support for doing so among industry partners generally over several years and among the ROS 2 TSC membership more specifically and recently; and (ii) we chose the DCO because it\u2019s become a commonly accepted practice for open source projects. As compared to other mechanisms (e.g., a CLA), the DCO is the lightest-weight tool that appears to convince a large fraction of the likely corporate stakeholders (and more importantly, their respective lawyers) that it\u2019s OK to use the output from and contribute to a project.", "The goal here is to do the right thing with respect to preventing inappropriate contributions while having a minimal impact on the development workflow. FWIW we almost enabled a CLA for ROS 2 a few years back, but the tools weren\u2019t sufficient at the time to avoid having a bunch of manual steps; e.g., requiring people with commit rights to be checking github usernames against a spreadsheet before merging their PRs (we tried ", ", but it wasn\u2019t quite ready yet).", "Are there any plans to move to a CLA in the future? It would give the ROS TSC more freedom over the code than the DCO appears to, although I imagine that would be negatively perceived by some people.", "Are there any plans to move to a CLA in the future?", "No, ", " nothing in that direction is planned or envisioned.", "I\u2019m not disagreeing with that decision, but I\u2019m interested in knowing the basis for that envision. Brian\u2019s explanation seems mainly to pertain to the state of things a few years ago and starting simple.", "In the mean time we have enabled the DCO check to a number of repositories (see ", " for the complete list) and added a note about the DCO to the ", " file to each of these repositories.", "Happy signing off ", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["invoke ", " with ", " / ", " to automatically add this line to your commit message", "manually add a the line to each commit message, e.g. ", "\n", "create an alias in ", " to append ", " to each ", " invocation", "create a ", " which contains the ", " line to pre-populate interactive commit messages"], "url": "https://discourse.ros.org/t/starting-to-enforce-developer-certificate-of-origin-dco-for-some-ros-2-repos/7420"},
{"title": "SROS2 services and actions status", "thread_contents": ["Hey folks,", "We\u2019d like to get involved in SROS2. I saw SROS2 support for services in the ", " wasn\u2019t checked, and doesn\u2019t seem to be included in the ", ", so I thought maybe we could get started looking into that, and also SROS2 support for the actions that landed in Crystal. However, then today I came across ", " which gives me the impression both have already been done. I\u2019m having trouble finding where the work was actually done, but I\u2019m confused, maybe I\u2019m not the only one, and I\u2019m hoping someone can untwist me. ", "?", "Services were introduced in ", " and after to the new XML policy format (", "); both in Crystal.", "\nBut there is still an issue related to distinguishing requests vs. responses (see ", ").", "A discussion about how to incorporate security for actions was left ", ". I think a good step would be to brainstorm ideas in this thread and/or open a PR to ", " adding a section about security to the actions document.", "I\u2019ll try and break out a few more tickets on ros2/sros2 repo with various areas to get involved. Creating a sros2 equivalent to ", " is high on my personal list. However, I\u2019m not sure who or to what extent DDS vendors have implemented support for the default Builtin Logging Plugin defined in ", " (section 8.6.2 and 9.6). This would be quite helpful in logging and scraping security events for policy modeling and training.", "Thank you ", ", that would be tremendously helpful!", "I\u2019ll try and break out a few more tickets on ros2/sros2 repo with various areas to get involved.", "Our group can contribute with OpenSplice support. If that\u2019s useful, I\u2019d be happy creating a ticket and assigning it to me/us. Can you point me to any particular guidelines to do so or I can just go ahead and open up something simple and descriptive?", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/sros2-services-and-actions-status/8319"},
{"title": "ROS 2 Threat Model", "thread_contents": ["Hi everyone,", "\n", " and I have been working on a ROS 2 threat model for a few weeks.", "I opened a PR to merge this doc today: ", "We already had a lot of great feedback but we\u2019re always looking for more input.", "For context, the objective of this work is double:", "We will also announce in a few days a security working group meeting to discuss the document content with anyone interested.", "Thanks!", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Provide a framework to evaluate whether a commercial robotic products built with ROS 2 is secure.", "Help drive ROS 2 security enhancements."], "url": "https://discourse.ros.org/t/ros-2-threat-model/8385"},
{"title": "Migrating ros2/launch ROS specific packages to ros2/launch_ros", "thread_contents": ["Hi everyone!", "Just as an FYI, in order to integrate Apex.AI ", ", and to enable its use in lower layers of the ROS 2 stack, ROS specific packages are being moved out of the ros2/launch repository and into the brand new ros2/launch_ros repository.", "If you\u2019re maintaining a source checkout for development on ", ", please update your workspace using the latest ", " file.", "Thanks for the heads up, ", ". You say the packages \u201care being moved,\u201d but are they in fact already moved, and thus using the latest ros2.repos file as of now will get the rename?", " just moved with ", " and ", ", and yes, using the latest ros2.repos will get the rename.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/migrating-ros2-launch-ros-specific-packages-to-ros2-launch-ros/8416"},
{"title": "Announcing the ROS build system to unify all ROS build systems", "thread_contents": ["After months of stealthy development, we at PickNik are excited to release a truly unified build system for all of ROS. It is a build system\u2019s build system that is compatible with Catkin, Rosbuild, Ament, and Colcon. We call it C.R.A.C, and it\u2019s exactly what the ROS community needs right now.", "atkin", "\n", "OSbuild", "\n", "ment", "\n", "olcon", "With the release of ROS 2 Crystal, it is clear that ROS 2 is the future of open source robotics software. Over the last year, we have been devoting resources to porting ROS 1 packages to ROS 2 and building hybrid ROS 1/ROS 2 projects. Working at the intersection of these two frameworks, we crave a truly turn-key solution that would bridge the ROS 1/ROS 2 divide. By developing proprietary C.R.A.C algorithms to automate the transformation from ROS 1 to ROS 2, we have been working towards a set of tools to do just that.", "The technical challenges that we overcame working on C.R.A.C were immense. For one thing, ROS 1 and ROS 2 code are significantly different and keeping separate versions of a package in sync can be incredibly difficult. If not done correctly, porting ROS 1 packages to ROS 2 can fracture the maintainer community. By transforming ROS 1 code to ROS 2 code at compile time, C.R.A.C eliminates the need for separate code bases.", "Development on the build system C.R.A.C has been faster and more intense than you could ever imagine. Although we are still actively refining C.R.A.C, we believe it is important to start pushing C.R.A.C on the robotics community as soon as possible. With every package manually ported from ROS 1 to ROS 2 without C.R.A.C, developer hours are being needlessly wasted and code bases are being fractured.", "Every roboticist is a possible distribution point for C.R.A.C. Are you going to be the early adopters who introduces the build system C.R.A.C to your workplace? Being part of the C.R.A.C distribution network puts you on the cutting edge. Investors love C.R.A.C as it keeps costs down and productivity up. Your financial backers will be astonished to learn that your company runs on C.R.A.C, and want in on the action.", "To get started with C.R.A.C, ", "April 1st, 2019", "I wish I had this much spare time. ", "Tried it out, now I can\u2019t live without it.", "You made me experience joy followed by sadness in less than 2 minutes. Now I just feel like an empty shell\u2026", "Realized from the name that it was going to be awesome\u2026", "since colcon is Pure Python, we can substitute and an be left with C.R.A.P.P.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/announcing-the-ros-build-system-to-unify-all-ros-build-systems/8552"},
{"title": "Announcing Rust bindings for ROS2", "thread_contents": ["Hi,", "I hacked together a generator and a client library for writing ", " over the holidays, and finally found some time to write a README file\u2026 the last 10% is always the hardest part ", "Anyway, publishers and subscriber work, along with simple messages. There\u2019s still missing a bunch of things and I\u2019m still learning Rust, so if anyone is interested in contributing (including criticizing my Rust), you\u2019re more than welcome!", "I mentioned an idea to do this to Mikael at ROSCon last year. I\u2019m glad to hear it\u2019s underway.", "Is there any material or documentation that gives an insight into why use Rust for ROS? I have never used Rust before so would like to get an understanding why before deciding to go down that path. Any reference material would be helpful to me. Thank you.", "I\u2019m far from being a Rust expert, so take my advise with a grain of salt.", "I\u2019ve found Rust to be a more modern (perhaps better) version of what C++ would be if it were designed today. The tooling is much better (actually, the tooling in C++ is non-existent, so that\u2019s easy to beat): things like a proper package manager (Cargo) and an official repository of packages (", ") make the Rust ecosystem much easier to start with and contribute to.", "The language itself feels better designed as well. Concurrency in Rust is much more pleasant: among other things, variables are immutable by default and values are moved instead of assigned, and thanks to that, the compiler will tell you before compiling your program whether it\u2019s valid or not, preventing most data races (you can still deadlock a Rust program, though ", "). Rust doesn\u2019t have a runtime, so when you compile a program it\u2019ll already have all the dependencies, so crosscompiling for embedded devices becomes trivial (or even crosscompiling Rust for WASM!). You can also compile a Rust program without Rust\u2019s standard library, and thanks to that, you can have Rust programs running on a microcontroller.", "And that\u2019s only a few things that are directly applicable to robotics. But there are many other advantages in general. For example, template metaprogramming in C++ is difficult since the language does not yet support concepts (try debugging an ill-formed template), whereas Rust has traits (", ") that will check that a template implements a given behavior before being instantiated. Rust is also very is to embed, you can write your library in Rust and expose a C API. For example MesaLink (", ") uses the Rust rtls and sct cryptographic libraries and exposes a OpenSSL-compatible C API that can be used by C and C++ programs as a replacement for OpenSSL, while having all the advantages of Rust.  Unlike Go, Rust doesn\u2019t have a garbage collector, so it\u2019s closer to C and C++ than to higher-level languages like Java or Python.", "That being said, there are a few things in Rust that need to be properly stabilized (e.g. it doesn\u2019t have a defined memory model, it just inherits whatever model LLVM has ", "). In any case, I think Rust has a lot of potential and IMHO it\u2019s on the right track to become a serious alternative to C and C++.", "BTW, if you want to try out Rust on ROS1, check out Adnan Ademovic\u2019s rosrust ", " It might help you get a better idea of what\u2019s possible with Rust while not having to learn ROS2.", "I looked at ", ", but as someone who actively uses Rust, what\u2019s the availability of libraries like compared with C++? Both on the STL-equivalent side and on the broader ecosystem side?", "Also, what is the quality level like overall of the available and commonly-used libraries?", "I\u2019ve been learning rust recently, going through ", ", as well as ", " to get a better grasp on both the memory safety features of the compiler and build ecosystem. Would there be any other folks who\u2019d like to help start a working group for developing rclrs client library?", "Absolutely! I was thinking the very same thing yesterday!", "Should we open a new thread to poll others interested for an inaugural meeting time?", "I don\u2019t know if it needs to be a new thread or not, but yes, I think polling for a meeting time is a good idea.", "Yay! So happy to see more people interested in ROS2 and Rust. However I can\u2019t help but wonder what\u2019s the need for a meeting. The code is up there for anyone to contribute to, there\u2019s still a lot of work to do and any contribution is more than welcome.", "there\u2019s still a lot of work to do and any contribution is more than welcome.", "Well, a lot of other working groups meet and organize regularly to catch up and discuss new ideas: Some concepts I\u2019d like to float for an agenda off the top of my head:", "Others may have more ideas I\u2019d like to listen to. I think syncing up over a discussion would be a lot quicker than prematurely cycling across timezones on tickets that may be otherwise too unclear to tackle.", "I\u2019d say those items would make great GitHub tickets.", "G\u00e9rard Long has just added support for Crystal after I opensourced rclrs a year ago, and he also added support for Cargo to colcon a couple of months back.", "Others may have more ideas I\u2019d like to listen to. I think syncing up over a discussion would be a lot quicker than prematurely cycling across timezones on tickets that may be otherwise too unclear to tackle.", "I\u2019d love to see more activity in rclrs, but I don\u2019t see how a working group and meeting would solve that. rclrs has been opensource for well over a year, the code is there and available for everyone to contribute to in any way they feel capable  (e.g. reviewing pull requests, proposing new features, suggesting improvements, filing bug reports, etc.)", "I\u2019d say those items would make great GitHub tickets.", "Cool, sounds good! I\u2019ve opened some tickets:", "Most aren\u2019t as informative as I\u2019d like, but barring any prelmerary dialogue, this is what I came up with.", "I\u2019d love to see more activity in rclrs, but I don\u2019t see how a working group and meeting would solve that. rclrs has been opensource for well over a year,", "Ok, it\u2019s just there hasn\u2019t been much rclrs activity \u2018for well over a year\u2019, so I was thinking we could try and organize our efforts a little more. Also, I prefer brainstorming over a call given my typing impairment.", "What I personally need to be able to contribute is a list of contributions that a rust beginner could handle. I don\u2019t have much experience with rust so I can\u2019t handle complex contributions or write idiomatic code yet.", "Cool, sounds good! I\u2019ve opened some tickets:", "Most aren\u2019t as informative as I\u2019d like, but barring any prelmerary dialogue, this is what I came up with.", "Thanks!", "Ok, it\u2019s just there hasn\u2019t been much rclrs activity \u2018for well over a year\u2019, so I was thinking we could try and organize our efforts a little more. Also, I prefer brainstorming over a call given my typing impairment.", "Yeah, it\u2019s unfortunate that rclrs hasn\u2019t attracted more attention since I opensourced it, but I\u2019m happy that it has now and I\u2019m hopeful users will file tickets and submit pull requests.", "What I personally need to be able to contribute is a list of contributions that a rust beginner could handle. I don\u2019t have much experience with rust so I can\u2019t handle complex contributions or write idiomatic code yet.", "That\u2019s a great idea. However, I\u2019d argue that any contribution is great, no matter how small or unidiomatic they may be, I believe more in iterating than in getting it right at the first try. I\u2019ll create tickets for issues that might be straightforward to work on, however there\u2019s the added difficulty of learning the internals of the message generation pipeline in ROS2.", "Hey all,", "What\u2019s the status of the ROS2 rust bindings?", "\nThis is a project that I would potentially be very interested in contributing as I am a big believer of rust in future robotics\u2026", "After taking a look at ", " I gather that it\u2019s not under active maintainance. Am I wrong? Is support for rust bindings at any point of your roadmap for ROS 2?", "It\u2019s still somewhat maintained, unfortunately I haven\u2019t been able to dedicate much time to continue development lately, but I\u2019m more than happy to accept pull requests and tickets.", " is pending for merging which will add support for Crystal, but I\u2019m waiting for some feedback to be addressed. I\u2019ll make the changes myself in the following days if the submitter can\u2019t do it.", "Hey ", ",", "Thanks for your work on this. ", "\nI\u2019ll take a look at the next couple of days", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["improving cargo build integration: ", " + ", "?", "how much of rclrs could be shared with rust\u2019s ecosystem: ", "\n", "soliciting guidance from the larger friendly rust community: ", "\n", "improving message IDL integration: avoid re-generating default messages", "design goals for making the API overall more idiomatic with rust code", "improving cargo build integration: ", " + ", "?", "how much of rclrs could be shared with rust\u2019s ecosystem: ", "\n", "soliciting guidance from the larger friendly rust community: ", "\n", "improving message IDL integration: avoid re-generating default messages", "design goals for making the API overall more idiomatic with rust code"], "url": "https://discourse.ros.org/t/announcing-rust-bindings-for-ros2/3870"},
{"title": "Notice: force push on ament/googletest", "thread_contents": ["tl;dr if you have a source checkout of ros2, you may need to take care when updating ", ".", "I recommend either deleting the folder (in your workspace would be ", ") and re-cloning it, or if you have local changes yourself (unlikely) following one of these suggestions:", "As for why, in the process of upgrading the version of googletest we use on our \u201cmaster\u201d, I fast forwarded to a newer googletest version (", ") and then reapplied our few commits on top which make it easier for us to build and release. Because I fast-forwarded and cherry-picked (in order to not diverge from upstream), I had to force push to the ", " branch.", "See also:", "That\u2019s the only additional command needed before your push to avoid anyone having to delete their local folder. The \u2018-s ours\u2019 option connects the histories without taking changes and thus never conflicting.", "And this is still possible now.", "So nothing in your email explains why you think everyone else deleting local folders is preferable to you running one single git command.", "\nI mention this because force-pushing shared branches and then writing emails should be an emergency measure, not an example to follow in the future.", "In the future I\u2019ll try to do something better, but I did research ways to do it without disruption.", "However, I thought that all of them caused the \u201cpulled\u201d changes to get new commit hashes, and so they would not align with upstream googletest any longer, which is what I meant when I said:", "Because I fast-forwarded and cherry-picked (in order to not diverge from upstream),", "But I think your solution might work without that drawback. I\u2019ll try using that next time.", "Really, the right solution in my opinion is to embed googletest at the version we require in our repository, either as a subtree or an archive (depending on how big it gets), and then maintain our patches that go on top as actual patch files. Then at build time we can apply the patches, then have cmake build and install it using ", " or similar. This would also allows us to host multiple versions of googletest at a time if we wanted.", "This is what I do in ", " (", ") and it seems to work fine, and should be ok (repository size wise) as long as we don\u2019t update it frequently (seems to be infrequent).", "But I don\u2019t have time right now to address that issue. For now, I assumed this was not very disruptive, but I\u2019m sorry if it caused problems for anyone.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/notice-force-push-on-ament-googletest/8616"},
{"title": "Porting of logging directives", "thread_contents": ["I started porting a ros-melodic/kinetic package to ROS2 crystal.", "\nI noticed that the logging mechanism has changed and that many of the useful macros that were there (*_STREAM, *_THROTTLE) are now gone.", "Are there any plans / tasks on porting them to ROS 2? If not what\u2019s the reasoning behind this choice?", "\nAlso can you think of an way to log ", " expliciltly specifying the logger object? Alternatively is there any way of acquiring the logger of the currently runnning node?", "Hello ", ",", "It looks like there were some plans to include throttling capabilities as an additional enhancement to the C++ macros (see: ", "). I don\u2019t believe anyone is actively working on it.", "If you\u2019re using the rclcpp logging macros you will have to provide the logger object. However, you can create an arbitrary logger with any name that you\u2019d like that isn\u2019t tied to a node. The only way that you could get around this would be to directly use the rcutils logging macros, which take in a logger name as a string instead of as a C++ object. I\u2019m curious as to what your use case is for not wanting to use the logger object though.", "If you have a handle to the Node then you can pretty easily get the logger for that node by using the ", " function. In ROS2 the logging APIs do not make any assumptions about a single or any nodes actually running in the process. So you could create a logger and be logging before you event start up any nodes. Additionally, if you have multiple nodes running in the process you can select which node will publish the logs to /rosout by using the specific logger for that node.", "Hi ", "However, you can create an arbitrary logger with any name that you\u2019d like that isn\u2019t tied to a node", "That\u2019s sounds like a sensible alternative", "I\u2019m curious as to what your use case is for not wanting to use the logger object though.", "What if you have a piece of code (e.g., freestanding function) that does some general computation, and doesn\u2019t need to access  parameters / topics / services etc.", "Still, there might be a need to log some output there, e.g., for debugging reasons. Passing a logger object for this purpose seems kind of an overkill IMHO. I liked it when I could just ", " directly and anywhere without caring about that extra argument.", "Also notice that passing the logger as an extra function parameter practically pollutes the function interface, since it doesn\u2019t really need the logger for its basic functionality.", "For example a conversion function with a signature of `bool convertPose(const geometry_msgs::Pose& p_in, CustomType& p2) conveys precisely what its about. Adding a logger reference in the parameters and you basically just add unnecessary noise to the interface.", "In ROS2 the logging APIs do not make any assumptions about a single or any nodes actually running in the process. So you could create a logger and be logging before you event start up any nodes. Additionally, if you have multiple nodes running in the process you can select which node will publish the logs to /rosout by using the specific logger for that node.", "That\u2019s good to hear!", "\nI\u2019ll take a closer look and consider using them this way then", "If you want to discuss an effort to add the missing operators, like stream, throttle (throttle is there btw), etc\u2026, that\u2019s fine, but please move it to an issue on GitHub as soon as you can. For the questions about why and how, that\u2019s better left to ", ".", "Make sure you consider ", " when posting something like this. ", "I liked it when I could just ", " directly and anywhere without caring about that extra argument.", "What you didn\u2019t realize is that there was an implicit first argument there which was the node singleton from ROS 1. As previously discussed, ROS 2 doesn\u2019t have that, so to emulate that macro from ROS 1 you must provide the missing first argument. We cannot guess it for you.", "We intentionally require the logger name because otherwise you aren\u2019t forced to consider what it will look like on the console. If you really want to have no logger name, then you can use ", ", but I don\u2019t recommend that.", "Also, you can store logger objects statically and globally, so you can just do something like ", " in your cpp file, and then everywhere you want to log you can do ", ".", "For example a conversion function with a signature of `bool convertPose(const geometry_msgs::Pose& p_in, CustomType& p2) conveys precisely what its about. Adding a logger reference in the parameters and you basically just add unnecessary noise to the interface.", "But most people don\u2019t have which function or file a log message came from enabled when logging. Imagine you had several nodes, all in the same process, which each call this function, but only one of them produces a log message. How do you know which one it came from?", "In ROS 1, the node which produced the warning was implicitly included in calls to things like ", ", so that wasn\u2019t a problem.", "In ROS 2, since nodes are not globally accessible and because there isn\u2019t just one per process, you need to tell us which node it\u2019s a part of when you make a logging call. You can either pass a node through you API\u2019s or an instance of the ", " object (just a ", " wrapping a ", "). As ", " mentioned you can get a logger from a node which includes its full name (include a namespace) with ", ".", "Actually, maybe throttle is not there in ", ", it is in ", " (", "), but maybe it was delayed in ", " due to needing support for ROS Time (is it thottled based on wall time or ROS time?).", "Looks like it:", "But there\u2019s no issue for it, but that would be a great contribution ", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["# TODO(dhood): Implement the throttle macro using time sources available in rclcpp", "excluded_features = ['named', 'throttle']"], "url": "https://discourse.ros.org/t/porting-of-logging-directives/8763"},
{"title": "ROS2 Security Working Group Online Meeting - Apr 17th, 2019 between 2PM and 3PM PST", "thread_contents": ["Hi everyone,", "We are planning to hold the next ROS 2 Security Working group meeting on ", ".", "Tentative agenda and meeting details are below.", "Suggestions for other topics are very welcome!", "You have been invited to an online meeting, powered by Amazon Chime.", "Chime meeting ID: 7596499512", "Join via Chime clients (manually): Select \u2018Meetings > Join a Meeting\u2019, and enter 7596499512", "Join via Chime clients (auto-call): If you invite auto dial-in as attendee, Chime will call you when the meeting starts, select \u2018Answer\u2019", "Join via browser screen share:  ", "Join via phone (US):  ", "Join via phone (US toll-free):  ", "International dial-in:  ", "FYI - ", " ", " ", " ", " ", " ", "Thanks for organizing Thomas! We\u2019ll be there. How can we su suggest items for the agenda?", "Thank you Thomas for leading the organization once again! Eager to participate from Alias Robotics on this. We have some work to share with you guys.  Can you please add the following Items to the agenda:", "2.3 Alias Robotics update about threat modeling for industrial robots.", "2.4 Alias Robotics update with ROSIN security analysis for ROS 2 based on our tools.", " - done!", "\n", " feel free to reply to this thread and I\u2019ll edit my post.", " feel free to reply to this thread and I\u2019ll edit my post.", "Great, thanks a lot. Here\u2019s my ", " then, editing your agenda above:", " and ", ", you may be interested on this.", "As ", " pointed out, in collaboration with Acutronics Robotics, we have been extending the threat model developed by Amazon Robotics to include an industrial robotic Arm. In this, case, the MARA modular robot arm. We have submitted the PR to ROS 2 design. Feedback is very much appreciated!", "\n", "\n", "Hi ", ", sorry for the late ping.", "If there is some time left today I\u2019d like to ask whether this group here would be interested to perform such ", " on such a ", " in Autoware?", "D.", "Thank you everyone for your time today!", ".", "The next meeting is already planned in two weeks as we decided today and the time is hopefully more Asia-friendly. ", ".", " - did we spend enough time on your questions today? If not, let\u2019s add your questions to the next meeting agenda.", " thanks, I think that we are fine. To recap what you said:", "Is that correct?", "Otherwise we in Autoware currently do not have anyone that has security background, so we were looking for someone that could help us get started. But I guess we can try on our own first and ask for help here if needed.", "Yes! I\u2019d suggest to also to read the section \u201cIncluding a new robot into the threat model\u201d in ", "For 4. we\u2019d be open to add pointers to URLs about how to secure RTOS but we just don\u2019t want the doc to become a guide to secure RTOS as this is out of the scope of the doc. You can see, for instance, what we wrote around NTP attacks. We point to \u201cgood practices\u201d but they are not directly described in the doc.", "Apologies I couldn\u2019t participate yesterday ", " and the rest of the group ", ". Terribly overloaded these last few weeks trying to fix some internal matters. I\u2019ve noted down in my calendar the next meeting and I\u2019ll put together some slides to kick off the next meeting with our contributions so far while discussing in a bit more detail ", ".", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", " comments and feedback", "Next steps for the security work:\n", "AWS RoboMaker team planned work for Q2", "How to collaborate and tackle security risks as a community?", "Alias Robotics update about threat modeling for industrial robots.", "Alias Robotics update with ROSIN security analysis for ROS 2 based on our tools.", "\n", "Safety & Security  (Acutronic Robotics to discuss some ongoing work in the intersection of both)", "Database of robot vulnerabilities  (discussion, disclosures and a new security article maybe?)", "\n", "\n", "\n", "\n", "\n", " comments and feedback", "Next steps for the security work:\n", "AWS RoboMaker team planned work for Q2", "How to collaborate and tackle security risks as a community?", "Alias Robotics update about threat modeling for industrial robots.", "Alias Robotics update with ROSIN security analysis for ROS 2 based on our tools.", "\n", "\n", " (Acutronic Robotics to discuss some ongoing work in the intersection of both)", "\n", " (discussion, disclosures and a new security article maybe?)", "We can use this ", " as a reference and apply it to our car and use case", "We can create a PR like this ", " once we have done our own threat analysis", "The difference between your threat model and ", " is in that the latter are guidelines on how to make a secure robot and the threat model checks whether implementation of the guidelines is correct (that is there is not attack surface exposed)", "You try hard to focus on ROS 2 framework only (as oppose to e.g. RTOS)"], "url": "https://discourse.ros.org/t/ros2-security-working-group-online-meeting-apr-17th-2019-between-2pm-and-3pm-pst/8561"},
{"title": "ROS2 Navigation WG cancelled today (4/18)", "thread_contents": ["We don\u2019t have any urgent topics for discussion and we\u2019re heads-down trying to get things done for Dashing release, so I\u2019m cancelling today\u2019s WG meeting.", "Matt", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-navigation-wg-cancelled-today-4-18/8813"},
{"title": "New ROS2 Wrapper for the ZED camera", "thread_contents": ["This post to announce the release of the new ", " and to invite all the ZED users to test it.", "The ZED ROS2 wrapper is one of the first working node using the new ", " concept introduced with ROS2 and a full documentation is available with examples on how to control such kind of node: ", "You can read the full list of available features with the ROS2 wrapper on the Stereolabs blog:", "\n", "The new ZED wrapper for ROS2 has been release in its first beta version", "\n", "The source code is available on Github:", "\n", "ROS 2 wrapper beta for the ZED SDK. Contribute to stereolabs/zed-ros2-wrapper development by creating an account on GitHub.", "\n", "The new wrapper is released in beta version and any feedback and comment through the Github platform will be really appreciated.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/new-ros2-wrapper-for-the-zed-camera/8865"},
{"title": "Official Docker Images for ROS2 Crystal and arm32v7", "thread_contents": ["Hello all,", "I\u2019ve working on upstreaming ROS2 Docker images into the Official Library in time for the Crystal release:", "While doing so, I wondered how feasible support for arm32v7 would be. Many hobbyist and students still rely on older low-end embedded arm devices, such as raspberry pies. Even the TurtleBot3 currently ships with a 32bit install. To help facilitate ROS2 adoption, I\u2019d suspect better coverage for multi-arch support via pre-built binaries will go a long way towards encouraging migration and general community growth. Looking at the current ", " for ROS1 and Ubuntu on Docker Hub, we see as of writing:", "Note: these pull counts don\u2019t seem to sum even close to the total pull counts from the official library aggregating these for multi-arch. I assume these counts are rather fresh, perhaps wrt ", ".", "As we can see, arm32v7 makes a substantial proportion of the number of pulls, even more so for base images. I recognise arm32v7 (armhf) isn\u2019t yet listed under any \u201cSupport Tier\u201d, so I\u2019ll petition here that adding support for arm32v7 could be worthwhile for the community:", "As an exploratory mesure, I went and built ROS2 from source using the current master, and was able to complete in about ", " on my workstation using qemu emulation via docker, use the same methods described in:", "Docker cross-architecture builds without putting qemu-*-static in the image - computermouth/qemu-static-conf", "I\u2019ve uploaded the logs here for folks to paruse:", "\n", "As well as the resulting docker image here you may test locally:", "\n", "Cheers,", "\n", "This is double plus good! Thank you ", "! As someone who is working with ROS2 on \u201colder\u201d Raspberry Pi\u2019s, having a 32 bit image is a resource that will help me and, I am sure, other developers.", "While it\u2019s great that ROS2 is reaching for the future by focusing on 64 bit systems, the current small computers are 32bit and account for a significant portion of what\u2019s out there.", "Since last posted, it looks like Amazon has announced AWS support form ARM [1].", "\nPerhaps this could help improve ROS2\u2019s buildfarm support for multi arch builds?", "Earlier this year I told you about the AWS Nitro System and promised you that it would allow us to \u201cdeliver new instance types more quickly than ever in the months to come.\u201d Since I made that promise we have launched memory-intensive R5 and R5d...", "As for a more concrete use case: robotic outreach projects such Duckietown could really come to benefit from arm32v7 support, helping to teach ROS2 to new and younger users using budget level hardware.", "[1] ", "\n[2] ", "I haven\u2019t actually seen anything on whether the Graviton processor supports 32-bit mode (it\u2019s an optional extension for ARMv8); does anyone know if it does?", "I\u2019ll let you know in a few minutes ", "I haven\u2019t actually seen anything on whether the Graviton processor supports 32-bit mode (it\u2019s an optional extension for ARMv8); does anyone know if it does?", "I was able to build ros-kinetic-catkin using the ros_buildfarm ", " on an a1.medium instance. Build performance wasn\u2019t bad. Python 3 performance on the host seemed (mostly generating the build script) seemed dramatically worse than amd64. Taking 20-25 seconds instead of 3-5 seconds. So it looks like armv7 instructions are supported by these instances.", "Are those stats from running the jobs in a arm32v7 container with qemu on a arm64v8 OS, or does the AWS hypervisor allow for booting into a arm32v7 guest OS to avoid qemu when building with docker?", "I\u2019ve always experienced slow python runtimes when using qemu.", "Are those stats from running the jobs in a arm32v7 container with qemu on a arm64v8 OS, or does the AWS hypervisor allow for booting into a arm32v7 guest OS to avoid qemu when building with docker?", "A cool (I think) feature of the images used by the buildfarm that bundle binaries from qemu-user-static is that they rely on the host kernel\u2019s binfmt to invoke non-native binaries with qemu. So on native platforms the same image will run without qemu and, in fact, the bundled qemu binary is AMD64 native and so it would fail to run if invoked by binfmt.", "But the python script was running directly on the host so the docker images weren\u2019t involved in that runtime measurement yet.", "Just friendly bump; has there been any further thoughts on this, ether by the ROS2 TSC or OSRF?", "\nOr has it been settled that it\u2019s probably too late to add arm32v7 as a Tier 1 or 2 platform for Crystal?", "it\u2019s probably too late to add arm32v7 as a Tier 1 or 2 platform for Crystal?", "It\u2019s definitely too late for Crystal\u2019s ", " and my apologies if I gave the impression that it was ever on the table. I am at present too focused on that launch to ponder reliably beyond it but please do ask again after the initial release.", "An official ROS2 Docker image for armhf/arm32v7 and arm64/aarch64 would be great improvement for the cross-compilation instructions :", "Currently, Dockerfiles to generate the filessystem are hosted on ", ", but it would be way much better to pull an official image instead of re-building locally (saving time and removing also the redundancy).", "As an update, PRs to both the official library repo and docs have been opened.", "\nPlease take a look through the docs PR and make suggestions.", "This will be the README that appears on Docker Hub when users first find the repo.", "\nIt includes some examples on installing and build ROS 2 packages with docker,", "\nand some notes on containerizing ROS 2 with software defined networks and security:", "I am at present too focused on that launch to ponder reliably beyond it but please do ask again after the initial release.", " , it\u2019s been a few weeks, and with the holidays receding, think we could pick up in this topic again? Any help you might need?", "Just wanted to chime in here and add a vote of interest for official armv7 support.", "I work at OpenROV, a small company that has been developing low-cost robots for underwater exploration. Our latest product, Trident, is built on top of the RaspberryPi 3 and RTI Connext DDS, and we have been excitedly looking forward to adding first-class ROS2 support for some time. With the arrival of the Crystal release, I feel that now is finally a good time to do this. We have shipped thousands of these low cost drones around the world, many of which have gone to researchers, students, and small businesses looking to expand upon the capabilities that we have developed.", "Being able to support additional development via ROS2 will also help us in opening up more of our software again. We are using Connext to get the job done, and it serves that purpose well, but we would definitely like to give users a way to work with the platform that is not walled off behind proprietary libraries and licenses.", "I imagine there are many RPI3 based projects out there that could benefit from this work as well, so it would be great to see some first class support on the ARM front.", "I would also like to endorse this push for armv7 support. I work with both ROS 1 and DDS and can not stress enough the need for ROS2 on arm7 support. I work with both BlueROVs, Tridents and custom UAVs, using a mix of RTI/OpenDDS and ROS for various research and loath the ROS DDS bridges we\u2019ve needed to hack out over the last three years. NASA Langley Research Center here in Hampton, VA and other industry partners have embraced DDS as well as ROS and are chomping at the bit for armv7 support for their research and deployment needs. The combinations with the libraries in ROS, the community using the various flavors of DDS, and the strong push for IoT interfacing, armv7 only makes strategic sense.", "Thanks!", "Jim", "Update: I repeated my exploratory mesure building ROS2 from source for arm32v7 using the current release, and was able to complete in about  ", "  on my workstation using qemu emulation via docker:", "For those who haven\u2019t seen the announcement today, in preparation of DockerCon 2019, Docker and ARM have announced a new partnership that I think folks following this thread may find interesting:", "Docker and Arm today announced a major new partnership that will see the two companies collaborate in bringing improved support for the Arm platform to Docker\u2019s tools. The main idea here is to make it easy for Docker developers to build their...", "\n", "Arm\u00ae Neoverse\u2122 is about so much more than CPU cores.  It's about building the infrastructure foundation for a world of 1 trillion intelligent devices.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", " for source build", "docker pull ", "\n"], "url": "https://discourse.ros.org/t/official-docker-images-for-ros2-crystal-and-arm32v7/6872"},
{"title": "Actions in ROS 2", "thread_contents": ["As users of ROS 2, and probably anyone else who\u2019s considered trying it out, are aware, ROS 2 doesn\u2019t yet have an implementation for actions.", "There have been some sporadic efforts to rectify this situation, and we are now at the point where several of us are actively moving forward to design and implement ROS 2 actions, and Open Robotics has scheduled a few developers to work on actions for the Crystal release.", "There is a ", " for an actions design document, but it needs a ", " of work. There is also an ", " done by ", " of Intel to hash out some ideas and support their navstack2 work.", "Some of our goals are:", "What we need to know from you is, how well do actions work for you in ROS 1? What do you like and what do you hate? What would you change and what do you think must stay the same?", "And of course please feel free to comment on or add to the design document or try out implementation ideas!", "I\u2019d like to add to ", " that this is a very time sensitive request for input. This design needs to be solidified in the next 1-2 weeks in order to be done in time for the Crystal release, so if you have input, please take the opportunity to speak up now. Thanks!", "Also, if you want to volunteer to help with the implementation, chime in here too. We may be able to do some divide-and-conquer. I was planning to help in the rclcpp layer for example.", "We have a few people scheduled to dive into actions in the coming month. ", " and ", " are good points of contact for coordinating efforts.", "Actions are one of the most important parts of ROS1 but they always felt a bit like an afterthought since they were implemented on top of topics and created a kind of namespace polution, e.g. visualization tools like rqt_graph optionally group the goal/feedback/status/cancel topics to hide this mess. On the other hand for debugging purposes it is very handy to be able to inspect the action communication between action clients and servers.", "Here is my design feedback:", "It should be clearly detectable by clients that an action server node crashed and was restarted. I implemented a work-around for this for our own action client libs (see in .net ", " and lua ", ") by detecting non-monotonously increasing sequence numbers of messages received on the status topic. Topic disconnect callbacks could unfortunately not be used in ROS1 for quick detection of disconnects since they were executed only after a pretty long timeout period. Maybe in ROS2 this can be done in a clean way.", "During load tests of a action client implementation I observed a rare situation in which a goal was submitted but never actually reflected by the server. It is a bit artificially created but it can happen that a new action server crashes directly after a goal is submitted and then restarts but the non-monotonously seq check of the client (as described above) does not trigger since the async status topic subscription misses one of the first status messages, e.g. the client sees only increasing status messages while the newly created action server never mentions the goal. In my .net impl I added a check for this situation by counting status messages that are missing a goal waiting for ack, see ", ". If I remember correctly the caller_id of the status connect callback could not be used to detect the action server restart. Maybe also a problem of weak server-process-identity.", "In general the initial handshake of ROS1 actionlib and the client/server identity handling is too brittle, e.g. very strange  situations can be created if two or more action servers are started under the same name (topics).", "It would be great if a new connection to an action server could be established within milliseconds. In ROS1 due to the async pub/sub mechanism and the dependency on the first status-message (server identity) the maximum connection frequency is pretty low, e.g. this is even noted in comments in the actionlib impl see for example ", ".", "From the server implementation perspective I remember that I made the mistake to call setAborted on a goal-handle before accepting it which did not work because setAborted must only be called in PREEMPTING or ACTIVE state. I am not sure if this complexity is really necessarly and to create an error when setAborted is called in PENDING state, e.g. setCanceled seems to be valid for most states.", "Actions are one of the most important parts of ROS1 but they always felt a bit like an afterthought", "As one of the original developers of actionlib, I can most definitely tell you that actionlib was an afterthought.  Actionlib came much later (6-12 months-ish) than the development of topics & services.  Eitan Marder-Eppstein and I weren\u2019t sure whether actionlib would be useful beyond just move_base & the pr2_calibration stack, and there was a broader design decision to not force a complex, seemingly extraneous feature like actions to be part of the core ROS APIs, thus increasing the complexity of porting ROS to a new language.  In hindsight, actions turned out to be pretty important to the ROS ecosystem ", "Design Feedback", "Contributing", "Take advantage of any DDS features that can improve actions, whatever they may be.", "DDS appears to have support for asynchronous RPC which integrates with the modern C++ future and async infrastructure.", "It could be a candidate for actions, but it would mean that the implementation would be tied to DDS.", ": what is the intent here? Should actions be available to all RMWs, or would relying on DDS-specific infrastructure be acceptable?", "I agree that the client state machine should be refined, if possible. I\u2019ve found that a concise state machine, like in the Simple Action Client, is useful for writing applications on top of. Maybe we can try to reconcile the Simple Action Client and underlying Action Client state machines.", "On a similar note (echoing ", "\u2019s last point), the possible state transitions in the server seem more complex than they need to be. This leads to concurrency issues (", "). It would be nice to have a more robust, and perhaps more intuitive, state machine for the server from a user perspective.", "IMO, it would be ideal for the server and client to follow the same state machine, rather than having subtle differences as in the ROS 1 documentation.", " and ", ", since ", " said you are coordinating efforts from the OSRF side, what is the status of the design and how can we move forward quickly?", "I believe we need some clarity on the high level API\u2019s and the state machine design. As I mentioned before, I\u2019m willing to help in the action file parsing and message generation tools and the rclcpp layer if needed.", " Currently we\u2019re writing an update for ", " design doc and examples of what the client library APIs should look like. Moving quickly is important to us too. I expect implementation will start in ", " in parallel with opening design and example PRs so that feedback is incorporated as we go.", "I will post links to new PRs here. In the meantime ", " is a list of what is being targeted at Crystal.", "I\u2019d like to raise an issue that is perhaps not relevant to most but that you may not have considered: The current action client &  server implementations are insanely slow with large work-loads. This is (probably) mostly an implementation issue, but please keep it in mind when conducting tests.", "I have previously worked on ", " used for computing robot arm motion plans and have needed these servers to service \u201chighly parallel\u201d work loads. Think about the Moveit planning server, but with the ability to submit many goals and to provide an ordering to them.", "The applications I worked with required the computation of thousands of such plans. I used actions to track the motion plans through their life-cycle (e.g. pending, planning, done). If I opened 1000 plans, I would frequently see the planning finish within 5 seconds followed by up to 50 seconds of serialization as goals are passed back and forth.", "Unfortunately, I can\u2019t share this particular code but I can write a representative test case if you are interested.", "Thanks to all for the interesting responses so far. Lots of good information on what to target for improvements.", " A representative test case would be awesome. We can use it to find the root cause in the current design, and we can port it to ROS2 and make sure the new implementation doesn\u2019t suffer from the same bottleneck.", "I believe we need some clarity on the high level API\u2019s and the state machine design.", " there are a couple new PRs. Any time you\u2019re willing spend giving feedback would be appreciated. This PR ", " adds to the existing design doc PR, and this one proposes client library APIs ", " .", "For those interested, I\u2019ve begun work on a CLI tool for actions: ", "Hi,", "I was looking at the ROS2 D-release roadmap.", "\nIt looks like there are no items related to ", ".", "From what I\u2019ve seen, currently actions lack two useful features: the possibility of using them with nodes composition and some simplified APIs, similar to the ", " and ", " of ROS1.", "Do you know if someone is working on these items?", "From what I\u2019ve seen, currently actions lack two useful features: the possibility of using them with nodes composition and some simplified APIs, similar to the ", " and ", " of ROS1.", "Do you know if someone is working on these items?", "Not that I know of, but I know there are some strong feelings about such things. I for one would rather see the API well-documented along with some simple tutorials covering common cases as opposed to seeing those classes come back. I\u2019ve seen them cause a lot of confusion (e.g. those hidden threads bite a lot of folks).", "I believe actions are usable as part of node composition. I\u2019ve created an example here:", "Although, I\u2019ll admit that there is some refactoring that can be done to make things more user-friendly. For example, ", ".", "Regarding \u201csimple\u201d actions, I don\u2019t think it is very difficult for a user to achieve the desired behaviour with the current implementation (see ", "). I can see the benefit of wrapping the boiler-plate code into convenient classes for \u201csimple\u201d actions, but I don\u2019t think it is a high priority.", "I agree with ", " that tutorials would be a good thing to have for Dashing. I\u2019ve recently created a ", " to discuss ideas and track progress.", " I\u2019m trying to understand ros actionlib and finding a way to implement fire and forget methods. I cannot use rosservices for this as its a blocking call. can you enlighten me with your view on \u201cwhether rosaction shall be used to implement fire and forget mechanism using SimpleActionClient and SimpleActionServer?\u201d", "Many thanks in advance.", "Wouldn\u2019t \u201cfire and forget\u201d be just a good-old topic?", "I\u2019m trying to understand ros actionlib and finding a way to implement fire and forget methods. I cannot use rosservices for this as its a blocking call. can you enlighten me with your view on \u201cwhether rosaction shall be used to implement fire and forget mechanism using SimpleActionClient and SimpleActionServer?\u201d", "You might want to ask your question on ", " instead. This thread is about actions in ROS 2. And both - action as well as service - in ROS 2 are providing an asynchronous API which means they are ", " blocking.", "anyone actually working on implementing the actions for ROS2?", "\nif so, could you point out the source code repo?", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Make actions a first-class citizen in ROS 2, the same as topics and servers, rather than as a separate library.", "Implement actions in ", " so that all other client libraries (C++, Python, Ada, \u2026) can get actions with exactly the same behaviour without needing to reimplement them.", "Allow introspection and interaction with actions from the command line via a ", " command. As a side effect, make sure actions don\u2019t pollute the output of ", " or ", " anymore.", "Improve the actions API over ROS 1, where such improvements are needed.", "Improve the actions state machine if necessary.", "Take advantage of any DDS features that can improve actions, whatever they may be.", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "I totally understand the benefits of keeping much of the internals of actionlib the same between ROS1 & ROS2 (ease of portability, easy of interoperability, etc).  However, if you are considering making more drastic changes (which may be necessary given some of the additional features in the design doc), I\u2019d seriously consider redefining the client state machine.  As stands, implementing a SimpleActionClient is unnecessarily complex, since the SimpleActionClient states are not a straight reduction of the ActionClient states.  This means that the simple action client needs to know about both the current action client state and the previous action client state in order to compute the current simple action client state (see diagram on the wiki ", ").", "The Virtana team (", ") has several early career roboticists who\u2019d love to get more open source contributions under their belts.  Once the ROS2 actionlib team gets more of the implementation & design firmed up, we\u2019d love to pitch-in in places that might fit the \u201cgood first issue\u201d label."], "url": "https://discourse.ros.org/t/actions-in-ros-2/6254"},
{"title": "ROS2 Security Working Group Online Meeting - May 1st, 2019 between 9AM and 10PM PDT (UTC-7)", "thread_contents": ["Hi everyone,", "We are planning to hold the next ROS 2 Security Working group meeting on  ", " .", "Please suggest other topics for the next meeting by commenting on this thread.", "You have been invited to an online meeting, powered by Amazon Chime.", "thanks, i did not get a chance to jump in today.", "\njust to confirm, is that PST(UTC-8)? or PDT(UTC-7)?", " I am really sorry for the confusion, I meant PDT. I just updated the post in consequence.", "thanks for the confirmation, will be there from Japan.", "Thanks for taking the lead again organizing this ", "! Good to see you around and interested on this topic ", "!", "Hi all, I updated the agenda. Please let me know if this is missing any topic we should cover.", "Hi all, here are some pointers to what we discussed this week.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Safety & Security (Acutronic Robotics to discuss some ongoing work in the intersection of both)", "Database of robot vulnerabilities (discussion, disclosures and a new security article maybe?)", "ROS 2 Security Validation (Ryan / Amazon)", "\n", ".", "Link to the article we discussed during the meeting: ", "\n"], "url": "https://discourse.ros.org/t/ros2-security-working-group-online-meeting-may-1st-2019-between-9am-and-10pm-pdt-utc-7/8786"},
{"title": "Manipulation WG - Friday 3rd of May, 17:00 CET (9AM PDT, 1AM JST)", "thread_contents": ["Following from the interest received in moveit2 (", ", ", ") development and after the support received in the ROS 2 TSC, I\u2019m glad to announce the creation of a ", " to steer and coordinate the ROS 2 efforts on manipulation.", "So far, Acutronic Robotics and PickNik have been meeting over the last few Fridays. This WG is an opportunity to open the discussion to everyone and share the progress and efforts allocated. This should help jointly steer and distribute the work together to get the most productive output out of the growing ROS 2 manipulation community. Discussions will initially tackle the already ongoing  ", " but we also invite other related manipulation-related topics and initiatives.", "For starters the group will gather ", " (9AM PDT, 1AM JST). The first meeting will be held the ", ". Details for the first e-meeting are provided below:", "Real-time meetings by Google. Using your browser, share your video, desktop, and presentations with teammates and customers.", "Upcoming meetings will be available in ", ". Depending on the geographical interest shown, we\u2019d try to switch between Asia/Europe/US friendly times.", "1AM JST", "Woo! ", "Noted as interest shown ", " and sorry for the inconvenient time (we\u2019ve been holding meetings at that time zone so it made sense to hold the first at that one.). Let\u2019s try to make it better for those of you in JST.", "We\u2019ll switch between time zones every two Fridays then. ", " I take you\u2019ll participate if we make the change, any preference that could be (somewhat) reasonable also for Europe and US?", "Actually as interested as I am I can\u2019t join this one, except where it might cross over with safety or real-time issues. It\u2019s too much for me to realistically commit to and I\u2019d just be making a promise I can\u2019t keep.", "I do look forward to seeing awesome results, though. All factories running ROS2 in five years, for example. Not to set expectations too high or anything!", "I\u2019m doing manipulation on MoveIt but I want to follow this.", "Here is the agenda for the meeting:", "See you on Friday!", "Regards.", "Minutes available ", ". Find below a summary of the last session:", "(PickNik) Improve the reproduction of existing work", "(Acutronic Robotics) Currently proposes three avenues for reproducing work:", "will review things and try to simplify", ": To be planned", "Next meeting scheduled ", ".", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Welcome and introductions\n", "MoveIt 2, status of the port\n", "Code ", "\n", "CI ", "\n", "OS X", "Linux", "\n", "Target platform of development: ", "\n", "Install instructions", "\n", "\n", "MoveIt 2 update\n", "Description of the first demonstrator targeted", "Analysis of the packages ported for the demonstrator", "Unit tests\n", "variety of related packages required unit tests ported, see ", "\n", "Trying to get ROS 2 core modifications upstream (e.g. ", " or ", ")", "\n", "\n", "Hardware CI\n", "Discuss ideas about using HTC Vive sensors to create a hardware setup that allows to bring CI to hardware", "\n", "Real-time motion planners\n", "Discussion about existing solutions (RTR)", "Discussion about new opportunities ", "\n", "\n", "\n", "\n", "\n", "Alejandro (Acutronic Robotics)", "Lander (Acutronic Robotics)", "Anas (Acutronic Robotics)", "Ibai (Acutronic Robotics)", "Igor (Acutronic Robotics)", "Mike (PickNik)", "Henning (PickNik)", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "Code ", "\n", "CI ", "\n", "OS X", "Linux", "\n", "Target platform of development: ", "\n", "Install instructions\n", "\n", "\n", "\n", "\n", "\n", "Acutronic Robotics\n", "Description of the first demonstrator targeted\n", "should be ready in the coming weeks", "\n", "moveit_ros is in progress (moveit_kinematics)", "tf2 needs further work", "moveit_kinematics\n", "KDL issues, asked for support", "\n", "CI\n", "some conflicts in OS X after recent commits, needs further work", "integrate rosdep into the build system (currently avoiding it due to documented issues)", "built from ROS-Industrial CI fork from ros-planning, diverged to accelerate development", "\n", "Unit tests\n", "variety of related packages required unit tests ported, see ", "\n", "Trying to get ROS 2 core modifications upstream (e.g. ", " or ", ")", "\n", "\n", "PickNik (funded by Acutronic Robotics)\n", "Supporting with community integration", "Trying to reproduce existing work, unsuccessful so far", "\n", "\n", "\n", "\n", "Hardware CI\n", "Discuss ideas about using HTC Vive sensors to create a hardware setup that allows to bring CI to hardware", "\n", "Real-time motion planners\n", "Discussion about existing solutions (RTR)", "Discussion about new opportunities ", "\n", "\n", "ROSCon workshop\n", "Some interest raised, to be further discussed in the next call", "\n", "Requests\n", "\n", "\n", "\n", "\n", "\n", " (OS X and Linux)", "\n", "\n", "\n", "\n", "\n", "\n", "\n"], "url": "https://discourse.ros.org/t/manipulation-wg-friday-3rd-of-may-17-00-cet-9am-pdt-1am-jst/8862"},
{"title": "ROS2 usb_cam, imgui, image manipulation nodes", "thread_contents": ["I\u2019ve spent some time over the past few weeks learning ros2 and converting a few ros1 nodes to ros2 bouncy- so far at only a superficial level:", " usb_cam (which would more accurately be called v4l2_cam and have less confusion with uvc_cam). Camera parameter setting was offloaded to v4l2ucp below.", "It would be nice to push this as a branch into ros-drivers/ros2-drivers.", "I wonder if the sort of user & application integrating a webcam is not interested ros2 at this point? I haven\u2019t touched uvc_camera in a while but I could try converting that next if there are advantages (image format conversion is easier?).", " v4l2ucp is based on the non-ros v4l2ucp utility but here is a non-gui ros interface to v4l devices that can alter settings like exposure or contrast on the same device being used by usb_cam (or any other software using a /dev/video).", " - ROS UI using imgui ", " \u2018Bloat-free Immediate Mode Graphical User interface for C++ with minimal dependencies\u2019. Currently it can display std_msgs topic values and simple plots, and images, and publish to same std_msgs with slider controls- all of which are created via service calls. The resting cpu usage is higher than a native gui but it ought to scale better for lots of graphics (especially 3D graphics later) and changing values. I\u2019m currently using the SDL2 + OpenGL3 backend but could separate that out so any backend could be integrated.", "I\u2019d really like to eventually develop node graph viewing or even editing like in ", " .", "For use with v4l2ucp there is a script that reads parameters set for the type, min, & max of each parameter the v4l device supports (probably should make them delivered in response to a service call instead) and then calls the imgui_ros service call to create a slider or dropdown menu to change the parameter via a topic (though ros parameters instead of topics probably are better for this).", "iir_image - subscribe to a number of image topics and combine them with parameter coefficients (e.g. 0.5 * image_0 + 0.5 * image_1). Or instead of multiple topics keep a buffer of received image on one topic and use the coefficients to combine the current image with images from the past.", "roto_zoom - rotate and scale an image.", "save_image - save a sequence of images with a parameter defined prefix and add a node start time timestamp and a sequence number to the file name. Capture all images received or only 1 when a trigger message is received.", "resize - resize image and add vertical or horizontal black bars (letterbox) if the output size aspect ratio is different than input.", "The launch files use argparse to get command line parameters into yaml files in /tmp/ for loading by ros2 nodes:", "Some notes on using and converting ros1 to ros2 bouncy are here ", " - there is too much to follow up on immediately as I encounter it, anything without a good workaround I\u2019ll probably get back to later especially if it hasn\u2019t been addressed in crystal.", "To quote your gist:", "The intent is to develop/learn how to convert ros1 packages first along with the entire workflow of building and debugging and deploying and then take advantage of ros2 features.", "Would you say what you have so far is mostly the first part (learning ROS2 workflow, etc.)? Do you have an idea regarding what you\u2019d like to do in order to take advantage of ROS2 features?", "Would you say what you have so far is mostly the first part (learning ROS2 workflow, etc.)?", "I\u2019ve gotten to where I can be productive building basic systems involving image processing, topics, services, parameters and user i/o without much slowing down to figure out basics, and haven\u2019t encountered anything insurmountable that would result in deferring adopting ros2 until the next release or spending a lot of time diving into the underlying ros2 libraries.", "Do you have an idea regarding what you\u2019d like to do in order to take advantage of ROS2 features?", "The composition of nodes into processes and minimization of copies would come first.  After that the communication profiles.  I expect to run into performance issues with my current minimal functionality approach that will drive those, though it\u2019s possible performance issues that could be solved with unused ros2 features will cause odd behavior and inexplicable failures- and the tools to determine that either don\u2019t exist yet or aren\u2019t sufficiently disseminated.", "Hey, there.", "I\u2019m also looking for usb_cam package for ROS2.", "Any chance to find maintainers and create ros2 branch? Taking into account at least two community attempts to create ros2 version (this one and from ", ")", "Thanks, Roma", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-usb-cam-imgui-image-manipulation-nodes/6894"},
{"title": "Keys in msg", "thread_contents": ["Most of the DDS vendors support the idea of a primary key in their message structures. Have we discussed enabling that from the ROS msg format? What are the issues here? A \u201ckey\u201d keyword seems fairly straightforward.", "We\u2019ve discussed it before, but it\u2019s largely seen as overlapping in functionality with topic namespaces.", "If you have a use case that is made possible with keys, then that would be interesting to hear about it.", "However, there are quite a few little details for implementing the key field which are not straightforward to me, like:", "Probably other things I cannot even think of now. So unless there is a big use case which is not possible with namespaced topics, I think we\u2019d probably not expose it.", "I just found this discussion when looking for keyed topic support.  At Houston Mechatronics we have been using a long ago branched version of ROS2.  We are now moving to Ardent and saw that keys still aren\u2019t there.  We use keys for several different things.  One of the things we have implemented is a parameter server purely in DDS which uses keyed topics so there is only one Parameter topic.  The key is the name of the parameter and the value is in the other part of the topic data.  This gives us great flexibility with the underlying DDS software because it handles the history.  If I put my history at keeping only 1 the DDS vendor software we are using (RTI) will intelligently give me the last of each instance of the key.  I only need to worry about one topic, but I can get all of the latest values and nothing else.", "RTI at least has suggested using keyed topics as one of the primary ways to efficiently use DDS in numerous parts of our system.  We\u2019ve had to fork rosidl and rosidl_dds to have this DDS feature on our end.  It supports the RTI version of keys in IDLs, but something similar could likely be extended for the other vendor solutions if they differ.", "Using keys for this use case has one drawback. Keys are not \u201cintrospectable\u201d without receiving the actual data. You can\u2019t answer the question what parameters exists - without actually receiving all the parameter values first.", "So if you would like to implement a user interface which should show the name of all parameters you can\u2019t do that efficiently. Imagine some parameters contain large data but the user only wants to see the names of all parameters and then decides to get only the \u201csmall\u201d value of one of the parameters.", "We\u2019ve been talking at length to RTI about this topic as well as some of the other vendors, and they suggested two concrete ways of using keys in ROS 2:", "For the first point, I think we decided that this would be very difficult to do correctly and efficiently. There are a lot of technical points as to why, but ", " alluded to one which is that keys are not part of discovery, so something like ", " becomes a lot less useful.", "In the end, we imagined a new feature that DDS could have which provides the performance benefits of ", " which you get when using keyed fields on a topic, but without having to have the key itself in the message definition. This new kind of key is something between keys and partitions, or another imperfect analogy is partitions which create instances. This is by no means a sure thing to happen, and even if it did we\u2019d have to wait on the DDS standard to add it and adopt it. But what I took away from it is that: keys are not ideal in all cases and we would love to use instances to reduce overhead and discovery traffic but not at the expense of requiring key fields in our messages.", "For the second point, there\u2019s no reason (as long as we\u2019re not using keys under the hood) that we could not allow users to use keys in their own way, perhaps in the way you described. The only hesitation we had was that this is a sophisticated feature, which really ties our API to DDS much more strongly. To be clear, we don\u2019t intend to support anything other than DDS for the foreseeable future, but we did take a lot of care to insulate our robot specific code from the communication system underneath. Perhaps this is not a realistic abstraction, but in our reference implementation of ROS 2 we\u2019re trying to provide it. Therefore, we\u2019re (or at least I am) wary of taking more and more complicated features into our middleware abstraction layer (rmw, see: ", "). It\u2019s not a deal breaker for key fields as a feature of ROS 2, but a consideration we have.", "To disagree or correct my self, I previously said:", "So unless there is a big use case which is not possible with namespaced topics, I think we\u2019d probably not expose it.", "I can now express a use case where keys would be much more efficient, which is the case of the parameter events topic.", "I\u2019m speaking here about parameters as described for ROS 2, see: ", ", where they are decentralized and owned by nodes, and there is no \u201cspecial\u201d centralized parameter server. Global parameters are realized with a node that has a conventional name (like ", ") and accepts all changes.", "So, every node publishes to the \u201cparameter event topic\u201d anytime a parameter it owns is changed (", "), then a tool can subscribe to the topic and monitor all changes to the parameter system.", "Now, this could either be \u201cevery node publishes to the same ", " topic\u201d or \u201cevery node publishes to its own ", " topic\u201d. The benefit of the first is that a tool that wants to monitor all changes only needs to subscribe to one topic (this is the same use case as ", ", many producers, one consumer of all producers). However, if you want to monitor one node, or only a few nodes, then you need to receive all the data and discard what you don\u2019t want, which is inefficient. For that use case, the second option is better, since you can subscribe to only the nodes you want to monitor, but is very inefficient if you want to monitor them all, because you need to subscribe to N topics, where N is the number of nodes with parameters.", "This is a perfect case where keys are optimal, because it gives granularity but also efficiency when doing a mass subscription. However, I think simply exposing the keyed fields feature would allow us to do this, we don\u2019t need to put it under the hood of our namespaced topics. Also, after thinking about it a lot, and looking for common patterns in ROS 1 which would benefit from keys, I come up with very few. Some of them are important, but I don\u2019t get the feeling that it would be a feature that could be applied all over the place to strict benefit. But that last part is just my opinion.", "I agree changing other ROS features to use keyed topics is a much larger undertaking.  The only thing we are specifically looking for is the ability to create a msg file which will cause them to be generated at this point.  RTI\u2019s implementation looks for the (@)key at the end of the line, so realistically just passing along comments from a msg file to the IDL would make this work.  For example, our msg file is below:", "string<=512 key #//(@)key", "\nstring<=512 value", "We made an update to basically pass this along so the IDL file now includes the following:", "struct Parameter_", "\n{", "};  // struct Parameter_", "This obviously doesn\u2019t solve the problems with discovery that ", " mentioned, but it allows the global parameter setup ", " mentioned, which is how we are using it.", "Dragging up an old thread, but I was curious about this part of your reply ", ":", "Now, this could either be \u201cevery node publishes to the same ", " topic\u201d or \u201cevery node publishes to its own ", " topic\u201d. The benefit of the first is that a tool that wants to monitor all changes only needs to subscribe to one topic (this is the same use case as ", ", many producers, one consumer of all producers). However, if you want to monitor one node, or only a few nodes, then you need to receive all the data and discard what you don\u2019t want, which is inefficient. For that use case, the second option is better, since you can subscribe to only the nodes you want to monitor, but is very inefficient if you want to monitor them all, because you need to subscribe to N topics, where N is the number of nodes with parameters.", "Without using keys, would this (ie: individual topics vs single topic with client-side filtering) not be something that could be worked-around (almost) by using content-based subscriptions?", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["each vendor has its own way of defining them", "dealing with key fields in nested messages", "use of them has to be made visible from all of the ROS tools", "using keys implicitly under the hood to make our topics which have namespaces more efficient (sharing data readers and writers between otherwise unrelated subscriptions and publishers)", "exposing the feature to users like yourself so you can choose to use keys in specific situations"], "url": "https://discourse.ros.org/t/keys-in-msg/1942"},
{"title": "ROS Action / Parameter Bridge", "thread_contents": ["just want to here opinions and comments on this topic from everyone.", "ROS2 does not have parameter server, which is different architecture from ROS1 that parameter combined with individual nodes. that is totally fine, but what im considering is we need parameter bridge or not? i guess that there would be some time window to support ROS1 and ROS2 hybrid system. at that time, maybe parameter bridge would be required. and if this is common request, that there should be some module to do that.", "besides about the actions bridge, this would be also required as well. (BTW, actions just coming up with \u201cDashing\u201d)", "I really like to hear opinions about this, so please share what you think. any idea/comments will do good.", "thanks", "We at Fraunhofer IPA, have a proposal for an action_bridge.", "Feedback and PRs are welcome.", "If ros2 lacks a parameter server then be sure to write your parameter bridge carefully as it will become the defacto ros2 parameter server and have a long life.  It will not be a temporary thing.     Temporary solutions like this tend to not be temporary if they fill a need", "ROS2 does not have parameter server", "While ROS 2 doesn\u2019t provide an official parameter server replacement any node can provide that functionality. A demo of such a node is being proposed in ", "BTW, actions just coming up with \u201cDashing\u201d", "Actions have already been available in Crystal, see past announcements:", "alright, let\u2019s discuss action_bridge on ", ".", "\nsorry i was missing the information,  that is Crystal.", "\nanyway i will look into ", ".", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["C / C++ (", ")", "Python (", ")"], "url": "https://discourse.ros.org/t/ros-action-parameter-bridge/9102"},
{"title": "ROS2 Navigation - Input requested", "thread_contents": ["Hello ROS and ROS2 users and developers! I have been in discussion with David Lu and have reached out to OSRF to start an effort to develop the ROS2 Navigation stack. We are currently investigating the needs for the next-generation Navigation stack in ROS2.", "I\u2019d like to invite you to reply with things that:", "I have my own wish list but I don\u2019t want to seed the discussion, I want to hear other users thoughts.", "Also, if you are an active community member and want to be involved in the development effort, please let us know that also. We have a small team right now, but desire to do this in the open with community involvement.", "How to be involved in the development ?", "Happy to know this kickoff. ", "Per my experience of using ROS Navigation Stack, I would like to add below items into the wish list:", "Thanks for the feedback, a couple questions.", "Peter, I sent you an email, we can talk offline", "This is a rather ambitious list, and perhaps some of the navigation tasks applicable to these maps types may be too domain specific, but I\u2019ll just float some far ideas here:", "I suppose I\u2019d like to see navigation planners that could interoperate map format types that are more memory efficient, compressible, dynamic, human relatable, e.g. less pruly metric based like voxels or occupancy grids. I\u2019d also to see ROS navigation planners generalize beyond the classic 2.5D mobile robot on a planer workspaces or perhaps appropriate other environment data in a map as navigational heuristics like for packbots, quadrotors, ROVs that climb, fly or swim in 6DoF.", "Any dedicated Discourse/Slack or other mean for getting involved ??", "One of the main frustration I experienced with ROS nav stack is the lack of flexibility (e.g. ", " inner state machine) that eventually got partially addressed by the community later on - e.g. ", " let you use the state-machine of your choice under the hood.", "\nSimilarly, as it has been mentioned already, the possibility to use other types of map representation would be awesome.", "I\u2019m interested in a similar desire to extend the typical map layers into more semantic meanings. Would add wifi, ble beacons and other rf land marks to the annotated affordances idea mentioned be ", "I haven\u2019t used the navigation stack, but I understood David Lu to say at the last ROSCon that it doesn\u2019t support Ackermann-steered vehicles. That is an important use case.", "I agree with ", ", decouping the move_base in separate modules in a state machine would greatly improve its flexibility.", "Regarding features, a nice little thing to have IMO would be to be able to pass the goal tolerance (xy and yaw) in the goal message to move base.", "Ok, let me see\u2026", "Things to keep about the current navigation stack:", "Things that I will change:", "\nPlease, correct me if I am wrong. Right now, if you want to use your own planner (local or global), you have to use the C++ API. The class that you provided was extremely convenient to minimize the flow of information and speed up the full Navigation Stack work.", "\nHowever, ROS2 should be more efficient while handling messages right? Is it fast enough to deal with the idea of using a node for each planner? This node could receive all the information throw messages or is too much?", "\nIf this is the case, we should study the possibility of detaching the nav_core and the planners.", "\nMaybe the community will be more comfortable with a publish/subscribing paradigm. Is just a thought, but this will make everything even more modular right?", "Is the navigation stack too dependent on the position or is just my impression? If the robot does not start in his position, everything goes really crazy. The local planner and the local cost map can be more independent of the positioning system, right? Is a bad configuration of my navigation or is like that?", "Things that I will add:", "\nA simple system that tracks common problems. E.g: Hey, I am waiting for a map and it is not coming! Hey, I am sending cmd_vel commands but the position does not change! Things like that.", "A simple undocking algorithm; I do not want my robot to move backward unless a recovery behavior specifies so.  A tiny algorithm at the beginning that moves the robot backward x meters could be handy. Moreover, this can be attached to a simple boolean topic. There, a sensor can publish if the robot is at the docking station or not. If the robot is at the docker, you execute the undocking before moving, if not, just move as usual.", "+1 to the idea of specifying the goal tolerance.", "I\u2019m not an expert navigation researcher but I am a user and an experimenter.", "For me, the biggest desire is for navstack2 to be a navigation framework built using ROS2 principles rather than a monolithic navigation solution, as it is in ROS1. This means defining the separate components (local planner, global planner, local map probider, global map provider, planner supporters such as costmap providers, rescuers, path follower, and so on), defining the interfaces between them, and specifying those as ROS2 messages, services and actions. We should be able to say \u201ca node (or set of nodes) that provides a global planner compatible with navstack2 should publish/subscribe/use these topics, services and actions and provide these parameters, at a minimum\u201d. The key thing here becomes defining the APIs between the different parts of the navigation stack.", "Navstack2 should take advantage of the capabilities of ROS 2 to make things nodes but then keep them in the same process so that message passing is nearly cost-free.", "Being possible to specify via a configuration file what the global planner is, what the local planner is, etc. would also be possible. This is to have it not just be a bunch of nodes with defined interfaces, but be more of a framework where it is simple to build a complete navigation stack without feeling like you are plugging things together manually.", "If we do this, then we can achieve the goal of allowing different planners to be plugged in, etc. that is frequently stated in this thread.", "It will also ensure that it is inherently easy to introspect the internal navigation process, because we can intercept all the messages flying around between the different parts.", "Building on this, navstack2 should then provide a default configuration that provides an equivalent or better navigation functionality to the ROS1 navigation stack.", "As someone who has a strong desire to participate but is something like 1000% over-committed in time, I would also like to see a central place where I can comment on design decisions and implementation choices made when I have time, without losing track of where everything is. Please make a github project so we can make issues and discuss them, if you haven\u2019t already.", "A simple undocking algorithm", "I think this is too application-dependent. But, it should be ", " easy make things like this default behaviour for your robot in navstack2.", "wow,  very detailed, and right, it\u2019s what I meant\u2026 ", "All, thanks for the input so far, keep it coming!", "A few comments.", "Keep the feedback coming!", "To enable autonomous navigation, you have to allow the robots to sense the environment around to create its map and enable collision avoidance, In other words, sensor data input to any algorithm is important.", "\nNow there are various sensor solutions serving for this purpose, for example, Sonar, Lidar, MMW, Vision and so on they serves different preference and it\u2019s possible to sensor fusion with them in the real autonomous navigation. Free to think ROS2 navigation can consider more:", "Late to the party, but here\u2019s my $0.02.  Generally, +1 to all of Geoff Biggs\u2019 coimments.  I\u2019d like to see:", "I\u2019d be interested in having our group here at Oregon State help with some of this, depending on where it goes.", "cheers", "\u2013 Bill", "Not really a navigation stack user myself, so just passing by, but I was surprised ", " wasn\u2019t / isn\u2019t mentioned more. Only ", " mentioned it once earlier in this thread.", "From the ", " at ROSCon and ", " it seems it\u2019s gone into the direction that ", ", ", " and some others sketch:", "Move Base Flex (MBF) is a backwards-compatible replacement for move_base. MBF can use existing plugins for move_base, and provides an enhanced version of the planner, controller and recovery plugin ROS interfaces. It exposes action servers for planning, controlling and recovering, providing detailed information of the current state and the plugin\u2019s feedback. An external executive logic can use MBF and its actions to perform smart and flexible navigation strategies. Furthermore, MBF enables the use of other map representations, e.g. meshes or grid_map This package is a meta package and refers to the Move Base Flex stack packages.The abstract core of MBF \u2013 without any binding to a map representation \u2013 is represented by the ", " and the ", ". For navigation on costmaps see ", " and ", ".", "Would seem to be a good idea to get some input from its maintainers (", " et al.).", "Yes, I was overjoyed when I saw ", " announced at ROSCon last year. I consider it a ", " step in the direction I want to see the navigation stack go. I haven\u2019t had time to try it out myself yet, but I agree with ", " that any effort to develop a new navstack for ROS2 should consider it the biggest input into design.", "Hi all,", "\nWe\u2019ve created a repo for the ROS2 Navigation project here:", "\n", "ROS2 Navigation. Contribute to ros-planning/navigation2 development by creating an account on GitHub.", "\n", "We\u2019re going to collect all design inputs, here, starting with high level use cases and requirements:", "\n", "Please submit your use cases and requirements via pull requests so we can have design discussions there.", "Thanks,", "\nMatt", "A bit late, but I figured I would chime in (having been a maintainer of the navigation stack for going on 5 years now).", "First, I concur with the several comments about better modularity. I\u2019d almost suggest that the ROS2 navigation stack shouldn\u2019t include any planners in the main repo (as is the case with MoveIt). There have been several newer (and probably better) planners developed \u2013 but users assume they should use only the \u201cdefault\u201d planners. At the same time, maintaining a code base that includes \u201call the planners\u201d is just not feasible. Having better modularity, and having things like local and global planners exist in other repos, makes it far easier to have more maintainers involved, and for development to proceed quicker (if you don\u2019t like planner X, go write and release planner Y).", "While splitting those things out to other repos, I would suggest providing some basic/core code to build planners on. At some point a Willow Garage intern started to refactor base_local_planner in that direction \u2013 but it was never really finished.", "On the subject of 2d/3d \u2013 I think there is a fine balance to walk here. While most research is pushing more in the 3d direction, commercialization tends to push towards cheaper/smaller processing power \u2013 and some of the optimization in terms of 2d/2.5d in the navigation stack is important here. While a full 3d mode is awesome, requiring the whole system to always act as 6Dof pose + 3d terrain may make it unusable on smaller platforms like Turtlebot.", "With regards to not being monolithic \u2013 I think this will be a serious challenge. One of the things that ROS1 does a really poor job of is synchronizing the operations in multiple nodes. I\u2019m not sure how much ROS2 really helps in that regard.", "But here\u2019s my most important feedback: we need better testing. One of the reasons we have a hard time merging things in the current navigation stack is that there is just almost NO test code (similar issues with MoveIt). I have spent an enormous amount of time physically testing code in simulation or on real robots to try and be sure something contributed works \u2013 only to find out that it actually breaks some particular feature that someone was using. If you\u2019re going to largely overhaul/rewrite things \u2013 do it in a test-driven way, and make sure those tests are meaningful so that the system can actually be maintained.", "Has anyone looked at what other ROS2 dependencies are missing? AFAIK, there is no equivalent of actionlib yet (which is probably a pre-req to actually building most robot applications in ROS2). I\u2019m also not sure the status of things like parameter management or dynamic reconfigure (highly required for people to actually tune a navigation setup in a reasonable amount of time).", "-Fergs", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["You like about the current ROS Navigation stack and would like to see kept the same (or equivalent functionality)", "Things you think can be improved on and would like to see done differently, aka. your wish list", "make a more flexible mechanism for plugin implementations, especially for recovery plugins.", "Support multi-thread and heterogeneous computing", "Adopt AI gene (e.g. Reinforcement learning) into path planning and collision avoidance.", "Support more map types", "it\u2019s better to support 3D path planning and CA", "I think you mean AI Gym, right? If so, are you aware of the ", " project? I have been using it for some RL work in this space. I believe it could be ported to ROS2 fairly easily also.", "What map types are you thinking in particular? Google Maps? Non-2D occupation grid maps?", "3D is on my wish list too, for applications like drones.", "What map types are you thinking in particular? Google Maps? Non-2D occupation grid maps?", "Semantically oriented Maps\n", "Indexed Points of Interest\n", "rondevu points", "moving goals", "\n", "Labeled region boundaries\n", "property borders", "tolls or crossing costs", "exclusion zones", "\n", "Annotated Affordances\n", "Doos, Elevators, Appliances, Chargers", "Departments, Faculties", "\n", "\n", "Vector Maps\n", "Floor plans or 3D scale models\n", "Google maps/earth", "Architectural blueprints", "\n", "Roadways maps\n", "Turning lanes, intersections, crosswalks, etc", "Congestion, Traffic density", "\n", "\n", "Geo Maps\n", "Topological\n", "Elevation and grade", "Underwater terrain", "\n", "Weather\n", "wind and tide velocities", "Dynamic time series forecasts", "\n", "Approximate at scale\n", "WGS84 vs local cartesian", "Alternate ", "\n", "\n", "\n", "All the dynamic reconfigure for sure.", "All the representations in rviz (necessary for tunning as well)", "I will keep the algorithms that are currently implemented in ROS1, if possible with the same parameters. This will make the transition smooth.", "I plan to create a ", " repo for this (hopefully under ", " namepace, working on that), and will start capturing the wish list items and requirements, as well as documenting design decisions, etc. This thread is just the primer for that.", "The many different types of maps requested, to me means we need a more abstract data type for maps, that can represent many different types of maps that might be inputs to the system. I\u2019m not sure what that will be exactly yet, but to me, this illustrates that we need to decouple the map type as much as possible from the system.", "I also agree on the use of ROS2 nodes for the low level plug-ins like global and local planning. That will improve decoupling and make it easier to replace those components with other algorithms, and will also ease the debug effort as pointed out before. We can do this using shared memory pointer passing so that the performance overhead is small.", "general flexibility to smoothly use their output in different phase of autonomous navigation", "how to adapt their combination or sensor fusion well while engaging with ros2 navigation stack", "consideration to certain solution with upcoming trend or innovation to extend, for example, for vision based, it may not require to create map firstly to navigation in the future.", "More pluggability in the elements of the nav stack, and the ability to hot-swap implementations.", "A common API that will allow people to add their own underlying representations.", "The ability to handle time.  I\u2019ve been toying with the idea of a map that changes throughout the day (as corridors become congested, and such), so the ability to integrate this into the system would be important to me as a specific use case.", "The ability to run more than one algorithm at a time, compare the results and mux them.  This is important for localization, where it can be used to compare the performance of two algorithms, or to use different algorithms at different time.", "Factoring things up as finely as possible.  As Geoff pointed out, this should be more lightweight in ROS2", "Ability to develop in Python or C++.", "Use floats or doubles as the underlying representation, not some fixed-point hack.  Actually, it might be nice to use arbitrary underlying representations (of probabilities).", "Some more modern algorithms from the literature.", "Being able to swap maps in and out of core seamlessly, so that I don\u2019t have to keep all of campus in memory at the same time.", "Multiple floors in a building.  Hybrids to let me get from one building to another."], "url": "https://discourse.ros.org/t/ros2-navigation-input-requested/4884"},
{"title": "How to run example talker/listener on 2 machines with different ipaddr?", "thread_contents": ["I like have a try on topic publish/subscribe across a ip network, where can I get a example or instructions for such case? thanks.", "Hi ", "ROS2 (and more precisely DDS) uses UDP multicast to communicate the metadata allowing different node to discover each other and establish communication.", "\nAdditionaly DDS allows you to specify a domain ID that is a logical barrier to segregate networks.", "If your two machines are on the same network and your network configuration allows UDP multicast communication you should be able to run talker/listener across machines by running:", "\nOn machine 1:", "On machine 2:", "If you don\u2019t want to interfere with other DDS systems on the same network you can set a domain ID, the domain ID is a number between 0 and 255, I\u2019ll use 42 in the following example:", "\nOn machine 1:", "On machine 2:", "Got it, thanks a  lot.", "Hi, marguedas", "I\u2019m trying the similar thing, to get ros2_talker in my host to send messages to ros2_listener in virtualbox.", "\nHost: macOS, using ROS2_beta1", "\nVBox: Lubuntu16.04, using ROS2_beta2", "I used the \u201cBridged\u201d network setup on VBox and I was able to ping them on both sides.", "\nI tried export ROS_DOMAIN_ID=42, but it doesn\u2019t seem to be working in my case. Do you have any ideas?", "many things have changed \u201cunder the hood\u201d between beta1 and beta2 so it is expected that they don\u2019t communicate out-of-the-box. Please try using beta2 on both machines and see if that fixes it.", "Hi dhood,", "Thank you. Beta2 on both sides works!", "Sorry if I understood it wrong but by exporting the ROS_DOMAIN_ID, does that mean we can run talker and listener on 2 different machines with different networks ?", "Or in any case, the network has to be the same with enabled UDP multicasting  ?", "All the machines that will be talking to each other must satisfy two constraints.  First, they must all be within the same multicast domain on your network.  This is a network setup issue and not strictly a ROS thing.  If you don\u2019t know how to do that, an alternative is to define the unicast addresses of all the computers that need to communicate with each other in an XML file placed in the directory from which you run the \u201cros2\u201d command.", "Secondly, then they must have the same ROS_DOMAIN_ID.  The ROS_DOMAIN_ID is used to segment the network multicast domain into smaller communities that are allowed to talk to each other.", "I think auto find mechanism should be closed if no ROS_DOMAIN_ID is set.", "can we connect the ros1 system with ros2 system and vice-versa like this\u2026", "replying to old message,", "\nyou can do it via ", ", if you want to your own msg/srv, you need to build your ros1_bridge. all things considered, you could just take a look at it.", "thanks", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/how-to-run-example-talker-listener-on-2-machines-with-different-ipaddr/2106"},
{"title": "Static analysis of open source ROS2 C++ packages", "thread_contents": ["Is it planned to statically analyze the ROS2 C++ core code base like done for ROS1 ", " and ", "? Is ", " suggested for static analysis of open source ROS2 C++ packages? Or do you suggest to use other (alternative or complementary) tools out there?", "ROS 2 supports various linters, e.g. also ", ". Those can be run on every build an therefore provide a timely and continuous feedback.", "Coverity on the other can currently not be triggered automatically. A one time analysis is only of limited value. But if someone would automate the process that would be very helpful.", "I\u2019ve also been playing around with using clang static analysis locally.  It should be possible to automate the scanning and integrate reporting into CI, but it will take some effort.", "ROS 2 supports various linters, e.g. also cppcheck. Those can be run on every build an therefore provide a timely and continuous feedback.", "You mean the ", ", right?", "Coverity on the other can currently not be triggered automatically. A one time analysis is only of limited value. But if someone would automate the process that would be very helpful.", "Absolutely, the faster the feedback loop the better. (The only thing you are missing in comparison to an IDE integration of tools is immediate feedback for effective learning how to code without introducing defects.)", "You mean the ament_lint integrations, right?", "Yes.", "The only thing you are missing in comparison to an IDE integration of tools is immediate feedback for effective learning how to code without introducing defects.", "Since the linters used in ROS 2 are commonly existing tools (potentially only with a custom configuration file) you should be able to configure them in your IDE of choice. I am using e.g. the majority of the linters in Atom to get immediate feedback which is as you mentioned immensely useful.", "Since the linters used in ROS 2 are commonly existing tools (potentially only with a custom configuration file) you should be able to configure them in your IDE of choice. I am using e.g. the majority of the linters in Atom to get immediate feedback which is as you mentioned immensely useful.", "At the moment Atom is my choice as well. I integrate it and try to find some time to write a few lines about integration into the ", ".", "Did this ever happen?  That is, was or has a Static Analysis ever been run on ROS 2?  If so, what are the results so far?  Are folks happy with them?   Is dynamic/coverage and other analysis also planned?  Thanks.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/static-analysis-of-open-source-ros2-c-packages/3577"},
{"title": "Questioning the .launch.py file extension", "thread_contents": [" Presented the new Python-based launch files at ROSCon.", "I really like the idea of using Python as a configuration/launcher language. In fact, we have also done this in the ", " project for both configuration and launch files.", "However, what I want to question is the ", " file extension.", "Why? Python forbids adding dots in the name of a module (see ", "). Therefore, it isn\u2019t possible to use files with extra dots in the name as if they are Python modules.", "Of course, our launch file is not a Python module per default. However, it\u2019s very likely that the launch files will be used to build modular setups. Therefore, the launch file should be treated as a normal Python module.", "As a software engineer, I want to be able to test my code, this includes launch files. But it turns out quickly that this is a lot harder to do when a module can\u2019t be imported the \u201cnormal\u201d way via ", ". Other Python development tools might choke (or throw warnings) as well on the non-standard file extension.", "One workaround is to use ", ". But I argue that this adds unnecessary complexity to the setup.", "Therefore, I would like to propose to use a different method for identifying launch Python files such as for example using ", " in the name.", "I was trying to approximate the ", " extension that we had in ROS 1 (which would have contained XML). When people wanted to compose a launch file out of XML files they would use ", " for the parts, indicating that the ", " files were actually viable entry points for launching.", "The ", " was a way to imply it was both an entry point and clue editors to the markup of the contents. It is currently completely optional and is only considered with tab-completion.", "I had imagined that people who wanted to unit test their python code used in launch files would place testable code in ", " files and have a single ", " that uses the code in the ", " files to return the launch description. I have also imagined that if you wanted to do an integration test where you actually instantiate the launch file for introspection or launching you\u2019d do that with the ", " API (which handles imports for you).", "For general purpose composition (a launch file including another launch file) that can (and probably should be) done with the ", " action in launch.", "To alleviate other use cases we could expose the ", " logic used in launch itself to handle the ", " suffix.", "That all being said, while I prefer the aesthetics of ", ", I would be fine with canonicalizing ", " or something else and I\u2019m interested in hearing from others on the topic.", "Good point.  Ability to embed as a python module should be considered in the file name syntax, otherwise you\u2019ll have to un-natural things.", "Just my 2 cents but I agree with ", ". We\u2019re using the \u201c_launch\u201d naming in Navigation2 because of this.", "Thank you for the explanation.", "Using ", " or to implement the code to test inside a Python module is indeed possible.", "However, I still prefer the ", " suffix, since this would conform to pep naming and enable unit tests without creating additional Python modules.", "I would also be interested to hear from users that moving from ROS1 to ROS2 if the ", " syntax feels unnatural compared to ", " or the other way around.", "I would also be interested to hear from users that moving from ROS1 to ROS2 if the ", " syntax feels unnatural compared to ", " or the other way around.", "If anyone has an opinion about this please speak up.", "In the meantime, I\u2019d say feel free to use ", " and we can add it as a cue for tab-completion as well.", "Finally, the only thing to decide is which extension to recommend in our documentation and tutorials.", "For general purpose composition (a launch file including another launch file) that can (and probably should be) done with the ", " action in launch.", "Is there a current working example of this we can look at and try out?", "\nI\u2019d like to see how this all fits with composition of launch files.", "To me conforming to PEP naming is a pretty strong argument, so I\u2019d suggest to use ", " also in documentation and tutorials.", "When the naming is being decided it should also be considered how to name launch files used for testing (named ", " in ROS 1).", "I always wondered why they have a different naming compared to standard ", " files.", "That\u2019s useful for tab completion, among other things. You usually don\u2019t want the test files to show up during autocomplete.", "In the meantime, I\u2019d say feel free to use ", " and we can add it as a cue for tab-completion as well.", " - when will this be added to launch?", "I have no plan to do so, just because I don\u2019t have time, but in my opinion a pull request to also support ", " would be accepted.", "I just submitted a PR for this that is now merged:", "\n", "\n", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/questioning-the-launch-py-file-extension/6352"},
{"title": "ROS2 Security Working Group Online Meeting - May 15th, 2019 between 9AM and 10AM PDT (UTC-7)", "thread_contents": ["Hi everyone,", "We are planning to hold the next ROS 2 Security Working group meeting on  ", "  .", "Please suggest topics for the next meeting by commenting on this thread.", "You have been invited to an online meeting, powered by Amazon Chime.", "TBD", "For the majority of meetings over the past year, we\u2019ve been quite engrossed in threat modeling, vulnerability disclosures, cybersecurity impacts on safety; the byproducts of which have really helped hammer out a nice and extensive threat model document! Still, much of the specifics thus far haven\u2019t really been very ROS2 specific, nor to robotic software in general given most of the tech industry at large has been grappling with the same security ramifications of distributed computing and cyber physical systems for many years.", "If the main objective for this is to document modern security hygiene and inform our community on adopting best practices, I\u2019d recommend we focus on curating/indexing existing references and external resources for educating ROS users on cyber security topics, while merely highlighting/footnoting the divergent requirements and security strategies specific to robotic domains that uniquely distinguishes itself from traditional cloud networks and IoT infrastructures. It\u2019s just that there is so much expert literature and specialized counsel already accessible about secure computing/networking. So hashing out the same general material is perhaps not as productive as compared to narrowing our scope to topics particular to robotics or merely just ROS2.", "On that note, I\u2019d like propose allocating a bit of of the agenda during the ", " security working group for SROS2. Having received several PMs and emails from eager individuals and organizations looking for ways to contribute to SROS2, and to better delegate TODO items, I want to coordinate with the rest of the working group on polishing some ideas and leverage the expertise other developers. I\u2019ve been carving out a few orthogonal areas for development, giving high level overviews on potential features, including motivations, previous approaches, as well as existing challenges. To link some of them here:", "Thanks Ruffin, I updated the agenda with your proposal.", "\nThere is no other item to be discussed tomorrow so far so we may have a meeting shorter than usual.", "Thanks Ruffin for bringing up sros2 to the agenda. I will unfortunately be unable to attend the meeting today. There are a couple extra SROS2 action items that could be interesting to touch base on (maybe next meeting?) such as automated testing of security features, documentation, development practices and granularity in securing topics (e.g. topic A should be encrypted, topic B should only be signed etc)", "+1 for the topics proposed by ", ". Acutronic Robotics is particularly interested in ", " and ", ".", "Sounds like both topics could fit nicely within the ", " section at ", "Thanks to everyone who attended today!", "During the meeting, we went through the different ideas and potential designs. Most of the content is captured in the tickets, but there was some additional questions / comments (see below).", "\n", "\n", "One challenge for this task is to define an appropriate strategy to bundle those files.", "What is ", " in the profile config files?", "\nThis is an AppArmor variable, expended to the ROS install directory. This is not e.g. an environment variable.", "Are profiles always read from the system?", "\nAdditional profiles can also be injected using CLI tools.", "\n", "\n", "Dropping OpenSSL could mean dropping support for third-party OpenSSL engines providing access to the keys in HSMs?", "\nPrivate keys could be flashed on HSMs by manufacturers.", "\n", "\n", "Subscribe to a secure logging topic with permissions issues, etc. Can be used to improve the policy.", "Is there any overlap between ROS 2 logging and DDS logging?", "\nActually not that much overlap, separation between application layer and transport layer is good to have.", "\n", "\n", "Having a tool similar to aa-genprof / aa-logprof in AppArmor world,", "\nThe application is audited first and a \u201ctemplate\u201d config file is generated by the tool, asking the", "\nuser to confirm if each rule is OK. It also can server as a \u201clinter\u201d / suggest improvements.", "\nWe could implement the same for DDS ACL policies.", "Could be implemented either using the DDS logging modules or by scraping DDS discovery information.", "There are also some idea about allowing ROS 2 nodes to declare IDLs containing the list of topics they public/subscribe to, actions, services, parameters, etc.", "Thomas: this would be interesting as it would allow us to run linting / static analysis on applications (are all IDLs compatible), add additional properties to topics like rate limitation and automate e2e testing up to a certain point (IDL declare this node listens to ", " , a test could be generated to check this is actually the case).", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["SROS2 improvements suggestions (", ")"], "url": "https://discourse.ros.org/t/ros2-security-working-group-online-meeting-may-15th-2019-between-9am-and-10am-pdt-utc-7/9011"},
{"title": "ROS_2 Launch XML Parser", "thread_contents": ["I had been working on developing a sort of translator for converting ROS 1 launch files into ROS 2 launch files, when I noticed that there was already a project partially underway for this. I would ", " to offer what I\u2019ve completed so far (since I\u2019ve gotten to the point that I can parse ROS 1 XML into a sort of abstract syntax tree), but I used a different language to implement it (F#).", "Is there any way that we can reconcile the work done in the two projects? Assuming that what I\u2019ve created is of use, of course.", "My parser can be found here: ", "\nThe ROS 2 issue is here: ", "Instead of trying to convert ROS 1 XML to ROS 2 Python code I would suggest to wait for the ", " to become available in ROS 2 and then consider converting from ROS 1 XML to ROS 2 XML (which should require only very little changes if any).", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros-2-launch-xml-parser/9049"},
{"title": "Introduce C++ Commandline Argument Parsing Library?", "thread_contents": ["I\u2019ve been writing a few apps in ", " - and found myself duplicating a lot of code for argument parsing to make the applications easy to use and understand. I am wondering if there\u2019s a generic need for a \u201crecommended/provided\u201d argument parser for C++ applications in the ROS2 stack. Something with the same ease of use as Python\u2019s ", "Two options I\u2019ve been considering:", "I personally prefer the second option, since it already exists, but I\u2019m not sure how one might go about adding such a dependency.", "Any thoughts or opinions on this?", "Specifically for the demos packages, I wonder if dog-fooding ROS parameters might be a better alternative. If they\u2019re inconvenient for us to use then we need to improve them more. Many of the demos were created before parameters were viable for this use case so maybe we should reevaluate them. This may not address all of the cases, however.", "Most likely we\u2019d still use arguments in a few places, so it wouldn\u2019t be terrible to have some go to library for that kind of thing. What we have now is just a stop gap measure.", "I\u2019d also prefer to bring in an external dependency, as long as it\u2019s not enormous (e.g. I would be wary about importing Boost just for Boost.program_options). I wouldn\u2019t implement something custom in ", " simply because there are so many small, focused libraries out there that do this already.", "As for how, if it\u2019s header only, we could put it in ", " (I\u2019ve \u201cvendored\u201d header only things like this before, e.g.: ", "). Otherwise, we\u2019d probably want to make it a separate vendor package, e.g. like ", ". If it has Ubuntu and Homebrew packages of the appropriate version we could use that and make a choco package for it.", "Specifically for the demos packages, I wonder if dog-fooding ROS parameters might be a better alternative.", "That\u2019s a good idea for this use case - but I also agree that", "Most likely we\u2019d still use arguments in a few places", "Sometimes they\u2019re just the best way to interact with commandline tools ", "As for how, if it\u2019s header only, we could put it in ", " (I\u2019ve \u201cvendored\u201d header only things like this before, e.g.:", "What are your thoughts on git submodules, vs. copying it in there? I do like the cxxopts library (and it\u2019s header-only), and it does seem like a popular alternative to Boost.program_options for those who don\u2019t want to invite Boost in.", "What are your thoughts on git submodules, vs. copying it in there? I do like the cxxopts library", "It should still be a separate vendor package (if it is not already packages across all targeted platforms).", "What are your thoughts on git submodules, vs. copying it in there? I do like the cxxopts library (and it\u2019s header-only), and it does seem like a popular alternative to Boost.program_options for those who don\u2019t want to invite Boost in.", "As ", " said, a separate package is mostly likely appropriate here if the user is going to use it directly (as is the case here I think).", "If you were to copy into another package, for some reason, I tend to prefer subtree to submodule, as submodule just has so many issues in my experience.", "It should still be a separate vendor package (if it is not already packages across all targeted platforms).", "In this case I agree a separate ", " would be best, but in other cases, I think it can be appropriate to include a header only thing into something like ", " (especially if it is not exposed directly to the users of ", ", like if we were going to wrap it in our own API).", "if it is not already packages across all targeted platforms", "For this library I haven\u2019t found any packages - if we decide to use it, it would need to be vendored.", "if we were going to wrap it in our own API", "For this case I don\u2019t think I\u2019d vote for going that route, based on the (probably) limited usage. In general I figure ROS2 code is targeted at non-dev-machine devices and be configured via rosparams instead of being CLI tools, but like you said, it wouldn\u2019t be terrible to have a go-to when we need it.", "I\u2019m going to do a little proof of concept with a cxxopts vendor package and migrating some C++ demos to use it, then see how that looks/feels. Thanks for the input!", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Starting to write up utility classes for this in ", " - e.g. roll our own like the simple utility in ", "\n", "Import something else as a dependency for at least the demo packages - like ", "\n"], "url": "https://discourse.ros.org/t/introduce-c-commandline-argument-parsing-library/9197"},
{"title": "Manipulation WG - May 17, 2019 17:00 CET (9AM PDT, 1AM JST)", "thread_contents": ["Next meeting is scheduled for May 17, 2019 17:00 CET (9AM PDT, 1AM JST). You can join the meeting though the following link:", "Real-time meetings by Google. Using your browser, share your video, desktop, and presentations with teammates and customers.", "Agenda will be posted over the following week or so.", "Here\u2019s an update about the proposed agenda. Feel free to suggest any topics if you plan on participating and we\u2019ll try to include it in:", "For those of you that can\u2019t joint but are interested in the progress, we will be publishing the minutes shortly after the meeting.", "Is there a Google calendar event for this? If so can I get an invite?", "Invited ", ": the public URL of the Manpulation WG calendar is ", ".", "Minutes from the meeting held last week:", "You can follow the progress from previous meetings at ", "The next meeting is being organized at ", ".", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", "\n", "\n", "\n", "\n", "Acutronic Robotics\n", "Quality Assurance\n", "Unit tests ported for base packages in moveit_core and a subset necessary for a minimum example", "built on top of moveit_ci, finalized the ROS 2 port and adapted for moveit2\n", "\n", " discarded", "\n", "Allocated efforts to facilitate reproducing existing work @ ", "\n", "\n", "New packages ported including its unit tests\n", "see ", " for a complete update", "\n", "Demonstrator ", "\n", "\n", "\n", "\n", "\n", "ROS 2 Manipulation Workshop", "Real-time motion planner ", "\n", "Next goals, community and re-alignment", "\n", "\n", "\n", "Mike Lautman", "Lander Usategui San Juan", "Anas Mchichou El Harrak", "Alejandro Hern\u00e1ndez Cordero", "V\u00edctor Mayoral Vilches", "Dave Coleman", "Matthew K Hansen", "\n", "\n", "\n", "Welcome and intros", "MoveIt 2, status of the port\n", "\n", "MoveIt 2 update and contributions\n", "Acutronic Robotics\n", "Quality Assurance\n", "Unit tests ported for base packages in moveit_core and a subset necessary for a minimum example\n", "Sync with moveit2 upstream - for now moveit_core", "Rest available in the fork ", "\n", "\n", "built on top of moveit_ci, finalized the ROS 2 port and adapted for moveit2\n", "Mike will have a look to Acutronic Robotics ci, and he will try to align visions", "\n", "Allocated efforts to facilitate reproducing existing work @ ", "\n", "\n", "Demonstrator ", "\n", "talked about difficulties compiling the setup. Problems compiling messages, actions or services with the same names in different packages. Specially control_msgs ", "\n", "\n", "New packages ported including its unit tests\n", "see ", " for a complete update", "\n", "\n", "\n", "Other topics\n", "ROS 2 Manipulation Workshop\n", "V\u00edctor proposed a Manipulation Workshop during ROSCon. Everyone agreed about it and PickNik showed will to contribute", "Dave and Victor will follow up with this", "PickNik considering to do a Moveit day", "\n", "MoveIt 2 (vs MoveIt!) demonstrators?\n", "Things that ROS 2 enables and that weren\u2019t possible with MoveIt!, poll the maintainers and experts\n", "V\u00edctor to follow up with Dave on this", "\n", "\n", "Sync with other WGs\n", "Real-time assessment of moveit code?\n", "Security is an interesting topic for companies like Acutronic Robotics using the MoveIt stack on industrial scenarios. Security validation is relevant.", "Dave showed concerns about such assessment in MoveIt 2 given its maturity", "V\u00edctor agreed and emphasized that the initial security assessment should happen in MoveIt 1.0", "A follow up discussion should happen in the next security meeting", "\n", "Real-time is also a topic of interest, to bring up this topic in the corresponding working group in the upcoming meeting ", "\n", "\n", "Next goals, community and re-alignment\n", "Sync is a pending item, pushed for upcoming weeks\n", "Sync with moveit upstream", "Sync with moveit2 upstream", "\n", "Tutorials and documentation are also a pending item, to review again once the port is more mature", "Dashing release?\n", "Matt suggested to make a release of the existing work to engage with the community. He argued that having some sort of debian files would help the community reproduce the existing work and engage with developers\n", "V\u00edctor clarified that debian files wouldn\u2019t make sense with the current status of the port but showed openness to consider a pre-release with some additional documentation", "\n", "V\u00edctor clarified that Acutronic Robotics has fulfilled all its goals with regard MoveIt! as in the original objectives defined at\n", "\n", " or", "\n", "Dave commented that the MoveIt! community may be expecting a more finalized version of the port as communicated at ", "\n", "V\u00edctor argued that this was a miscommunication issue and beyond Acutronic Robotics\u2019 control", "\n", "V\u00edctor and Dave to devise a strategy on how proceed for Dashing", "\n", "Dave shared a few words of appreciation about the commitment of Acutronic Robotics towards the port", "V\u00edctor thanked PickNik for their support with the community and informed that Acutronic Robotics plans to continue contributing and allocate additional person-months to continue pushing forward the MoveIt 2 port", "\n", "\n", "Next meeting\n", "Acutronic robotics will create a meeting in the following 2 weeks", "\n", "\n"], "url": "https://discourse.ros.org/t/manipulation-wg-may-17-2019-17-00-cet-9am-pdt-1am-jst/9027"},
{"title": "Introducing action_bridge", "thread_contents": ["Hello everyone!", "On the eve of recently organized ", " on DDS and ROS2 at Fraunhofer IPA, our team presented a short \u201chow-to\u201d on porting ur_modern_driver to ROS2. More interestingly, for the purpose, we had to bridge the actions between ROS1 and ROS2.", "We have a proposal for the action_bridge, which currently bridges between ROS1 action client and ROS2 action server.", "Contribute to ipa-hsd/action_bridge development by creating an account on GitHub.", "Feedbacks and PRs are welcome.", "Is there a reason for not integrating the functionality into the existing ", " package which already provides bridging functionality for pub/sub as well as services? It seems that it would be more convenient from a users perspective if only one bridge needs to be started to map all kinds of communication patterns.", "Is there a reason for not integrating the functionality into the existing ", " package", "Limited time and resources\u2026", "\nFor now ", " is a proof-of-concept to test the implemented logic without the need for factories, code generation and auto-discovery. Integrating the functionality into ", " should be the ultimate goal:", "which already provides bridging functionality for pub/sub as well as services?", "Bridging actions is a little bit more complicated.", "\nIt involves conversion between topics and services, and translating the ROS1 and ROS2 action goal IDs. We are depending on ", " and ", " to ensure the correct behavior, but this approach requires a thread for each goal to wait for the result.", "\nA callback API for ", " was introduced for dashing, it will simplify the integration and avoid these waiting threads.", "May I request some opinion here?", "as mentioned above, i think that it would be better to integrate into ", ".  because ", " provides base classes/interfaces to support bi-direction and mapping rules. does anyone have intention to do that ? or any other requirement ?", " ", "\nbtw, for ", ", i did face build issue, could check ", " ?", "For now ", " is a proof-of-concept to test the implemented logic without the need for factories, code generation and auto-discovery. Integrating the functionality into ", " should be the ultimate goal:", "So the ultimate goal is to integrate ", " into ", ".", "\n(I replied to your build issue)", "okay that\u2019s good to know, already targeting that final goal.", "\nand also thanks for the reply, if anything comes up, will share either here or github.", "thanks", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/introducing-action-bridge/9103"},
{"title": "Multi-robot coordination: Distributed synchronization of industrial robots through ROS 2", "thread_contents": ["When working in a network with various computers, each has a clock that provides them time. In most cases, being connected to the same network requires that all have the same time reference in order to coordinate their tasks. Here is where time/clock synchronization plays an important role. We can define time synchronization as the different processes or  ", " .", "To accomplish  ", "  between these  ", "  we need to set a very accurate reference. Despite selecting a good base time, hardware clocks use to count time at different rates. Furthermore, the quality of the oscillator is also a factor that has to be taken into account in order to avoid what is known as drift clock. To avoid or mitigate this, there are various options we can choose, for example using  ", "  (Global Positioning System) that provides an accuracy of tens of nanoseconds,  ", "  (Network Time Protocol) widely employed nowadays to set the clocks of our PCs and  ", "  (Precision Time Protocol) which offers great accuracy through local networks. PTP is the one chosen for our demo.", "Precision Time Protocol, which is the one used in the video above, was defined in 2002, but the second version was released in 2008 as IEEE 1588-2008 standard. Thanks to PTP we can obtain accuracies in the range of  ", "  without the need of a GPS system which is a great advantage when GPS signal is not available (e.g. indoor applications) or the cost of the receiver is not affordable. PTP has a Master-Slave architecture and defines the messages between them where the Master provides the time and the Slave synchronizes to the first. The aim of these messages exchanges is to fix the existing offset between the Master and the Slave.", "In most robotic applications several sensors and actuators are used. This means that there should be a coordination between  ", "  and  ", " . For example, if we think on an Advanced Driver Assistant System (ADAS), the wide variety of sensors available and the need of a coordinated and fast response forces to have a very accurate  ", " .", "Another good example where time synchronization plays a critical role is in a  ", "  and  ", " . Let\u2019s suppose that we have a laser scanner with its motor and a camera; the lack of coordination/synchronization between them would result in a poor quality point cloud.", "Finally, if we are interested in  ", "  from our modules or robots, it is needed to achieve a right clock synchronization so that we can plot that data in graphs and the information is coherent.", "In this case, we show the use of time synchronization for  ", " . Having a common reference time in a distributed system allows to coordinate motion accurately between robot arm motors, different robots or between robots and an external process. Everything is powered by the ", ".", "In both setups, all the devices are synchronized using the  ", " . The Open Robot Controller ( ", " ) acts as the  ", "  providing the reference clock for all the robots. All the robots are connected to the ORC by using a PTP capable switch. Inside  ", " , each  ", "  module works as  ", "  by using a Peer-to-Peer ( ", " ) delay mechanism. In order to coordinate the robot motion, trajectories are sent with a scheduled timestamp. The H-ROS SoM executes the motion accurately at the specified time.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/multi-robot-coordination-distributed-synchronization-of-industrial-robots-through-ros-2/9288"},
{"title": "[CANCELLED] ROS2 Security Working Group Online Meeting - May 28th, 2019 between 9AM and 10AM PDT (UTC-7)", "thread_contents": ["Hi everyone,", "We are planning to hold the next ROS 2 Security Working group meeting on  ", "  .", "Please suggest topics for the next meeting by commenting on this thread.", "Note: if we do not have any item to cover by Monday, May 27th, this meeting will be postponed.", "You have been invited to an online meeting, powered by Amazon Chime.", "Is there a calendar invite for these? I would like to start attending but I keep missing the discourse announcements.", " Sure, let me try to find a solution for this.", "I use google calendar to schedule and send invites for the Navigation2 WG, can you do that?", "We\u2019re not using Google Calendar here. I\u2019m trying to see if OSRF could host this for us. I\u2019ll update this thread once I have a solution implemented.", "Hi all,", "\njust a reminder that if we do not have any agenda item by Monday EOD, I\u2019ll cancel the meeting and we\u2019ll meet the week of 06/10.", "Thank you!", "As we do not have any agenda item for tomorrow, I am cancelling the meeting.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["TBD"], "url": "https://discourse.ros.org/t/cancelled-ros2-security-working-group-online-meeting-may-28th-2019-between-9am-and-10am-pdt-utc-7/9158"},
{"title": "Migration of Bond_core package", "thread_contents": ["Hi All", "we are looking to migrage bond_core package to ROS 2 . Please let me know if anyone has started this ?", "\nwe will be happy to contribute for this package", "Hi,", "\nWe have ported Bond-core (bondcpp) package to ROS2. It has been tested.", "\nThis package is ready to use. Please find pull request, ", " for code.", "i am not sure bond_core is really necessary for ros2, since it supports lifecycle which expose the state of node. what is lifecycle is missing from bond_core? could anybody give me some idea?", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/migration-of-bond-core-package/6399"},
{"title": "ROS 2 Customer Stories Report", "thread_contents": ["Hi ROS2 Community,", "I\u2019d like to share a ROS 2 community report that, through various user interviews, discusses the current needs of ROS 2 for mass adoption by the community:", "179.99 KB", "This report summarizes 15 interviews with users, or potential users, of the Robotic Operating", "\nSystem (ROS) conducted by PickNik Consulting for Amazon Web Services and the ROS 2", "\nTechnical Steering Committee (TSC). It is motivated by Amazon\u2019s customer-focused approach", "\nto developing their product specifications, and is intended to inform future ROS 2 resource", "\nallocations after the December 2018 ROS Crystal, the third release of ROS 2.", "The feedback collected and types of feature requests varied greatly. Even considering the", "\ndiverse applications of ROS, it is remarkable how many use cases and needs exist in the", "\nrobotics community. This plethora of sometimes conflicting requests inspires great respect for", "\nthe challenges faced by Open Robotics and the ROS 2 development team in making design", "\ndecisions and choosing the current feature set. While reviewing this report we ask the reader", "\nkeep in mind that criticizing ROS is much easier than actually creating an open source,", "\nrobot-agnostic, multi-purpose robotics middleware.", "The primary takeaway from this report is that most of the key features needed by potential ROS", "\n2 users have been addressed, but robustness and reliability through hardware testing is a huge", "\nunaddressed concern of users. Similarly, a branding and marketing problem remains due to", "\noverdue promises and scattered online assets. The strategy we believe would best address", "\nboth of these concerns would be to choose a flagship hardware platform and set inspiring", "\nmilestones (stretch goals) that would demonstrate ROS 2\u2019s applied capabilities (such as", "\nnavigation and manipulation) while generating impressive demo videos. This effort would also", "\nspotlight missing feature areas still required for using ROS 2 on actual hardware.", "For a flagship manipulation platform, I think Acutronics\u2019 Mara robot is a good choice. The company is investing a lot in ROS 2, the robot already runs it, they are contributing to the MoveIt port, and the hardware is in general very nice. Having a good second manipulation platform that is more like a traditional industrial manipulator also seems like a smart idea, but I don\u2019t know of any good candidates.", "For a flagship navigation platform, I don\u2019t have any ideas. ", " Is probably a good person to ask. I think it should probably be a platform that covers a range of sensors and has at least some capacity to carry a load or add a small manipulator.", "I just finished watching Aaron Turon talk at RustFest 2018, ", ", and it seems to parallel well with some of the open source development and adoptions challenges ROS2 has/is facing, perhaps shy of our migration changes, but certainly production pressure, leadership bandwidth, coordination, scaling without alienation and understand vs. growth.", "W.r.t. this report, the Distributed/Multi-Robot Systems Support and Documentation sections strongly resonated with me. I feel ROS2 is still missing a kind of conceptual distinction of data between robots; current workarounds like pushing an entire robot into a sub-namespace seems fragile and non-scalable. I wrote on my own uncertainty over documentation ", ".", "However, like the document mentions, it\u2019s a lot easier to critique than actually create. Thanks for putting out this report, and for all the legwork behind it in conducting and curating the interviews!", "Nice to see PlotJuggler mentioned in the report\u2026 buuuut", "The most popular feature was RQT\u2019s plottingcapabilities (rqt_plot) with everyone essentially loving and hating it. While it\u2019s a great tool forvisualizing live data streams from ROS topics, it is clunky and hard to use. Many had tried arecent rewrite/fork of the plugin, a stand-alone application called \u200bplotjuggler\u200b. They cited it alsowas missing features and was problematic.", "Please, please, please, if you think that ", " \u201cmisses features\u201d or is \u201cproblematic\u201d, let me know, and I will be happy to address the issues if I can.", "Cheers", "That\u2019s a pretty interesting report! Thanks for sharing ", "!", "Out of curiosity, what\u2019s the rationale you used to pick the user stories? Was there any particular geographical target or application use case that you prioritized to pick these companies? Is any of them  involved to some extend in the development of ROS 2?", "I\u2019ve been rather surprised by some of the criticisms to ROS 2. I\u2019d argue against those that claim that it\u2019s been overpromising or that the core infrastructure is immature. In several aspects, as it\u2019s been shown by several reports, it already overcomes the capabilities of ROS.", "I\u2019ve been rather surprised by some of the criticisms to ROS 2. I\u2019d argue against those that claim that it\u2019s been overpromising or that the core infrastructure is immature. In several aspects, as it\u2019s been shown by several reports, it already overcomes the capabilities of ROS.", "It\u2019s very easy to forget that when you have an inside perspective on ROS and the development of ROS 2 it\u2019s \u201ceasy\u201d to see that there is progress, that things have improved and that even for companies/devs that are deeply embedded in ROS 1 it will make sense to take a good look at ROS 2.", "One of the questions/topics that always comes up when I talk to potential and actual users of ROS is \u201cwhat is the status of X?\u201d or \u201cdo you think I should be looking at Y?\u201d", "There\u2019s just so much development going on and it\u2019s all so scattered that for outsiders \u2013 or even for \u201ccasual users\u201d (if those exist for something like ROS) \u2013 it\u2019s very easy to lose track or not be up-to-date about it.", "For that alone I believe the conclusion that ", " reaches in his summary above (and in the report) about putting more effort into dissemination might actually be a good one. But I must say that it\u2019s very difficult to get anyone who has had a look \u201cat ROS\u201d in the past to re-evaluate their opinions: first impressions apparently count just as much in software engineering and robotics as in \u201creal life\u201d.", "Edit:", "I\u2019ve been rather surprised by some of the criticisms to ROS 2. I\u2019d argue against those that claim that it\u2019s been overpromising or that the core infrastructure is immature.", "It\u2019s also very easy to forget that if you\u2019re familiar with something (including the process followed to construct it and its remaining shortcomings) you\u2019ll more easily take a tolerant view of missing functionality, incomplete features and unexpected behaviour.", "As some of the interviewees make clear: words like \u201cnightmare\u201d, \u201cunstable\u201d, \u201chigh failure rate\u201d and \u201chopelessly\u201d were apparently used to describe ROS (1) components.", " - Great report, thanks so much for gathering and summarizing this data. I agree with it in general and the recommendations, and I see ", " has also read it and started a TSC discussion on it here on Discourse.", " - We\u2019re in some discussions with a few companies about doing more complete demos and even products using Navigation2, but nothing is concrete yet. Although Robotis has been very helpful and supportive of running Nav2, we\u2019d love to have something in addition to the Turtlebot3 to demo on.  If Acutronics, Toyota RI or anyone else wants to collaborate on that, please let me know.", "BTW - I should mention that we do now have the Nav2 stack running on TB3 in a lab environment, not just in simulation. More work is needed however before a full demo is ready.", " Thanks again for putting this together and sharing it with the community. PickNick has been a great partner of Amazon, you and your team do high quality work.", "We have also been working with some customers and internal robotics teams to demonstrate ROS2 in a production environment. We plan to share any information we can with the community about the wins and/or misses as well as potential roadmap items to address them.", " it would be great to sync up with you about who you are working with, we also have some groups experimenting with Nav2 and it would be fantastic to build a backlog of issues/feature requests specifically for that initiative if one doesn\u2019t exist already. I\u2019d actually like to see a roadmap for all the working groups, including the security one we are driving.", " is there a global list of working groups and owners or can we create one somewhere? If i wanted to start a new working group, where would I list my initiative and roadmap for others to discover?", " I\u2019m working on ROS2 since a few time and I\u2019m going to test Nav2 in the next months. Feel free to contact me.", " - I\u2019d be happy to sync up and discuss your experiments and how we could help. Message me if you want to have a phone call, or we can spend some time in the Nav2 WG if you don\u2019t mind sharing your plans. Our current roadmap is a WIP but you can see a meta-ticket on it here: ", "Out of curiosity, what\u2019s the rationale you used to pick the user stories? Was there any particular geographical target or application use case that you prioritized to pick these companies? Is any of them involved to some extend in the development of ROS 2?", "We picked our user stories based on my network of long-time veteran ROS users, recent ROS clients of PickNik\u2019s, and a few robotics software companies that chose not to use ROS.", "I\u2019ve been rather surprised by some of the criticisms to ROS 2. I\u2019d argue against those that claim that it\u2019s been overpromising or that the core infrastructure is immature. In several aspects, as it\u2019s been shown by several reports, it already overcomes the capabilities of ROS.", "Some of the feedback we collected did appear to be due to misinformation of the current status of ROS 2. Some ROS users evaluated ROS 2 several years ago and maintain outdated views, but we the ROS 2 community still need to make effort to clear up these views. Several times I had to stop myself from interjecting during the interviews \u201cnot anymore since the Crystal release!\u201d", "Great report, thanks so much for gathering and summarizing this data.", "Thanks everyone for the positive feedback! Glad to see some constructive discussions coming from this.", "Thank you for conducting these interviews and writing the report, ", ". I agree with many of the issues outlined here, but I\u2019m wondering if you\u2019re able to expand on a few of these points. Of course I realize you can only work with the data you have, so if you don\u2019t feel you can answer them feel free to say so.", "The more traditional integrators we talked to, who were non-ROS users, compared ROS users to\"just kids playing\" and observed that there has been a \u201chigh failure rate of companies that choose ROS\u201d. They also cited that using ROS would require their clients to employ highly skilled and costly robotics software engineers to maintain their automation programs.", "I, too, have heard the \u201cjust kids playing.\u201d However, that last point is new to me. How does using ROS require their clients to employ more highly skilled and costly engineers than the ones they have? I always saw this as a benefit to ROS: it\u2019s not difficult to learn, and once you know it, you can apply that knowledge to a wide variety of robotic software. Without ROS (or something like it) every robot ends up more or less a custom job that requires more specialized engineers. I\u2019m curious to learn more about this if you have any more to share.", "The biggest examples of existing standards that ROS is not leveraging are the very mature internet tech stacks and exploding IoT standards, which have solved many similar problems to robotics.", "Do you have any specific examples of the IoT standards folks are wanting to see implemented in ROS?", "The ROS 1 approach using the \u200bROS Bridge \u200bpackage is hopelessly out of date and the scorn of many companies we talked to.", "I can appreciate not liking the approach we have for this, but it\u2019s difficult to improve upon it without details of what exactly is disliked. Any chance you have more info?", "Arguably, this is the domain of commercial companies and not an open source project, but it seems there is room for creating best practices and tools for deployment.", "There are open-source tools meant for this type of thing-- we\u2019ve been working on snaps, in particular. Are there specific features missing there, or lack of awareness?", "How does using ROS require their clients to employ more highly skilled and costly engineers than the ones they have?", "These integrators are used to teach pendants, touch screens, and maybe ladder logic in PLCs. So they\u2019re referring to using software engineering in general. Maybe not the best data point for what ROS is trying to solve.", "Do you have any specific examples of the IoT standards folks are wanting to see implemented in ROS?", "This is a bit out of my domain of expertise. Henrik Christensen gave a great talk at ROS-I Europe last December titled \u201cRobotics and Automation in the Age of the API Economy\u201d that strongly made this argument also (unfortunately the ", "). He said that the number of IoT devices and standards vastly outnumbers robotics, and are more mature largely for this reason.", "Any chance you have more info?", "I think this should go in a different thread. I\u2019m sure plenty of people can provide feedback on this.", "There are open-source tools meant for this type of thing-- we\u2019ve been working on snaps, in particular. Are there specific features missing there, or lack of awareness?", "Deployment is one of my core interests, so I\u2019m interested in hearing any more about what exactly companies are looking for.", "We definitely have a shared interest there, ", ". Worth starting a new thread to see if we can get more info?", "  I work for a company called Rover Robotics (", "). Not sure if this is on your radar or not but we are currently working with Open Robotics and Amazon to develop demos for ROS2 using our mobile base. Our platform is industrial-grade and relatively affordable. Its also possible to mount accessories to the top like robotic arms. The design was originally developed for SWAT teams that disarm bombs using them so its really rugged. We have been working for the past year on getting ROS1 and ROS2 drivers for them to be stable.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros-2-customer-stories-report/8158"},
{"title": "MoveIt 2 porting progress articles", "thread_contents": ["As part of our commitment with MoveIt and to ensure that anyone interested can get engaged, we will be writing down our progress in a series of articles. The first of such is", "It seems I can\u2019t edit it anymore ", " . Here\u2019s an update to the list:", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/moveit-2-porting-progress-articles/8462"},
{"title": "Robot DevKit for ROS2", "thread_contents": ["This is the initial release of Intel\u00ae ", " open source project, which enables developers to easily and efficiently create, customize, optimize, and deploy a robot software stack to an Autonomous Mobile Robot (AMR) platform based on the Robot Operating System 2 (ROS2) framework. The Robot DevKit supports Ubuntu 18.04 and has been verified on Intel NUC (CPU: Intel i7-6700HQ ", ", Mem:16G) and ADLink Neuron Board (CPU: Intel i7-6700TE ", ", Mem:16G) with TurtleBot3 Waffle chassis. Installation includes the software components below that are made available in your development environment to build your own Robot.", "ROS2 core for key packages of ROS2 framework", "ROS2 Intel\u00ae", "\u2122 with CPU, GPU and VPU acceleration for open visual inference and neural network optimization providing easy to use face detection, person identification, age and gender recognition, and more!", "ROS2 Object Analytics with Intel\u00ae", "\u2122 for object detection, tracking and 3D localization.", "ROS2 navigation and SLAM for map generation and robot navigation with the map", "Rviz2 visualization tool and gazebo-ros2 simulator", "Intel\u00ae", "\u2122 for 3D vision, point cloud creation, SLAM and navigation", "for key components", "The Robot DevKit provides off-the-shelf features to developers, like avoiding obstacles while navigating, using models in OpenVINO model zoo for object or people face detection, optimizing your models to get improved neural network performance on a variety of Intel\u00ae processors (CPU, Intel\u00ae Processor Graphics, VPU), etc. In the near future, we\u2019ll be adding robot arm features with motion planning and control, perception for grasping, hand-eye calibration, etc. Stay tuned for more features!", "Your feedback and suggestions are highly appreciated. Feel free to provide feedback or report issues in", ".", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n"], "url": "https://discourse.ros.org/t/robot-devkit-for-ros2/8900"},
{"title": "Rmw_coredds: new RMW implementation for Crystal and Dashing", "thread_contents": ["Hi.", "We developed a new RMW implementation package using CoreDDS from GurumNetworks. GurumNetworks, Inc. is officially registered as an OMG member and DDS vendor. We believe that this new implementation can provide an opportunity to try more RMW implementations and decide which one fits your needs the most.", "\nThis RMW implementation contains two projects:", "rmw for coredds: ", "typesupport for coredds: ", "These packages can be built and installed just like the other rmw and typesupport packages.", "To try this, you need a trial copy of CoreDDS, which can be found on our ", ". Before building these packages, you need to set an environment variable ", " to specify where CoreDDS is located. After that, another environment variable ", " must be set to where CoreDDS license file is located. By default, it should be ", ". Please follow below in your terminal.", "Once everything is ready, you can use colcon to build the packages.", "or", "No additional arguments are required.", "After building the packages, we suggest you to set an environment variable ", " and set the entry ", " to ", ". The RMW will publish/subscribe messages properly without this, but some APIs like ", " may not work as intended.", "Please note that these packages are still work in progress. Some features are not fully supported and we are working on them. These packages support ROS2 Crystal Clemmys and Dashing Diademata. Also, supported architectures are amd64, arm64, and arm32.", "Welcome to our ROS community!!! ", "One of the biggest changes in ROS 2 is that it supports the industry standards DDS and has a \u2018", "\u2019 feature that does not depend on one vendor. So the ROS Middleware interface (a.k.a. rmw) contains the key abstractions required for standard DDS and functions to support them. There are four vendors known to our community so far:", "Today, ", " from ", " was introduced and we have a stronger diversity. The ROS 2 LTS version, Dashing Diademata, is now available, and ROS 2 will be applied to a wide range of robots. There will be a variety of usage environments and applications, and if we have support from these powerful DDS vendors, we will be able to choose from a variety of features depending on the situation.", "Once more, I congratulate you and welcome you to the ROS community. ", "Thank you for your welcome!", "We will diligently follow up ROS 2 LTS versions and master versions also. Please try our CoreDDS trial and rmw_coredds also. I am sure you will have a good expression about that.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", "\n", "\n", "\n", "eProsima\u2019s ", "\n", "RTI\u2019s ", "\n", "ADLink\u2019s ", "\n", "Eclipse\u2019s ", " (former ADLink OpenSplice)"], "url": "https://discourse.ros.org/t/rmw-coredds-new-rmw-implementation-for-crystal-and-dashing/9421"},
{"title": "ROS2 Security Working Group Online Meeting - June 7th, 2019 between 9AM and 10AM PDT (UTC-7)", "thread_contents": ["Hi everyone,", "We are planning to hold the next ROS 2 Security Working group meeting on  ", "  .", "Please suggest topics for the next meeting by commenting on this thread.", "Note: if we do not have any item to cover by Thursday, June 6th, this meeting will be postponed.", "You have been invited to an online meeting, powered by Amazon Chime.", "Hi everyone, I will cancel tomorrow\u2019s meeting as we don\u2019t have any agenda item scheduled.", "I will be traveling until the end of this month (June) so we will restart the security working group meeting once I am back unless someone would like to step in. Please send me a message if you\u2019re interested!", "Thanks everyone!", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["TBD"], "url": "https://discourse.ros.org/t/ros2-security-working-group-online-meeting-june-7th-2019-between-9am-and-10am-pdt-utc-7/9309"},
{"title": "Debian as a tier 1 platform for ROS 2", "thread_contents": ["Melodic has been supported on Debian for a while now, albeit only as \u201crecommended\u201d, and this has been great. Meanwhile ROS 2 releases have focused on supporting the most recent Ubuntu LTS only, with Debian left as tier 3 support, which I have found to often lead me into dependency hell.", "With ROS 2 targeting commercial uses, and Debian being more suitable for use in products than Ubuntu in general due to the way it is set up, I\u2019m wondering when Debian will become a tier 1 platform for ROS 2? We\u2019ve had problems recently in prototype commercial applications that we have traced back to features of Ubuntu clearly oriented towards desktop systems, such as NetworkManager and kernel automatic updates. I agree that we can (and do) turn such features off, but if we were able to use Debian reliably then we wouldn\u2019t have such features to begin with.", "Has the ROS 2 core team given any thought to when they want to support Debian as tier 1?", "Has the ROS 2 core team given any thought to when they want to support Debian as tier 1?", "We (Open Robotics / ROS 2 core team) don\u2019t have a strong opinion one way or the other, except to recognize that each additional Tier 1 platform adds effort for everyone involved in the project, both during regular development and pre-release QA. So it\u2019s not something that should be done lightly, or without a strong commitment to keep it working.", "So I\u2019d turn that around to you and others in the community and ask, when are you ready to contribute the resources (primarily a mix of upfront and ongoing engineering labor) to make it happen?", "If that time is \u201cnow\u201d, then the first step would be to move from Tier 3 to Tier 2. A good example to follow would be what happened during the Dashing cycle for armhf / ubuntu. In that case a group that was very motivated to upgrade the support level for that platform came to us with a proposal to make it happen, including helpful context, including that (a) they\u2019d already tested on that platform themselves and found things to be working well and (b) their team would be available to address issues that arise. We brought up new armhf nightly jobs on the farm and since then we\u2019ve been collaborating with the folks who wanted the upgraded support to get things working and to keep them working (studious observers will have noticed that our initial bringup of the armhf nightlies were ", ", but we\u2019ll get that fixed :).", "That sounds like a proposal I might be able to make internally here. Let me talk to relevant people and see if we have resources and skillsets available.", "Do you have an idea of the tasks and level of work required to being Debian up to Tier 1 status?", "As an MX Linux user, I am highly interested in Debian being a Tier 1 platform. Are there any resources on how someone could contribute on this?", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/debian-as-a-tier-1-platform-for-ros-2/9431"},
{"title": "Ros_control in ROS2 wishlist", "thread_contents": ["Hello everyone,", "Your friendly ros_control maintainer team has been busy thinking about what sort of community interest is there for a ROS2 ros_control version.", "Example:", "Please fire away, this is an interactive wishlist ", "joint_trajectory_controller as is, and position_controller/JointPositionController", "My first response would be: all of those, good suggestions (perhaps maybe the first two).", "But thinking about it a bit more I would like to see:", "And I\u2019m sure I\u2019m missing some things I\u2019ve though of over the years. Others will post those probably.", " has some previous discussion on using a message/port based framework underneath ", " (ie: OROCOS).", "MachineKit devs have done a bit of work with ", " and MachineKit integration, perhaps ", " and ", " have some inputs.", "support chaining controllers natively ( ", " using topics for input/output?), no subclassing", "Using topics but allowing composition with zero-copy shared memory used (automatically by the middleware) when composed in a single process?", "Our final goal is to be able to use PID to help with collision avoidance in simulation, we are open to take a new approach.", "From a quick look, I believe we would need the following ros-control related packages:", "Not used in ros1, but we would probably need:", "support chaining controllers natively ( ", " using topics for input/output?), no subclassing", "Using topics but allowing composition with zero-copy shared memory used (automatically by the middleware) when composed in a single process?", "O yes, of course. I thought that went without saying, but I should\u2019ve been explicit about that.", "I\u2019m interested in trajectory execution with MoveIt! and the ability to modify a trajectory due to sensor feedback (aka admittance).", "Also interested in not needing to make a service call to load/unload controllers, but being able to switch instantaneously.", "AFAIK (but I\u2019d like to be wrong here), ros_control currently requires each joint to be homed before starting ros_control.", "+1", "+1", "+1", "It would be also nice to have more support for distributed motion control. Some features that would be interesting to have:", "+1", "Having multiple controllers communicate in a shared-memory fashion, potential through a shared hardware interface, would be highly desirable.", "For instance, when programming Sawyer\u2019s ROS Control Gazebo node to achieve \u201cGravity Compensation\u201d, we needed a controller to ", " forces based on the current arm configuration and then combine that with the desired commanded control mode (", ", ", ", or ", ").", "We achieved this with a ", " package that would allow controllers to \u201cshare\u201d the control over a single interface (like Position PID + Gravity compensation), and sum their component efforts to achieve the desired command without needing to worry about Gravity-related forces.", "The code is all there on github, but I never took the time to figure out how to contribute the useful bits back to ros_controls. I\u2019d be interested in helping make this part of the ROS2 ros_controls Hardware Interface.", "For me hard realtime would be a requirement I think. Also it would be nice to maybe start leaning on orocos for some of the desired capabilities like controllers spinning at diff rates", "Also it would be nice to maybe start leaning on orocos for some of the desired capabilities like controllers spinning at diff rates", "In ROS 2 you can do that without having to lean on Orocos.", "I am missing following features in the current ros_control implementation:", "Cascade Control (", ") - This can be currently done, but it is not nice. i am doing it with inheritance.", "Clear separation of RobotHW on sensors and actuators. This would enable easier integration of external sensors, e.g. FTS on an industrial robot", "for this we started implementing an extension called combined ", " because currently one has to extend RobotHW directly and then robot package has new dependencies\u2026 an example of this can be found ", ".", "this would mean to have HWInterface as base with SensorHW and ActuatorHW extending it. Then the RobotHW has list of SensorHWs and ActuatorHWs so one could simply add new sensors to it. Everything can be solved nicely over Pluginlib to avoid unnecessary dependencies.", "IMHO this would be more control-theory approach ", "Thanks for asking this. If you need any help with first two topics I could provide some input and implementation effort since we have kind of non-standard solution.", "We\u2019re mostly interested in the diff_drive_controller as is at this point", "We\u2019re mostly interested in the diff_drive_controller and the joint_state_controller.", "Thanks! I would be very interested to see how much of this could be integrated into the current ros_control codebase (", " perhaps even for melodic).", "How would you propose to do this?", "\nDoesn\u2019t the switch interface cover this already?", "Most components that support modes at the hardware level require ", " one update cycle (sending out CAN/ETHERCAT messages) to change the mode, that\u2019s partly why we have such a rigid system. Very similar to lifecycles of OROCOS components if you are familiar with that.", "I\u2019m not very familiar with OROCOS. I think I caused some confusion by saying \u201cinstantaneous switching\u201d. What I really want is to avoid switching controllers, period.", "Why not a single velocity controller that accepts both trajectory commands and instantaneous velocity commands? While following a trajectory, if a new, instantaneous jog command comes in, the robot halts (as quickly as possible) then begins to follow the instantaneous velocity command. This PR does that: ", "  Instantaneous velocity commands always preempt trajectories.", "Thus, no controller switching is needed.", "The next level would be to blend the velocities so it\u2019s not necessary to halt at a transition.", "It would also be possible to blend position commands, but I didn\u2019t have a need to take it that far.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\"We only need the ", " as-is.", "\"My company only needs the ", " as-is.", "\u201cI need all the controllers.\u201d", "\u201cWe need a more extendable framework (flexible hardware_interfaces) while maintaining the realtime-safe qualities.\u201d", "\u201cMy research needs interconnected controllers, the output of one is the input of the other.\u201d", "\u201cMy robot needs different update rates per controller.\u201d", "\u201cMy kids need better tutorials on how to write the hardware abstraction layer (RobotHW).\u201d", "\u201cRedesign and rewrite the whole thing in X.\u201d", "maintain deterministic execution in everything (ie: hard real-time capability, not as a requirement (so keep components capable of running in deterministic environments, but don\u2019t require it: see executors below))", "support chaining controllers natively (", " using topics for input/output?), no subclassing", "support mimo setups (should be doable if the previous item lands)", "support industry-standard trajectory generators (almost off-topic, but you asked about ", ", so: trapezoidal / s-curve profiles / higher-order interpolation / jerk-limited, etc)", "Cartesian controllers (would probably require a Cartesian msg set as well \u2026)", "fully support managed nodes:\n", "distribution and scheduling of controllers and other infrastructure with executors", "full component life-cycle (error states, recovery mechanisms, etc) and management", "full support for composite nodes (components?) with the associated benefits (zero-copy msg passing, node spin scheduling (pipelines fi), etc)", "\n", "usability: more clearly document controller hierarchy (\"", " ignores my PID parameters?\")", "usability: don\u2019t call everything a \u201ccontroller\u201d (", ")", "C++11/14/17/20?", "controllers in languages other than C++ (integration with ML/AI frameworks?)", "gazebo_ros_control/DefaultRobotHWSim", "control_toolbox", "ros_control/hardware_interface", "ros_control/joint_limits_interface", "ros_control/transmission_interface", "ros_controllers/joint_state_controller", "ros_controllers/joint_trajectory_controller", "Support for homing joints with various methods, eg. and endstop switch", "maintain deterministic execution in everything (ie: hard real-time capability, not as a requirement (so keep components capable of running in deterministic environments, but don\u2019t require it: see executors below))", "support industry-standard trajectory generators (almost off-topic, but you asked about ", " , so: trapezoidal / s-curve profiles / higher-order interpolation / jerk-limited, etc)", "fully support managed nodes", "Remote life-cycle controller management.", "Multicast trajectory_msgs to remote JointTrajectory controllers. Each controller would execute its corresponding trajectory.", "Use a common E-stop topic to stop all the controllers at once.", "Master-slave mirroring controllers.", "Make use of DDS QoS policies (for example deadline) to implement a safe jog control.", "Use a common E-stop topic to stop all the controllers at once.", "\u201cMy research needs interconnected controllers, the output of one is the input of the other.\u201d", "\n", "\n", "maybe I do not understand something here, but I found my solution as not nice, but it works ", "\n", "\n", "\u201cWe need a more extendable framework (flexible hardware_interfaces) while maintaining the realtime-safe qualities.\u201d", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\u201cI need all the controllers.\u201d", "We use the Joint_Trajectory_Controller, Joint_Position_Controller and Cartesian_controllers most often.", "Cascaded Controllers and compliance controllers would be nice to have."], "url": "https://discourse.ros.org/t/ros-control-in-ros2-wishlist/7803"},
{"title": "Ignition Math to TF?", "thread_contents": ["Did you guys think about kicking out LinearMath out of tf2 in ROS 2 and using Ignition Math instead?", "I\u2019m not sure if IM has all the SIMD accelerations, but if it doesn\u2019t, it could still make sense to move them there and use IM, couldn\u2019t it?", "Maybe we could start by creating a conversion package for ignition math types similar to ", "I think that would make it easier to write some benchmarks and compare performance between the different types.", "As an aid to discussion for the uninformed (and curious ", ")  what are the benefits of switching to Ignition Math?", "Just excerpts from ", ":", "Ignition is a set of simple libraries that provide useful functionality to bootstrap robot applications. The included libraries encapsulate all the essentials, such as common math data types, console logging, 3D mesh management, and asynchronous message passing. Grab the code, start developing, and easily access other applications like the Gazebo robot simulator.", "\nVersion: 1.0.0", "A small, fast, and high performance math library. This library is a self-contained set of classes and functions suitable for robot applications.", "I\u2019m also curious: ", ": is the main benefit on the dependencies side, or are there other aspects where you think ", " is a good replacement of what is currently being used?", "My main idea is that the functions/implementations are now duplicated even among projects led by OSRF itself.", "The other idea is that the ignition math library seems to contain functions that usual ROS users would benefit from. It makes sense to me to provide some basic maths library to roboticists, that is \u201ceasier to use\u201d than Eigen and speaks natively the formats used in ROS ", "ignition math 5.0+ and 6.1+ have an optional component with conversion functions for some types to/from Eigen types. So that\u2019s another option.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ignition-math-to-tf/2754"},
{"title": "Manufacturer Usage Description (MUDs) for ROS 2 (RFC 8520)?", "thread_contents": ["This is just a \u201chey, this could be interesting\u201d kind of post, but in a different context I came across ", " which reminded me of some of the goals that SROS2 has and has been working towards.", "From the linked document:", "This memo specifies a component-based architecture for Manufacturer Usage Descriptions (MUDs).  The goal of MUD is to provide a means for end devices to signal to the network what sort of access and network functionality they require to properly function.  The initial focus is on access control.  Later work can delve into other aspects.", "The spec is specifically not about securing ", "s (internet connected/networking enabled IoT and other types of devices, as they are called in the document), but about providing a clear description of what types of traffic may be expected from a device, how it may be interacted with and what the intended usage patterns are:", "[RFC7452] discusses design patterns for, and poses questions about, smart objects.  Let us then posit a group of objects that are specifically not intended to be used for general purpose computing tasks.  These devices, which this memo refers to as Things, have a specific purpose.  By definition, therefore, all other uses are not intended.  If a small number of communication patterns follows from those small number of uses, the combination of these two statements can be restated as a Manufacturer Usage Description (MUD) that can be applied at various points within a network.  MUD primarily addresses threats to the device rather than the device as a threat.  In some circumstances, however, MUD may offer some protection in the latter case, depending on how the MUD URL is communicated and how devices and their communications are authenticated.", "Robots are (in my opinion) definitely not general purpose devices \u2013 even if they typically embed several general purpose computing platforms \u2013 and especially in commercial/factory settings have a clearly defined set of tasks. Ideally also with a clearly defined interface and, with SROS2, a clearly defined set of endpoints from which, and to, communication is allowed and expected.", "RFC 8520 is relatively new, but it may make sense to see whether MUDs could be an asset when integrating ROS 2 robots into larger systems. The use of DDS may complicate things due to its liberal and dynamic use of network resources, but SROS2 seems to have that under control.", "Definitely seems interesting to me, as you say DDS\u2019s arcane port mapping may complicate things, but honestly ROS 1\u2019s use of random ports was equally frustrating from an IT perspective. I imagine this proposal needs to deal with scenarios like this though (I didn\u2019t have time to read it yet).", "P.S. Also, my first thought for MUD was (Multi-Use Dungeons), lol. ", "I quite like this idea. I\u2019ve liked the idea of data sheets for nodes for quite a long time, but never had the time to follow through with the idea and see if it\u2019s actually feasible. The information model being developed by ", "\u2019s excellent colleagues is very similar.", "Also, my first thought for MUD was (Multi-Use Dungeons", "Glad I\u2019m not the only one. ", "Unfortunately I won\u2019t have any time to look into this myself, but I at least wanted to post a note here.", "It\u2019s not something that completely aligns with what the security WG is doing, hence my general hey-look-at-this post.", "Perhaps adding support for MUDs is something that could be completely delegated to a single, optional node, without needing any specific support from ROS 2 infrastructure as a whole. In that case it could be the responsibility of whoever integrates a system to set this up.", "Also, my first thought for MUD was (Multi-Use Dungeons", "Glad I\u2019m not the only one. ", "Not sure whether the authors of the RFC were aware of this ", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/manufacturer-usage-description-muds-for-ros-2-rfc-8520/9557"},
{"title": "ROS2 Navigation WG cancelled tomorrow (Jul 4)", "thread_contents": ["The Navigation WG meeting is cancelled tomorrow due to the July 4 holiday in the US.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-navigation-wg-cancelled-tomorrow-jul-4/9773"},
{"title": "ROS2 on VxWorks RTOS", "thread_contents": ["Hello everyone,", "I have ported ROS2 crystal release to VxWorks. Results are posted to Wind River Labs - ", " and GitHub.", "VxWorks ROS2 port is tested on the UP Squared board and QEMU. It should also work on Raspberry Pi 3, however, I didn\u2019t test it yet. It utilizes the latest VxWorks SR0610 release and those of you who have VxWorks license could follow the build instructions and try it out. We also plan to provide for everyone a freely downloadable VxWorks SDK which will allow people building ROS2 applications on top of VxWorks.", "I\u2019m currently porting ROS2 dashing release and plan to publish my changes on GitHub in July.", "Looking forward to your feedback!", "Kind Regards,", "\nAndrei.", "TL;DR", "\nHere are more technical details. There are two repositories available on github", "\n\u2022\t", " contains build scripts to create a bootable VxWorks ROS2 image which can be flashed to the USB stick.", "\n\u2022\t", " contains patches to be applied on ROS2 source packages. Most of the changes are related to the C++ library we have and to the obvious fact that VxWorks is not Linux and some header files or functions are missing. I hope to submit all necessary patches to the ROS2 main development tree and drop this repository completely someday.", "\nVxWorks ROS2 build works the same way as any other cross build. First, you need to setup a VxWorks development environment and then run colcon. Currently I built ROS2 with BUILD_TESTING=OFF", "\n", "Hello ", ", this is great for the community. We\u2019d have couple of questions:", "We would then have lots of VxWorks specific questions (e.g. how do you do process and memory management) but let us know if we should post them here or in a separate thread or privately.", "D.", "Hi ", ",", "\nI\u2019m also very happy about it. Thanks much for your questions. Let me try to answer them as much as I can :", "and e.g. ", " in VxWorks directly?", "\n", " - Never try to run colcon in VxWorks, but yes, it should be possible. But I think all performance tests are written in C++?", "Do you plan to support ", "\n", " - RCAR H3 is supported by VxWorks- ", ". I just need to build ROS2 for it.", "Which compilers (gcc, clang, proprietary\u2026) and libraries (libc,", "\nlibc++ ) do you support? Which versions?", "\n", " -  clang 7 cross toolchain, libc is proprietary, and we have Dinkum C++11/14", "What kind of development environment, tools, application level debuggers (e.g. gdb) do you provide?", "\n", " -  we provide an Eclipse-based IDE called Workbench - ", " and everything which allow building deploying and debugging on the embedded target.", "Please shoot all your questions here. I would be glad to answer them.", "Kind Regards,", "\nAndrei", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["How much did you need to change in ROS2 code? That is, is there any POSIX-compliance in VXWorks?", "Do you plan to support Python 3.5 such that one could then run ", " and e.g. ", " in VxWorks directly?", "Do you plan to support ", " or ", "?", "Which compilers (gcc, clang, proprietary\u2026) and libraries (libc,", "\nlibc++ ) do you support? Which versions?", "What kind of development environment, tools, application level debuggers (e.g. gdb) do you provide?", "How much did you need to change in ROS2 code?", "\n", " - Surprisingly, very little. The reasons are different.", "some changes are VxWorks specific. E.g. ", " while in Linux in nanoseconds and I need a patch for it.", "some defines are missing in VxWorks like ", "\n", "I ", ", no reason for it. I want to get rid of it", "we ", " and it behaves sometimes differently in comparison to stdc++ e.g. ", "\n1b. That is, is there any POSIX-compliance in VxWorks?", "\nyes, ", " OS", "Do you plan to support Python 3.5 such that one could then run  ", "\n", " -  It is python 3.8 - ", "\n", "\n", "\n", "\n", "\n", "\n", "\n"], "url": "https://discourse.ros.org/t/ros2-on-vxworks-rtos/9806"},
{"title": "ROS2 Logging", "thread_contents": ["Hello all,", "My team at Amazon is looking at extending the existing logging functionality in ROS2. I\u2019ve described below what our initial plans are for logging and the justifications. I welcome any feedback on the plan.", "Currently in ROS2 most of the logging implementation exists in the rcutils library. The interface into it is a set of macros that get generated during the build and a few functions in rcutils that back them. A string representing the logger name is used as input to these functions to identify which logger is being used/modified. Each implementation of the RCL then provides its own logging interface. In the RCLCPP library, for example, it is again a set of generated macros that are backed by the rcutils macros. When a logger is created in one of the language RCL libraries, it does not call down into the rcutils library to initialize any state for that logger.", "Loggers can be created in association with a node or on their own. Loggers associated with a node are identical to loggers not associated with the node except that the name of the logger is automatically set based on the associated node\u2019s name/namespace. Logs can be created in a hierarchy based on their name. The hierarchy can be used to adjust the severity level at which a logger operates.", "The logging functionality in the rcutils library currently allows for only a single output function  to be set for all logs. It defines a typedef for the output function header and allows the output function to be changed by calling a setter function with a pointer to a new output function. The rcutils library also includes one output function implementation which sends logs to stdout. The output function cannot be changed for different loggers in the hierarchy. Every logger uses the same output function.", "These are the changes my team is looking to implement.", "Increase the number of output functions that can be set in the rcutils layer", "I would suggest to keep a single output function in the core API (simpler, less memory management required). To enable multiple handlers you could create a new function which is capable to dispatch the call to N other functions.", "Will the approach proposed here allow for using something like fluentd as an output? For complex robots, a tool like fluentd provides useful facilities for managing, viewing and processing logged information.", "Will the approach proposed here allow for using something like fluentd as an output? For complex robots, a tool like fluentd provides useful facilities for managing, viewing and processing logged information.", "Yes, the proposed approach should be able to support fluentd. From what I can see, the easiest way to hook fluentd into this proposal would be to use a ", " input to get the log events sent to to the log files. If more advanced features are needed you could always recompile the nodes and swap out the shared logger library with something that hooks directly into fluentd.", "Is it possible to come up with a way to swap out logging systems without needing to recompile nodes?", "Is it possible to come up with a way to swap out logging systems without needing to recompile nodes?", "Yes, that should be possible. Since the shared library is linked at runtime it should be possible to just link in a different implementation. I\u2019ll need to research a little more to see what the most convenient way to do this is. It may still require you to recompile a shared package and source it in your workspace. If other people have thoughts on an easy way to do this I\u2019d be interested in hearing.", "Will the approach proposed here allow for using something like fluentd as an output? For complex robots, a tool like fluentd provides useful facilities for managing, viewing and processing logged information.", "(This is Forrest from the same team in Amazon) Yes our goal is to have an interface so that different types of sinks can be implemented and hooked.", "That said, I would suggest the sink should be fluentd agnostic even if you want to use fluentd to consume the data \u2013 or perhaps I misunderstood you in this case\u2026", "Is it possible to come up with a way to swap out logging systems without needing to recompile nodes?", "Technically this is doable, but we have to be very careful because IMHO logging mechanism should be straightforward to achieve the best robustness possible. Is there a specific use case in your mind that needs such capability?", "I\u2019m thinking about how nodes are typically installed from binaries. If I install nodes from binaries but want to use a different logging daemon to the original node developer, then I lose the ability to install from binaries.", "My understanding is that even when you install Nodes from binaries that ROS dynamically links them from your sourced workspace when they run. That should allow a developer to use some environment variables or some other mechanism to swap out the logger for any predefined ones at runtime or replace the shared library logger by providing their own with the same interface to be linked in instead. I don\u2019t know off hand how difficult or easy that is to do, but it is all possible.", "As noted in a ", ", ros1 logging doesn\u2019t support unicode strings, so it would be nice to support that in ros2.", "We\u2019ve created the first set of pull requests for the new logging features (links below). Our next steps are to work on adding rosout topic capability. As part of that we are planning on porting the Log message from ROS 1.", "For the new ROS 2 message I would like to remove the list of topics the node is publishing on that is in each log message as I don\u2019t think it makes sense to include that with every logged line. I\u2019ll also be adjusting the verbosity level constants to match the values defined in the rcutils package. The final change I was looking at for this message was to move it into the rcl_interfaces package instead of keeping it in a rosgraph_msgs package.", "Links to pull requests below.", "rclcpp: ", "\nrcl: ", "\nrcutils: ", "\n", "A logging implementation for ros2 that using log4cxx.  - ros2/rcl_logging", "\n", "Edit (Nov 14th, 2018 9:45am PST) - Changed the package we\u2019re planning on moving Log message into from common_interfaces/diagnostic_msgs to rcl_interfaces to avoid adding another dependency in rcl.", "Another pull request for the Log message definition.", "The initial implementation of the rosout features is code complete as well and available in the branches listed below.  I\u2019m going to wait to start the pull request for the rosout changes until the existing pull request is complete.", "Common C functions and data structures used in ROS 2 - nburek/rcutils", "\n", "\n", "Library to support implementation of language specific ROS Client Libraries. - nburek/rcl", "\n", "Please go ahead any missing PRs asap (and add a note in it what it is blocked on). We are very close to the API freeze and can\u2019t consider what is not visible anywhere.", "I\u2019ve gone ahead and created pull requests for those features, though I could not find a way to decouple them from the earlier commits being reviewed in the existing pull requests. Once those PRs are done I can rebase these so only the new commits show in the rosout PRs.", "\n", "\n", "\n", "There was some interesting development in rosconsole from ", " to use pluginlib to support different logging sinks, particuilarly to support journald (", "). I wonder if you could consider a similar approach for logging in ROS2, which would provide a familiar mechanism for swapping logging sinks without recompilation.", " is your desire to be able to actually develop custom logging sinks (a reason for using pluginlib), or are you simply suggesting that ROS2 should be able to log to a number of backends which should be configurable at runtime (not necessarily requiring pluginlib)?", "I have a pretty limited number of sinks in mind (stdout, /rosout, journald), but given the fluentd suggestion above (and that ROS2 is cross platform), being able to develop a sink plugin outside of the rcl source tree via pluginlib seems valuable.", "Of course, you can always just write /rosout to journald via an intermediate node, but this can be expensive when intra-process transport is not available.", "it would be very nice if we can choose the backend logging system, cz some vendors have their own specific logging system once it comes to the embedded system.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Increase the number of output functions that can be set in the rcutils layer. We will add new functions to add and remove functions from a list of output functions in the rcutils library, but will not add this capability to the RCL interface. For the initial implementation, we will not add the ability to change the output functions at different logger hierarchies.", "Write a new log output function in the rcutils library that will forward all logs from a logger associated with a Node to a ", " topic on that node.", "Define an interface for a shared library that wraps more power open source logging libraries such as log4cxx. The interface will include initialize/teardown functions, call throughs for when logging metadata changes (such as log levels and formats), and functions to output logs from the rcutils library. We will also define a way of passing through a configuration file location so that the shared library implementation can use the standard config format defined by the library that backs.", "Write a new log output function in rcutils that will call out to a shared library that implements the above interface.", "Write an implementation of that shared library that wraps the log4cxx library. This implementation will include a default configuration that will send all logs to a file.", "Modify the rcutils library so that when it initializes it will hook up the three output functions that now exist in the rcutils (stdout, rosout, and shared library). These will each be able to be individually enabled/disabled via an environment variable.", "Why not add the new interfaces for adding log output functions to the RCL layer so that people implementing their own nodes can hook up additional loggers?\n", "If someone really wants to do this it will be possible by the RCL handle for their node and directly using the rcutils library. The reason for not adding to the RCL interface to make it easy to do in every language is that we do not want to encourage node developers to add their own custom logging in this way. It is better to conform to relying on only the outputs in the rcl/rcutils libraries so that your node can be more easily integrated into other applications. If an application developer wishes to use your node in their application, but wants total control over how logging is handled, it is a better experience for them to only need to adjust the standard output mechanisms natively provided by ROS 2.", "\n", "Why not also add the ability to set different output functions for different logger hierarchies?\n", "We are not providing this as part of the native rcutils library as a simplifier for our initial work. This functionality would be available as part of the shared library output that we are proposing. So anyone who really wanted that level of control could get it for both stdout and file logging by adjusting the configuration file for the shared library logger.", "\n", "Why not send all logs to the rosout topic instead of only those sent to loggers associated with nodes?\n", "Because of the way ROS 2 associates DDS concepts with ROS Nodes, there didn\u2019t seem to be a clean way to setup a general topic on a process that wasn\u2019t associated with an existing Node. Since a process can also contain multiple ROS Nodes, we didn\u2019t think it would be good design to just pick one to have everything published to.", "\n", "Why the shared library?\n", "We went with the shared library approach in order to provide a way to hook into an existing logging library without tying ROS 2 to only using that library. Wrapping an existing logging library will give us the ability to have features such as file logging, log file rotation, and a hierarchy of output sinks without the need to implement all of that in the ROS codebase.", "\n", "Why keep the existing stdout logger implementation in rcutils instead of relying on the shared library to provide the stdout implementation, since most major logging libraries already have those created.\n", "We decided to keep the existing stdout output function because it provides a standard in the cases where someone does not want to rely on the shared library logger. Since you can enable/disable any of the three natively provided log output functions it is easy for a user who wants more control to disable the ROS provided stdout and rely on the", "\n", "Since the shared library will be used in the rcutils layer will it integrate with the custom allocators that the rcl/rcutiles use?\n", "No, we are not planning to provide a hook into the custom allocator for the initial implementation. This could be added later, however, most of the open source logging implementations that are well supported and provide rich features do not provide interfaces for providing your own allocator. We did not want to pass the allocator into the shared library when the shared library wouldn\u2019t actually be able to use it. In the case where someone needs the control over allocation they would need to recompile anyways and at that point could swap out the shared library implementation with a logger of their choosing that provides more control over memory allocation.", "\n"], "url": "https://discourse.ros.org/t/ros2-logging/6469"},
{"title": "ROS2 OpenVINO Toolkit 0.6.0 released", "thread_contents": ["I am pleased to release ROS2 OpenVINO Toolkit ", ".", "In this version, some new features are supported:", "From this version, NCS2 (Intel Neural Compute Stick 2) is directly supported by ", "( the opensource version of OpenVINO Toolkit), NCS2 device can be easily used with whichever version of OpenVINO toolkit is adopted as the backbone framework.", "Multiple pipeline feature supports one or more pipelines run on the same system in parallel. For example, end user can launch Object Detection pipeline and People re-identification Pipeline at the same time when fulfilling a person-sensitive authentication and semantic scene reconstruction.", "Inference result filtering supports to filter inference result in the early stage of the inference process. End user can directly enable filtering feature by editing pipeline configuration files, without changing source code, as long as the corresponding filtering function is implemented already. To demonstrate this feature, vehicle detection (a pipeline of Object Detection ->[Vehicle Attributes Recognition + License Number Recognition] -> Topic Output) was re-implemented in this version.", "Meanwhile, source code was refactored to better support different models (say, SSD models and yolov2 model) in parallel for object detection inference.", "Please see more from ", ". We are still in progress of backporting these features to ROS version, you can expect to see these features soon in ", ".", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Support OpenVINO toolkit 2019R1.1 (see more from ", ").", "Support Multiple pipelines. One or more pipelines can be configured and launched in parallel.", "Support Yolo V2 model for object detection.", "Support inference result filtering."], "url": "https://discourse.ros.org/t/ros2-openvino-toolkit-0-6-0-released/9830"},
{"title": "Call for contributions: ROS 2 Node.js client", "thread_contents": ["Hi there,", "I want to invite anyone who is interested in developing robotic programs by web technology to contribute to the ", ".", "Node.js is a JavaScript runtime which is powerful, across-platform and easy to develop. Also, by leveraging npm, it has the largest distribution platform. The Node.js client of ROS 2, ", ", is just the one based on Node.js, not the node in ROS ", " and the rclnodejs started to support the ROS 2 since its first stable release - Ardent Apalone in 2017 (long long ago). I also presented the project in person on ", ".", "The latest release of rclnodejs (0.10.0) has supported the Dashing Diademata. Along with the increasing maturity of ROS 2, more and more developers in the ROS ecosystem would like to migrate their projects to ROS 2 gradually, and I believe the requirement of having a Node.js (JavaScript) client will be stronger than anytime before. The project rclnodejs is managed by the ", " organization . If you have web developing experience in ROS 1 era, you must hear of it. It offers a bunch of useful modules to bridge ROS to the web world. For the rclnodejs, it has a thin layer to wrap the rcl library, and 96% test coverage to ensure the quality. What\u2019s more, we have Windows/Linux/macOS CIs to verify every PR and release.", "Unfortunately, there is still a gap. I submitted an ", " to describe the functions which are absent till now. I hope anyone who cares the web technology can help to contribute.", "Thanks!", "\nMinggang", "We at Rover Robotics are interested in helping to support web tools for ROS 2. We are currently working on web tools for setting up a robot (connecting it to wifi, setting UDEV rules). Then we will be moving on to higher level features like creating / editing / saving maps, visualizing camera feeds with bounding box overlays.", "We think that it would be nice to modularize these components into apps and have a ROS 2 web app store for posting to and installing from.", "Hi Nick,", "I am very glad to hear from you, thanks!  I strongly agree that integrating the web components into ROS 2 is valuable.", "Currently, we have two components designed for ROS 2, that\u2019s ", " and ", ".  Others are suitable for ROS 1 only, you can check ", ". But I want to point out that some repo are not active, please notice that if you want to reuse them in the future.", "Meanwhile, the OSRF once expressed that they want to port the current ROS 1 components to ROS 2, see ", ", but I don\u2019t know the current status of it.", "Finally, you are welcome to contribute to the components of ROS2, and you can also contact ", " who is very helpful to discuss your thoughts.", "Meanwhile, the OSRF once expressed that they want to port the current ROS 1 components to ROS 2, see ", ", but I don\u2019t know the current status of it.", "The porting effort is still ongoing. The latest PR is from today: ", "Hi Dirk, thanks for your update!", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/call-for-contributions-ros-2-node-js-client/9742"},
{"title": "Naming Convention for ROS 2 repositories", "thread_contents": ["I could have sworn that I saw someone else post this question but I can\u2019t for the life of me find it.", "My question is - if we are developing packages for ROS 2 should we:", "A) make a ", " branch within the repo that was used for ROS 1", "\nB) make a new repo and name it ", " and rename the old repo ", "I\u2019d like to hear what the Open Robotics folks have to say about this. It would be really nice if everyone did the same thing.", "Yeah, I last posted on that back in December, ", ".  I think the advice there still holds; if the port shares substantial code with the ROS 1 code, then a branch makes sense.  If it is a ground-up rewrite + port to ROS 2, a separate repository makes sense.", "If the ROS1 and ROS2 versions share a substantial amount of code, I would recommend to move this into a dedicated ", " library and have thin ", " and ", " wrappers.", "\nSee also: ", "I think even for a total re-write adding it as a branch would make the most sense for sorting and keeping URLs intact. Having some packages appended with 2 and others as branches makes things very confusing and frustrating.", "Great, thanks for the link ", ". I agree that not breaking links is important, I just don\u2019t like that devel branches are used for releases, but I can live with compromise. We will be changing our repo to conform to the \u201cone repo for both ROS 1 and ROS 2 with melodic-devel and dashing-devel branches\u201d standard.", "Just for context: the ", " suffix in the branch names is mostly for historic reasons. When we started using branches for each distro the repositories also had tags named by the ROS distro (e.g. ", ") and therefore the branch named needed to be different.", "By now tags are commonly using the version number so you could consider dropping the ", " suffix\u2026", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/naming-convention-for-ros-2-repositories/9838"},
{"title": "ROS2 Real-time Working Group Online Meeting - May 20th, 2019 between 7AM and 8AM PDT (UTC-7)", "thread_contents": ["Hi everyone,", "We are planning to hold the first ROS 2 Real-time Working group meeting on May 20th, 2019 between 7AM and 8AM PDT (UTC-7).", "See pre-discussion: ", ".", "\nApex.AI is inviting you to a scheduled Zoom meeting.", "Topic: ROS 2 Real-time", "\nTime: May 20, 2019 7:00 AM Pacific Time (US and Canada)", "Join Zoom Meeting", "\n", "One tap mobile", "\n+16699006833,771375394# US (San Jose)", "\n+19294362866,771375394# US (New York)", "Dial by your location", "\n+1 669 900 6833 US (San Jose)", "\n+1 929 436 2866 US (New York)", "\nMeeting ID: 771 375 394", "\nFind your local number: ", " ", " ", " ", " ", " ", " ", " ", " ", "  ", " see the invite above.", "Could I please join in as a listener?", "Thanks", "Vilas", "(", ")", " yes, very welcome to join.", "I would like to join the meeting.", "\nMaybe I can comment to some RTOS-related topics.", "i did not make it, could you share the recording or minutes, if available?", "Dear all,", "\nhere are the minutes of our meeting on May 20.", "Zoom is the leader in modern enterprise video communications, with an easy, reliable cloud platform for video and audio conferencing, chat, and webinars across mobile, desktop, and room systems. Zoom Rooms is the original software-based conference...", "On the use case:", "Create an rmw implementation which works for a single process. Once that works connect with the underlying data link (e.g. TSN). Measure: malloc/realloc calls, page faults, context switches, memory consumption, blocking calls, \u2026 RTI Connext Micro is a suitable DDS implementation for something like this due it its staticity and intra-process communication feature.", ": find someone that will lead this work.", "Document current state of the art. Someone remarks that there were still mutexes used in e.g. rmw or rclcpp. Memory is still being allocated/de-allocated when receiving messages.", "\n", ": find examples in code.", "\n", ": get William to present his findings", "Invest in the tools for static and dynamic code analysis and tracing and carefully scan the code.", "\n", " create a shared repository for above tools. Bosch will e.g. open-source their integration of LTTng in ROS2. Silexica is integrating they dynamic analyser.", "We briefly scanned through the paper by Bosch: ", ".", "\n", ": present the paper in detail in one of the next meetings.", "Victor, Ingo, Dave and Geoff will co-submit.", "Create an rmw implementation which works for a single process. Once that works connect with the underlying data link (e.g. TSN). Measure: malloc/realloc calls, page faults, context switches, memory consumption, blocking calls, \u2026 RTI Connext Micro is a suitable DDS implementation for something like this due it its staticity and intra-process communication feature.", " : find someone that will lead this work.", " I can take this up. However, I would need some help to understand the problem statement and to find the solution. Let me know your thoughts.", "How about having another meeting in July?", "Bosch will e.g. open-source their integration of LTTng in ROS2.", "Follow-up: I made a ", " about the alpha release!", " I will send an invite for next week.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["select one of the use cases below and probably loose interest from people having other uses case.", "focus on somewhat generic parts of ROS 2 that will help independently of the selected use case.", "\nMy reading of your comments is that these parts are the following ones:", "create rmw layers for static and real-time middleware (RTI Connext Micro, Micro-XRCE-DDS)", "perform memory audit in rmw, rcl and rclcpp (remove unneeded memory allocations)", "split memory allocation in init and runtime phases, avoid memory fragmentation", "remove all blocking calls (or replace with timed calls, e.g.  ", "  vs  ", "  )", "implement real-time pub/sub (either using Waitset or modified Callback/Executor)", "integrate tools for static and dynamic code analysis (PCLint, LDRA, Silexica, LTT-ng)", "Create node architecture for deterministic execution (policy for message aggregation, nodes cohesion, parallelization, local error handling \u2026)", "Create a design for global error handling (history of failures, core dumps, fail-safe mechanism, \u2026)", "Create CI for RT testing (e.g. ", ")", "consumer robots (Ingo)", "warehouse logistics robots (David)", "mobile manipulation robots (Victor)", "autonomous driving robots/cars (Dejan, Geoff)", "Victor, Acutronic Robotics", "Tobias, Bosch Research", "Ingo, Bosch Research", "David, Ubiquity Robotics", "Akihiko, eSol", "Geoff, TierIV", "Lalit, Intel", "Lander and Carlos, Acutronic Robotics", "Matt, Intel", "Nick, AWS", "Sriram", "Dejan and Anup, Apex.AI", "Dejan to provide a use case description and requirements", "find someone that will lead the work on real-time able rmw", "get William to present his findings on real-timeness in rcutils, rcl and rclcpp", "create a shared repository for tools for static and dynamic code analysis and tracing", "present Bosch paper and real-time with Callback+Executor in detail in one of the next meetings", "Propose a use case => requirements => architecture => hardware", "Proposed canonical use case: a vehicle/robot  encounters an obstacle and has to stop safely for it", "Proposed other use case: autonomous driving\n", "\n", ": Dejan to provide a use case description and requirements", "\n", "create rmw layers for static and real-time middleware (RTI Connext Micro, Micro-XRCE-DDS)", "perform memory audit in rmw, rcl and rclcpp (remove unneeded memory allocations)", "split memory allocation in init and runtime phases, avoid memory fragmentation", "remove all blocking calls (or replace with timed calls, e.g. ", " vs ", " )", "integrate tools for static and dynamic code analysis (PCLint, LDRA, Silexica, LTT-ng)", "implement real-time pub/sub (either using Waitset or modified Callback/Executor)", "create rmw layers for static and real-time middleware (RTI Connext Micro, Micro-XRCE-DDS)"], "url": "https://discourse.ros.org/t/ros2-real-time-working-group-online-meeting-may-20th-2019-between-7am-and-8am-pdt-utc-7/9196"},
{"title": "Alpha release of ROS 2 tracing tools", "thread_contents": ["The alpha version of tracing tools for ROS 2 has been released! The tools are split into two repositories: ", " and ", ".", "There\u2019s also a ", " tutorial over on the micro-ROS website. It introduces tracing, explains why it is relevant, and shows how to use the tools to trace a simple ROS 2 example, process the data, and plot the results.", "Since this is an alpha release, we\u2019re very interested in getting feedback and hearing about the kinds of analyses the community would like to see. Contributions are of course welcome!", "The next step is to test on a real robot and compare the results to other tools.", "Looks interesting!", "A few questions (without having checked in great details the gitlab pages:", "The current implementation of ros2_tracing uses LTTng, which runs on Linux. It\u2019s not quite standard ROS 2 (yet!), because rcl and rclcpp need to be instrumented. We provide those as well. But yes, that\u2019s the \u201cstandard\u201d rclcpp API, and we\u2019ll try to get it merged into upstream.", "In the micro-ROS project, we\u2019re also doing a micro-controller specific implementation of the API, but that\u2019s not quite ready, yet.", "Regarding gitlab: We (Bosch) are using gitlab internally, and I\u2019ve gotten used to its additional features, so I try to use it externally as well. In the overall micro-ROS project, there was a historical decision to go for github between the various participants, so that\u2019s why we use something else there.", "btw, we just opened the PR\u2019s for this. See ", " and ", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["I suppose this works with the standard ROS 2 version, right? (i.e., this is not specific to the micro-ROS project)", "Out of curiosity but why publish this on gitlab, when you already have a github account as well?"], "url": "https://discourse.ros.org/t/alpha-release-of-ros-2-tracing-tools/9833"},
{"title": "Interactive Markers in ROS 2 - RFC", "thread_contents": ["I\u2019ve started porting ", " to ROS 2 and taken this as an opportunity to revisit the design.", "One of the proposed changes is to use a ROS service, instead of a latched topic, to communicate the full state between an interactive marker server and client. The consequence of this change is that it will constrain us to one interactive marker server per topic. In ROS 1, it is possible to have multiple interactive marker servers interact with a client on the same topic, but it is unclear if this is a common use-case (it doesn\u2019t seem to be).", "If you have feedback on the proposed changes or other changes you\u2019d like to propose, you can use this ", ".", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/interactive-markers-in-ros-2-rfc/10030"},
{"title": "ROS2 Navigation WG - Thursday 3:00 pm Pacific (GMT-7:00)", "thread_contents": ["Thursday (recurring)", "\n3:00pm Pacific Standard Time", "Weekly on Thursday", " ", "Join by phone", "\u202a+1 423-588-1304\u202c PIN: \u202a426 363 201\u202c#", "Please reply if you plan to attend.", "Also, if you would like to be added to the Calendar notice, please message me with your email address.", "Matt", "I will be there, although I may be an elevator ride late (I\u2019m not sure if I can get into the building before 7am).", "Meeting again today 1/31. 2pm PST.", "Updated for meeting on 2/7.", "See you again this week, same bat time, same bat channel!", "Meeting again today, 2/14, 2pm Pacific.", "Topics:", "As usual, if you\u2019d like to receive a weekly google calendar invite, message me and I\u2019ll add you.", "Meeting this Thursday 2/28, 2pm Pacific.", "Message me with your email address if you want to receive the Google calendar invite.", "Meeting notes from today, 3/7/19", "\n", "That link redirects to ", ", and results in ", ".", "OK, well I tried the Google Docs \u201cPublish to web\u201d which I guess didn\u2019t work. Sorry. I had thought that would work. I won\u2019t try that again\u2026 ", "Here they are.", "Nav2 usage examples / tutorials needed", "Nav2 Dashing Roadmap - ", "Need to update each line with relevant issues & PRs", "Add \u201cHelp Wanted\u201d where needed", "Real-time support", "ROS2 deadlines, liveliness", "Meeting held yesterday, decision made to focus on Topics first, then Services and Actions later", "Mike Jeronimo also working on some proposed enhancements to ROS2 rates and timers for monitoring if they\u2019re meeting deadlines", "Linux Foundation RT kernel - full RT support will be available this Summer", "Safety certified Linux - Eliza project?", "They have significant industry backing and apparently a very large budget to work with.", "Linux Foundation RT kernel - full RT support will be available this Summer", "Safety certified Linux - Eliza project?", "Due to resource limitations, we\u2019re not directly involved in the nav. stack ", " however we\u2019re very interested on getting some alignment here, specially with regard our ongoing work on MoveIt! 2.", "+1 to the ELISA project, we recently joined the initiative and seems to be rather well oriented.", "Ive been talking with ", " semi-regularly regarding our Nav2 work, and he attended the WG yesterday. I\u2019m glad to hear about the MoveIt! 2 project happening too. Let me know what alignment you\u2019re looking for, and I\u2019m happy to collaborate.", "Update, due to Daylight Saving time in the US, we\u2019re pushing back the WG to 3pm to allow for participants in the Asian continent.", "We\u2019re meeting today 3/21 at 3pm Pacific.", "No meeting this week (3/28/19) - I\u2019m on family vacation", "Here are the notes from last weeks meeting. Navigation 2 WG 3/21/19", "\nCarl", "\nMohammad", "\nMike", "\nMatt", "\nJacob Perron", "\nSteve M", "\nDevin Bonnie", "\nEmerson Knapp", "\nRuffin", "LifecycleHelper Class - Issue ", " (Mike Jeronimo)", "Will this work for Actions?", "Jacob will follow up with Karsten & comment in issue", "Nav2 RViz plugins", "Lifecycle implementation PR ", " - ", "Random Crawl - (Mohammad H)", "Pose Persistence - (Carl)", "PR change for QOS settings - ", "Opens - None", "All - calling for topics for Nav2 WG meeting tomorrow 4/25", "Meeting notes:", "\nNavigation 2 WG 4/25/19", "Attendees:", "\nCarl", "\nMatt", "\nMike J", "\nMohammad", "\nBrian", "\nSteve M", "\nGeoff B", "\nChris B", "\nJacob", "Topics:", "\nLifecycle staging - see multiple PRs in review right now", "Parameters change upstream broke master branch, need to fix build and test", "Parameters discussion", "Actions API change is coming -", "Architecture diagram - Mike J. to present next week", "FYI, changes to the action client API are merged to master now. You can find a new ", ".", "In case it affects the navigation team, yet another small change to the action API adding a response code to the cancel service response:", "All, here is the diagram that ", " presented last week which shows the high-level overview of the architecture with lifecycle nodes and the lifecycle manager.", "I\u2019m cancelling this week\u2019s meeting due to travel.", "I\u2019d also like to do a \u2018call for topics\u2019 for upcoming meetings. If there are items you want to discuss, please post them here. Also, as usual, if you want to be added to the meeting invite, message me through the discourse messaging app and include the email address you want added to the invite.", "Matt", "Thanks for providing that diagram, and sorry I couldn\u2019t be there for the explanation. It was 10 days of enforced holidays. I did intend to participate but ended up sleeping through my alarm.", "Looking at the diagram, unfortunately there are aspects that I can\u2019t understand without that explanation. Was a recording of the meeting made?", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Crystal development branch and sync release", "World Model Design", "Lifecycle Node status", "Bringup on your robot\n", "Similar to ROS1 Navigation tutorials", "Also see Nav section of the book Quigley, Gerkey, et al", "Create page link from main README", "\n", "Steve - PDF Navigation tuning guide", "Look to use GH Pages", "Carl will look at what OSRF is using for main ROS2 tutorials", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "Look for issue above to be updated", "\n", "\n", "\n", "PREEMPT_RT will be \u201cbuilt in\u201d and can be turned on / tuned on system without rebuilding", "Geoff will look for a link to send out", "PREEMPT_RT will be \u201cbuilt in\u201d and can be turned on / tuned on system without rebuilding", "Geoff will look for a link to send out", "\n", "\n", "\n", "\n", "LIfecycle control (Startup and shutdown)", "Loop time monitoring", "Up for review, requesting feedback", "Robot will move randomly without hitting obstacles", "Can be used to test AMCL, by checking location vs. Gazebo", "Can also be used to \u201cexplore\u201d a map for SLAM", "Could be used for auto-localization", "Only relies on Keras and Tensorflow, not using OpenAI", "Not released yet, WIP", "In ROS, AMCL saved pose to parameter server", "In ROS2, no parameter server, how can we save?\n", "Is this a more general issue?\n", "Pose, trajectory, map?", "\n", "\n", "can we add metadata to enumerate the lifecycle state a parameter can be changed in.", "Need to review this PR and provide feedback: ", "\n", "Authentication for parameters - would need to talk to security WG about this", "Adds optional callbacks for result and feedback, so no \u2018wait for result\u2019 is needed"], "url": "https://discourse.ros.org/t/ros2-navigation-wg-thursday-3-00-pm-pacific-gmt-7-00/7586"},
{"title": "Navigation2 WG - call for topics", "thread_contents": ["All,", "\nWe\u2019ve been having Navigation working groups for almost a year now with some good community participation, however most of the time our Intel team has been bringing topics to the meeting.", "I just want to inform the community that all are welcome to attend and if you have specific topics you would like covered, to please reply to this Discourse thread and we\u2019d love to coordinate.", "Thanks,", "\nMatt", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/navigation2-wg-call-for-topics/10069"},
{"title": "Setting-up the Turtlebot3 with ros2 on Ubuntu Server IoT 18.04", "thread_contents": ["Hi everyone, this is a little guide for getting Ubuntu Server IoT 18.04 to work with the Turtlebot3. Ubuntu Mate can be a bit bloated and I really don\u2019t need a GUI, so I thought just having an IoT OS might be useful.", "You can get it from this link ", ". Make sure to download the Raspberry Pi 3 version!", "As an aside, the Ubuntu Mate image for the Raspberry Pi 3 version that is 32-bit, but that won\u2019t work with this distro. Only the Raspberry Pi 2 version of Ubuntu Server IoT is 32-bit. I tried that version with the Raspberry Pi 3 and it won\u2019t boot past the color screen.", "Insert the microSD card into the slot on the Raspberry Pi 3 and begin the boot up process. It will go through the whole configuration and you will reach the login screen which is just a bash shell. The login name is ", " and the password is ", ". Once entered you will be greeted with an option to change the password. Do it since it is much more secure this way.", "This may not be necessary if you plan on just using one Turtlebot3, but if you want to use multiple ones, I would suggest changing the device\u2019s ", " using:", ": When I use ", ", it typically means you ", " use them the command. So the above command would look like this when you type it:", "Just like the step above, this is optional if you only plan on using one turtlebot3. If not, I would suggest either changing the current one, or generating a new one and giving it the proper group permissions. I decided with just creating a new one. You can do that this way:", "Once the command is executed, it will ask for information about the user such as First Name, Last Name, etc. You can just keep them blank and press ", " to continue to the next options. Next, we will add group permissions to the new user once back to the command prompt:", "The above command gives the new username ", " permissions by adding them to the ", " group. To have the same permissions as the ", " user you logged on with, you will need to repeat this command and add the user to the following groups:", "Not all of these groups are useful or needed (I have yet to see a turtlebot with a ", " drive lol), but I added them just to stay on the safe side.", "Once this is done, reboot using the ", " command and login using the new username.", "This is a step for people that want a static IP for their turtlebots. In our lab, this is super useful because we can only connect to the robots using a wifi router separated from the universities network. To install packages and such on the Raspberry Pi requires us to use an ethernet cable. Therefore, the following configuration is a wifi connection with no internet and static IP, and an ethernet connection with a dynamic IP that lets us access the internet.", "The newest versions of Ubuntu have a really neat systemd tool called ", ". Instead of configuring those old ", " and ", " files, we just have to modify one ", " file located in the ", " folder. We will begin by changing directory into the ", " folder:", "In this folder, you will find a file which we can ignore, and we will create a new file called ", ":", "Now we will modify it using ", ":", ": For the ", " section, the connection name and password should be in quotes like above.", "Finally, apply the new network configuration using this command:", "For some reason, the OS will attempt to configure a network IP at startup. This can delay boot-up by up to 5 minutes. So to prevent this, we are going to mask this systemd process using the following command:", "Now boot-up should be super quick!", "Next, we are going to install the Turtlebot3 ros2 packages. Instructions are found ", ". These are not downloadable through the ros2 repositories yet, so you will need to compile many of these. Just a little heads up, the Micro-XRCE-DDS-Agent installation takes the longest because it will compile third party packages too. Everything afterwards is pretty quick.", ": The ", " installation is wrong. The link for the ", " driver is broken and according to ", " issue, they are attempting to fix the problem. In the meantime, you can use the Crystal Clemmys driver. The command to download that is this:", "Next, you will have to update the OpenCR board to use ros2. The guide to do that is provided ", " The issue with this is that Ubuntu Server IoT 18.04 is 64-bit arm OS. The drivers provided by ROBOTIS can only be applied by a 32-bit arm OS. I raised an issue ", " on their GitHub page, so they might provide one in the future.", "For now, the best thing you can do is get a spare Ubuntu Mate ", " microSD card and use that to install the new updated OpenCR Drivers. They also provide ", " drivers, so you can connect your laptop to the OpenCR board and install the drivers with that too.", "Follow the binary installation guide found ", ".", "Since I use the turtlebots for a multi-agent configuration, a nice way of having multiple robots interact in the network easier is to have all the devices use the same ", ". You can add a value to it on startup by adding it to your ", " file like this:", "The number can be anything you want, just make sure all the devices you wish to use together have the same one.", "Thats it! If you have any feedback or suggestions please let me know!", "EDIT: Grammar", "Wow. awesome! There was this new way. I want to try it. ", "\nThank you for sharing this method in detail.", "Thanks! I\u2019m glad you like it. I found using Ubuntu Server IoT very easy to use. The only issue is that the Raspberry Pi 3 version is 64-bit and not 32-bit like the Ubuntu Mate images. This only causes a bit of pain for OpenCR board update file.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/setting-up-the-turtlebot3-with-ros2-on-ubuntu-server-iot-18-04/10090"},
{"title": "ROS 2 CLI Arguments Syntax - Feedback Request", "thread_contents": ["Much like in ROS 1, ROS 2 nodes\u2019 command line is evolving to allow passing parameters via key-value pairs. In this case, however, remapping rules and parameter assignments need further disambiguation. This drove ", ", about CLI arguments syntax and how it affects usability, that have yet to conclude.", "At this point, we\u2019d very much appreciate your feedback, either on this post or on this ", ", to make sure the end result is comprehensive enough of the varying ways in which you use (or would like to use) this ROS 2 feature - to land in ", " -.", "To follow up on this, we\u2019ve settled on a design and ", " accurately reflects it. Thanks to everyone that actively participated in the discussion. Feel free to keep commenting on the design document if you have additional input.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros-2-cli-arguments-syntax-feedback-request/9942"},
{"title": "Xacro porting to ROS2", "thread_contents": ["Hi,", "As communicated with ", " and ", ", Our team at Persistent System is extending our help in porting xacro package to ROS2. Please let us know if anyone has any concern or any important information that we will help us in this this porting effort.", "Thanks,", "\nDan", "Hi,", " and ", "As ", " has mentioned our interest in porting xacro package to ROS2,", "\nWe have started porting xacro code and test cases as per ROS2 guidelines to support ROS2 bouncy.", "\nWe want to share this development but there is no ROS2 development branch on ", ".", "\nI have created github ticket to create ros2-devel branch. ", "Can anybody create ros2-devel branch so that we can raise PR against it.", "Thanks,", "\nVandana", "Hi,", " and ", "I have ported xacro pcakge to ROS2 and it has passed all functional and cosmetic test cases.", "\nPull request is here: ", "\nIt has also passed Travis CI build.", "Could you please review it and give your feedback ?", "Tested it on crystal release, its passing all functional and cosmetics test cases.", "Hi ", ", is there anything left to do in order to bloom xacro for release?", "Hi ", " , As per my understanding Nothing is left. I had tested it on bouncy and crystal.", " some active work is happening here: ", ". Once this is working completely we should bloom it for the community. Thank you for your contributions!", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/xacro-porting-to-ros2/6340"},
{"title": "Execute code within a Node/Callbackgroup context", "thread_contents": ["Currently a node lives in a executor, and callbacks from timers and subscriptions are executed by that executor, taking callbackgroups into account.", "However, sometimes I have a trigger from somewhere else, not related to ROS, that I want to handle in that same context, This to prevent having to fiddle with mutexes etc.", "Basically something like this:", "\nrclcpp::Node::execute(CallbackT && callback, rclcpp::callback_group::CallbackGroup::SharedPtr group = nullptr);", "\nI then expect the callback to be executed as soon as possible in the same way as a subscription or timer callback.", "Now I do it by creating a one-off timer with a duration of 0, but it\u2019s not the nicest thing in the word. Would it be useful to have something like that in ros2?", "Yeah, that would be nice, and we\u2019ve thought about it before, but have always just done a timer will a small or zero timeout instead.", "Other similar systems have methods like ", ". Which just calls the callback as soon as it is convenient.", "Yeah it also works indeed, it\u2019s just that to make a one-off timer you need to store the timerhandle and make it accessible to the callback in order to make it one off.", "Just for reference, i now use the following utility:", "I solved a similar issue creating a custom objects that inherits from ", ".", "\nThis is registered similarly to subscription callbacks and it can  be triggered externally.  In my case it\u2019s triggered whenever data is added to a buffer.", "That\u2019s actually a cleaner solutions that should also introduce less overhead. Requires a bit more effort though but I\u2019ll look into it! Thanks!", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["  gc_ = rcl_get_zero_initialized_guard_condition();", "  rcl_ret_t ret = rcl_guard_condition_init(", "    &gc_, context->get_rcl_context().get(), guard_condition_options);", "\n", "  if (RCL_RET_OK != ret) {", "    throw std::runtime_error(\"SubscriptionIntraProcess init error initializing guard condition\");", "  }", "}", "\n", "bool", "is_ready(rcl_wait_set_t * wait_set)", "{", "  (void)wait_set;", "  return buffer_->has_data();", "}", "\n", "void execute()", "{", "  if (any_callback_.use_take_shared_method()) {", "    ConstMessageSharedPtr msg = buffer_->consume_shared();", "    any_callback_.dispatch_intra_process(msg, rmw_message_info_t());"], "url": "https://discourse.ros.org/t/execute-code-within-a-node-callbackgroup-context/9406"},
{"title": "Set symbol visibility to hidden for RMW and RCL packages", "thread_contents": ["Hi all,", "I am planning to work on a task to set symbol visibility to hidden for some of the RMW and RCL packages. The core rmw package has the header for symbol visibility definitions and has its cmake set visibility to hidden by default in the compile flags [1]. However other packages just have the visibility headers defined but not enabled in compile flags [2]. I am planning to make the changes to enable the same.", "Please let me know your thoughts/any concerns about the same. It may happen that some downstream dependency is depending on a hidden symbol, however we do want to catch such cases and have them fixed if possible.", "Regards,", "\nSachin", "[1] - ", "[2] -", "Updating more libraries to hind their symbols by default seems reasonable to me. Any cases where we\u2019re using unintentionally referenced symbols should be addressed, as you said.", "However other packages just have the visibility headers defined but not enabled in compile flags [2].", "The symbol visibility headers are used primarily for Windows, where symbols must be declared publicly, and implicitly referencing symbols will not work.", "Thanks William, I have opened a couple of pull requests for RCL packages to get this started:", "\n", "\n", "\n", "Thanks ", " ! Our goal is to catch dllexport issues earlier by enabling this change.", "What\u2019s the reason behind setting this in ", "?", "This caused me some troubles since I was trying to use some rcl functions in my application.", "\nThe linker immediately told me that some of them were hidden (and indeed I saw the RCL_LOCAL macro).", "\nHowever, it was also not able to link against other functions marked as RCL_PUBLIC.", "\nThen I noticed this line in the CMakeLists.txt, however the linker was not giving any hints for what concerns the RCL_PUBLIC functions hidden by the aforementioned line.", "I opened a question on ROSAnswers about how to set the logger programmatically since all these functions are hidden.", "\n", "Functions marked as ", " should be accessible for other libraries, if not open an issue on the package (I assume ", ") for which this isn\u2019t the case.", "Based on your question on ROS answers, I would guess one is just not public but maybe could be (again an issue asking to make it public would be best) and the other might be a bug (using ", " rather than ", " or something else).", "It was exactly as you said.", "The ", " function was not accessible due to a missing header ", ".", "\nFor what concerns the other functions I opened a PR to make them public ", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["rmw: ", "\n", "rmw_connext: ", "\n", "rmw_fastrtps: ", "\n", "rcl: ", "\n", "rcl_action: ", "\n", "rcl_lifecycle: ", "\n", "rcl_yaml_param_parser: ", "\n", "rclcpp: ", "\n", "rclcpp_action: ", "\n", "rclcpp_lifecycle: ", "\n", "rcutils: ", "\n"], "url": "https://discourse.ros.org/t/set-symbol-visibility-to-hidden-for-rmw-and-rcl-packages/7981"},
{"title": "ROS2 and DDS Security enhancement on arm platforms", "thread_contents": ["Hi,", "I\u2019m from arm. I\u2019d like to share our enhancement of ROS2 and DDS security based on arm platforms.", "In arm V7/V8 core architecture, we have ", " support (please take a look at this ", ") which can enhance the DDS Security Plugins currently implemented based on OpenSSL.", "Through the use of arm TrustZone feature, we can switch the system execution states into:", "\n\u2022\ta ", " (rich OS environment is executing here) and", "\n\u2022\ta physically isolated ", " (here a trusted OS is running which protects many ROS2 security assets, like root keys through hardware protection).", "\nAs shown in below figure, the ROS2 runs in Normal World (Non Trusted) and the security assets are protected in Secure World (Trusted). Since Secure World is physically isolated from Normal World, the Secure World can protect the ROS2/DDS sensitive security assets from leakage to Normal World even if Normal World is hacked.", "\n", "\nIn contrast, since OpenSSL runs in Normal World which is not considered as trusted, the security assets in OpenSSL might be vulnerable if rich OS or applications are hacked.", "With arm TrustZone, ROS2 with DDS security can run on billions of arm devices in an enhanced security environment.", "\nWe are very glad to discuss with you in details. Looking forward to hearing from you.", "Thank you.", " ", "Hi ", "! This is certainly interesting for those of us trying to make use of ROS 2 in real applications.", "Are you guys currently working into integrating these enhancements in any specific DDS implementation? Is there any working example available that we can review? Will you open source these \u201cimprovements\u201d in an open source DDS implementation together with the security plugins as a reference guide?. This will definitely help the community (and vendors) evaluate it and eventually adopt it.", "I\u2019m particularly interested in examples working with lead DDS vendors such as RTI. Any plans on this regard?", "Slightly off-topic, but ", "\u2019s post reminded me of it: ", " (", ").", "Hi ", "!", "We are currently developing our secure libraries based on arm TrustZone to support some popular DDS, together with the lead DDS vendors.", "\nWe will definitely release the implementations after it is verified, thus billions of arm platforms with ROS2/DDS can benefit from it.", "Thank you.", "Honestly, there is no \u201cabsolute\u201d secure. It\u2019s just about the cost(complexity) to crack.", "\nFor the CLKSCREW issue:", "\nYou can see the first step is to crack kernel in which case no secret can be kept for openssl solution.", "And this attack is HW design specific.", "\ne.g. The fundamental is that non-secure SW can control the regulators of clock and voltage.", "\nThis might not be true for all the platforms. As I know, some designs are using an MCU running in the secure world to access the regulators which are also in the secure world. The Kernel in the non-secure world can\u2019t access these regulators directly. It can just send the high-level requests to this secure MCU through Arm-TrustedFirmware. So this MCU is a safeguard to restrict the range of frequencies and voltages that can be configured.", "\nAnother example is to use the hardware crypto engine to generate/store the keys and decryption/encryption also happen in HW. In this case, CLKSCREW can\u2019t attack it anyway.", "Thanks ", " for posting this.", "\nIs it possible to share the more details about the design and the API that the DDS Security plugins should implement to be able to leverage TrustZone?", "Thanks!", "/cc ", "Hi ", ", we are very glad to share our design. Any suggestion is welcomed.", "Please help check the two documents in below.", "\n", " (1.3 MB) introduces the general idea of our design. A group of generic internal security APIs is inserted to connect vendor DDS Security Plugins and diverse security implementations, such as OpenSSL or OP-TEE based on arm TrustZone.", "\n", " (2.1 MB) introduces the generic internal security APIs in details.", "Looking forward to your feedback. Thanks a lot.", "thanks ", "!", "\nI think several members of the community will be interested in having a closer look at these documents.", "\nGetting feedback from DDS experts such as ", ", ", " and ", " would be extremely valuable. Moving towards adoption and support for Trustzone in all supported DDS implementations would be really awesome!", "Just started reviewing the material.  Looks promising so far.  Just want to get some clarification on overall design.", "ARM DDS SecureLib defines an interface library but does not appear to be responsible for context / resource management.  For a prospective deployment context, it is possible there could exist different levels of applications attempting to leverage TrustZone, thus a form of resource management that can properly handle the context switching securely would need to be supported.", "I am assuming that this form of feature would likely be presented in the TEECLibrary existing in layer ", " in the ", " due to context awareness or is this something that is being attempted to be pushed into the ", " ", "?", ", thanks for the comment.", "TEE Client library, TEE drivers and TEE-OS protect the TEE Client Application context in Non-Secure World. The context, including the resource, will be isolated and managed by TEE Client library, TEE drivers and TEE-OS.", "If there is any further question, please feel free to let me know.", "To give a small update on this topic: we implemented a small application in ROS2 that can be found in ", ". This application is using TrustZone support with Optee-OS to encrypt and decrypt ROS2 messages from the application level.", "\nAs of now, this is not using the ARM DDS SecureLib (as this is still under development) but it gives a small example on how to use TrustZone+Optee-OS to secure messages by having security assets in a secure memory.", "is there any update on this thread?", "\ncould share with us the development schedule for libddssec? approximately is just fine if possible.", "thanks in advance.", "Hi ", ",", "Since David\u2019s initial post on this initiative, we have been through some different proof-of-concepts. are now finishing the design for the shape we want it to be. In parallel we have been developing the project\u2019s skeleton with proper testing infrastructure and a Fast Model\u2019s based development environment we will release together with the library.", "We cannot give you a proper release date at the moment. The intention was to already have something released but some aspects of the investigation (finding the correct balance on what assets to move into the secure-world took longer than expected).", "We are getting closer, watch this space and we promise to give an update in a month or so.", "In the meantime, you haven\u2019t seen, here is our slides from the ROSCon2018 presentation of the project:", "\n", "3.14 MB", "\n", "Cheers,", "\nFilipe", "Hi ", "thanks for the quick response and sharing information.", "alright, i  was just curious and checking status for that.", "actually i was there to make presentation about \u201caibo\u201d at ROSCon2018@Madrid and had a little chat with David. i think that this security extension based on platform specific backend is really good, that brings me on this thread.", "thanks,", "\nTomoya", "Hello all,", "We released libddssec v0.1 on Github: ", ".", "As described in previous posts, the main goal of libddssec is to improve the security implementation of the DDS plugins on Arm based systems by leveraging the use of the TrustZone IP. It is based on Arm Trusted Firmware A (", ") and OP-TEE (", "). Secure assets (private keys,\u2026) are stored in a secure memory that can only be accessed by the Trusted Application. The Trusted Application is encrypted and stored into the Linux file system (under ", " ). A run-time daemon (tee-supplicant) must be launch in order to load the TA into OP-TEE OS. More information can be found under the readme or doc/ folder of the libddssec project.", "This initial release implements only the Authentication support.", "There is a PR (", ") which integrates libddssec into Fast-RTPS. ", "great work!!!", "tomoya", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-and-dds-security-enhancement-on-arm-platforms/3677"},
{"title": "[tutorial] ROS 2 CLI", "thread_contents": ["Hi everyone,", "I\u2019d like to advertise a blog post that is a small ROS 2 Command Line Interface (CLI) tutorial.", "\nYou may find it at ", ".", "Following a ", " about ROS 2 CLI in general, the tutorial walks you through the addition of a new command/verb to the CLI framework, setting up a new package, the boiler plate code and the actual tool implementation.", "\nThe post is accompanied by a \u2018Hello World\u2019 project available on ", ".", "I\u2019d love to hear your feedback and about the CLI tools you may develop !", "Cheers.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/tutorial-ros-2-cli/10217"},
{"title": "ROS2 Security Working Group Online Meeting - August 7th, 2019 between 9AM and 10AM PDT (UTC-7)", "thread_contents": ["Hi everyone,", "We are planning to hold the next ROS 2 Security Working group meeting on ", "Please suggest topics for the next meeting by commenting on this thread.", "ROS 2 Security Working Group Meeting Notes   2019-08-01 Meeting Announcement on Discourse   Calendar Invites: Working Group URL Google Group for invites  Generic Node Interface Description @kyrofa  FIXME  ROS 2 Access Control Policies @ruffsl  FIXME ...", "You have been invited to an online meeting, powered by Amazon Chime.", "I\u2019d like to discuss easier policy generation by designing a generic node interface description to be specified by individual packages, thereby allowing an end-user to generate a policy without needing to be an expert in every component being used (think Apache shipping its own apparmor profile rather than expecting the average Apache user to do it).", "We could also discuss the design document for ROS 2 Access Control Policies:", "Sounds great! Looking forward to", "Thanks everyone for your time today!", "\nThe ", " have been updated.", "\nYou can also access the meeting recording from the doc.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Generic Node Interface Description - ", "\n", "ROS 2 Access Control Policies - ", "\n", "ROS 2 Node Sandboxing - ", " (AWS)"], "url": "https://discourse.ros.org/t/ros2-security-working-group-online-meeting-august-7th-2019-between-9am-and-10am-pdt-utc-7/10146"},
{"title": "New Release: First ROS 2 book in Japan", "thread_contents": ["Hi all, I\u2019m Yutaka Kondo ", " from Japan.", "I\u2019m pleased to inform you that my book named \u201cROS2\u3067\u306f\u3058\u3081\u3088\u3046 \u6b21\u4e16\u4ee3\u30ed\u30dc\u30c3\u30c8\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u201d (Getting Started with ROS 2, the Next Generation Robot Programming Framework) will be published on Aug. 13th 2019 in Japan. ", "The book contains comprehensive features and applications of ROS 2. I hope it\u2019s slightly better than the current official online resources. ", "\nNote that one of the book reviewers is Geoffrey Biggs. Without his huge effort I couldn\u2019t finish writing it. Thank you very much, ", ".", "I would like to translate the book into English with some of your cooperation after a while. Then I also would like to donate freely the contents to ", " website (or the other proper place) under appropriate license such as CC BY 3.0.", "The table of contents is shown below. The English titles follow Japanese.", "Through learning ROS 2 from scratch and writing the book, I was 100% sure that ROS 2 is promising and will change the world. Finally I will donate the part of the profits from the book sales to Open Robotics. Thanks to Open Robotics (or OSRF) I\u2019m here.", "Hi Kondo, I think this is the FIRST book about ROS 2. The ecosystem of ROS is really important. This is good news to celebrate in the ROS community. Congratulations and thank you. I look forward to your future contributions. ", "I think this is the FIRST book about ROS 2.", "I hope so. I keep contributing not only the documentation but also the development of ROS 2.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\u306f\u3058\u3081\u306b (Introduction)\n", "ROS\u3068\u306f\u4f55\u304b (What is ROS?)", "ROS2\u306f\u306a\u305c\u3067\u304d\u305f\u304b (Why does ROS 2 start?)", "\u306a\u305c\u672c\u66f8\u3092\u66f8\u3044\u305f\u304b (Why did I write book?)", "\u672c\u66f8\u306e\u69cb\u6210 (Book composition)", "\u672c\u66f8\u306e\u8aad\u8005 (Book readers)", "\u524d\u63d0\u77e5\u8b58 (Prior knowledge)", "\u30aa\u30f3\u30e9\u30a4\u30f3\u30ea\u30bd\u30fc\u30b9 (Online resource)", "\n", "1\u7ae0 ROS1\u30c4\u30a2\u30fc (ROS 1 tour)\n", "1-1 ROS\u306e\u6b74\u53f2 (ROS history)", "1-2 ROS1\u306e\u958b\u767a\u74b0\u5883\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7 (Set up of ROS 1 development)", "1-3 Hello world!", "1-4 \u30bb\u30f3\u30b7\u30f3\u30b0 (Sensing)", "1-5 Gazebo\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 (Gazebo simulation)", "1-6 \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3 (Navigation)", "1-7 \u30de\u30cb\u30d4\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 (Manipulation)", "1-8 ROS1\u306e\u306a\u3044\u4e16\u754c (World without ROS 1)", "\n", "2\u7ae0 ROS2\u306e\u958b\u767a\u74b0\u5883\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7 (Set up of ROS 2 development)\n", "2-1 Ubuntu 18.04\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb (Ubuntu 18.04 installation)", "2-2 ROS1\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u7121\u52b9\u5316 (How to disable ROS 1 set up)", "2-3 ROS2\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb (ROS 2 installation)", "2-4 \u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7 (Set up of sample code)", "\n", "3\u7ae0 ROS2\u306e\u57fa\u672c\u6a5f\u80fd (Basic features of ROS 2)\n", "3-1 ROS1\u3068ROS2\u306e\u9055\u3044 (Difference between ROS 1 and ROS 2)", "3-2 ROS1\u3068\u306e\u5185\u90e8\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u6bd4\u8f03 (Comparison with ROS 1 architecture)", "3-3 Data Distribution Service(DDS)", "3-4 ROS2\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30c4\u30fc\u30ebros2 (ros2: ROS 2 frontend tool)", "3-5 ROS1/2\u30d1\u30c3\u30b1\u30fc\u30b8\u30d3\u30eb\u30c9\u30c4\u30fc\u30ebcolcon (Colton: ROS 1/2 package build tool)", "3-6 \u30c8\u30d4\u30c3\u30af (Topic)", "3-7 \u30b5\u30fc\u30d3\u30b9 (Service)", "3-8 \u30d1\u30e9\u30e1\u30fc\u30bf (Parameter)", "\n", "4\u7ae0 ROS2\u306e\u5fdc\u7528\u6a5f\u80fd (Advanced features of ROS 2)\n", "4-1 Launch\u30b7\u30b9\u30c6\u30e0 (Launch system)", "4-2 \u30a2\u30af\u30b7\u30e7\u30f3 (Actio)", "4-3 \u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb (Lifecycle)", "4-4 Quality of Service (QoS)", "4-5 DDS\u30d9\u30f3\u30c0\u5b9f\u88c5\u306e\u5909\u66f4 (DDS vendor replacement)", "4-6 \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3 (Security)", "4-7 ROS1\u30ce\u30fc\u30c9\u3068\u306e\u76f8\u4e92\u63a5\u7d9a (Bridge with ROS 1 node)", "4-8 \u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u5236\u5fa1 (Real time control)", "\n", "5\u7ae0 ROS2\u306b\u5bfe\u5fdc\u3057\u305f\u30c4\u30fc\u30eb\uff0f\u30d1\u30c3\u30b1\u30fc\u30b8 (ROS 2 migrated tools / packages)\n", "5-1 \u9032\u3080ROS2\u3078\u306e\u5bfe\u5fdc (ROS 2 migration progress)", "5-2 \u30c8\u30d4\u30c3\u30af\u8a18\u9332\u30fb\u518d\u751f\u30c4\u30fc\u30ebrosbag2 (rosbag2: Topic record and playback tool)", "5-3 \u53ef\u8996\u5316\u30c4\u30fc\u30ebrviz2 (rviz2: Visualization tool)", "5-4 RealSense\u30c9\u30e9\u30a4\u30d0ros2_intel_realsense (ros2_intel_realsense: RealSense driver)", "5-5 \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d1\u30c3\u30b1\u30fc\u30b8navigation2 (navigation2: Navigation package)", "5-6 \u52d5\u4f5c\u8a08\u753b\u30d1\u30c3\u30b1\u30fc\u30b8moveit2 (moveit2: manipulation package)", "5-7 Gazebo\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u9023\u643a (Gazebo simulation bridge)", "\n", "6\u7ae0 Roomba\u7528ROS1\u30c9\u30e9\u30a4\u30d0\u306eROS2\u79fb\u884c (ROS 2 migration practice of Roomba ROS 1 driver)\n", "6-1 Roomba\u3068ROS\u306e\u6b74\u53f2 (History of Roomba and ROS)", "6-2 \u30b7\u30ea\u30a2\u30eb\u901a\u4fe1\u30b1\u30fc\u30d6\u30eb\u306e\u5165\u624b (How to get serial cable for Roomba)", "6-3 Roomba/Create \u306eROS1\u30c9\u30e9\u30a4\u30d0create_autonomy (create_autonomy: Roomba/Create ROS 1 driver)", "6-4 \u62d9\u4f5cROS2\u7248create_autonomy (My implementation of ROS 2 create_autonomy)", "6-5 package.xml\u306e\u66f4\u65b0 (Update of package.xml)", "6-6 \u30e1\u30c3\u30bb\u30fc\u30b8\u3001\u30b5\u30fc\u30d3\u30b9\u3001\u30a2\u30af\u30b7\u30e7\u30f3\u5b9a\u7fa9\u306e\u66f4\u65b0 (Update of message, srvice, and action definition)", "6-7 \u30d3\u30eb\u30c9\u30b7\u30b9\u30c6\u30e0\u306e\u5909\u66f4 (Build system replacement)", "6-8 \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u66f4\u65b0 (Update of source code)", "6-9 \u307e\u3068\u3081 (Summery)", "\n", "7\u7ae0 Python\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e9\u30a4\u30d6\u30e9\u30earclpy (rclpy: Python client library)\n", "7-1 ROS2 \u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea (ROS 2 client libraries)", "7-2 \u30d1\u30c3\u30b1\u30fc\u30b8\u69cb\u6210 (Package configuration)", "7-3 \u30c8\u30d4\u30c3\u30af\u5b9f\u88c5 (Topic implementation)", "7-4 \u30b5\u30fc\u30d3\u30b9\u5b9f\u88c5 (Service implementation)", "7-5 \u30a2\u30af\u30b7\u30e7\u30f3\u5b9f\u88c5 (Action implementation)", "\n", "\u304a\u308f\u308a\u306b (Conclustion)\n", "ROS2 Technical Steering Committee", "\u4e8b\u524d\u30a2\u30f3\u30b1\u30fc\u30c8 (Pre-questionnaire)", "\u672c\u3092\u66f8\u304f\u3068\u3044\u3046\u3053\u3068 (How difficult to write book)", "\u8b1d\u8f9e (Acknowledgements)", "\n", "\u4ed8\u9332 (Appendix)\n", "A-1 \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u6307\u5411ROS2\u30ce\u30fc\u30c9\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0 (Component based ROS 2 node programming)", "A-2 Windows 10\u3067\u306e\u958b\u767a\u74b0\u5883\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7 (Development set up on Windows 10)", "A-3 macOS Mojave\u3067\u306e\u958b\u767a\u74b0\u5883\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7 (Development set up on macOS Mojave)", "A-4 \u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306e\u30e9\u30a4\u30bb\u30f3\u30b9\u6761\u9805 (License print of sample code)", "\n"], "url": "https://discourse.ros.org/t/new-release-first-ros-2-book-in-japan/10244"},
{"title": "TF2 web republisher in ROS2", "thread_contents": ["Hello community,", "\nI hope everyone is good. In the last couple of years we were working on making a platform for teaching robotics remotely using ROS. We were using the RWT tools but the main problem was the internet speed of our country. Living in a country where Internet and network speed are still being issues can not allow us to use high bandwidth consuming tools for robot teleoperation. We worked on reducing tf2 web publisher, the initial version are shared in ", "  and ", " those tools reduce over 80% of bandwidth consumption than the tf2_web_republisher package, which is suitable for our condition.", "\nI was thinking if the idea of making an optimal tf web publisher for ROS2 can be considered useful, especially for countries where Internet speed is problematic.", "\nThank you very much!", "\nCordially,", "\nMeriem L. AARIZOU", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/tf2-web-republisher-in-ros2/10255"},
{"title": "Safety Critical WG meeting #4", "thread_contents": ["Everyone interested in safety-critical applications of ROS has had some time to stew and a few more people have risen up to offer their services, so I\u2019d like to start organising our next meeting. Please answer the poll below for your preferred meeting times.", "Doodle is the simplest way to schedule meetings with clients, colleagues, or friends. Find the best time for one-to-ones and team meetings with our user-friendly calendar tool. Get started today!", "We will soon need to start focusing on something concrete that we can achieve for safety-critical applications. Ideally I\u2019d like us to find something technical to contribute because that will be the most beneficial to all, but document-related contributions, such as the proposed sample safety case, are also useful.", "Based on the results of the survey, I\u2019ve set the next meeting time to ", ". The information for joining is below.", "I do not yet have much of an agenda, because we still seem to be attracting new people each time. However there are more people with expertise in functional safety joining now so I believe we can start to get some firm ideas about what we can do that will be a useful contribution to the ROS community.", "Please post items you would like to discuss in the meeting below. I intend to talk a bit about what is necessary to produce a sample safety case so we can start figuring out who can provide the work.", "ROS 2 Safety Working Group", "\nThu, 8 Aug 2019 23:00 - 00:00 JST", "Please join my meeting from your computer, tablet or smartphone.", "\n", "You can also dial in using your phone.", "\nUnited States: ", "Access Code: 851-382-285", "More phone numbers", "\nAustralia: ", "\nAustria: ", "\nBelgium: ", "\nCanada: ", "\nDenmark: ", "\nFinland: ", "\nFrance: ", "\nGermany: ", "\nIreland: ", "\nItaly: ", "\nNetherlands: ", "\nNew Zealand: ", "\nNorway: ", "\nSpain: ", "\nSweden: ", "\nSwitzerland: ", "\nUnited Kingdom: ", "New to GoToMeeting? Get the app now and be ready when your first meeting starts:", "\n", "Thanks for organizing ", "!", "Thu, 8 Aug 2019 23:00 - 00:00 JST", "Pity! I will be traveling (via train) at that time ", " . I may join via phone then. Let\u2019s hope the connection allows me to do so.", "Just out of curiosity ", ", I checked the survey quickly and saw that the 6th of August slot was rather popular, maybe it wasn\u2019t convenient for you?", "Yes, unfortunately I had another event come in on that date. If you would like me to shift it to that time, then I am happy to do so, but I will need someone else to run the meeting in case I can\u2019t make it in time.", "No worries, I\u2019ll try and join via phone. Thanks!", "Is there the plan to have a dedicated category in discourse around using ROS in safety-critical systems?", "Lukas", "I would like to see it.  I missed that last meeting announcement because I am not subscribed to the next gen ros discussion ", "Is there the plan to have a dedicated category in discourse around using ROS in safety-critical systems?", "I will ask, but I think it is unlikely that we will get one. We would need to have a significant amount of discussion going on first.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Geoffrey Biggs (Tier IV)", "David Crawley", "Andrei Kholodnyi (Wind River)", "Matt Droter (ROS Agriculture)", "Sohin Shah", "Denis Stogl", "Alejandro Mosteo", "Lukas Bulwahn (BMW/ELISA)", "Members who have experience in safety:\n", "Andrei Kholodnyi has experience in safety for industrial systems", "Matt Droter has experience working on safety-critical ground robots from a project manager perspective", "\n", "\n", ".", "What can we do, given our small number of engineers who have experience in functional safety?\n", "List of best practices for things that a safe robot should do\n", "e.g. what should be on the start up checklist?", "e.g. how do you set up an estop that works safely?", "\n", "Define the minimum core set of packages to be safe?", "Could we define a minimum example, such as collision avoidance, and do the full vertical stack that is necessary to achieve doing that safely?\n", "Difficult because ROS itself is not certifiably safe, but we could do it on the assumption that ROS is certifiably safe. Or we could make a non-ROS monitor to watch over the system and do the safety analysis necessary to show that the safety monitor is free from interference from ROS.", "A generic safety monitor for use with a ROS system?", "\n", "\n"], "url": "https://discourse.ros.org/t/safety-critical-wg-meeting-4/9996"},
{"title": "Adding Static Type Analysis to Python Packages with mypy", "thread_contents": ["Digging into new Python code can be a pain, especially for those used to statically typed languages.", "Python 3.5 added support for a type annotation system, described in ", ". Python 3.6+ expands this with individual variable annotations (", "). While purely decorative and optional, a tool like mypy can use it to perform static type analysis and catch errors, just like compilers and linters for statically typed languages.", "Using it requires a bit of a guarantee from other contributors that they\u2019ll maintain this optional feature, and any gaps in coverage will cause errors to appear for later mypy users, or even worse, errors to ", " appear as datatypes fall back to  ", ".", "To make sure that packages that are type checked remain so and remove the burden of manually running mypy before and after each contribution, we\u2019ve created an ament_lint plugin ", ".", "For detailed information about how to use it, check out our ", " on integrating it with your package\u2019s testing pipeline! We\u2019ll also be documenting the process of writing a an ", " plugin in an upcoming blog post.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/adding-static-type-analysis-to-python-packages-with-mypy/10313"},
{"title": "Navigation2 Dashing release - demo video", "thread_contents": ["Hi ROS2 users!", "\nWe released Navigation2 as part of the Dashing sync 2 weeks ago, so I wanted to share a demo video of Nav2 running on a Turtlebot3. Enjoy!", "Google Drive file.", "Matt", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/navigation2-dashing-release-demo-video/10349"},
{"title": "How to cross-compile ROS2 for arm64 architecture", "thread_contents": ["I am trying to cross-compile ROS2 for arm64 ubuntu box. It was going well until hitting an issue in \u2018resource_retriever\u2019.", "Here is the command for cross-compiling", "The reason of the failure seems to be related to \u2018ExternalProject_Add\u2019 macro for CONFIGURE_COMMAND doesn\u2019t take cross-compiling arguments into \u2018autoconf/automake\u2019 style packages.", "It makes me think if the method for cross-compiling is right\u2026", "How could I cross-compile ROS2 for arm64? Is there a step-by-step guide on this?", "By-passing the issue on libcurl_vendor and resource_retriever by \u2018\u2013skip-packages\u2019. However, it seems now I am blocked by another strange issue.", "It is complaining that the header file is missing. However, I do have the file install with multiple-arch solution in my Ubuntu 16.04 box.", "It seems that \u2018ament\u2019 doesn\u2019t take \u2018/usr/include\u2019 into its INCLUDE_PATH. I have also tried out to add the path in by define \u2018-DCMAKE_INCLUDE_PATH=/usr/include\u2019 which was rejected by \u2018amend\u2019.", "Does ROS2 support cross-compilation for now?", "I think this guy - ", " upstreamed the ROS2 cross-compilation can help you. ", "Yes ROS2 can be cross-compiled ", "You might want to have a look to:", "\n", "\n(but python support has been removed. Only CPP support is present)", "There is also the following link that may help:", "\n", "Tools for crosscompiling ROS2 for the Raspberry Pi - esteve/ros2_raspbian_tools", "\n", "By these, cross-compilation is working.", "However, \u2018ExternalProject_Add\u2019 macro could not take toolchain settings into CMake based vendor package. That is the reason why \u2018resource_retriever\u2019 package is skipped. I may spend some time to look into the issue.", "It is helpful. Thank you, ", "Another question is about the statement in ", "No target filesystem with Python libraries is provided here, so Python is not supported (only C++).", "Does that mean if I could get a \u2018rootfs\u2019 working for aarch64 I may enable python support?", "Yes, I did that earlier with an arm64 Ubuntu 16.04 rootfs and it was working fine with a simple python publisher.", "Does that mean if I could get a \u2018rootfs\u2019 working for aarch64 I may enable python support?", "Yes, that\u2019s exactly what ", " does to cross compile ROS2 for the Raspberry Pi. The scripts in the repo fetch a Raspbian image and prepare a rootfs so that CMake will find all the dependencies and compile/link against them.", "The scripts in ", " are generic enough that they can be adapted to cross-compile for aarch64, let me have a look at it and I\u2019ll flesh them out. What\u2019s your target aarch64 distribution? Ubuntu?", "I am working on Jetson TX2 board, which has Ubuntu 16.04 arm64 installed. I think I can \u2018rsync\u2019 to fetch back the rootfs and try to cross-compile against.", "I am not family with \u2018polly\u2019 and \u2018docker\u2019 but \u2018ros2_raspbian_tools\u2019 looks pretty good. If it could work with any rootfs rather than raspbain only that will be great.", "Hmmmm, if it is about a python publish, will it work with \u2018multiarch\u2019 enabled Ubuntu box. What I am trying to do is about to install \u2018libpython3-dev:arm64\u2019 package for python dev headers and libs. However, it seems \u2018ament\u2019 cannot find them in \u2018/usr/include\u2019 or \u2018/usr/lib\u2019.", "Hmmmm, if it is about a python publish, will it work with \u2018multiarch\u2019 enabled Ubuntu box. What I am trying to do is about to install \u2018libpython3-dev:arm64\u2019 package for python dev headers and libs. However, it seems \u2018ament\u2019 cannot find them in \u2018/usr/include\u2019 or \u2018/usr/lib\u2019.", "Yeah, you\u2019ll need ", " because it contains the pkgconfig files for Python3 that ", " uses to \u201cdiscover\u201d the location of the Python headers and libraries.", "The instructions in ", " use the changes I made to ROS2 to cross-compile it for Android and iOS (i.e. ", ", ", " and a bunch of others). But if you want to target a Linux distro, it\u2019s best to use a rootfs instead since you\u2019ll end up with a complete ROS2 environment, I\u2019m going to update the guide in the wiki to reflect that.", "To setup the python support, I used an already created ubuntu-base:", "\n", "And then I installed the needed packages using chroot + qemu-aarch64-static", "In the toolchain file I used the variable CMAKE_SYSROOT to specify the path of my rootfs to ament/cmake and compile.", "Thank you, ", " and ", ". I got cross-compilation done for Jetson TX2.", "Here is a brief for who is interesting on this.", "toolchain: Linaro gcc toolchain 7.2 ", "rootfs: mount Jetson TX2 rootfs with \u2018sshfs\u2019 ", "environment variables: ", "; export CROSS_COMPILE=aarch64-linux-gnu-", "CMake toolchain file", "Install \u2018libpython3-dev:arm64\u2019", "Ignore \u2018rviz\u2019 and \u2018opencv\u2019 related packages", "Hi jcadam, esteve,", "I try to reproduce the cross-compilation of the complete stack and get some issue during the process.", "\nI try to follow esteve approach with docker to build the rootfs based on a arm64v8 ubuntu docker image. The cmake used is similar to the one above, and I\u2019m using esteve \u201cbuild_ros2.bash\u201d script to trigger the build.", "\nDuring the process, I got the following error:", "\nfatal error: Eigen/Core: No such file or directory", "\n", " <Eigen/Core>", "CMake ignore the manually specified location : \u201cDEIGEN3_INCLUDE_DIR=\u201d${RASPBERRYPI_CROSS_COMPILE_SYSROOT}/usr/include/eigen3\"", "\nand use the default \u201c/usr/include\u201d path:", "\n\u2013 Using Eigen3 include dirs: /usr/include/eigen3", "I\u2019m struggling to understand why CMake ignore the specified path\u2026 Any idea ?", "Hi\u2026i am a new user here. As per my knowledge the 64-bit ARM environment is relatively new. This means that most applications, including ROS, need to be ported to the new processor. For a complicated application like ROS, this may necessitate a variety of code and environment changes to support the new computer architecture.", "Hi ChesLans,", "There is no issue to build ROS2 for aarch64. You can follow the wiki instruction on your aarch64 machine and build the complete stack, it will just take some time =)", "\nFor cross-compilation, you can build a subset of ROS2 by following the instruction ", ".", "\n", " and ", " already have successfully cross-compile the complete ROS2 for raspi (arm 32) and the Jetson TX2 (arm 64).", "FYI to the community, none of the above mentioned approaches work with the release of Crystal without a good deal of digging into the scripts to address moved or added dependencies like python-catkin-pkg-modules, and others. At least I haven\u2019t been able to find a working solution\u2026so I\u2019m going at it from scratch. As soon as I have it, I\u2019ll post.", "Hi ", ",", "A new ", " just get merged explaining how to achieve cross-compilation of the Crystal release, based on the assets available at ", "Please let me know if you have any issue with it !", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "Apt \u2018sources.list\u2019", "\n", "\n", "\n", "\n"], "url": "https://discourse.ros.org/t/how-to-cross-compile-ros2-for-arm64-architecture/3702"},
{"title": "Does ROS 2 works with Windows 7?", "thread_contents": ["just entered this area, and had some troubles installing ROS2 on windows 7, and makes me wonder if ROS supports windows 7?", "Please see the instructions on the wiki: ", "While they still mention Windows 8.1 we are only testing ROS 2 on Windows 10 with Visual Studio 2015. I don\u2019t expect any older versions to work.", "As ", " writes, Win7 is unsupported, but I\u2019ve done some limited testing and a few weeks ago I was able to get basic stuff working after I installed the required C++ redistributable package on my Win7 x64 installation.", "You\u2019ll probably be better off with one of the supported OS though.", "I was able to get basic stuff working after I installed the required C++ redistributable package on my Win7 x64 installation.", " was this a binary installation?", "This was a binary distribution, but it\u2019s been quite some time since I last tried this, and it was never more than a \u201chey, this actually seems to sort-of work\u201d test.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/does-ros-2-works-with-windows-7/1648"},
{"title": "How to add a linter to ROS 2 | Ubuntu", "thread_contents": ["A well configured linter can catch common errors before code is even run or compiled. ROS 2 makes it easy to add linters of your choice and make them part of your package\u2019s testing pipeline. We\u2019ll step through the process, from start to finish, of...", "A well configured linter can catch common errors before code is even run or compiled. ROS 2 makes it easy to add linters of your choice and make them part of your package\u2019s testing pipeline.", "While ament_lint already has a wide selection of linters available, this guide covers everything you need to support a new one, based on our work adding mypy support.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/how-to-add-a-linter-to-ros-2-ubuntu/10377"},
{"title": "ROS2 Security Working Group Online Meeting - August 21st, 2019 between 9AM and 10AM PDT (UTC-7)", "thread_contents": ["Hi everyone,", "We are planning to hold the next ROS 2 Security Working group meeting on ", " \u2192 ", "Please suggest topics for the next meeting by commenting on this thread.", "\n", " to receive calendar invites in", "\nyour e-mail inbox.", "ROS 2 Security Working Group Meeting Notes Working Group Calendar URL | Google Group for invites  Please join the Google group to get calendar invites to the meeting and be able to comment on this doc.  2019-08-21 (next meeting) Meeting Announcement...", "You have been invited to an online meeting, powered by Amazon Chime.", "\nChime meeting ID: 3204163012", "\nJoin via Chime clients (manually): Select \u2018Meetings > Join a Meeting\u2019, and enter 3204163012", "\nJoin via Chime clients (auto-call): If you invite auto-call as attendee, Chime will call you when the meeting starts, select \u2018Answer\u2019", "\nJoin via browser screen share: ", "\nJoin via phone (US): +1-929-432-4463,3204163012#", "\nJoin via phone (US toll-free): +1-855-552-4463,3204163012#", "\nInternational dial-in: ", "\nIn-room video system: Ext: 62000, Meeting PIN: 3204163012#", "Please suggest topics for the next meeting by commenting on this thread.", "Given we ran short of time during the last meeting:", "Thanks everyone for your time today!", "\nThe ", " have been updated.", "\nYou can also access the meeting recording from the doc.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-security-working-group-online-meeting-august-21st-2019-between-9am-and-10am-pdt-utc-7/10220"},
{"title": "Safety Critical WG meeting #20190822", "thread_contents": ["I see in my calendar an entry for the next safety critical working group, but I don\u2019t see an announcement here about it. I\u2019m going to assume that we decided the next time in the ", " but I forgot to make a topic announcing it. So here is that topic!", "The next Safety Critical WG meeting will be held at ", ".", "Please join my meeting from your computer, tablet or smartphone.", "\n", "You can also dial in using your phone.", "\nUnited States: ", "Access Code: 573-563-349", "More phone numbers", "\nAustralia: ", "\nAustria: ", "\nBelgium: ", "\nCanada: ", "\nDenmark: ", "\nFinland: ", "\nFrance: ", "\nGermany: ", "\nIreland: ", "\nItaly: ", "\nNetherlands: ", "\nNew Zealand: ", "\nNorway: ", "\nSpain: ", "\nSweden: ", "\nSwitzerland: ", "\nUnited Kingdom: ", "New to GoToMeeting? Get the app now and be ready when your first meeting starts:", "\n", " Geoffrey Biggs", " ", "Here\u2019s the Google Doc for describing patterns:", "Resources The following resources contain information about useful architectural patterns for safety-critical systems. ISO 13489 IEC 61508 ISO 26262 Patterns The following sections describe common architectural patterns found in safety-critical...", "We decided to have a regular meeting every four weeks. We can make it more frequent if we decide we need more discussion time when activities start building up.", "The current proposed time is four weeks from today, so the 26th of September. To give people the chance to find a better time, here\u2019s a doodle poll:", "Doodle is the simplest way to schedule meetings with clients, colleagues, or friends. Find the best time for one-to-ones and team meetings with our user-friendly calendar tool. Get started today!", "The time chosen by that poll will become the regular meeting time, so don\u2019t choose based solely on the September time slot.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Geoffrey Biggs (Tier IV)", "Denis Stogl", "Erik Boasson", "Shawn (Northstar Robotics)", "Joe Speed", "Sohin Shah", "Rajesh Kumar", "Proposal: We can produce packages that provide node constructs (patterns) for common patterns used in safety-critical systems such as a 2oo3 architecture.", "Can we do anything with ISO 13849 for control systems of machinery?\n", "It does discuss some software aspects at the system level.", "The patterns idea could work for this standard as well", "\n", "How can we move forward with the patterns idea?\n", "What would our output be?\n", "Documents", "Code", "\n", "Need to collect patterns first\n", "Good source: ISO 13849 and IEC 61508", "\n", "Start a Google Doc or something where we can start collecting patterns and describing how to do them in ROS", "List the resources we have available (useful parts of standards, etc.)", "\n", "Proposal: Produce a library to provide useful functionality for increasing reliability or availability, such as ", ".", "An interesting alternative angle: How do you integrate ROS (as a non-safety-critical part of a system) with a safety-critical part and provide guarantees of non-interference, etc.?", "Start a Google Doc for documenting patterns and available resources\n", "\n", "Take a poll on the regular meeting time\n", "\n"], "url": "https://discourse.ros.org/t/safety-critical-wg-meeting-20190822/10335"},
{"title": "How to support ROS2 on MacOS?", "thread_contents": ["We have at least one user of Navigation2 who is trying to run on MacOS. We haven\u2019t had the resources to set up any CI or do any testing using MacOS.", "So, I wanted to start the discussion of how we can support this in the most scalable way? I believe that the ROS build farm is building packages for Mac, but I\u2019m not sure what testing is being done? Ideally, I\u2019d like to leverage the build farm and not have to test every change on a Mac as well as Ubuntu.", "If anyone has a solution for this that doesn\u2019t involve a lot of manual setup and support, I\u2019d love to hear it.", "I believe that the ROS build farm is building packages for Mac, but I\u2019m not sure what testing is being done?", "macOS is a \u201ctier 1\u201d platform, see: ", " builds an archive every night and every release for macOS. Also, pull requests for any change to repositories in the ", " file must pass on macOS as well. We have nightly jobs for macOS also. We treat macOS the same as Linux and Windows in that respect.", "Currently we\u2019re using an old version of macOS, but we have plans to update our farm\u2019s machines in the near future.", "Ideally, I\u2019d like to leverage the build farm and not have to test every change on a Mac as well as Ubuntu.", "I\u2019m not sure what you\u2019re asking for here, you mean depend on the build farm testing all of your dependencies or\u2026?", "If you\u2019re going to support macOS you\u2019ll either have to build every change against macOS (to prevent regressions) or build periodically (nightlys) and tackle regressions as they come up.", "If anyone has a solution for this that doesn\u2019t involve a lot of manual setup and support, I\u2019d love to hear it.", "Travis offers builds for macOS. I haven\u2019t tried it, but it might be possible to just download our nightly archive (", ") and do the steps in our \u201cbinary install for macOS\u201d tutorial (", ").", "I think there are some other options as well, e.g. setting up an appveyor server on your own hardware: ", ".", "Thanks for the help William!", "So If we want our code to build automatically on macOS in the build farm, we need to add our project to the ros2.repos file, is that correct? If so, we can submit a PR for that.", "So If we want our code to build automatically on macOS in the build farm, we need to add our project to the ros2.repos file, is that correct? If so, we can submit a PR for that.", "I believe there was talk of adding a new nightly job on ", " that additionally tests the navigation stack, rather than adding it to the ", " file, simply because our CI is already over 2 hours, so we\u2019re trying to keep the list short until we have a more scalable solution (people are working on that for ", ").", " were we not talking about a navigation nightly at one point? Or am I imagining that?", "As for packaging, I suppose we could try to add it to packaging but not CI, which is the case for the ros1 bridge for example. We also have some \u201csupplemental\u201d repos files which can be used in various ways when running jobs on ", ", e.g.: ", "were we not talking about a navigation nightly at one point?", " and ", " were we not talking about a navigation nightly at one point?", "We\u2019ve been working on CI jobs for navigation2 but not via ", ".", "\nWe\u2019ve been using the CI jobs feature of ros_buildfarm to run builds here: ", "Our efforts have been on getting ros_buildfarm into a state where we can formalize that job and improve the CI experience on ", " rather than putting more onto ", ". ", " doesn\u2019t currently have support for non-Linux platforms.", "I don\u2019t think that we have the capacity to sustainably build community projects on ", " as part of the omnibus packages ether via a broader repos file for packaging jobs or via an additional \u201clayer\u201d of builds on top of the current packaging jobs. This is due in part because of raw compute resources available and in part because managing that in the medium term sounds like it would eventually turn into re-implementing a bunch of what we have for rosdistro distribution management and if we\u2019re going to do that I would rather focus on the long term goal of migrating all packaging from being .repos file based on ros2/ci to being rosdistro distribution.yaml-based via ros_buildfarm.", "I don\u2019t know your CI infrastructure very well (bare minimum TBH), so can someone tell me how I should proceed? If adding to the ros2.repos file is not the way to go, then what is?", "I don\u2019t know your CI infrastructure very well (bare minimum TBH), so can someone tell me how I should proceed?", "I think ", "\u2019s point is that we don\u2019t have the resources to provide macOS jobs for everyone in the community, and I agree. We\u2019re already running into cases where nightly jobs don\u2019t finish until well into the workday for us.", "I was thinking a single nightly job might be possible, but the reality is that we\u2019re pretty much at capacity and don\u2019t have plans to expand it.", "On the other hand, ", " is meant for the whole community (and is where the nav nightly\u2019s are run), but it currently doesn\u2019t support anything but Linux. I think the plan is to eventually have Windows and even macOS for ", ", and in a way that can scale properly, but not in the near future.", "If adding to the ros2.repos file is not the way to go, then what is?", "I don\u2019t have a solution for you other than to point you to resources that might help you setup your own macOS testing (travis, appveyor, or your own instance of our ", ").", "OK, I\u2019ll look into the Travis option for now.", "Then maybe we can discuss getting Windows and MacOS support into ", " soon. ", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/how-to-support-ros2-on-macos/10451"},
{"title": "Intra-Process Communications for all clients", "thread_contents": ["I opened this issue on the design repo ", " as a response to conversation on ", " (which describes a new architecture for intra-process communications within rclcpp)", "There seems to be interest outside myself (", " ", " ", "  ", ", sorry if I missed anyone else), in coming up with a solution that makes this intra-process communication optimization available 1) to all clients e.g. rclpy, and 2) work more easily out of the box for topic-derived-features e.g. Services. It feels like we need a top down architecture that we can split up into concrete implementables and get contributors going on.", "Not sure if here or the GitHub issue are the best place for the conversation but opening this for maximum visibility.", "Thanks ", " for opening this. I have replied in the issue.", "\nI think we can continue the discussion there, and post updates here when have them.", "Thanks,  ", ". When doing the Ada binding I also regretted that feature disparity seemed to be starting to creep in.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/intra-process-communications-for-all-clients/10416"},
{"title": "Will Debian Buster be supported in the future?", "thread_contents": ["I found the apt repository for Debian Buster.", "\n", "Is this because Debian will be supported in the future?", "It looks like it will be a ", " support platform for ", ".", "I have tried to build ros-melodic-robot on Debian Buster and did not encountered any issue.", "\nMaybe the GUI part of desktop-full is another story.", "\nI wonder if one could setup a buildfarm for Melodic on Buster if it could became a Tier 3 platform?", "Thank you for answering the question.", "\nI\u2019m sorry, I have another question.", "For Ubuntu, the packages are automatically tested and the repository was generated if we add it to the ", "\nBut isn\u2019t it different in Debian? Where is ", " generated?", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/will-debian-buster-be-supported-in-the-future/10412"},
{"title": "Reconsidering 1-to-1 mapping of ROS nodes to DDS participants", "thread_contents": ["Hello,", "We are working on running ROS 2 in an Embedded board and we find out that ROS 2 consumes high CPU because every ROS node is mapped to a DDS participant. We have performed some tests to investigate the issue and the tests and the results can be found at this link: ", ".", "The roadmap of ROS 2 development mentions \u201cReconsider 1-to-1 mapping of ROS nodes to DDS participants\u201d ", ". We would like to see this happen rather sooner than later. We already observe that this leads to problems in CPU usage and can constrain people in their freedom to design an architecture for a robotic system. The ROS2 middleware should allow for a setting where everything can be grouped into a single DDS participant for the people that want to use nodes for modularity at the top level, but don\u2019t want the code fragmented at the bottom level. Many use cases exist where one would like to create multiple nodes that all run on the same hardware. This is especially important since intra-process communication does not work effectively at the time of writing this post.", "Does anyone face this same kind of problem?", "\nWe would like to discuss the idea of reconsidering the 1-to-1 mapping of ROS nodes to DDS participants here and would like the current 1-to-1 mapping implementation to change and would be willing to contribute to changing this if possible.", "Thank you,", "\nIshu Goel", "Instead of introducing an option the current idea is to associate the DDS participant with the context created during ", ". That would imply that common applications using a single init / context will only use a single DDS participant - even if they are composed of multiple ROS nodes.", "Thanks for your reply ", ". When can we expect this functionality to become available? Is there anything we can do to help?", "When can we expect this functionality to become available?", "If it gets implemented in time it will be available in the next ROS 2 r release which is Eloquent in Nov 2019.", "Is there anything we can do to help?", "Any help is appreciated. It will likely start with a design article to discuss the side affects of the intended change. E.g. the ROS node name is currently being used for the DDS participant name. When that mapping goes away there needs to be a replacement mechanism to communicate the node name.", "we find out that ROS 2 consumes high CPU because every ROS node is mapped to a DDS participant.", "After the ", ", we\u2019ve also looked into this. In your answer, you mentioned that part of the CPU usage is caused by the executor itself. However, we found that this is really the ", " cause, rather than the DDS participant mapping. Therefore, if we want to lower the overhead (with relation to DDS), we should be looking at the executor as a whole.", "Also, as a caution, we should not overlook the overhead that profiling adds, and how much it can really skew the results!", "I\u2019m working on a more in-depth analysis of the CPU usage of different parts of the executor. I\u2019ll provide some results sometime next week.", "Hi ", ",", "As mentioned in our research, both the SingleThreadedExecutor and the 1-to-1 mapping of nodes to DDS participants appear to contribute to the large CPU overhead. We were planning to open a separate discourse discussion for the SingleThreadedExecutor optimization. This way the discussions don\u2019t mix and both \u201cproblems\u201d can be addressed. The link to the SingleThreadedExecutor discussion will appear on our github page soon.", "We look forward to reading your findings.", "Yeah I wanted to make sure we didn\u2019t forget about the executor! Glad to hear that you\u2019re planning on opening a separate discussion for it ", "It depends a bit on the usecase. Perf shows about a 50/50 cause with this test (10 nodes, 20 topics/publishers/timers and 200 subscribers). Changing these numbers will also change the usage numbers.", "\nAlso have a look at ", " which skips the entire dds for intraprocess communication ", "Hi, I\u2019m the author of the intra-process communication PR mentioned by ", ".", "First of all, thank you for the showing your results.", "Using 1 participant per process (or context) is definitely an interesting idea.", "\nEspecially with Fast-RTPS since it would also reduce the memory usage a lot.", "Fast-RTPS does not implement shared memory transportation yet, but it recognizes \u201clocal publications\u201d i.e. messages where the publisher and the subscription are in the same participant. In this case the message is not sent over the network, but directly passed to the subscription.", "I run your performance tests together with the new intra-process communication.", "This still does not reach the same results of Fast-RTPS alone for this particular example.", "\nNote that the new Intra-process implementation adds an additional entity to the waitset of the nodes for each subscription (possibly slowing down the SingleThreadedExecutor).", "Note that other RMW implementation allows to reduce CPU usage. For example CycloneDDS ", " where a sort of intra-process communication is already implemented.", "\nThe performance of the CycloneDDS are slightly worst than the ones of the rclcpp PR since in this case it is possible to easily skip serialization and to save some copies by knowing in advance all the subscriptions.", "Not trying to debate the performance gains of this approach, but I think it\u2019s worth pointing out that SROS 2 (and indeed DDS-Security in general) currently only supports security at the domain participant level. Using the same participant for multiple nodes will make security very difficult, as all nodes will have effectively the same identity and thus the same access control.", "Using the same participant for multiple nodes will make security very difficult", "good point, thanks for this comment.", "applications using a single init / context will only use a single DDS participant - even if they are composed of multiple ROS nodes.", "is that supposed to mean 1 process space : 1 participant always?", "thanks for bring up this issue, could you let us know once issue is registered?", "Hi ", ",", "\nThank you for your comment. Should I raise an issue for this on rwm github page: ", "? Or what is the common way of registering an issue? And in the issue can I link to our github or Discourse page?", "that works for me at least,", "and we are going to prepare Pi3 Model B+ with Ubuntu18.04/Dasing to make sure this problem on our side.", "thanks,", "\nTomoya", " I opened the issue here ", "thanks, we will share update via ", " .", "tomoya", "Just FYI,", "[Environment]", "\nPi3 Model B+ with Ubuntu18.04/Dasing", "Hi ", ",", "Thanks a lot for sharing your results.", "There\u2019s a design document with a proposal about this change: ", ".", "Hi ", ",", "Thanks a lot for your efforts. It is a nice document.", "Regards,", "\nIshu", " what is your expected timeline for these changes?", "\nFor someone who is new to this process (getting changes implemented into the core of ROS2) it is hard to judge how long implementing something like this could/would take.", "I\u2019m  also very interested in getting a high level description of the entire process if this is possible.", "\nThe developer guide  ", " is written more with \u201cnormal\u201d packages in mind. I don\u2019t think a major overhaul like this (or for instance other changes to rclcpp, rcl and rmw that can have far reaching impact), are simply handled by creating multiple disjointed pull requests.", "\nFrom watching from the sidelines what I\u2019ve seen so far is that:", "This leads me to the following questions that maybe you or another member of the community could answer:", "\nAfter writing the design document.", "\nHow are the next steps decided?", "\nWho does the actual implementation, how is this decided?", "\nHow does one keep track of all the activities in multiple layers between multiple people?", "Do multiple interested parties just respond to the issue/design document and figure something out from there? Is there a certain structure to this? Who is \u201cresponsible\u201d for the final outcome?", "Thanks in advance to anyone that can give me some clarity on the process.", "\nAlso thanks for all the hard work everyone has been putting in so far!", "Greetings,", "Martin", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["A discussion is started on discourse / an issue is raised on the github of the package", "A design document is written together with community members (and members of the TSC)", "The document is reviewed by (community members and) members of the TSC", "?"], "url": "https://discourse.ros.org/t/reconsidering-1-to-1-mapping-of-ros-nodes-to-dds-participants/10062"},
{"title": "Robot DevKit for ROS2 Dashing Diademata", "thread_contents": ["Here comes the v0.2.0 release of Intel\u00ae ", ". This version fully supports ROS2 Dashing Diademata and Turtlebot3 chassis, including D400 serials and T265 ", "\u2122 cameras, ", "\u2122 for neural network inference with CPU, GPU and VPU acceleration, Object Analytics for 2D tracking and 3D localization, etc.", "New feature of v0.2.0 release:", "Integrate ros2_grasp_library, deep learning based grasp detection for industrial robot visual manipulation", "Upgrade ros2_intel_realsense and support D435i depth and T265 tracking cameras", "Improve ", "\u2122 based SLAM and navigation with D435 and T265 cameras", "Upgrade ros2 Navigation with life cycle management and closed loop spinning recovery behavior", "Support configuration for easy Robot Devkit customization", "Support logging for warn/error/info messages", "Support tar ball binary for remote target deployment", "Welcome feedback, suggestions and bug reporting to", ".", "Thanks,", "\nCathy", "Good to see this new release. Eager to try it. ", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n"], "url": "https://discourse.ros.org/t/robot-devkit-for-ros2-dashing-diademata/10651"},
{"title": "Declare_parameter in Dashing", "thread_contents": ["Hello everyone,", "With Dashing, a new function declare_parameter has been introduced, cf. ", " and ", ". I like this idea as it allows to detect mismatches in parameter names between nodes and launch configurations (for example due to typos).", "Yet, once a parameter is declared, there seems no possibility to detect whether a value that is equal to the default value has been set explicitly or not. The function get_parameter(name, param) always returns true even if the parameter has not been set but just declared.", "In the fmi_adapter package, parameters are created at runtime from a user file (a Functional Mock-up Unit, FMU). Thus, the parameter names depend on a user file which is itself passed via a mandatory parameter fmu_path. In the last days, I ported this package to Dashing and was faced with the issue that I had to declare the parameter names read from the FMU file. Unfortunately, I cannot provide meaningful default values at this stage. The FMU may contain algorithms to compute the default values own its own at a later stage. So, to decide whether the user actually provide a value for a parameter of the FMU or not, I decided to choose NaN as default value and then fall back to the FMU internal mechanism if get_parameter(name).as_double() return this NaN, cf. ", ".", "(I also tried the allow_undeclared flag, which did not work for me. Yet, this is also not an option for me as I would like to use the new mechanism due to the reason given in the first paragraph.)", "Technically, it should be possible to distinguish whether a value for a parameter has been set or not \u2013 independent of the parameter declaration mechanism. The node_parameters_interface could provide a Boolean function to query for that. Of course, this introduces another level of complexity.", "Are other developers faced with the same problem when porting their ROS 2 packages to Dashing? What do you think about the idea to introduce a Boolean function to query whether a parameter value has been set explicitly (even if it is equal to the default) or not?", "Looking forward to your feedback!", "Yet, once a parameter is declared, there seems no possibility to detect whether a value that is equal to the default value has been set explicitly or not. The function get_parameter(name, param) always returns true even if the parameter has not been set but just declared.", "There is a ", " type, if you just do ", " this will be the default type.", "In the fmi_adapter package, parameters are created at runtime from a user file (a Functional Mock-up Unit, FMU). Thus, the parameter names depend on a user file which is itself passed via a mandatory parameter fmu_path. In the last days, I ported this package to Dashing and was faced with the issue that I had to declare the parameter names read from the FMU file. Unfortunately, I cannot provide meaningful default values at this stage. The FMU may contain algorithms to compute the default values own its own at a later stage.", "There\u2019s also ", " which you can use to conditionally declare or set, if you\u2019re unsure if the parameter has been declared yet. So you could change your code to create a local data structure and provide that to the user, rather than declaring them implicitly, and let the user declare them. You could also let the user define as many as they like and then call function from you that will declare the rest automatically, using ", " to know if the user has done this or not already.", "Technically, it should be possible to distinguish whether a value for a parameter has been set or not \u2013 independent of the parameter declaration mechanism. The node_parameters_interface could provide a Boolean function to query for that. Of course, this introduces another level of complexity.", "The way it is implemented that would not be possible as declare is implicitly set to None if uninitialized (e.g. by using ", "). We\u2019d have to change the implementation to add an additional state like ", " to every parameter. I\u2019m not sure that\u2019s a good idea, but I could be convinced otherwise.", "Hi William, thank you very much for the detailed explanation. With the PARAMETER_NOT_SET type it works like a charm, cf. ", "I\u2019ve always used ", " to make sure a parameter value gets set when a node starts up but this now seems incompatible with declaring parameters. Would you consider having it return false if the parameter is declared, but not set? Or could we add another convenience function for this case?", "I\u2019ve always used ", " to make sure a parameter value gets set when a node starts up but this now seems incompatible with declaring parameters.", "At the moment, ", " is answering \u201cis it declared\u201d, not is it \u201cset\u201d. I can see why it\u2019s confusing, perhaps the type should really be ", " or something.", "I\u2019d recommend using a default value with declare parameter instead.", "Would you consider having it return false if the parameter is declared, but not set?", "That\u2019s a reasonable proposal I think, what do others think? If we do this we\u2019d want a way to differentiate between \u201cdeclared and not set\u201d and \u201cnot declared\u201d. Might be worth an issue on rclcpp describing the proposal and motivation.", "Or could we add another convenience function for this case?", "I could imagine having a ", " like method as a shortcut as well.", "A function ", " would definitely be useful and likely the way to go to differentiate between \u201cdeclared and not set\u201d and \u201cnot declared\u201d.", "Thanks for the quick reply!", "I\u2019d recommend using a default value with declare parameter instead.", "I\u2019ve come to suspect default values in many cases after many debugging sessions that ended in me discovering I hadn\u2019t actually overwritten the default.", "If we do this we\u2019d want a way to differentiate between \u201cdeclared and not set\u201d and \u201cnot declared\u201d.", "It\u2019s a bit unfortunate from the user\u2019s point of view to have to deal with two different notions of a non-existent parameter. I personally don\u2019t see much need to have to worry about checking if a parameter is not declared; whatever function I\u2019m using can just throw the ParameterNotDeclared exception. The first case is the interesting one to me.", "I\u2019m sure it\u2019s not possible for many reasons, but the ideal for me (as a user) would be to entirely remove the ability for ", "s to have a NOT_SET value.", "From this discussion and some thoughts mulling over in my head, ", " would it be possible to change the ", " method to be something like:", "This way batteries included a get call is going to declare the parameter if not already? If not by default, having the default boolean not do it but have the option? The extra declaration I need to think about makes application-level code a bit less (elegant? readable? can\u2019t think of the right word, but more \u201coverhead stuff\u201d to think about)", "More than happy to submit a PR if that\u2019s something agreeable.", "It\u2019s a bit unfortunate from the user\u2019s point of view to have to deal with two different notions of a non-existent parameter. I personally don\u2019t see much need to have to worry about checking if a parameter is not declared; whatever function I\u2019m using can just throw the ParameterNotDeclared exception. The first case is the interesting one to me.", "I suppose it is unfortunate, but you can also just always do something like ", " (pseudo code) and it will either: give you a string, throw because the type is not a string, or throw because it\u2019s not declared. So if you\u2019re ok with an exception for not being declared, can\u2019t you just lean on the exception when it\u2019s not set (and therefore cannot be coerced into a string) as well?", "I\u2019m sure it\u2019s not possible for many reasons, but the ideal for me (as a user) would be to entirely remove the ability for ", " s to have a NOT_SET value.", "The idea behind it is that sometimes all values of a parameter are \u201cvalid\u201d and there\u2019s no good way to make it optional as well without a second boolean \u201cis enabled\u201d parameter. Having ", " allows you to do this a bit more elegantly. Something like:", "Not saying this is a reason to have the extra type, but it is a pattern that\u2019s used a lot, especially in Python.", "This way batteries included a get call is going to declare the parameter if not already? If not by default, having the default boolean not do it but have the option?", "There\u2019s already an option for this behavior:", "I don\u2019t recommend it, however. I don\u2019t understand the need in most cases for using anything but a single declare parameter, as it returns the value just like get parameter does in most cases.", "If you don\u2019t expect the parameter to change during runtime, you can just do something like this in your main function or constructor:", "And you never need to use ", ".", "If you want to just call ", " everywhere you use it, that\u2019s fine too, you should just declare it during setup once. I don\u2019t think that\u2019s too hard. It maps to variables in languages, you need to declare your variable before you assign it, and you need to initialize it (assign it the first time) before you read it.", "I suppose it is unfortunate, but you can also just always do something like ", " (pseudo code) and it will either: give you a string, throw because the type is not a string, or throw because it\u2019s not declared. So if you\u2019re ok with an exception for not being declared, can\u2019t you just lean on the exception when it\u2019s not set (and therefore cannot be coerced into a string) as well?", "Yes, this seems a reasonable option to use the template argument to force the type conversion. Though it doesn\u2019t look like there currently is a templated version that returns the value.", "I don\u2019t recommend it, however. I don\u2019t understand the need in most cases for using anything but a single declare parameter, as it returns the value just like get parameter does in most cases.", "If you don\u2019t expect the parameter to change during runtime, you can just do something like this in your main function or constructor:", "And you never need to use ", ".", "Agreed this is reasonable, but again this particular usage doesn\u2019t seem to exist currently in rclcpp (it requires a default value).", "Taking a step back though, I trust you can sympathize if I express some frustration that in the end you\u2019re suggesting my code doesn\u2019t need to change except I should rewrite ", " as ", ". If for \u201cmost cases\u201d that\u2019s all that\u2019s needed, what problem is being solved here? It\u2019s still ", ", just now with a name with a less obvious meaning.", "Sorry, you\u2019re right, in both cases you need another step, either:", "Or:", "I think we could have a signature that returns ", ".", "Taking a step back though, I trust you can sympathize if I express some frustration that in the end you\u2019re suggesting my code doesn\u2019t need to change except I should rewrite ", " as ", " . If for \u201cmost cases\u201d that\u2019s all that\u2019s needed, what problem is being solved here? It\u2019s still ", " , just now with a name with a less obvious meaning.", "I will point out that there is a difference between ", " and ", " in the case (I think) you are describing.  In a world where you only have ", ", then you either get the value or you don\u2019t, but the parameter is not \u201cvisible\u201d on the node in the latter scenario.  That is, something like ", " doesn\u2019t show anything, and there is no external indication that a parameter is available to be set.  Using ", ", on the other hand, ensures that the parameter is always \u201cvisible\u201d, even if it\u2019s value is ", ".  I find that to be a highly desirable property of parameters.", "I will point out that there is a difference between ", " and ", " in the case (I think) you are describing.  In a world where you only have ", ", then you either get the value or you don\u2019t, but the parameter is not \u201cvisible\u201d on the node in the latter scenario.  That is, something like ", " doesn\u2019t show anything, and there is no external indication that a parameter is available to be set.  Using ", ", on the other hand, ensures that the parameter is always \u201cvisible\u201d, even if it\u2019s value is ", ".  I find that to be a highly desirable property of parameters.", "I agree this is a nice property. But I don\u2019t see how the new API is relevant to this. If at any point during execution I can declare a new parameter name, how is it different from making the name visible when first getting the parameter value? You can say the best practice is to declare all the names when the process starts but then you might as well say the best practice is to get all the values when it starts. And it\u2019s almost certainly not going to be followed anyway because there will be libraries in other packages that will want to access parameters from the current node and will end up just declaring right before they access.", "I realize this is covered ground and unlikely to change now so we don\u2019t have to spend more time discussing it. Likely going forward I will just use and suggest others use ", " as ", " suggested above and not bother with the complication of declaring ahead of time.", "Going down that road a ", " further just to play Devil\u2019s advocate\u2026", "I don\u2019t recommend it, however.", "Then why not just remove it?", "I will point out that there is a difference between ", " and ", " in the case (I think) you are describing. In a world where you only have ", " , then you either get the value or you don\u2019t, but the parameter is not \u201cvisible\u201d on the node in the latter scenario. That is, something like ", " doesn\u2019t show anything, and there is no external indication that a parameter is available to be set. Using ", " , on the other hand, ensures that the parameter is always \u201cvisible\u201d, even if it\u2019s value is ", " .", "This seems to me to be an argument to delete the existing ", " implementation, and rename ", " -> ", ", always available in all the tools and its accomplishing the same task of declaring and returning a value.", "I don\u2019t recommend it, however.", "Then why not just remove it?", "Because there are valid use cases that would need that capability. It\u2019s not recommended and the developer is required to explicitly override it which is them explicitly choosing to use that option which they should be aware of the consequences.", "I will point out that there is a difference between ", " and ", " in the case (I think) you are describing. In a world where you only have ", " , then you either get the value or you don\u2019t, but the parameter is not \u201cvisible\u201d on the node in the latter scenario. That is, something like ", " doesn\u2019t show anything, and there is no external indication that a parameter is available to be set. Using ", " , on the other hand, ensures that the parameter is always \u201cvisible\u201d, even if it\u2019s value is ", " .", "This seems to me to be an argument to delete the existing ", " implementation, and rename ", " -> ", " , always available in all the tools and its accomplishing the same task of declaring and returning a value.", "Implicitly declaring parameters at use time gets rid of the value of predeclaring parameters. We don\u2019t have support for it right now, but we\u2019d like to be able to do things like define interfaces including parameters, they could then be automatically declared by the node and then declaring new parameters would be disabled. It\u2019s also valuable to be able to audit the declared parameters separately from using them. As an example if two of us are writing code and I implicitly get and declare a param \u2018foo\u2019 as a double and then you implicitly get and declare a param \u2018foo\u2019 with integer it\u2019s behavior will be dependent on runtime race conditions, and much harder to debug. Whereas it\u2019s much easier to see, oh hey, two places are declaring the same parameter, that\u2019s not valid.", "It\u2019s definitely a little bit more overhead to separately declare and then use the parameters. But one of the lessons we\u2019ve learned and are building into ROS 2 is that being able to be knowingly correct is very important. This is along those lines of keeping the declarations separate from the usage.", "It used to be that \u201cmaking a parameter visible\u201d was done when you first set it. Really, declare parameter is a replacement for set parameter which also has meta data.", "The reason it was introduced was to avoid what happened when you did something like this:", "We didn\u2019t want to have two different people set the same variable with different meta data. So we made an \u201conly once\u201d activity (at least until you undeclare it) in declare parameter which lets you declare it and set meta data. For convenience you may also initialize it (set it) and get the resulting value (get the parameter), but neither of the last two things were its purpose.", "I don\u2019t think of declare parameter as a replacement for get or set parameter, but instead a replacement for something like this:", "As I said, if you don\u2019t want to mess with declaring parameters you can set these two settings to true (they default to false) and I think you\u2019ll get mostly what you want:", "But again, I personally think this will lead to more programming accidents in large systems. I could be wrong though.", "You can say the best practice is to declare all the names when the process starts but then you might as well say the best practice is to get all the values when it starts. And it\u2019s almost certainly not going to be followed anyway because there will be libraries in other packages that will want to access parameters from the current node and will end up just declaring right before they access.", "I don\u2019t understand why recommending you declare your parameter means you have to also not use get parameter?", "What\u2019s the problem with libraries declaring parameters before accessing them (if they\u2019re the only ones that care about the parameter)?", "Then why not just remove it?", "It certainly would have been a lot easier to implement, but the team felt we should have an easy way to get the old behavior, at least for now.", "Also there aren\u2019t many use cases for the other behavior (in my opinion), but in those few use cases some are quite important, like the parameter blackboard:", "Which could be done without the help of those options, but it would be a lot harder and less clean.", "This seems to me to be an argument to delete the existing ", " implementation, and rename ", " -> ", " , always available in all the tools and its accomplishing the same task of declaring and returning a value.", "What? I don\u2019t see why you draw that conclusion. You can only call declare parameter once\u2026", "You should definitely still use get_parameter if you are checking to see if it has changed during runtime, or if you simply don\u2019t want to pass references to the value throughout your code, or if you want to get several parameters at once.", "I don\u2019t understand why recommending you declare your parameter means you have to also not use get parameter?", "What\u2019s the problem with libraries declaring parameters before accessing them (if they\u2019re the only ones that care about the parameter)?", "My point was just that if new declarations can happen literally any time during node execution, I don\u2019t see much functional difference from the alternative of implicitly declaring anytime ", " is called.", "To summarize my thoughts, I understand the benefits of having a prior declaration to provide correctness guarantees. There are probably many instances where I\u2019ll love having the ability to provide declarations. I just don\u2019t like that the default is that I have no choice but to declare every single parameter, because it\u2019s forcing complexity on me instead of me choosing to make use of it. But I understand the consensus of the ROS2 team (as stated by ", ") is that being able to guarantee correctness is the priority at the cost of some developer overhead, so I\u2019m fine with just agreeing to disagree on the matter.", "My point was just that if new declarations can happen literally any time during node execution, I don\u2019t see much functional difference from the alternative of implicitly declaring anytime ", " is called.", "I tried to express this in my other post, but declare parameter does more than get parameter, it initializes the parameter (with stuff from the command-line or a default value or leaves it \u201cnot set\u201d) and it lets you set meta data. So regardless of when you use them (only at the beginning or anytime during run-time) they are functionally different.", "If you don\u2019t care about any of those uses of declare parameter, you may use just get_parameter, but you just have to flip one boolean flag when creating your node\u2026 Two if you want to take things from the command line too.", "There\u2019s also ", " which \u201cjust works\u201d even without those node option changes:", "It will never throw and it never declares or sets the value of the parameter.", "I could imagine having a ", " like method as a shortcut as well.", "Sorry for the +1 post: however I\u2019d just like to emphasize that a method like this would be awesome to have!", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": [" *   - context = rclcpp::contexts::default_context::get_global_default_context()", " *   - arguments = {}", " *   - parameter_overrides = {}", " *   - use_global_arguments = true", " *   - use_intra_process_comms = false", " *   - start_parameter_services = true", " *   - start_parameter_event_publisher = true", " *   - parameter_event_qos = rclcpp::ParameterEventQoS", " *     - with history setting and depth from rmw_qos_profile_parameter_events", " *   - parameter_event_publisher_options = rclcpp::PublisherOptionsBase", " *   - allow_undeclared_parameters = false", " *   - automatically_declare_parameters_from_overrides = false", " *   - allocator = rcl_get_default_allocator()", " *", " * \\param[in] allocator allocator to use in construction of NodeOptions.", " */", "RCLCPP_PUBLIC", "explicit NodeOptions(rcl_allocator_t allocator = rcl_get_default_allocator());", "\n", "/// Destructor.", "RCLCPP_PUBLIC", "*   - allow_undeclared_parameters = false", "*   - automatically_declare_parameters_from_overrides = false", "/// Get the parameter value, or the \"alternative_value\" if not set, and assign it to \"parameter\".", "/**", " * If the parameter was not set, then the \"parameter\" argument is assigned", " * the \"alternative_value\".", " *", " * Like the version of get_parameter() which returns a bool, this method will", " * not throw the rclcpp::exceptions::ParameterNotDeclaredException exception.", " *", " * In all cases, the parameter is never set or declared within the node.", " *", " * \\param[in] name The name of the parameter to get.", " * \\param[out] parameter The output where the value of the parameter should be assigned.", " * \\param[in] alternative_value Value to be stored in output if the parameter was not set.", " * \\returns true if the parameter was set, false otherwise.", " */", "template<typename ParameterT>", "bool", "get_parameter_or(", "  const std::string & name,", "  ParameterT & parameter,", "  const ParameterT & alternative_value) const;"], "url": "https://discourse.ros.org/t/declare-parameter-in-dashing/9077"},
{"title": "Twist_mux / teleop_tools porting to ROS2", "thread_contents": ["Hi all,", "\nis anyone working on porting ", " and/or ", " to ROS2 ???", "\nThat\u2019s something I am willing to give a shot at as a ROS2 exercise.", "Cheers.", "Posted this question on ", " as well.", ", We are interested in working on this with you. From our experience there are a few different teleop stacks out there that do basically the same thing. It would be nice to have one standard one in ROS2", ", that\u2019s great. I have started porting ", " and was planning on getting started with ", " during this week. How would you like to proceed ? I\u2019d propose to open a draft PR on github to which we would push as we go.", "In the meantime I opened a ticket to ", ".", "Lets move communication over to Slack. We can keep posting updates and general info here like the github repo url.", "All,", "I\u2019m glad to announce that ", " now has a ROS 2 Dashing ", "!", "\nWe\u2019re looking forward for feedback and (hopefully not so many) tickets on github.", "Cheers.", "Thanks for the effort everyone that was involved! We\u2019ll probably be using this soon.", "teleop_tools was released but it\u2019s installation is failing (joy/key_teleop from ros-testing). While we\u2019re fixing it, what\u2019s the proper channel to make sure it is not moved from testing to main (", ") ?", "If there\u2019s an issue with something the most important part is to ticket it upstream which I see is already done: ", "If there\u2019s something that the release manager should be monitoring you can start a thread in the appropriate subcategory here: ", " There will be a thread made as we prepare for the release that you can reply to. But you can also preemptively start a thread there too so that the release manager can know it\u2019s an issue before beginning to prepare for the sync.", "FYI ", " As dashing release manager expect a thread on this soon.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/twist-mux-teleop-tools-porting-to-ros2/9448"},
{"title": "Porting the rqt_rviz plugin to ROS2", "thread_contents": ["Hi everyone,", "\nat iRobot we are investigating the state of ROS2 tools and we think that it would be useful to allow the possibility of running all visualization plugins from a single application.", "In ROS a tentative solution to this problem had been identified in the ", ". As its name states, this allows to run ", " as if it was a regular ", " plugin. It would share the same interface and it would be able to communicate with the other plugins through the ROS communication framework.", "As you can see from the plugin wikipage, the ROS plugin is marked as experimental because it has frequent crash-related issues.", "\nThis problem is being tracked through the following tickets:", "According to these tickets, the problems are due to", "rqt runs an async spinner for C++ plugins", "rviz is not designed to be run as a nodelet in the first place therefore I assume it is running its own spinner. With two different spinners running the context / thread in which objects are created / used is not deterministic", "In ROS2 there is no more a difference between nodes and nodelets. Moreover, the whole managing of threading has been made simpler.", "It\u2019s important to note that ", " was not designed to supersede ", ", but it depends on it.|", "\nFor this reason, this port will eventually require to make changes to ", " itself.", "I would like to discuss with you about the possible challenges of this port and whether you think this is the best solution for incorporating all the tooling functionalities in a single place.", "Besides this, I would like to also ask to the ", " and ", " users if they would be interested in such a plugin.", "\nThe topic was already mentioned by some users when ", " for ROS2 was announced ", ".", "Best,", "\nAlberto", "Hello Alberto,", "While the effort involved may be large, there are probably groups that are interested in an integrated solution just for the convenience of it all. I helped port rqt with Mike Lautman at Picknik and Dirk Thomas, and those two might be able comment more on the threading issues related to cpp plugins in rqt and ROS 2. However, I\u2019m wondering what extra utility such an integration may bring? rqt plugins communicate through standard ros communication channels, so rviz sitting inside an rqt window wouldn\u2019t really integrate the plugins any closer to rviz. Are you thinking of tackling this problem for the convenience of putting all visualization tools in a single window, or are you looking to add more functionality to rqt or rviz?", "Stephen", "I think that at first this would be mainly useful in order to have all functionalities in the same window.", "\nFor the future, this can also be considered as a first step towards expanding the functionalities of the ROS2 visualization tools.", "\nMaybe it will be possible to exploit intra-process communication, but this is just a speculation.", "I agree with you that the required effort will not  be negligible. That\u2019s why I would like first to gather all possible information on this topic.", " do you have any thoughts on whether the threading issues of the plugin can be solved in ROS2?", "This problem is not specific to ROS 2 - it was already present in ROS 1. The ", " referenced above describes the problem.", "As far as I recall ", " would need to be updated to support running in a nodelet/component-style of way - not assuming it is alone in the process to coexist with other nodes.", "Ok, thanks.", "My thought was that doing this change (i.e. update ", ") would be simpler in ROS2 than in in ROS1 since the concept of Nodelet has now been removed.", "My thought was that doing this change (i.e. update ", " ) would be simpler in ROS2 than in in ROS1 since the concept of Nodelet has now been removed.", "I don\u2019t think that the ROS version will make a difference for what would need to change in the rviz code.", "Actually it makes all the difference I think. Since the problem in ROS 1 was to due with both rviz and rqt using the same node singleton. In ROS 2, they can each have their own if desired.", "I haven\u2019t looked into what exactly the original issue was and whether or not it is implicitly solved, but from what I remember it may just work in ROS 2.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/porting-the-rqt-rviz-plugin-to-ros2/10309"},
{"title": "ROS2 Security Working Group Online Meeting - September 17th, 2019 between 10AM and 11AM PDT (UTC-7)", "thread_contents": ["Hi everyone,", "We are planning to hold the next ROS 2 Security Working group meeting on ", " \u2192 ", "Please suggest topics for the next meeting by commenting on this thread.", "\n", " to receive calendar invites in", "\nyour e-mail inbox.", "ROS 2 Security Working Group Meeting Notes Working Group Calendar URL | Google Group for invites  Please join the Google group to get calendar invites to the meeting and be able to comment on this doc. Want to help facilitate this working group?...", "You have been invited to an online meeting, powered by Amazon Chime.", "\nChime meeting ID: 1216476874", "\nJoin via Chime clients (manually): Select \u2018Meetings > Join a Meeting\u2019, and enter 1216476874", "\nJoin via Chime clients (auto-call): If you invite auto-call as attendee, Chime will call you when the meeting starts, select \u2018Answer\u2019", "\nJoin via browser screen share: ", "\nJoin via phone (US): +1-929-432-4463,1216476874#", "\nJoin via phone (US toll-free): +1-855-552-4463,1216476874#", "\nInternational dial-in: ", "\nIn-room video system: Ext: 62000, Meeting PIN: 1216476874#", "Hi everyone, ", ".", "We also have the pleasure to announce that Canonical will be leading the ROS 2 Security Working Group from the next meeting. AWS will continue participating in the WG as we did over the last year.", "Thank you ", " for your excellent stewardship of ROS 2 security! We at Canonical are thrilled to be handed the baton. More details will come soon!", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-security-working-group-online-meeting-september-17th-2019-between-10am-and-11am-pdt-utc-7/10380"},
{"title": "Manipulation WG - Friday 31st of May, 17:00 CET (9AM PDT, 1AM JST)", "thread_contents": ["The next Manipulation WG meeting is scheduled for Friday 31st of May, 17:00 CET (9AM PDT, 1AM JST). Please join the meeting via the following link:", "Real-time meetings by Google. Using your browser, share your video, desktop, and presentations with teammates and customers.", "Agenda will be posted in the following days. Feel free to suggest any topic if you\u2019re interested in participating.", "Here\u2019s an update about the proposed agenda. Feel free to suggest any topics if you plan on participating and we\u2019ll try to include it in:", "For those of you that can\u2019t joint but are interested in the progress, we will be publishing the minutes shortly after the meeting.", "Here\u2019re the meeting notes of the last session:", "MoveIt 2, status of the port", "Ping in all the PR that can be merged only in the ones that we can merge it.", "MoveIt 2 update and contributions", "Next meeting, to be announced", "Complete notes including previous meetings available at ", "We will postpone the meeting of the 14th and announce the next meeting date in the coming weeks.", "Is anyone still driving the Manipulation WG? If not, does anyone want to volunteer to take the lead on this? We (Intel) are willing to participate / contribute.", "Hello ", ",", "Thanks for volunteering. AFAIK, nobody is currently leading it so I\u2019d say that you\u2019re more than welcome to take it from this point. Latest contributions to ", " are at ", ".", "Ping me if you need support.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", "\n", "\n", "\n", "\n", "Acutronic Robotics\n", "complete the alignment of MoveIt 2 core ", "\n", "CI", "Porting pick and place capabilities", "Instalation instructions ( need to be review it with the dashing release)\n", "Issues with control_msgs", "\n", "Rviz plugins", "Fix moveit_resources to be able to execute moveit_core tests", "ros2tests ?", "\n", "\n", "\n", "\n", "Next goals, community and re-alignment", "\n", "\n", "\n", "Alejandro Hern\u00e1ndez", "Anas Mchichou El Harrak", "Lander Usategui", "Henning Kaiser", "Dave Coleman", "Mike Lautman", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "The Master branch has to be always compilable", "No accepting PRs until the CI passes", "The CI of upperstream is compiling because of the amount of COLCON_IGNORES\n", "We suggest to remove them and leave the CI crash", "\n", "Create a PR to the CI to the moveit_ci.", "\n", "complete the alignment of MoveIt 2 core ", "\n", "The list of the PR that has to be merged first", "Mike says that the CMakelist has to be fixed because of relative paths", "Alex says that the best way to fix the CMakelist is by merging all the already opened PRs, because there are some PRs merged with the same error. Then he will open a pr solving all the issues.", "\n", "Porting pick and place capabilities / visualization\n", "Pick and place has been ported needs to be tested.", "Also porting the visualization plugins", "\n", "Rviz plugins\n", "Rviz2 review the current status (dashing release).", "\n", "Issues with control_msgs\n", "There is still a bug with Actions that has to be solved on OpenSplice, there is an open issue ", "\n", "\n", "CI\n", "Create a PR on moveit_ci, with the needed changes in order to have CI from upstream working.", "\n", "ros2tests\n", "Start adding ros2tests for the packages because of the release of dashing.", "\n", "\n", "\n", "\n", "\n", "\n", "Acutronic Robotics\n", "complete the alignment of MoveIt 2 core ", "\n", "CI", "Porting pick and place capabilities", "Installation instructions ( need to be review it with the dashing release)\n", "Issues with control_msgs", "\n", "Rviz plugins", "Fix moveit_resources to be able to execute moveit_core tests", "ros2tests", "\n", "\n", "\n"], "url": "https://discourse.ros.org/t/manipulation-wg-friday-31st-of-may-17-00-cet-9am-pdt-1am-jst/9226"},
{"title": "Multi-Machine Launching", "thread_contents": ["I am working with CCDC GVSC on adding multi-machine launching capabilities to the launch system for ROS 2. We would like to get some feedback from those of you who are interested in a multi-machine launching capabiltiy. Are there any particular features you would like to see, or special use cases you need to be able to accommodate?", "I have submitted a PR to the ROS2/design repository with an initial draft of a design document if you are interested in taking a look at our current plans and providing feedback there: ", "This really is really great see ", ". Keep up the great work!", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/multi-machine-launching/10691"},
{"title": "Safety Critical WG meeting #20190926", "thread_contents": ["This is the meeting announcement for the next Safety Critical WG meeting to take place on ", "Please join my meeting from your computer, tablet or smartphone.", "\n", "You can also dial in using your phone.", "\nUnited States: ", "Access Code: 559-799-493", "More phone numbers", "\nAustralia: ", "\nAustria: ", "\nBelgium: ", "\nCanada: ", "\nDenmark: ", "\nFinland: ", "\nFrance: ", "\nGermany: ", "\nIreland: ", "\nItaly: ", "\nNetherlands: ", "\nNew Zealand: ", "\nNorway: ", "\nSpain: ", "\nSweden: ", "\nSwitzerland: ", "\nUnited Kingdom: ", "New to GoToMeeting? Get the app now and be ready when your first meeting starts:", "\n", "Starting to be hard to track things with all the ongoing activity ", " . Hope I\u2019m not asking for too much but would it be possible to set up a joint calendar as in ", "?", "That\u2019s actually something that should be done for all working groups. In the Autoware Foundation we are in the process of setting up a public calendar for all working group meetings to be recorded on. I will raise the idea of doing the same thing in the next ROS 2 TSC meeting.", "Tully has just given me access to a calendar for ROS events, so I shall record the working group meetings on there. I presume he will announce it shortly, because it does not appear to be the same one as the ROS 2 Security WG has been using? (If it is, they\u2019ve hidden their upcoming events very well.)", "A unified working group calendar/index would be appreciated. I\u2019d be fine jumping ships for some consolidation or consistency. Perhaps we could also start tracking our meeting notes in git repos under a common wg org, rather than google docs or posts spread across the ether. Sort of like the lang teams in rust: ", "I was intrigued by the way Rust is using GitHub to manage its working group documents, rather than any kind of wiki, so I took a look. The most recent update is 3 months ago. ", " I think the burden of doing things through Git may be too high compared to just using a wiki-like interface.", "The Autoware Foundation is starting to ", " (it\u2019s a project that doesn\u2019t have a repository, just the wiki), and I\u2019m encouraging working group leaders to post their minutes there.", "Perhaps we could have something similar under the ", " organisation at GitHub?", "I suppose keeping to discourse for posting meeting notes and asynchronous discussions like we have isn\u2019t bad, as long as posts are tagged by working group. Perhaps the discourse posts/notes could be made as discourse wikis for those in the working group to edit. Should working groups continue to post in there closest category, or should we have a subcategory just for wg announcements?", "Perhaps we could have something similar under the ", " organisation at GitHub?", "Adding a github wiki to index working group schedules/resources would be great.", "\nA wiki page entry could look like this:", "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed elit nisl, rutrum sed facilisis at, ultricies nec risus. Sed finibus ut diam sit amet euismod.", "ROS Security Working Group has 3 repositories available. Follow their code on GitHub.", "Discourse posts tend to get lost easily. Putting them in a category helps but it means yet another category.", "My policy for the Autoware Foundation is that minutes should be placed in the wiki, sorted by working group, but also announced in Discourse. I can live with doing them in a Discourse post, but I don\u2019t think it\u2019s ideal.", "I would like to have the notes somewhere other than discourse posts.", "\nGitlab, confluence, github.  Anyplace where we can easily organize and review later.", "Here are the minutes.", ": Geoffrey Biggs", "Please join my meeting from your computer, tablet or smartphone.", "\n", "You can also dial in using your phone.", "\nUnited States: +1 (571) 317-3129", "Access Code: 559-799-493", "More phone numbers", "\nAustralia: +61 2 9087 3604", "\nAustria: +43 7 2081 5427", "\nBelgium: +32 28 93 7018", "\nCanada: +1 (647) 497-9391", "\nDenmark: +45 32 72 03 82", "\nFinland: +358 923 17 0568", "\nFrance: +33 170 950 594", "\nGermany: +49 692 5736 7317", "\nIreland: +353 15 360 728", "\nItaly: +39 0 247 92 13 01", "\nNetherlands: +31 202 251 017", "\nNew Zealand: +64 9 280 6302", "\nNorway: +47 21 93 37 51", "\nSpain: +34 932 75 2004", "\nSweden: +46 853 527 836", "\nSwitzerland: +41 225 4599 78", "\nUnited Kingdom: +44 330 221 0088", "New to GoToMeeting? Get the app now and be ready when your first meeting starts:", "\n", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Thomas Moulard: ", "\n", "Kyle Fazzari: ", "\n", "Ruffin White: ", "\n", "Mikael Arguedas: ", "\n", "Emerson Knapp: ", "\n", "Michael Carroll: ", "\n", "Jacob Perron: ", "\n", "asynchronous:\n", "discourse: ", "\n", "tag: ", "\n", "\n", "synchronous:\n", "matrix/irc: ", "\n", "\n", "Geoffrey Biggs", "Shawn Schaerer", "Caller 01", "Sohin", "What safety patterns can we will in with \u201chow to do it in ROS\u201d?\n", "These are good targets for soft contributions, i.e. documentation and guidance provision", "\n", "What safety patterns require software to be implemented where that software can be made generic?\n", "These are good targets for hard contributions, i.e. source code and libraries", "\n", "Other relevant topics that could be documented:\n", "How do you make ROS nodes execute in lock step?", "How do you tie a node to a CPU core? What launch system facilities would you use or need to be added?", "Relatedly, specifying resource minimums in launch files.", "How do you log data reliably for compliance with safety regulations?", "\n", "Can we get an organisation at GitHub?\n", "Geoff to talk to Tully about getting an organisation, then set up a repository for putting the functional libraries in.", "Create a wiki to document the patterns.", "\n", "Moving forward:\n", "Get GitHub organisation", "Repository for libraries we create", "Repository for sample code for patterns", "Wiki for patterns and other useful information such as locking nodes to cores", "Medium term, look at extensions to launch that may be necessary, e.g. to support locking to cores", "Start writing up the patterns", "\n", "\n", " ", "\n", "We will now meeting every two weeks at the same time.", "\n"], "url": "https://discourse.ros.org/t/safety-critical-wg-meeting-20190926/10477"},
{"title": "ROS2: How to use custom message in project where it's declared?", "thread_contents": ["I\u2019ve created C++ ROS2 project with a custom message as explained here: ", "I can see the message is generated properly and .h.hpp files are installed.", "Now I want to use this custom message in the same project where it\u2019s generated. But I can\u2019t reference the header file of my generated message from the same project.", "Here is my CMakeList.txt:", "Inside src/my_publisher.cpp I have a line:", "\n", " \u201cbridge_test_msgs/msg/bridge_test_message.hpp\u201d", "Command \u2018ament build\u2019 fails with message:", "I can see header file exists:", "Could you hint me how to reference custom message from the project itself?", "It\u2019s true that most our message package are pure message packages and thus do not try to include/link against themselves. The trick here is that you need to use the macro ", "You can look at the ", " CMake code for an example.", "I agree that this is not well documented and that an addition to ", " would be valuable", "Yeah. That worked for me. Thank you!", "For closure: I added this documentation: ", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-how-to-use-custom-message-in-project-where-its-declared/2071"},
{"title": "ROS2 Real-time Working Group Online Meeting 2 - Aug 21st, 2019 between 7AM and 8AM PDT (UTC-7)", "thread_contents": ["Hi all,", "\nthis is a call for our 2nd ROS2 Real-time Working Group meeting:  Aug 21st, 2019 between 7AM and 8AM PDT (UTC-7).", "I would like to propose the following agenda constructed from the action items of the previous meeting: ", "[10min] Create an rmw implementation which works for a single process. Once that works connect with the underlying data link (e.g. TSN). Measure: malloc/realloc calls, page faults, context switches, memory consumption, blocking calls, \u2026 RTI Connext Micro is a suitable DDS implementation for something like this due it its staticity and intra-process communication feature.", "[10min] Performance testing on target hardware", "\n", "[10min] Invest in the tools for static and dynamic code analysis and tracing and carefully scan the code.", "[20min]", "[10min]", "Document current state of the art. Someone remarks that there were still mutexes used in e.g. rmw or rclcpp. Memory is still being allocated/de-allocated when receiving messages.", "LMK if you agree with the agenda and if you can join.", "D.", " ", " ", " ", " ", " ", " ", " ", " ", " See above.", " ", " ", "  ", " ", "   see above.", "One remark - regarding the following action item:", "Looks good. Can you also please share the meeting link.", " ", " will join, possibly ", " too", " and I are also interested in joining this meeting. We have been looking at the current implementation of the SingleThreadedExecutor to investigate the high CPU overhead. We have an ongoing discussion here: ", " . As a first step we are starting work on creating a static version of the executor to investigate how much performance can be gained (POC). We think this is a separate issue from the scheduling \u201cproblem\u201d discussed in Tobias\u2019 work. Both issues are important to us and probably to others who want to run a \u201cnormal\u201d ROS2 stack on an embedded board.", " I\u2019d like to join the WG as a listener for the time being", "[20min]", "Yes, that should be enough.", "As a first step we are starting work on creating a static version of the executor to investigate how much performance can be gained (POC). We think this is a separate issue from the scheduling \u201cproblem\u201d discussed in Tobias\u2019 work.", "Very nice work on the CPU overheads!. I agree that the two problems are not related.", "I\u2019d like to join, thanks for taking care of this thread.", "tomoya", "Hi ", ",", "Is it the same Zoom meeting like last time?", "\nI\u2019d like to join it.", "Kind Regards,", "\nAndrei", "We might want to spend some more time thinking about this, before someone goes off and starts on it. I\u2019m not sure 10 minutes is enough here \u2013 maybe have it as the main topic of an upcoming meeting?", "I think there might be a connection to tracing here\u2026 Just saying ", "[10min] Invest in the tools for static and dynamic code analysis and tracing and carefully scan the code.", "\n[\u2026]", "\n4. ", "In principle yes, but I\u2019m not available on the 21st of August, as I\u2019m on vacation. Let\u2019s connect afterwards.", "Hi all,", "\nthe meeting details are here:", "Topic: My Meeting", "\nTime: Aug 21, 2019 07:00 AM Pacific Time (US and Canada)", "Join Zoom Meeting", "\n", "Zoom is the leader in modern enterprise video communications, with an easy, reliable cloud platform for video and audio conferencing, chat, and webinars across mobile, desktop, and room systems. Zoom Rooms is the original software-based conference...", "\n", "One tap mobile", "\n+16699006833,264081213# US (San Jose)", "\n+19294362866,264081213# US (New York)", "Dial by your location", "\n+1 669 900 6833 US (San Jose)", "\n+1 929 436 2866 US (New York)", "\nMeeting ID: 264 081 213", "\nFind your local number: ", "We might want to spend some more time thinking about this, before someone goes off and starts on it. I\u2019m not sure 10 minutes is enough here \u2013 maybe have it as the main topic of an upcoming meeting?", " Dejan_Pangercic:", "Yes - we absolutely should not do this without the proper design document.", "I think there might be a connection to tracing here\u2026 Just saying ", " Dejan_Pangercic:", "Correct. Added.", "In principle yes, but I\u2019m not available on the 21st of August, as I\u2019m on vacation. Let\u2019s connect afterwards.", "OK.", "This is the same time as an AWF board meeting so I may or may not be able to join. Don\u2019t wait for me if I\u2019m not there.", "I would like to join.", "Sincerely,", "\nKosuke", "Sorry guys I was stuck on a plane while this meeting was happening and I only just got clear. Are there any meeting minutes for this?", "David", " Can you please share MoM or meeting recording", " and all:", "\nhere the recordings of the 2nd meeting (I will follow-up with the short transcription tomorrow):", "Topic: 2nd ROS Real-time working group meeting", "\nStart Time : Aug 21, 2019 06:51 AM", "Meeting Recording:", "\n", "Hello,", "\n", "\nI would like to join this group and attend the next meeting please.", "Thank you,", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", "\n", "\n", " : find someone that will lead this work.", "\n", "\n", "\n", " (Jaime, Miguel) or", "\n", " (Eric, Joe)", "\n", " also volanteered", "\n", "\n", "\n", "\nThis is the topic that I am adding in addition and it was originally proposed by ", ". The proposal is to create a buildfarm with couple of select computers (ECUs) on which to run the ", " and measure performance regressions. ", " realized that several parties are trying to work on this (Amazon, iRobot, Apex, eProsima, Open Robotics, \u2026)", "\nWe would need to figure out the following:\n", "target HW => could Amazon host?", "target (RT)OS => Linux with RT-PREEMPT, QNX, VxWorks, \u2026", "how to automate flashing of (RT)OS and provisioning of DDS, ROS 2 and ", " => Apex works on this", "how to configure and automate running of ", " in a clean environment => Apex works on this\n", "how to run ", "\n", "\n", "how to store the results => Apex works on this", "how to visualize the results (e.g. ", ") such that we can compare historical runs, view results for different configurations of HW, RTOS, DDS, ROS 2 => ???", "which additional metrics do we want => ???", "\n", "\n", "\n", "\n", "  create a shared repository for above tools. Bosch will e.g. open-source their integration of LTTng in ROS2. Silexica is integrating they dynamic analyser.", "\n", " ", "\n", "\n", ": ", "\n", "\n", "\n", "\n", "implement real-time pub/sub (either using Waitset or modified Callback/Executor)", "\nWe briefly scanned through the paper by Bosch: ", ".", "\n", "\n", " : present the paper in detail in one of the next meetings.", "\n", "\n", "\n", "perform memory audit in rmw, rcl and rclcpp (remove unneeded memory allocations)", "split memory allocation in init and runtime phases, avoid memory fragmentation", "remove all blocking calls (or replace with timed calls, e.g.  ", "  vs  ", "  )", "\n", "\n", "\n", " : get William to present his findings", "\n", "Propose a use case => requirements => architecture => hardware", "Proposed canonical use case: a vehicle/robot encounters an obstacle and has to stop safely for it", "Proposed other use case: autonomous driving", "\n", " : Dejan to provide a use case description and requirements", "I did not have time to provide this. ", " and one of our engineers are working on this however.", "implement real-time pub/sub (either using Waitset or modified Callback/Executor)", "\nWe briefly scanned through the paper by Bosch: ", ".", "\n", " : present the paper in detail in one of the next meetings.", "[10min] Create an rmw implementation which works for a single process.", "[10min] Performance testing on target hardware"], "url": "https://discourse.ros.org/t/ros2-real-time-working-group-online-meeting-2-aug-21st-2019-between-7am-and-8am-pdt-utc-7/10279"},
{"title": "Reminder: Eloquent Elusor Feature Freeze Friday", "thread_contents": ["This is a reminder that as part of the ", ", we are targeting Friday, October 18th for the feature freeze.", "After this point, core packages should be consider API frozen, with only bug fixes going in after this date.", "If you have any API or design changes impacting the core ROS2 packages (rmw, rcl, rclcpp, rclpy and friends), these need to be in-flight in order to make the deadline.  It would also be additionally helpful to post links to relevant Pull Requests to insure that all additions are considered before the deadline.", ", ", ", and ", ",", "\nThe ROS 2 team", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/reminder-eloquent-elusor-feature-freeze-friday/11009"},
{"title": "Ros_to_dds Package", "thread_contents": ["In ", " docs there is mention of a ros_to_dds package. I can\u2019t find much else on it, has anything been done on this yet?", "No, that\u2019s more of a placeholder, instead it\u2019s like the rmw implementations themselves would provide this interface, see these demos for Fast-RTPS:", "Contribute to ros2/demos development by creating an account on GitHub.", "Which access underlying rmw implementation specific objects directly. None of ", ", ", ", or the others have interfaces like this yet as far as I know, just  because no one has needed them yet.", "Excellent thank you very much.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros-to-dds-package/11015"},
{"title": "Is there any DDS implementation using shared memory inside system?", "thread_contents": ["Hi all,", "im just curious on this, i can see some vendors working on dds implementation.", "\nbut is there any dds implementation supports shared memory? or working?", "thanks in advance,", "\nTomoya", "A question like this is better for ", ", but I\u2019ll give you a quick answer here.", "thanks, i will look into them.", "confirmed that RTI Connext DDS used shared memory, actually it maps shm in the process space. but so far our internal performance test tells us it is not so good for latency. connext dds implementation is provided as binary so we are not sure what\u2019s going on. is there any specific room we should have this conversation. maybe just asking for RTI\u2019s help?", "What sort of latency are you seeing? Could the data marshalling and unmarshalling cover it?", "sorry to be late to get back here,", "Publisher:Subscriber=1:1, skylake, Ubuntu16.04", "i was expecting much faster since it uses shared memory.", "(*) Latency\u2026(end - start), start is right before publish msg, end is subscriber callback fired. so this is just for latency for communication.", "we are considering we should use ", " instead of ours, we will check how it works.", " I\u2019d recommend checking out the ", " script if you want to run a comprehensive batch of experiments with ", ".", "thanks for the tip in advance, will check that out.", "we did try out ", ", the result comes up the following.", "skylake ubuntu16.04 Pub:Sub=1:1, QoS(BestEffort, Volatile), Latency Mean [ms]", "not sure what\u2019s going on with connext more than 32KB, and there is no way to investigate since it\u2019s binary release. but if we use the shared memory precisely, this will be much much faster and also throughput. is there specific configuration required to connext? maybe we are not using the precise configuration? someone could you give us some help here?", "thanks,", " DDS configurations is a rather large topic, and would be difficult to even introduce with all the appropriate context in a single post.", "You\u2019re right that using shared memory is going to improve ECU- or PC-local latency performance. There are other considerations to make WRT message size, such as packet fragmentation and how that affects the network layers, and network buffer sizes \u2013 this is more applicable when you\u2019re ", " using shared memory features, which may help explain some of the results you posted for larger message sizes.", "The ", " numbers may not be too far off from expected due to the packet fragmentation and serialization/deserialization delays, which are especially troublesome with nested data structures. I cannot confidently say the same about the ", " results, those seem off to me from a cursory review.", "Were you able to rerun the performance test experiments with shared memory enabled?", "appreciate for your help and comments on this thread, i understand what you mean that taking care of protocol layer and network, that are the difficulties to adjust for shared memory transport.", "not sure if we could actually use shared memory or not, as far as i can tell is that shared memory is mapped into the process space, but taking really long time to transmit.", "Continental published eCAL this week - a publish-subscribe framework that is designed for high data throughput with minimal latency.", "\nIt\u2018s using shared memory for inter process communication and can use different serialization protocols like google protobuf, flatbuffers or capnproto as well for highest performance.", "\nCheck ", "Hi Tomoya, ADLINK Technology\u2019s ", " has shared memory support for dashing for significant reduction in latency for ROS2 modules running on the same compute, with especially large improvement when doing 1:many. ", ", use ", ". Would be happy to help.", "Sorry to jump in here so late\u2026 I think there are some known inefficiencies in the way the ROS/rmw is using RTI Connext DDS in that it makes some extra memory copies and allocations.", "RTI\u2019s public benchmarks produce much better performance over shared memory. You can see the results here: ", ".", "You can reproduce this in your own platform using the open source RTI perftest tool: ", "\nyou can also download the binary distribution here: ", "To send data larger than 64KB you need to enable asynchronous publishing. The RTI perftest will do that automatically for you.  You can look at the source code of perftest to see how to do it.", "thanks for the information, OpenSplice DDS implementation is provided as binary? it has to be commercial version once it comes to the actual product, am i right? (i do not read the license yet, though) besides, do you have any benchmark result with comparison?", "thanks,", "hi Tomoya, OpenSplice is open source and commercial. Both work with dashing and use same rmw. Shared memory is a feature of commercial which is ", ", other is ", ".", "thanks, any benchmark result then?", "We have some briefly benchmark result for your reference.", "\nOpenSplice community v.s OpenSplice commercial", "Latency test:", "\nOpenSplice community edition + ROS2 rclcpp + rmw_opensplice_cpp :", "\n1k array: ~273 us", "\n4k array: ~299 us", "OpenSplice commercial edition + ROS2 rclcpp + rmw_opensplice_cpp + shared memory :", "\n1k array: ~105us", "\n4k array: ~129us", "Throughput test:", "\nThroughput can up to 1.7Gbps.", "\nFor example: a 8K array ROS message publishing / subscribing rate can up to ~25200 hz", "Notice\u2026", "thanks for the information, that\u2019s really interesting!!!", "BTW, May I just ask a few questions based on the result?", "thanks in advance, cheers", "all test use a tuned opensplice configuration", "What was it tuned for?", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["The RTI Connext DDS implementation definitely has the ability to use shared memory for DDS clients running on the same computing node, and as I recall will do so automatically. However, it will still marshal data because it needs to do so for many of the features of Connext DDS, such as logging and introspection.", "eProsima\u2019s FastRTPS apparently does not use shared memory yet but ", ".", "OpenSplice DDS does use shared memory internally. I don\u2019t know if this implementation marshals data for shared memory.", "all latency and throughput tests use optimized build .", "all message array memory are pre-allocated before sending to the rmw layer.", "all test use a tuned opensplice configuration. Different configuration could have different performance.", "what is the platform device and ROS2 version?", "How many subscribers on the Reader side, if not a problem?", "Is there any chance to support much bigger data, such as MB order images?"], "url": "https://discourse.ros.org/t/is-there-any-dds-implementation-using-shared-memory-inside-system/7609"},
{"title": "When can ROS be expected to be supported by Android?", "thread_contents": ["ROS is great open-source software but being just limited to Linux (Ubuntu mostly) OS will put its growth to stagnation. Are there any plans of developing ROS for android.", "There is already ", "And there\u2019s a number of app examples using (presumably) rosjava. The Matlab robotics system toolbox uses rosjava so I think you can expect it to be maintained and stay around for a while.", "just jump in this thread since i got interests.", "any plan for ROS2 android or java?", " presented at ROSCon18 about this topic: ", " (", ").", "Summary:", "ROS2\u2019s layered architecture and adherence to modern C and C++ standards has enabled the support for the three major PC operating systems from the start. This talk will show that this design is flexible enough to have ROS2 running on architectures other than x86 (e.g. ARM) and on non-traditional platforms, such as Android, iOS and the Universal Windows Platform, while reusing a common codebase to all client libraries. Additionally, we\u2019ll see how to write a generator and a client library through three examples (Java, Objective-C and C#) and how to integrate them into the ROS2 build system.", "I\u2019ve been working on updating the existing ROS 2 Java work done by ", ".", "\nThe plan is to get ", " working for Dashing and Eloquent.", "Here\u2019s the first of several PRs to come: ", "I\u2019m not going to be focused on Android support, but I guess what\u2019s already there shouldn\u2019t need to much work once rcljava is updated ", " could you describe a bit more of what you would like to see? I believe it is pretty easy to publish and subscribe to topics on an Android device. What would proper Android support look like to you? What you do with it?", "I ask because we might be able to write a few how-tos around this down the line.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/when-can-ros-be-expected-to-be-supported-by-android/11013"},
{"title": "Inconsistency in flake8 between ROS2 (source builds + ci.ros2.org) and (build.ros2.org for PRs)?", "thread_contents": ["It seems like there is a major inconsistency in our Python linting infrastructure between these two categories of builds:", "In case 1, for source builds, we instruct to install ", "For case 2, for package-based builds, we install Flake8 ", "This is the first discrepancy - I ran into a hanging bug in flake8 3.5 in ", ", for valid Python syntax. The bug did not appear in either my local workspace or in the ", " build, but did appear in the automated ", " PR build.", "Next, the ", " list a set of flake8 extensions to install.", "Of the above extensions, only ", " is present in the bionic apt repositories. So, PR builds do not enforce a subset of the linting requirements introduced by those extensions.", "In conclusion, we have these problems today:", "(note that the above also applies to the pytest version, I see there is an open issue for that ", ")", "How might we begin to address this? It\u2019s a situation that we don\u2019t want to stay in. Not even sure where issues might be opened, there are a few possibilities.", "The goal on Ubuntu is to only rely on Debian packages since packages installed via ", " overlay those Debian packages but don\u2019t get updated by the regular process (", ").", "On Ubuntu 18.04 several of our Python dependencies are too old for what we need. So we have to fall back to install pip packages atm at least. With the upcoming Ubuntu 20.04 that shouldn\u2019t be the case and we can stick to Debian packages again.", "The fact that not all the Python packages we want to use are available as a Debian package is unfortunate. The only option I see there is that someone starts contributing them into Debian packages. I don\u2019t think we should drop any of these ", " plugins since the help us keeping a consistent style / catch \u201cbad\u201d code.", "That being said about Ubuntu for macOS and Windows it will always be the case that users will install the latest versions via ", ". So on those platforms we have to pass the linter tests with the latest versions (assuming we don\u2019t want to pin specific versions which would e.g. be different between ROS distros and likely not being used by all users anyway).", "So I don\u2019t think we are able to get rid of the difference between the platforms.", "That being said the obvious solution to the problem is that we are able to run tests on both types of environments for a PR / CI. Unfortunately ", " providing the PR jobs for repos only has Linux nodes. The goal is to add automatically provisioned macOS and Windows nodes to it, being able to install dependencies from binary packages (otherwise builds take way too long) as well as update the ", " logic to support those platforms. But realistically that is a lot of work and will likely take quite some time before it becomes reality.", "That being said the obvious solution to the problem is that we are able to run tests on both types of environments for a PR / CI", "This makes sense to me - the \u201cscattershot\u201d approach should provide some consistency by providing lots of datapoints. And, I hadn\u2019t thought about that bigger part of the problem, that those tier1 builds could be broken by PRs that pass the automated build.", "Are there issues already open (on a project?) tracking adding osx and win builds for PRs?", "Are there issues already open (on a project?) tracking adding osx and win builds for PRs?", "No, not atm. Those goals are only on our internal infrastructure roadmap.", "Where could this plan be publicly displayed? Having that roadmap visible is valuable to the community.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["source builds\n", "As per ", "\n", "\n", "  ", " builds", "\n", "package-based builds\n", "as in ", "\n", "or for users installing from rosdep", "\n", "A PR can pass automated linting, be merged, and break the CI nightly and packaging builds because it did not meet all the linter extension requirments", "A PR can break in automated PR build, but pass both locally and in CI builds."], "url": "https://discourse.ros.org/t/inconsistency-in-flake8-between-ros2-source-builds-ci-ros2-org-and-build-ros2-org-for-prs/11079"},
{"title": "Navigation2 - Call for Input to prioritize F-Turtle feature list", "thread_contents": ["Hi ROS2 community!", "\nThe Nav2 WG is beginning discussion on what features should be in the F-Turtle release in mid-2020. We\u2019ve posted an issue here with the list so far: ", "We\u2019re inviting the user community to give us input so we can help prioritize this list. Not all of it will get done in time for the first F-Turtle release, but we want to work on things in prioritized order.", "So here\u2019s what you can do:", "Of course, we also would ", " more community contributions so if you see an issue you want to work on, please ", " that issue ", " comment in the comments that you\u2019d like to either contribute to or own that issue! No reasonable offers for help will be refused, I promise! ", "Thank you for your contributions!", "Go ROS2! ", "If you want to see Matt dance, file a new issue!", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Read the issue with the list: ", "\n", "If you see an issue you want us to work on, click on that issue, then use the \u201c", "\u201d in the issue description you want.", "If you would like something that\u2019s not on the list, please file a ", " issue, then link it in the comments back to the original issue above, so we can add it to the list", "Dance party! ", "\n"], "url": "https://discourse.ros.org/t/navigation2-call-for-input-to-prioritize-f-turtle-feature-list/11076"},
{"title": "ROS2 - Best hardware available today for development", "thread_contents": ["Hi all,", "Is there a list of off-the-shelf hardware available today that fully supports ROS2? Or at least hardware that would be, in your opinion, a good bet for future ROS2 developments?", "The arm MARA would have been a perfect fit but unfortunately, they seem to be out of business.", "Turtlebot3 also has ROS2 packages available, not sure how mature they are.", "Best,", "What kind of hardware are you looking for? And what applications are you going to develop? mobile robot? Or robot arm?", "I think having an up to date list would be interesting regardless of our intended use. We have ongoing work under ROS1 in both mobile robots and arm manipulation. We might be able to buy a cobotic arm soon and I would like to make it as future-proof as possible. Any input is welcome.", "Also, we would like to try out ROS2 regardless of the platform and decide when/if we want to make the switch.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-best-hardware-available-today-for-development/11171"},
{"title": "Safety-critical working group - Call for contributions", "thread_contents": ["The Safety-Critical working group is (finally) up and running and ready for contributions! We have chosen as our first goal, and no doubt an ongoing goal in parallel with any future activities, to create a catalogue of architectural patterns commonly used in safety-critical systems, including descriptions of how to achieve them in ROS. The ", " will hopefully become a useful resource of information, sample code, and ready-to-use nodes/constructs for robotics engineers building safety-critical robots with ROS. Although it is currently empty, we are going to begin contributing content right away and call on anyone with knowledge or interest or just plain motivation to also contribute to filling out existing patterns and proposing existing ones.", "The working group\u2019s site is ", ".", "You can find the repository for the site ", ". To propose new content for the site or new sample code, make a pull request against that repository.", "The working group currently meets every two weeks 23:00 on a Thursday. The next meeting will take place at ", ". For a calendar showing the time of the next meeting, subscribe to the ", ". You can get an invitation to the working group\u2019s meetings, which will be recorded in your own calendar, by joining the ", ". This is particularly useful as it will automatically update any changes in meeting time.", "The minutes from today\u2019s meeting can be found ", ".", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/safety-critical-working-group-call-for-contributions/11187"},
{"title": "Introducing the Robot Vulnerability Database", "thread_contents": ["Hello ROSers,", "As part of our commitment with security, ", " is glad to introduce the ", ", a community-contributed list of robot vulnerabilities and weaknesses.", "This effort aligns with Alias\u2019 mission to ", " and is the first public step we take towards implementing it. Briefly, we share the belief that vulnerability disclosure is a two-way street where both vendors and researchers, must act responsibly.  We thereby adhere to a ", " (read more about ", ") while other flaws such as simple bugs or weaknesses could be filed at any point in time. We notify vendors of vulnerabilities immediately, cooperate with them and favour a coordinated  disclosure where ", ", or sooner if the vendor releases a fix.", "This policy is strongly in line with our desire to improve the robotics industry response times to security bugs, but also results in softer landings for bugs marginally over deadline. According to ", ", most vendors are ignoring security flaws completely. Similar to us, we call on all security researchers to adopt disclosure deadlines in some form, and feel free to use our policy verbatim (we\u2019ve actually done so, from ", ") if you find our record and reasoning compelling. Creating pressure towards more reasonably-timed fixes will result in smaller windows of opportunity for blackhats to abuse vulnerabilities. Given the direct physical connection with the world that robots have,  in our opinion, vulnerability disclosure policies such as ours result in greater security in robotics and an overall improved safety. A security-first approach is a must to ensure safe robotic operations.", "The ", " is an attempt to register and record robot security bugs including both weaknesses and vulnerabilities (refer to ", ") The current content has been built over the past months and includes at the time of writing more than ", ":", "As contributors of ROS and ROS 2, we have create a particular section for ROS (currently only highlighting ROS 2 flaws) available ", ".  We have committed resources to maintain this list and process flaws while reporting about the status of vulnerabilities at the corresponding ROS 2 Security WG meetings. We invite everyone in the community to contribute and help processing security flaws. Currently and as recorded by our team at RVD, ", ":", "Over the coming months we expect to include several ROS and ROS 2 packages in our pseudo-automatic robot security pipelines and collaborate with maintainers while recording and addressing security vulnerabilities and weaknesses", "We\u2019d like to acknowledge and credit the support we received from the ROSin project which partially enabled the development of this work. In particular, RVD will be used to report the findings of ROSIN RedROS2-I and RedROS2-II FTPs, funded by the European Union\u2019s Horizon 2020 research and innovation programme under the project ROSIN with the grant agreement No 732287.", "Finally, a small disclaimer: ", "BTW, for those interested in learning more about our work but also about security in robotics, overall, we invite you all to attend the ", " that will happen within ROSCon 2019 in Macau!", "Do ", " rules that create world writable devices count as a vulnerability or a weakness?", "Hello ", ",", "Do ", " rules that create world writable devices count as a vulnerability or a weakness?", "IMHO, provided those rules were defaults and/or could be forced into a robot or robot component (remotely or even locally, that would just affect the severity) and take advantage of those devices (as part of an exploit), then according to our ", ",  it could be considered a vulnerability. In that case you should be able to provide it with a score for its severity using ", ". See the discusion ", " for a bit more of context in vulnerability/weakness.", "Our goal with existing reported (and future) flaws is to provide means for reproducing and validating its exploitability. We\u2019ve been prototyping for a while (refer to our early ", " approach) and are currently working on a prototype based in Docker. We hope to release is shortly. The idea is that each researcher reporting a flaw should provide a docker-based image that allows reproducing the flaw, arguing about it and ultimately, facilitating its mitigation.", "Interesting undertaking; we clearly need more attention paid to security issues in robotics.", "To help better understand the goal and how the process works, I have some questions:", "Why do we need a robot-specific database for cybersecurity vulnerabilities? Is there a shortcoming in the widely used ", " system? A ", " in their database shows more than a few entries that would seem to be of the type that you\u2019re proposing to keep track of.", "If disclosure of vulnerabilities is meant to be delayed for up to 90 days, but the community submits new vulnerabilities to RVD as public github issues, then how does the delayed disclosure work?", "When you notify a vendor of a vulnerability, does an email address (e.g., security@) suffice, or do you need require other communication mechanism?", "ROS 2 presents 236 security weaknesses", "I have a (maybe stupid) question: is it common practice for for these kind of vulnerability statistics to include test-only code? While problem in test code should certainly be addressed it looks to me that they aren\u2019t really a defect in the shipped software (since they are not part of the packaged software after the build).", "Another note regarding the published numbers here: the public GitHub tickets seems to contain ", " redundancy. The very same defect is being ticketed up to one hundred times just since the functionality / API is used in numerous packages - for each a separate ticket is created. I would certainly consider that to be only a single vulnerability / flaw (even though it affects many packages).", "Both of the above seems to \u201cinflate\u201d the reported numbers significantly therefore I would suggest to reconsider how to account for those in statistics like this. I would also be interested in the actual (non-inflated) numbers to see where we are roughly at.", "Why do we need a robot-specific database for cybersecurity vulnerabilities? Is there a shortcoming in the widely used ", " system? A ", " in their database shows more than a few entries that would seem to be of the type that you\u2019re proposing to keep track of.", "CVEs are managed by ", ", organizations authorized to assign CVE IDs. ", " (see Requirements at ", "). We are taking (what we think are) the right steps to become a CNA and will soon start submitting CVEs (and provide CVE IDs to reported vulnerabilities within RVD). By no means Alias Robotics intends to ", ", we aim to empower it.", "That said, while we look up to the work that Mitre and many other partners started within CVE, over the past year or so, Alias Robotics identified several limitations and started building RVD accordingly (a robot-", " database of vulnerabilities) and strong barriers to change things. Without getting into an extremely verbose reasoning on the things we\u2019ve tried (and failed) and would like to see improved within CVE for robotics, see below some of the aspects we dislike and consider critical to move forward in securing robots and their components:", ": while ", " is complete right about the fact that the current CVE List provides results when searching for ", " (43 CVE entries), ", " (13 CVE entries) and even the more generic (and misleading) query ", " ( 892 CVE entries), a closer look into results (at least to us) into realizing that finding ROS-related flaws is a challenge. Contributing to categorizing this information better is something we\u2019ve committed to but don\u2019t believe will happen in the short term given the complexity/limitations of how the CVE List works (and where robot-related vulnerabilities are the minority, still) ", ". There\u2019s a lot of work to do on this still and we have internal tickets for it. We plan to separate the existing template for reports into two (weakness and vulnerability, facilitating escalation from weakness to vulnerabilities). We also hope to automate the process of reviewing flaws by using parsers that automatically and periodically review all tickets and report/tag those that are malformed.", ": Let\u2019s take ", " (and related sub-reports within the entry) as an example, for a security researcher to reproduce this flaw and provide a mitigation or simply patch it temporarily in their shop-floor, more information would be required. The intrinsic system integration of the robotics field demands for additional bits of information. Examples include a well defined and appropriate severity (to priorize flaws), a reproducible environment and instructions (if feasible) and likely (though this is a personal feeling), a channel for an open discussion where other researchers might triage/contribute/discard the flaw itself (you will find that most robot-related flaws within CVE List have barely been triaged). ", ".", ": Working with robots is very time consuming. From my experience, anyone that has built a robot with ROS understands the pain of rebuilding workspaces across platforms. This is not a criticism though, it\u2019s likely an inherent characteristic of the complexity of the field and the tradeoff of the modularity of ROS. Mitigating a vulnerability or a weakness requires one to first reproduce the flaw. This can be ", " time consuming. Not so much providing the fix itself but ensuring that your environment is appropriate. ", ". We\u2019re still working on it and hope to make it available to everyone very soon.", ": CVE uses CVSS to report on the severity of vulnerabilities. As we discussed and published a while ago, CVSS has strong limitations when applied to robotics. Simply put, it fails to capture the interaction that robots may have with their environments and humans. This is critical when considering the severity of a flaw and has been discussed repeatedly in the security community. We\u2019ve been thinking about all these aspects for ", ", ", ": while some might disagree, from our iterations we found that the process with CVE is somewhat slow. From our research we found that most robots and robots explored nowadays (specially industrial robots!) are highly vulnerable. We believe that a more dynamic path would facilitate mitigating many of these vulnerabilities and accomplish our mission of ", ". ", " (such as checking prior tickets and invalidate it if repeated, tag it as malformed and request for more information, etc.)", "Alias Robotics has committed resources to all the things listed above but of course, support and contributions are more than welcome. We hope the ", " and its members can find a way to support us in this endeavour. Of course, contributing to the CVE List is something we all should do but in our opinion, that falls short.", "From our humble experience, we don\u2019t see CVE changing several of these aspects (in a somewhat acceptable timeframe). This to us, justifies the launch of RVD. We hope to prove with RVD that our statements regarding robotics are somewhat correct and that more resources should be allocated to it. Hopefully this will provide a much stronger argument to Mitre and other parties within CVE.", "\nThe ultimate reason why we decided to launch RVD is because we hope to demonstrate that some of these features are worth integrating into the CVE List.", "If disclosure of vulnerabilities is meant to be delayed for up to 90 days, but the community submits new vulnerabilities to RVD as public github issues, then how does the delayed disclosure work?", "The disclosure policy applies to Alias Robotics and our engineers. We hope to inspire the community with this policy. It\u2019d be great if other groups and individuals were to adopt it as well but we can\u2019t enforce it.", "Anyone can literally jump into the wild and publish vulnerabilities or even worse, sell them in dark markets (rather common from what we\u2019re observing lately). RVD provides a channel to do it responsibly. An approach could be to list the flaw as a weakness (according to our classification, vulnerabilities are a more elevated \u201cdegree\u201d but all vulnerabilities are weaknesses) and then reach out the vendor/maintainer privately providing more information about the flaw and offer support for its mitigation. Eventually, either after 90 days or after a fix has been shipped, the weakness ticket could be enhanced and the complete exploit could be disclosed turning the weakness into a vulnerability.", "A particular example of this is ", ". ", " and other folks have done an amazing job characterizing that and even disclosing a mechanims to reproduce it. The RVD ticket remains as a weakness because we still haven\u2019t found time to reproduce it and provide a mitigation for it. Once we do so, we will elevate it to a vulnerability.", "When you notify a vendor of a vulnerability, does an email address (e.g., security@) suffice, or do you need require other communication mechanism?", "The e-mail ", " is what we are using so far. We haven\u2019t identified the need of additional communication channels for now.", "That was a bit long, sorry ", " !", "have a (maybe stupid) question: is it common practice for for these kind of vulnerability statistics to include test-only code? While problem in test code should certainly be addressed it looks to me that they aren\u2019t really a defect in the shipped software (since they are not part of the packaged software after the build).", "I don\u2019t think this is stupid at all, you\u2019re right. Without saying that we discard these issues (having good flawless tests is relevant), most of the flaws affecting tests that we\u2019ve processed affect underlying software layers (and not explicitly the test code itself). Also, testing on test-only code gives a first valuable intuition. Of course, use-case specific tests are more appropriate but I doubt vendors or integrators would be willing to open source these up (and if they do we\u2019ll do our best to pick them up!)", "I haven\u2019t processed all the RVD tickets but from the intuition acquired building it, I\u2019d say that currently most of the flaws at RVD do report about these underlying defects. We have limited bandwidth and try to focus on what\u2019s more critical.", "Another note regarding the published numbers here: the public GitHub tickets seems to contain ", " redundancy. The very same defect is being ticketed up to one hundred times just since the functionality / API is used in numerous packages - for each a separate ticket is created. I would certainly consider that to be only a single vulnerability / flaw (even though it affects many packages).", "True. This can be further seen with a closer look at the ", ", mitigating a flaw closed several tickets. We\u2019re working on this. As mentioned in my previous comment above, we\u2019ve got some internal tasks already allocated to do this automatically parsing syntactically tickets daily and reaching a compromise. We don\u2019t have a solution ready unfortunately but it\u2019s coming.", "Both of the above seems to \u201cinflate\u201d the reported numbers significantly therefore I would suggest to reconsider how to account for those in statistics like this. I would also be interested in the actual (non-inflated) numbers to see where we are roughly at.", "All right, noted. We\u2019re slowly building up though and have already filtered out quite a bit. Note that the current tickets represent only a very small subset of the ROS 2 packages (ROS core and navigation2 mostly, we disabled the rest for now) with a ", ". Our security pipelines include several static and dynamic tests. Including the autogenerated reports from static testing tools will increase the current number of flaws by an order of magnitude at least (which again, would be hard to interpret).", "Any advice or disagreements (reasoned please) would be very helpful but the general intuition we\u2019re trying to develop is:", "A relevant number to obtain a quick intuition for the insecurity of ROS 2 would be the number of vulnerabilities open (not mitigated). Does this make sense to you ", "? Also, would it help to point to this thread of conversation from the RVD README.md file for further intuition?", "Happy to join the great (and very relevant) discussion points on this thread. Just sharing some thoughts:", "I may add, that conversely to what ", " was stating, CVE covers a yet somehow ", " of Robot-specific vulnerabilities. Very little commitment has been shown so far both by security researcher and robot manufacturers at least when it comes to reporting CVE\u2019s and there is vast amounts of work to be done. RVD is an attempt to systematize this workflow, which complements and feeds vulnerability records maintained by the competent authorities and serves as supporting documentation.", "I\u2019d like to share as well additional challenges we faced ourselves in Alias Robotics when digging into the actual records in vulnerabilities. For example, when we type \u201crobot\u201d in the CVE browser, most of the references will refer back to ROBOT (Return Of Bleichenbacher\u2019s Oracle Threat) which as 19-year old vuln on the RSA encryption which in most cases, does not necessarily apply to a robotic system (won\u2019t in all cases I\u2019ve inspected). Making an emphasis in the fact that we report actual \u201crobot - specific vulnerabilities\u201d is and will be an additional challenge to segregate from other more \u201cIT related\u201d flaws, as ", " points out.", "Similarly, I do believe that ROS2 adoption can greatly benefit from the transparency in the security workflow proposed within RVD.  Weaknesses can be separately inspected and mitigations adopted, all in a trackable and reproducible manner, so ROS2 resources and be kept up to date and secure ", " when used. Of course, there is tons of work to be done still and community contributions will be super-welcome!", "I think this is a very important and highly needed initiative. The potential consequences of an insecure robot are very concerning.", "\nI support the idea of a robot-specific collection but I also agree that it needs to be well maintained.", "However, I think it es even more important to raise the visibility of such a platform. Otherwise ist usefulness will be very limited. OEMs, System Integrators and researchers alike should be aware of this and ideally actively taking part in the process.", "\nI absolutely welcome that Alias is taking the lead here, but elevating this initiative to a broader support by other players would be important. All the issues discussed above (90-days deadlines, scoring, \u2026) could be agreed-upon rules. What are your plans for this and what would be options?", "In any case, we will also actively contribute to RVD in the future.", " ", " Thanks for the detailed rationale.", "If RVD in intended to act as a more responsive and more detailed front-end to CVE, then the concern I\u2019m describing below can be mostly ignored. In that case maybe we can eventually team up with MITRE to improve the CVE feature set based on what our community finds useful in RVD.", "I\u2019m concerned that we might be claiming ", " by saying that robots need their own security flaw scoring and reporting systems. Robots are complex, sure, but there are plenty of physical, actuated things in the world that are controlled by software that might contain vulnerabilities. Are we following the example of other domains that have their own scoring and reporting systems or are we striking out on our own here? What do organizations working in automotive, building infrastructure, factory equipment, medical devices, or other \u201ccyber-physical\u201d fields do?", "Regarding the poor search results available for robot/ROS in CVE today: can that be attributed to the fact that approximately nobody is yet reporting flaws in these systems anywhere? Presumably once we get the community to consistently report their findings, the CVE database would come to contain much more useful information.", "To be clear: I\u2019m very enthusiastic about finding, reporting, and mitigating security flaws! But after 20 years of personally arguing that robots are special and so we need our own X (for many values of X), then living with the resulting maintenance burdens, I\u2019m also eager to reuse existing systems and approaches wherever possible.", "I still have not seen a good reason why we need to strike out on our own. I would rather leverage the work of the NVD and MITRE so people can reuse existing tooling, process and procedures.", "I would say the NVD is lacking in robotics specific CVEs because people have not submitted issues. We have opened 3 CVEs with MITRE this year for ROS packages:", "ROS is just packages on top of an operating system, it would be like Apache standing up a new vuln database just for Apache  projects instead of using MITRE.", "Cheers,", "\n-Joe", "I\u2019m concerned that we might be claiming ", " by saying that robots need their own security flaw scoring and reporting systems.", "Slightly off-topic, but: this is something me and my colleagues ", " and ", " also started wondering. This will probably also come up in our ROSCon presentation (", "), but I just wanted to add that at this point we\u2019re not sure whether CVE is sufficient for robot related bugs/vulnerabilities or whether issues in robot software are actually ", " different that they should get their own classification.", "I guess I wonder why ROS is special and a CVE would not be sufficient to handle a security issue? I mean from a design perspective it sends messages over the network and runs on Linux(for the most part). How is this different from an issue with MQTT?", "This seems like a bit of vanity project, ", " .", "I\u2019d rather we leverage the work and efforts of MITRE.", "Cheers.", "\n-Joe", "Regarding the poor search results available for robot/ROS in CVE today: can that be attributed to the fact that approximately nobody is yet reporting flaws in these systems anywhere? Presumably once we get the community to consistently report their findings, the CVE database would come to contain much more useful information.", "I want to echo this point. There\u2019s actually a PR aspect of this to consider: mature products have CVEs. It\u2019s part of life these days. Security is only recently becoming more of a concern in ROS. As that grows, so will the CVEs, and the perceived maturity of ROS 2. That\u2019s one of the reasons we\u2019ve been submitting them!", "If RVD in intended to act as a more responsive and more detailed front-end to CVE", "I think this is a good way to put it. We certainly tried our best to avoid reiventing the wheel. Our intention is to get aligned as soon as possible with MITRE and the CVE List. Becoming a CNA will help  voice out our opinions (to some extend) and we hope to remain constructive on what needs to change to facilitate securing robots and robot components. RVD is a fast-track we\u2019re taking.", "Our experience (coming from a robotics background and) having tried these tools for a period of time is that they\u2019re not sufficient. I\u2019d be interested in other roboticists from the community sharing their views as well.", "When it comes to scoring mechanisms for the severity of vulnerabilities, ", " (", ") was built by researching what other (robotics) related areas were demanding and wasn\u2019t being met. [", "] or [", "] are among the ones cited while building it. The white paper above discusses it in more detail and proposes a scoring mechanism that takes in consideration aspects that directly apply to self-driving cars and other similar autonomous devices.", "Any help interfacing with MITRE will certainly be very helpful!", "I would say the NVD is lacking in robotics specific CVEs because people have not submitted issues. We have opened 3 CVEs with MITRE this year for ROS packages:", "I applaud this action. This is great and we certainly encourage everyone involved in security to follow a similar approach and commit resources to file reports in the CVE List. As pointed out above, we certainlly will. The big question we asked ourselves when designing RVD was, \u201cAs a roboticist/security researcher, what do I need and find more useful to ", " flaw A in a robot?\u201d  (ROS  specifically, here)\". The core is mitigation.", "I did a quick search on the first ID (", ") you listed above but it\u2019s undisclosed. My guess is that the same patterns critized above about reports in the CVE List are in those reports (or maybe not and I\u2019d be gladly surprised!).", "ROS is just packages on top of an operating system, it would be like Apache standing up a new vuln database just for Apache projects instead of using MITRE.", "This is not what\u2019s being proposed here, at least not within RVD. It\u2019s implicit on its name \u201cRobot Vulnerability Database\u201d. It\u2019s not ROS-specific, it\u2019s for robots. You may claim the same and that robots are a sub-class of hardware which doesn\u2019t deserve its own treatment. Well, I would then object and indicate that according to several sources CVE has currently serious issues capturing vulnerabilities that affect to hardware.", "\nOne only needs to parse the CVE List, compare the density (of hardware vs software reports this year) and the \u201cvalue\u201d on the content of these reports to draw some conclusions.", "One point I\u2019d like to make is that ", ". This is not the feeling we get with the CVE List. We advocate to bring these mechanisms to the CVE List. When reading the CVE List, we felt that many reports where terrible and didn\u2019t help at all reproducing the flaw.", "This seems like a bit of vanity project, ", " .", "Nobody is trying to replace CVE ", ", see reasoning above.", "Are we following the example of other domains that have their own scoring and reporting systems or are we striking out on our own here? What do organizations working in automotive, building infrastructure, factory equipment, medical devices, or other \u201ccyber-physical\u201d fields do?", "Consider ", ", particularly their ", ".  Each advisory may contain multiple vulnerabilities but each vuln links to a CVE.  Also important to note that each vuln has a standard CVSS score to support prioritizing.  Both CVE and CVSS are mature, communicate well, are deeply integrated into vuln management tools.", "most of the flaws affecting tests that we\u2019ve processed affect underlying software layers", "I think I have seen several entries which are only identifying flaws in test code, e.g. using the public API incorrectly / insufficiently. So in these cases the defect is not in the used code but in the test itself.", "Anyway my suggestion would be that it would be helpful if those would at least be moved / accounted for in a separate category to draw a more precise picture how many problems actually affect the code used by applications.", "But after 20 years of personally arguing that robots are special and so we need our own X (for many values of X), then living with the resulting maintenance burdens", "This is my daily life right now\u2026 I really cannot recommend it!", "I may have missed this, but how does the RVD propose to avoid:", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "there will be a significant amount of weaknesses reported for ROS 2, several referring to quality bugs (opposed to security ones)", "flaws that are exploitable will be listed as vulnerabilities (note that we don\u2019t have yet a single vulnerability for ROS 2 (neither closed ones, which to us means, mitigated))", "CVE-2019-13445 - potential integer overflow", "CVE-2019-13566 - potential string overflow", "CVE-2019-13465 - potential iterator cause buffer overflow", "CVE-2019-13445 - potential integer overflow", "CVE-2019-13566 - potential string overflow", "CVE-2019-13465 - potential iterator cause buffer overflow", "Duplication of reports between CVEs and the RVD?", "Robotics engineers needing to watch two databases to get all possible vulnerabilities?"], "url": "https://discourse.ros.org/t/introducing-the-robot-vulnerability-database/11105"},
{"title": "ROS2 Real-time Working Group Online Meeting 3 - Oct 2, 2019, 7AM PDT (UTC-7)", "thread_contents": ["Hi real-time folks, time for our 3rd meeting.", "Proposed agenda:", "Last meeting ", " and ", ".", "Respond to this conversation by answering to:", " ", " ", " ", " fyi", "Hi Dejan,", "We (", " and I) will be attending this meeting.", "The version we will discuss is a POC on the latest stable dashing release. We are currently also working on a PR (master) version.", "thanks for taking care of this thread, i would like to  join at this time.", "thanks", ",", "Thanks for the invitation. I\u2019m available.", "\nThese would be my topics:", "Kind Regards,", "\nAndrei", "Hi all, below are the meeting invite details.", "Topic: ROS2 Real-time Working Group Online Meeting 3 - Oct 2, 2019, 7AM PDT (UTC-7)", "\nTime: Oct 2, 2019 07:00 AM Pacific Time (US and Canada)", "Join Zoom Meeting", "\n", "Zoom is the leader in modern enterprise video communications, with an easy, reliable cloud platform for video and audio conferencing, chat, and webinars across mobile, desktop, and room systems. Zoom Rooms is the original software-based conference...", "\n", "Meeting ID: 571 727 736", "\nPassword: 074189", "One tap mobile", "\n+16699006833,571727736# US (San Jose)", "\n+19294362866,571727736# US (New York)", "Dial by your location", "\n+1 669 900 6833 US (San Jose)", "\n+1 929 436 2866 US (New York)", "\nMeeting ID: 571 727 736", "\nFind your local number: ", " thanks a lot.", "Can you and ", "  then present this in details tomorrow?", " Will you be able to attend the meeting tomorrow (4PM German time)?", "If yes - do you have any update on this topic:", "Repository of tools for static and dynamic code analysis", "Ralph Lange and Jan Staschulat will be there.", "Hi Dejan,", "I\u2019ve made a small presentation that shows the differences between the current executor and our proposal. I think it is easy to follow even for people who don\u2019t have a deep understanding of how the current executor works. I will need about 10-15 min. to explain the executors and their differences, but I will need presenter view for this (screen-sharing). Is this possible? I have no experience with Zoom Meetings.", "The presentation will be quite short, but if people are interested we can have a discussion after the presentation about the possible next steps and features people require. The executor we made shows possible CPU gains and gives an alternative for specific use-cases, but a proper all-round executor will need additional features.", "\nFeatures that are currently on the TODO list:", "If there is no time during the meeting to discuss these things then people can just post their thoughts on the PR ", ".", "Kind Regards,", "Martin", "I will need about 10-15 min. to explain the executors and their differences, but I will need presenter view for this (screen-sharing). Is this possible? I have no experience with Zoom Meetings.", " yes, this is absolutely possible and easy.", " we started with the long list of goals couple of months back: ", ".", "In that thread I proposed  an overall goal which would be to make ROS 2 hard real time. This would then mean that we\u2019d need to \u201canalyse an entire stack, from the hardware platform to the applications written with ROS 2\u201d and improve the realtime across the entire stack.", "However the guys have, rightfully so, ", " that this is simply too much work and it depends too much on the use case and selected underlying stack (ECU, RTOS, network interfaces, \u2026).", "As a result we agreed to work on the following sub-goals:", "Additional goals are of course welcome but we will also need someone to work on them.", "All (12 participants), thanks for attending.", "Old link: ", "New link: ", "Check out zhe rmw implementation - all", "Looking for 1-2 candidates to join Erik and his team in creating ", " on top of  ", "  - ", "Create a system for documentation sharing (GDrive, Github project, \u2026) - ", " is this something that you could maybe do?", "Get the presentation from Martin - ", " could you paste it here?", "Present the mini buildfarm with resource guarantees at Apex.AI - ", "Carlos has been working on the demo that shows some of the real-time characteristics. - ", " can you share the demo with us?", "Dejan to take content and conclusions of this meeting to OSRF and TSC- ", "PRs for the static executor - all have a look and comment", "ROS 2 Real-time WG to meet every 2 weeks (Wednesdays 7AM PST)", " - would you be able to join the meetings for this group?", "Yes, I\u2019m happy to join any meeting you think I could help with, please ping me directly for each meeting you\u2019d like me to attend. If you need me on a regular basis I can do that too, though selfishly I\u2019m trying to stay out of the way as much as possible.", "ROS 2 Real-time WG to meet every 2 weeks (Wednesdays 7AM PST)", "Is it at all possible to shift this? It clashes perfectly with AWF board meetings.", "Hey everyone,", "Discourse won\u2019t let me upload the presentation as a powerpoint and the presentation in pdf format is not really usable (the transition of images on a single slide is how I show the working of the executors). Instead I will share some links here, while I look for a way to share the powerpoint.", " this link contains a README where the executors are explained with flowcharts. The flowcharts + explanations get the ideas across of each executor.", " This is the fork we use for the pull request that is up to date with master (slightly behind by now probably).", " we also made a version that we merged with ", " PR for improved intra_process communication.", "For the people that are not aware of why we worked on this static executor here is a very short history. There is more links in the links pointing to more links if you feel like going on an adventure.", "\n", "\n", "\n", " (related, but less interesting)", "Hopefully this gets everyone what they are looking for. If you want more information or help with the code or understanding the STE or static executor, don\u2019t hesitate to send me a message.", "Your flow chart for your static executor is missing some labels on the decision branches.", "I do not have a lot of experience making flowcharts, nor do I know the exact rules to making them. I hope that despite the inaccuracies they are still readable. Sorry for the possible inconvenience.", "Any diamond is a decision. Each arrow going ", " of the diamond needs a label to say what the condition is for that branch being taken.", "I added the powerpoint that I used during the meeting for my presentation to ", " in the presentation folder. Please let me know if it works by downloading it and looking at it in presentation view (to cycle through the images).", "Sidenote:  The dashing version now uses the nodes\u2019 guard_conditions as event trigger to rebuild the executable list and the wait-set. Making the use of the static executor less restrictive (semi-dynamic, rebuild only when necessary). We will continue work on a master (eloquent) version and look into a multi-threaded version.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Single process, real-time rmw => ADLink", "Repository of tools for static and dynamic code analysis => ", "\n", "Performance testing on target hardware => Apex.AI", "I would propose to hold meetings regularly, every 2 weeks", "Are you available?", "Do you have additional items for  the agenda?", "Can you expand on your agenda items?", "Yes we are available", "We created a POC StaticExecutor for rclcpp that can be added without breaking existing source code. If someone wants to use the StaticExecutor instead of the SingleThreaded executor, this only requires a change to one line of code at user-code level.", "The code and preliminary results can be found here ", ". This StaticExecutor significantly reduces CPU usage. We can quickly explain how we changed the existing executor. We have aligned with Ingo and his team to collaborate on a better executor for ROS2. Our focus is on ", " whereas Ingo and his team are working on proper ", ", both of which are important for RT.", "go via AIs from the last meeting", "discuss probably the goals of the RT WG (Personally I\u2019m not sure I understand them, and during the last meeting I got a feeling that those goals are quite different for the RT WG participants)", "Different scheduling mechanism (Bosch, create RT safe scheduling, add priority)", "Semi-dynamic setup (Nobleo, rebuild the system based on event triggers, i.e. something added to a node)", "Provide a use case description and requirements", "Implement real-time able rmw (single threaded, static executor)", "Present findings on real-time audit in rcutils, rcl and rclcpp and continue improving", "Create a shared repository for tools for static and dynamic code analysis and tracing", "Joe Speed, Erik", "Ralph, Jan", "Dejan", "Andrei", "Carlos", "Martin", "\u2026", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", " - would you be able to join the meetings for this group?", "\n", "\n", "\n", "\n", "\n", "\n"], "url": "https://discourse.ros.org/t/ros2-real-time-working-group-online-meeting-3-oct-2-2019-7am-pdt-utc-7/10741"},
{"title": "All of parameter activity via \"parameter_events\" topic", "thread_contents": ["Hi All,", "we would like to hear some comments on this. any idea will do good, so let us hear what you guys are thinking about this. also any milestone for extension are planned or not.", "currently any parameter events such as changed or deleted parameter using ", " will be notified via \u201cparameter_events\u201d. this single topic will be used for all of parameter activities.", "it is really simple enough to use only single topic to notify parameter events, but from user perspective we like to receive the event that we are interested in only. we can filter the event from parameter_events topic but we must receive all of the events anyway. we do not actually want to receive the event if not necessary.", "there would be some options i guess,", "thanks,", "\ntomoya", "This would seem to be a similar situation as with TF: clients receive all broadcasts, but may only be interested in a subset. Clients are shielded from this by the listeners and buffers in TF, to which the filtering you mention is delegated (sort-of: the Buffer does store everything that comes in, but clients only query the buffer for information they are interested in when they have a need).", "there would be some options i guess,", "This reminds me of the bus vs channel communication patterns. Either you receive everything and filter yourself (bus), or you make connections with just those entities producing messages you are (certain you are) interested in. Both are limiting you, as you cannot easily switch.", "To avoid implementing something like the TF client library for parameter events, and looking just at DDS, perhaps content-based subscriptions could be used. They would allow you to express interest in only subsets of messages published on certain topics. Filtering would be delegated to DDS, and callbacks would only be called whenever the filter predicate matches.", "I think content-based filtering at the DDS level would be the most efficient way to handle this, but a nice API at the parameter/node level would make it more user-friendly and future-proof.", "\n", "thanks for the thoughts, i think that DDS contents filtered topic would work too.", "the question is any DDS implementation supports \u201ccontents filtered topic\u201d?", "\nas far as i know, contents filtered topic is one of the extension, so not sure what vendor supports that feature right now.", "and more information is welcome!", "thanks,", "\ntomoya", "the question is any DDS implementation supports \u201ccontents filtered topic\u201d?", "\nas far as i know, contents filtered topic is one of the extension, so not sure what vendor supports that feature right now.", "A quick check would seem to indicate the following vendors have at least some support for content based subscriptions (or filtering):", "a nice API at the parameter/node level would make it more user-friendly and future-proof.", "Certainly. This needs to be exposed at the ROS level in some way or other.", "Not just for parameter events, but subscriptions in general I would say.", "To keep things connected: here is an old ROS Answers Q&A about this: ", ".", "From user perspective I believe the best would be to have a node which I can roslaunch in only in case I need parameter updates (events). So this node can be configurable on start and send events only for those parameters I\u2019m interested in", "\ne.g. roslaunch prameter_events default.launch update_list:=param1,param2", "I had submitted a PR to the rclcpp repository to add a ParameterEventsSubscriber class which I\u2019d hoped would address some of the issues mentioned here. Namely, the class subscribes to one or more parameter events topics (on either your current namespace or remote namespace), can filter events by parameter name and node, and can set a custom callback per parameter.", "Here is the current PR: ", "This week I am addressing the current feedback, so feel free to offer any additional comments.", "thanks i will look into the PR and leave the feedback.", "the class subscribes to one or more parameter events topics (on either your current namespace or remote namespace), can filter events by parameter name and node, and can set a custom callback per parameter.", "That sounds like an analogue to the TF Listener/Buffer approach.", "i think that we need to consider DDS contents filter topic to see if we can actually do what we want to do. and then bring up those interfaces up to ROS generic common API, so that parameter_events can be modified with new nice API. that is just idea and keep posted if we got anything.", "We will do feasibility for DDS Contents Filtered Topic 1st and then come up with high level design.", "seems like that ", " supports ContentFilteredTopics, we are gonna use this for feasibility check.", "I\u2019m somewhat hesitant about content filtered topics, as they introduce quite a lot of complexity in the rmw layer. The mechanism for expressing filters is complex and would be a huge burden for non-DDS rmw implementations.", "I\u2019m not 100% convinced about the motivation, as I do not think the bus approach (receiving all and filtering for what you want) is going to be problematic in practice. It\u2019s actually worse for tf as data is usually streaming continuously (especially before tf_static and with things like moving robot arms). Though it is not disallowed nor technically wrong, I don\u2019t foresee parameters change so much that you cannot subscribe to all events and filter down. It will be most intense during startup of a large system occurs. And I don\u2019t think many things will need to subscribe to this topic (mostly logging tools and introspection tools).", "Additionally, there are other ways to address this problem which may not be as elegant, but are still sufficient in my opinion. For instance, we could have a composable node that you could attach to any process which would subscribe intra-process to ", " and then filter as you configured it to do, and republish it on a new topic for external consumption. This solution keeps the middleware simple (and therefore more portable), and it should achieve similar performance to the content filtered topics.", "Also, though many of the implementations support content filtered topics, I believe many will not do publish side filtering (this is not a requirement of the feature in DDS, AFAIK). And therefore it will simply be doing what you the user could do (or a library on your behalf) and receiving all data, but filtering it before delivering it to you.", "That all being said, some significant value could be gained by using content filtered topics with keys and instances. We do technically allow key\u2019ed types via IDL now, but we lack the API support to make use of this effectively right now.", "So it\u2019s worth investigating still, but I just wanted to temper the interest in content filtered topics slightly, and/or prepare you guys for the fact that adding them to the middleware API is a significant undertaking.", "thanks for sharing practical thoughts!", "And I don\u2019t think many things will need to subscribe to this topic", "but as long as parameters are there, user wants to do something via parameter events. i believe that this is reasonable. and mostly user is interested in specific parameter for each node, it will receive all of the parameter events anyway. of course that is always depending on use cases.", "would be a huge burden for non-DDS rmw implementations.", "possibly, yes", "I\u2019m not 100% convinced about the motivation", "me neither, we are just trying to figure out what is suitable for.", "I believe many will not do publish side filtering", "So do I, but this is the key for improvement we want.", "\nincluding this, i believe that it is worth to investigate the feasibility.", "thanks,", "\ntomoya", "ParameterEventsSubscriber is introduced in ", "\ni think that we could improve that using Contents Filtered Topics base on ParameterEventsSubscriber.", " ", " ", " , and all", "We tried to use ContentFilteredTopic with opensplice, i see this could be really useful to optimize /parameter_events to be filtered with user interests. opensplice supports ContentFilteredTopic but only on  DataReader side filtering which is not efficient enough for network transport.", "Does anyone have plan to support ContentFilterTopic on DataWriter side with multiple expressions and array types? i just trying to get more information around here.", "thanks in advance.", "Hi ", " ,", "Does anyone have plan to support ContentFilterTopic on DataWriter side with multiple expressions and array types? i just trying to get more information around here.", "Yes \u2014 but, there\u2019s no ETA yet.", "but partition is produced", "All DDS implementations support partitions, and there are quite a few tricks one can play with them (you can publish in multiple partitions, subscribe in multiple partitions and use wildcards, too). Currently ROS2 doesn\u2019t rely on partitions so one would think there is a way to use them for this. It\u2019d be worth a try at least.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["all parameter events via single topic \u201cparameter_events\u201d (current)", "parameter events via topics for each node (user can specify whose parameter is interesting)", "each parameter via each topic (user can specify which parameter is interesting)", "all parameter events via single topic \u201cparameter_events\u201d (current)", "parameter events via topics for each node (user can specify whose parameter is interesting)", "each parameter via each topic (user can specify which parameter is interesting)", "Twinoaks", "RTI", "Prismtech", "OpenDDS", "eProsima"], "url": "https://discourse.ros.org/t/all-of-parameter-activity-via-parameter-events-topic/10767"},
{"title": "Navigation2 WG Meeting notes 10/24/2019", "thread_contents": ["10/24/19", "Matt", "Mohammad", "Steve M", "Carl", "John C.", "Carlos", "Geoff B.", "Shivang Patel", "(+ several others, apologies I didn\u2019t get the full list)", "IMPORTANT NOTE:", "The existing calendar event will be deprecated and replaced by a new one from the common ROS events calendar here:", "To get invited, join the Navigation WG Google Group here:", "The existing WG calendar event will be kept through the end of November, after which time, it will be deleted.", "Issues discussed", " - Many map related tickets, how to triage and collapse the list? We agreed to review each one in the list and close those not relevant, combine what we can. Agreed an owner needed for some of them if we want them done for F-Turtle.", " - Failure occurring during debug builds in CI. Carlos and Carl are going to look at it and update.", " - Adds nav2_bringup to the navigation2 meta-package. This means installing navigation2 will include nav2_bringup. Previously it was installed separately. The nav2_bringup package will no longer include the other dependent packages (bt_navigator, etc) as those are in the metapackage. This means that nav2_bringup won\u2019t pull those in automatically.", "- Proposal changes the BT action clients to use feedback to determine when something is done and then only query for the result at the end. Steve is going to create a PR to do this.", " - Adds ability to select what planner plugin is used for a given node in the behavior tree.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["After much discussion it was agreed that this would proceed if it kept the same Action name as before, and if it allowed for an empty string to be passed in the case where there is only one planner plugin loaded. This is essentially like the default behavior today."], "url": "https://discourse.ros.org/t/navigation2-wg-meeting-notes-10-24-2019/11217"},
{"title": "ROS 2 Eloquent Elusor call for testing and package releases", "thread_contents": ["Hello all,", "The ROS 2 team is preparing for the release of Eloquent Elusor and we\u2019d like to invite you to help us by testing out the alpha or releasing your own packages to Eloquent.  For more information on the schedule for the release of Eloquent Elusor, consult the ", ".", "ROS 2 is available with multiple RMW implementations on multiple platforms and architectures. Depending on your system configuration, you can help us out by doing any of the following:", "After testing, reply back here to let us know what worked and what didn\u2019t work, along with what platform you\u2019re on and how you installed ROS 2.", "If you run into problems, all the usual recommendations apply. You can ask questions on ", " with the  ", "  tag or report issues on ", " or the relevant package repository. Be sure to follow the contributing guidelines and issue templates.", "If you maintain a package you would like to release in ROS 2 Eloquent we encourage you to do so by following the ", ".", ", ", ", and ", ",", "\nThe ROS 2 team", "And the packages included in the first sync:", "Thanks to all ROS maintainers who make packages available to the ROS community. The above list of packages was made possible by the work of the following maintainers:", "Thanks for sharing this ", "! I will test this out and share this post. ", "Hi ", ", on my box there is no ", " package yet. The build farm status page is all green though, indicating the sync is completed. Is this expected? I can get ", " packages alright from shadow-fixed.", "The last stage of the pipeline for deploying to the mirrors was not yet setup for the main repository. I\u2019ve added it and the packages should now be accessible from the main repository.", " ", " Is it possible to configure the testing mirror deployment as well ?", "\nThe nightly docker images are using the testing repository and would need a sync to start building again.", "Thanks!", "It\u2019s done. I didn\u2019t realize it hadn\u2019t been done already.", "With many packages being updated for the Beta, I have done another sync to main:", "Thanks to all ROS maintainers who make packages available to the ROS community. The above list of packages was made possible by the work of the following maintainers:", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", " on your preferred platform. Be sure to use the  ", "  branch version of the repos file (described ", ") as Eloquent is still in pre-release.", "Install and use the ", " available for MacOS Sierra, Windows 10, or Ubuntu 18.04 Bionic.", "\n", " as they become available. (", ", ", ")", "Follow the ROS 2 ", " with one or more different RMW implementations.", "Run some ", " and ", ".", "ros-eloquent-action-msgs: 0.8.0-1", "ros-eloquent-action-msgs-dbgsym: 0.8.0-1", "ros-eloquent-action-tutorials-cpp: 0.8.0-1", "ros-eloquent-action-tutorials-cpp-dbgsym: 0.8.0-1", "ros-eloquent-action-tutorials-interfaces: 0.8.0-1", "ros-eloquent-action-tutorials-interfaces-dbgsym: 0.8.0-1", "ros-eloquent-action-tutorials-py: 0.8.0-1", "ros-eloquent-actionlib-msgs: 0.8.0-1", "ros-eloquent-actionlib-msgs-dbgsym: 0.8.0-1", "ros-eloquent-ament-clang-format: 0.8.0-1", "ros-eloquent-ament-clang-tidy: 0.8.0-1", "ros-eloquent-ament-cmake: 0.8.0-1", "ros-eloquent-ament-cmake-auto: 0.8.0-1", "ros-eloquent-ament-cmake-clang-format: 0.8.0-1", "ros-eloquent-ament-cmake-clang-tidy: 0.8.0-1", "ros-eloquent-ament-cmake-copyright: 0.8.0-1", "ros-eloquent-ament-cmake-core: 0.8.0-1", "ros-eloquent-ament-cmake-cppcheck: 0.8.0-1", "ros-eloquent-ament-cmake-cpplint: 0.8.0-1", "ros-eloquent-ament-cmake-export-definitions: 0.8.0-1", "ros-eloquent-ament-cmake-export-dependencies: 0.8.0-1", "ros-eloquent-ament-cmake-export-include-directories: 0.8.0-1", "ros-eloquent-ament-cmake-export-interfaces: 0.8.0-1", "ros-eloquent-ament-cmake-export-libraries: 0.8.0-1", "ros-eloquent-ament-cmake-export-link-flags: 0.8.0-1", "ros-eloquent-ament-cmake-flake8: 0.8.0-1", "ros-eloquent-ament-cmake-gmock: 0.8.0-1", "ros-eloquent-ament-cmake-gtest: 0.8.0-1", "ros-eloquent-ament-cmake-include-directories: 0.8.0-1", "ros-eloquent-ament-cmake-libraries: 0.8.0-1", "ros-eloquent-ament-cmake-lint-cmake: 0.8.0-1", "ros-eloquent-ament-cmake-mypy: 0.8.0-1", "ros-eloquent-ament-cmake-nose: 0.8.0-1", "ros-eloquent-ament-cmake-pclint: 0.8.0-1", "ros-eloquent-ament-cmake-pep257: 0.8.0-1", "ros-eloquent-ament-cmake-pep8: 0.8.0-1", "ros-eloquent-ament-cmake-pyflakes: 0.8.0-1", "ros-eloquent-ament-cmake-pytest: 0.8.0-1", "ros-eloquent-ament-cmake-python: 0.8.0-1", "ros-eloquent-ament-cmake-ros: 0.8.0-1", "ros-eloquent-ament-cmake-target-dependencies: 0.8.0-1", "ros-eloquent-ament-cmake-test: 0.8.0-1", "ros-eloquent-ament-cmake-uncrustify: 0.8.0-1", "ros-eloquent-ament-cmake-xmllint: 0.8.0-1", "ros-eloquent-ament-copyright: 0.8.0-1", "ros-eloquent-ament-cppcheck: 0.8.0-1", "ros-eloquent-ament-cpplint: 0.8.0-1", "ros-eloquent-ament-flake8: 0.8.0-1", "ros-eloquent-ament-index-cpp: 0.7.1-1", "ros-eloquent-ament-index-cpp-dbgsym: 0.7.1-1", "ros-eloquent-ament-index-python: 0.7.1-1", "ros-eloquent-ament-lint: 0.8.0-1", "ros-eloquent-ament-lint-auto: 0.8.0-1", "ros-eloquent-ament-lint-cmake: 0.8.0-1", "ros-eloquent-ament-lint-common: 0.8.0-1", "ros-eloquent-ament-mypy: 0.8.0-1", "ros-eloquent-ament-package: 0.8.2-1", "ros-eloquent-ament-pclint: 0.8.0-1", "ros-eloquent-ament-pep257: 0.8.0-1", "ros-eloquent-ament-pep8: 0.8.0-1", "ros-eloquent-ament-pyflakes: 0.8.0-1", "ros-eloquent-ament-uncrustify: 0.8.0-1", "ros-eloquent-ament-xmllint: 0.8.0-1", "\n", ": 1.12.1-1", "ros-eloquent-builtin-interfaces: 0.8.0-1", "ros-eloquent-builtin-interfaces-dbgsym: 0.8.0-1", "\n", ": 2.2.0-1", "ros-eloquent-camera-calibration-parsers-dbgsym: 2.2.0-1", "\n", ": 2.2.0-1", "ros-eloquent-camera-info-manager-dbgsym: 2.2.0-1", "\n", ": 1.0.0-1", "ros-eloquent-cartographer-dbgsym: 1.0.0-1", "\n", ": 1.4.0-1", "ros-eloquent-class-loader-dbgsym: 1.4.0-1", "ros-eloquent-common-interfaces: 0.8.0-1", "ros-eloquent-composition: 0.8.0-1", "ros-eloquent-composition-dbgsym: 0.8.0-1", "ros-eloquent-composition-interfaces: 0.8.0-1", "ros-eloquent-composition-interfaces-dbgsym: 0.8.0-1", "\n", ": 2.2.0-1", "ros-eloquent-compressed-depth-image-transport-dbgsym: 2.2.0-1", "\n", ": 2.2.0-1", "ros-eloquent-compressed-image-transport-dbgsym: 2.2.0-1", "ros-eloquent-connext-cmake-module: 0.8.1-1", "\n", ": 1.2.0-1", "ros-eloquent-console-bridge-vendor-dbgsym: 1.2.0-1", "\n", ": 2.1.2-1", "ros-eloquent-cv-bridge-dbgsym: 2.1.2-1", "\n", ": 0.1.0-1", "ros-eloquent-cyclonedds-dbgsym: 0.1.0-1", "ros-eloquent-demo-nodes-cpp: 0.8.0-1", "ros-eloquent-demo-nodes-cpp-dbgsym: 0.8.0-1", "ros-eloquent-demo-nodes-cpp-native: 0.8.0-1", "ros-eloquent-demo-nodes-cpp-native-dbgsym: 0.8.0-1", "ros-eloquent-demo-nodes-py: 0.8.0-1", "\n", ": 2.2.2-1", "ros-eloquent-depthimage-to-laserscan-dbgsym: 2.2.2-1", "ros-eloquent-diagnostic-msgs: 0.8.0-1", "ros-eloquent-diagnostic-msgs-dbgsym: 0.8.0-1", "ros-eloquent-domain-coordinator: 0.8.0-1", "ros-eloquent-dummy-map-server: 0.8.0-1", "ros-eloquent-dummy-map-server-dbgsym: 0.8.0-1", "ros-eloquent-dummy-robot-bringup: 0.8.0-1", "ros-eloquent-dummy-sensors: 0.8.0-1", "ros-eloquent-dummy-sensors-dbgsym: 0.8.0-1", "\n", ": 1.0.0-1", "ros-eloquent-eigen3-cmake-module: 0.1.1-1", "ros-eloquent-example-interfaces: 0.7.1-1", "ros-eloquent-example-interfaces-dbgsym: 0.7.1-1", "ros-eloquent-examples-rclcpp-minimal-action-client: 0.8.0-1", "ros-eloquent-examples-rclcpp-minimal-action-client-dbgsym: 0.8.0-1", "ros-eloquent-examples-rclcpp-minimal-action-server: 0.8.0-1", "ros-eloquent-examples-rclcpp-minimal-action-server-dbgsym: 0.8.0-1", "ros-eloquent-examples-rclcpp-minimal-client: 0.8.0-1", "ros-eloquent-examples-rclcpp-minimal-client-dbgsym: 0.8.0-1", "ros-eloquent-examples-rclcpp-minimal-composition: 0.8.0-1", "ros-eloquent-examples-rclcpp-minimal-composition-dbgsym: 0.8.0-1", "ros-eloquent-examples-rclcpp-minimal-publisher: 0.8.0-1", "ros-eloquent-examples-rclcpp-minimal-publisher-dbgsym: 0.8.0-1", "ros-eloquent-examples-rclcpp-minimal-service: 0.8.0-1", "ros-eloquent-examples-rclcpp-minimal-service-dbgsym: 0.8.0-1", "ros-eloquent-examples-rclcpp-minimal-subscriber: 0.8.0-1", "ros-eloquent-examples-rclcpp-minimal-subscriber-dbgsym: 0.8.0-1", "ros-eloquent-examples-rclcpp-minimal-timer: 0.8.0-1", "ros-eloquent-examples-rclcpp-minimal-timer-dbgsym: 0.8.0-1", "ros-eloquent-examples-rclpy-executors: 0.8.0-1", "ros-eloquent-examples-rclpy-minimal-action-client: 0.8.0-1", "ros-eloquent-examples-rclpy-minimal-action-server: 0.8.0-1", "ros-eloquent-examples-rclpy-minimal-client: 0.8.0-1", "ros-eloquent-examples-rclpy-minimal-publisher: 0.8.0-1", "ros-eloquent-examples-rclpy-minimal-service: 0.8.0-1", "ros-eloquent-examples-rclpy-minimal-subscriber: 0.8.0-1", "ros-eloquent-fastcdr: 1.0.11-1", "ros-eloquent-fastcdr-dbgsym: 1.0.11-1", "ros-eloquent-fastrtps: 1.9.0-3", "ros-eloquent-fastrtps-cmake-module: 0.8.0-1", "ros-eloquent-fastrtps-dbgsym: 1.9.0-3", "ros-eloquent-foonathan-memory-vendor: 0.1.0-1", "\n", ": 3.4.0-1", "\n", ": 3.4.0-1", "ros-eloquent-gazebo-msgs-dbgsym: 3.4.0-1", "\n", ": 3.4.0-1", "ros-eloquent-gazebo-plugins-dbgsym: 3.4.0-1", "\n", ": 3.4.0-1", "ros-eloquent-gazebo-ros-dbgsym: 3.4.0-1", "\n", ": 3.4.0-1", "ros-eloquent-geometry-msgs: 0.8.0-1", "ros-eloquent-geometry-msgs-dbgsym: 0.8.0-1", "ros-eloquent-gmock-vendor: 1.8.9000-1", "ros-eloquent-gtest-vendor: 1.8.9000-1", "\n", ": 2.1.2-1", "ros-eloquent-image-geometry-dbgsym: 2.1.2-1", "ros-eloquent-image-tools: 0.8.0-1", "ros-eloquent-image-tools-dbgsym: 0.8.0-1", "\n", ": 2.2.0-1", "ros-eloquent-image-transport-dbgsym: 2.2.0-1", "\n", ": 2.0.0-1", "ros-eloquent-interactive-markers-dbgsym: 2.0.0-1", "ros-eloquent-intra-process-demo: 0.8.0-1", "ros-eloquent-intra-process-demo-dbgsym: 0.8.0-1", "ros-eloquent-joy: 2.3.2-3", "ros-eloquent-joy-dbgsym: 2.3.2-3", "ros-eloquent-kdl-parser: 2.2.0-1", "ros-eloquent-kdl-parser-dbgsym: 2.2.0-1", "\n", ": 2.1.0-1", "ros-eloquent-laser-geometry-dbgsym: 2.1.0-1", "ros-eloquent-launch: 0.9.1-1", "ros-eloquent-launch-ros: 0.9.1-1", "ros-eloquent-launch-testing: 0.9.1-1", "ros-eloquent-launch-testing-ament-cmake: 0.9.1-1", "ros-eloquent-launch-testing-ros: 0.9.1-1", "ros-eloquent-launch-xml: 0.9.1-1", "ros-eloquent-launch-yaml: 0.9.1-1", "\n", ": 2.2.0-1", "\n", ": 1.0.0-1", "ros-eloquent-libyaml-vendor-dbgsym: 1.0.0-1", "ros-eloquent-lifecycle: 0.8.0-1", "ros-eloquent-lifecycle-dbgsym: 0.8.0-1", "ros-eloquent-lifecycle-msgs: 0.8.0-1", "ros-eloquent-lifecycle-msgs-dbgsym: 0.8.0-1", "ros-eloquent-logging-demo: 0.8.0-1", "ros-eloquent-logging-demo-dbgsym: 0.8.0-1", "\n", ": 2.0.2-1", "ros-eloquent-map-msgs-dbgsym: 2.0.2-1", "\n", ": 3.2.0-1", "ros-eloquent-message-filters-dbgsym: 3.2.0-1", "\n", ": 2.0.2-1", "ros-eloquent-move-base-msgs-dbgsym: 2.0.2-1", "ros-eloquent-nav-msgs: 0.8.0-1", "ros-eloquent-nav-msgs-dbgsym: 0.8.0-1", "ros-eloquent-opensplice-cmake-module: 0.8.1-1", "\n", ": 3.2.0-1", "ros-eloquent-orocos-kdl-dbgsym: 3.2.0-1", "ros-eloquent-osrf-pycommon: 0.1.8-2", "ros-eloquent-osrf-testing-tools-cpp: 1.2.1-1", "ros-eloquent-osrf-testing-tools-cpp-dbgsym: 1.2.1-1", "ros-eloquent-pendulum-control: 0.8.0-1", "ros-eloquent-pendulum-control-dbgsym: 0.8.0-1", "ros-eloquent-pendulum-msgs: 0.8.0-1", "ros-eloquent-pendulum-msgs-dbgsym: 0.8.0-1", "\n", ": 2.4.0-1", "ros-eloquent-poco-vendor: 1.2.0-1", "ros-eloquent-python-cmake-module: 0.8.0-2", "\n", ": 1.0.2-1", "\n", ": 1.0.7-1", "\n", ": 1.0.7-1", "\n", ": 1.0.7-1", "\n", ": 1.0.7-1", "\n", ": 1.0.7-1", "ros-eloquent-qt-gui-cpp-dbgsym: 1.0.7-1", "\n", ": 1.0.7-1", "ros-eloquent-quality-of-service-demo-cpp: 0.8.0-1", "ros-eloquent-quality-of-service-demo-cpp-dbgsym: 0.8.0-1", "ros-eloquent-quality-of-service-demo-py: 0.8.0-1", "ros-eloquent-rcl: 0.8.0-1", "ros-eloquent-rcl-action: 0.8.0-1", "ros-eloquent-rcl-action-dbgsym: 0.8.0-1", "ros-eloquent-rcl-dbgsym: 0.8.0-1", "ros-eloquent-rcl-interfaces: 0.8.0-1", "ros-eloquent-rcl-interfaces-dbgsym: 0.8.0-1", "ros-eloquent-rcl-lifecycle: 0.8.0-1", "ros-eloquent-rcl-lifecycle-dbgsym: 0.8.0-1", "ros-eloquent-rcl-logging-log4cxx: 0.3.2-1", "ros-eloquent-rcl-logging-log4cxx-dbgsym: 0.3.2-1", "ros-eloquent-rcl-logging-noop: 0.3.2-1", "ros-eloquent-rcl-logging-noop-dbgsym: 0.3.2-1", "ros-eloquent-rcl-logging-spdlog: 0.3.2-1", "ros-eloquent-rcl-logging-spdlog-dbgsym: 0.3.2-1", "ros-eloquent-rcl-yaml-param-parser: 0.8.0-1", "ros-eloquent-rcl-yaml-param-parser-dbgsym: 0.8.0-1", "ros-eloquent-rclcpp: 0.8.0-1", "ros-eloquent-rclcpp-action: 0.8.0-1", "ros-eloquent-rclcpp-action-dbgsym: 0.8.0-1", "ros-eloquent-rclcpp-components: 0.8.0-1", "ros-eloquent-rclcpp-components-dbgsym: 0.8.0-1", "ros-eloquent-rclcpp-dbgsym: 0.8.0-1", "ros-eloquent-rclcpp-lifecycle: 0.8.0-1", "ros-eloquent-rclcpp-lifecycle-dbgsym: 0.8.0-1", "ros-eloquent-rclpy: 0.8.0-1", "ros-eloquent-rclpy-dbgsym: 0.8.0-1", "ros-eloquent-rcpputils: 0.2.0-1", "ros-eloquent-rcpputils-dbgsym: 0.2.0-1", "ros-eloquent-rcutils: 0.8.1-1", "ros-eloquent-rcutils-dbgsym: 0.8.1-1", "\n", ": 2.2.0-1", "ros-eloquent-resource-retriever-dbgsym: 2.2.0-1", "ros-eloquent-rmw: 0.8.0-1", "ros-eloquent-rmw-connext-cpp: 0.8.0-1", "ros-eloquent-rmw-connext-cpp-dbgsym: 0.8.0-1", "ros-eloquent-rmw-connext-shared-cpp: 0.8.0-1", "ros-eloquent-rmw-connext-shared-cpp-dbgsym: 0.8.0-1", "ros-eloquent-rmw-dbgsym: 0.8.0-1", "ros-eloquent-rmw-fastrtps-cpp: 0.8.0-1", "ros-eloquent-rmw-fastrtps-cpp-dbgsym: 0.8.0-1", "ros-eloquent-rmw-fastrtps-dynamic-cpp: 0.8.0-1", "ros-eloquent-rmw-fastrtps-dynamic-cpp-dbgsym: 0.8.0-1", "ros-eloquent-rmw-fastrtps-shared-cpp: 0.8.0-1", "ros-eloquent-rmw-fastrtps-shared-cpp-dbgsym: 0.8.0-1", "ros-eloquent-rmw-implementation: 0.8.0-4", "ros-eloquent-rmw-implementation-cmake: 0.8.0-1", "ros-eloquent-rmw-implementation-dbgsym: 0.8.0-4", "ros-eloquent-rmw-opensplice-cpp: 0.8.0-1", "ros-eloquent-rmw-opensplice-cpp-dbgsym: 0.8.0-1", "ros-eloquent-robot-state-publisher: 2.3.0-1", "ros-eloquent-robot-state-publisher-dbgsym: 2.3.0-1", "ros-eloquent-ros-environment: 2.4.0-1", "ros-eloquent-ros-testing: 0.2.0-1", "ros-eloquent-ros-workspace: 0.7.1-2", "ros-eloquent-ros1-bridge: 0.8.0-2", "ros-eloquent-ros1-bridge-dbgsym: 0.8.0-2", "ros-eloquent-ros2action: 0.8.1-1", "ros-eloquent-ros2bag: 0.2.0-1", "ros-eloquent-ros2cli: 0.8.1-1", "ros-eloquent-ros2component: 0.8.1-1", "ros-eloquent-ros2doctor: 0.8.1-1", "ros-eloquent-ros2interface: 0.8.1-1", "ros-eloquent-ros2launch: 0.9.1-1", "ros-eloquent-ros2lifecycle: 0.8.1-1", "ros-eloquent-ros2msg: 0.8.1-1", "ros-eloquent-ros2multicast: 0.8.1-1", "ros-eloquent-ros2node: 0.8.1-1", "ros-eloquent-ros2param: 0.8.1-1", "ros-eloquent-ros2pkg: 0.8.1-1", "ros-eloquent-ros2run: 0.8.1-1", "ros-eloquent-ros2service: 0.8.1-1", "ros-eloquent-ros2srv: 0.8.1-1", "ros-eloquent-ros2test: 0.2.0-1", "ros-eloquent-ros2topic: 0.8.1-1", "ros-eloquent-rosbag2: 0.2.0-1", "ros-eloquent-rosbag2-converter-default-plugins: 0.2.0-1", "ros-eloquent-rosbag2-converter-default-plugins-dbgsym: 0.2.0-1", "ros-eloquent-rosbag2-dbgsym: 0.2.0-1", "ros-eloquent-rosbag2-storage: 0.2.0-1", "ros-eloquent-rosbag2-storage-dbgsym: 0.2.0-1", "ros-eloquent-rosbag2-storage-default-plugins: 0.2.0-1", "ros-eloquent-rosbag2-storage-default-plugins-dbgsym: 0.2.0-1", "ros-eloquent-rosbag2-test-common: 0.2.0-1", "ros-eloquent-rosbag2-tests: 0.2.0-1", "ros-eloquent-rosbag2-transport: 0.2.0-1", "ros-eloquent-rosbag2-transport-dbgsym: 0.2.0-1", "ros-eloquent-rosgraph-msgs: 0.8.0-1", "ros-eloquent-rosgraph-msgs-dbgsym: 0.8.0-1", "ros-eloquent-rosidl-adapter: 0.8.0-1", "ros-eloquent-rosidl-cmake: 0.8.0-1", "ros-eloquent-rosidl-default-generators: 0.8.0-1", "ros-eloquent-rosidl-default-runtime: 0.8.0-1", "ros-eloquent-rosidl-generator-c: 0.8.0-1", "ros-eloquent-rosidl-generator-c-dbgsym: 0.8.0-1", "ros-eloquent-rosidl-generator-cpp: 0.8.0-1", "ros-eloquent-rosidl-generator-dds-idl: 0.7.1-1", "ros-eloquent-rosidl-generator-py: 0.8.0-1", "ros-eloquent-rosidl-parser: 0.8.0-1", "ros-eloquent-rosidl-runtime-py: 0.8.0-1", "ros-eloquent-rosidl-typesupport-c: 0.8.0-2", "ros-eloquent-rosidl-typesupport-c-dbgsym: 0.8.0-2", "ros-eloquent-rosidl-typesupport-connext-c: 0.8.1-1", "ros-eloquent-rosidl-typesupport-connext-c-dbgsym: 0.8.1-1", "ros-eloquent-rosidl-typesupport-connext-cpp: 0.8.1-1", "ros-eloquent-rosidl-typesupport-connext-cpp-dbgsym: 0.8.1-1", "ros-eloquent-rosidl-typesupport-cpp: 0.8.0-2", "ros-eloquent-rosidl-typesupport-cpp-dbgsym: 0.8.0-2", "ros-eloquent-rosidl-typesupport-fastrtps-c: 0.8.0-1", "ros-eloquent-rosidl-typesupport-fastrtps-c-dbgsym: 0.8.0-1", "ros-eloquent-rosidl-typesupport-fastrtps-cpp: 0.8.0-1", "ros-eloquent-rosidl-typesupport-fastrtps-cpp-dbgsym: 0.8.0-1", "ros-eloquent-rosidl-typesupport-interface: 0.8.0-1", "ros-eloquent-rosidl-typesupport-introspection-c: 0.8.0-1", "ros-eloquent-rosidl-typesupport-introspection-c-dbgsym: 0.8.0-1", "ros-eloquent-rosidl-typesupport-introspection-cpp: 0.8.0-1", "ros-eloquent-rosidl-typesupport-introspection-cpp-dbgsym: 0.8.0-1", "ros-eloquent-rosidl-typesupport-opensplice-c: 0.8.1-1", "ros-eloquent-rosidl-typesupport-opensplice-c-dbgsym: 0.8.1-1", "ros-eloquent-rosidl-typesupport-opensplice-cpp: 0.8.1-1", "ros-eloquent-rosidl-typesupport-opensplice-cpp-dbgsym: 0.8.1-1", "\n", ": 1.0.5-1", "\n", ": 1.0.1-1", "\n", ": 1.1.0-1", "\n", ": 1.0.2-1", "\n", ": 1.0.5-1", "\n", ": 1.0.5-1", "ros-eloquent-rqt-gui-cpp-dbgsym: 1.0.5-1", "\n", ": 1.0.5-1", "\n", ": 1.0.2-1", "ros-eloquent-rqt-image-view-dbgsym: 1.0.2-1", "\n", ": 1.0.2-1", "\n", ": 1.0.7-1", "\n", ": 1.1.0-1", "\n", ": 1.0.5-1", "ros-eloquent-rqt-py-common-dbgsym: 1.0.5-1", "\n", ": 1.0.0-1", "\n", ": 1.0.3-1", "\n", ": 1.0.3-1", "\n", ": 1.0.0-1", "\n", ": 1.0.1-1", "\n", ": 1.0.0-1", "\n", ": 1.0.0-1", "ros-eloquent-rttest: 0.8.0-1", "ros-eloquent-rttest-dbgsym: 0.8.0-1", "\n", ": 7.0.1-1", "\n", ": 7.0.1-1", "ros-eloquent-rviz-common-dbgsym: 7.0.1-1", "\n", ": 7.0.1-1", "ros-eloquent-rviz-default-plugins-dbgsym: 7.0.1-1", "\n", ": 7.0.1-1", "ros-eloquent-rviz-ogre-vendor-dbgsym: 7.0.1-1", "\n", ": 7.0.1-1", "ros-eloquent-rviz-rendering-dbgsym: 7.0.1-1", "ros-eloquent-rviz-rendering-tests: 7.0.1-1", "\n", ": 7.0.1-1", "\n", ": 7.0.1-1", "ros-eloquent-rviz2-dbgsym: 7.0.1-1", "ros-eloquent-sensor-msgs: 0.8.0-1", "ros-eloquent-sensor-msgs-dbgsym: 0.8.0-1", "ros-eloquent-shape-msgs: 0.8.0-1", "ros-eloquent-shape-msgs-dbgsym: 0.8.0-1", "ros-eloquent-shared-queues-vendor: 0.2.0-1", "\n", ": 1.0.1-1", "ros-eloquent-sqlite3-vendor: 0.2.0-1", "ros-eloquent-sros2: 0.8.0-1", "ros-eloquent-sros2-cmake: 0.8.0-1", "ros-eloquent-std-msgs: 0.8.0-1", "ros-eloquent-std-msgs-dbgsym: 0.8.0-1", "ros-eloquent-std-srvs: 0.8.0-1", "ros-eloquent-std-srvs-dbgsym: 0.8.0-1", "ros-eloquent-stereo-msgs: 0.8.0-1", "ros-eloquent-stereo-msgs-dbgsym: 0.8.0-1", "\n", ": 2.2.1-1", "ros-eloquent-teleop-twist-joy-dbgsym: 2.2.1-1", "\n", ": 2.3.1-1", "ros-eloquent-test-interface-files: 0.8.0-1", "ros-eloquent-test-msgs: 0.8.0-1", "ros-eloquent-test-msgs-dbgsym: 0.8.0-1", "ros-eloquent-test-osrf-testing-tools-cpp: 1.2.1-1", "\n", ": 0.12.0-1", "ros-eloquent-tf2-dbgsym: 0.12.0-1", "ros-eloquent-tf2-eigen: 0.12.0-1", "\n", ": 0.12.0-1", "\n", ": 0.12.0-1", "\n", ": 0.12.0-1", "ros-eloquent-tf2-msgs-dbgsym: 0.12.0-1", "\n", ": 0.12.0-1", "ros-eloquent-tf2-py-dbgsym: 0.12.0-1", "\n", ": 0.12.0-1", "ros-eloquent-tf2-ros-dbgsym: 0.12.0-1", "\n", ": 0.12.0-1", "ros-eloquent-tinydir-vendor: 1.1.0-1", "ros-eloquent-tinyxml-vendor: 0.7.0-1", "ros-eloquent-tinyxml2-vendor: 0.6.1-1", "ros-eloquent-tlsf: 0.5.0-1", "ros-eloquent-tlsf-cpp: 0.8.0-1", "ros-eloquent-tlsf-cpp-dbgsym: 0.8.0-1", "ros-eloquent-topic-monitor: 0.8.0-1", "ros-eloquent-trajectory-msgs: 0.8.0-1", "ros-eloquent-trajectory-msgs-dbgsym: 0.8.0-1", "\n", ": 1.0.1-1", "ros-eloquent-turtlesim-dbgsym: 1.0.1-1", "\n", ": 1.3.0-1", "ros-eloquent-uncrustify-vendor-dbgsym: 1.3.0-1", "\n", ": 2.1.0-1", "ros-eloquent-unique-identifier-msgs-dbgsym: 2.1.0-1", "ros-eloquent-urdf: 2.2.0-1", "ros-eloquent-urdf-dbgsym: 2.2.0-1", "ros-eloquent-urdfdom: 2.2.0-1", "ros-eloquent-urdfdom-dbgsym: 2.2.0-1", "\n", ": 1.0.4-1", "\n", ": 2.1.2-1", "ros-eloquent-visualization-msgs: 0.8.0-1", "ros-eloquent-visualization-msgs-dbgsym: 0.8.0-1", "\n", ": 7.0.0-1", "ros-eloquent-yaml-cpp-vendor-dbgsym: 7.0.0-1", "AWS RoboMaker", "Amazon B9", "Amazon ROS Contributions", "Anup Pemmaiah", "Chris Lalancette", "Claire Wang", "Dan Lazewatsky", "David Gossow", "David V. Lu!!", "Dirk Thomas", "Dorian Scholz", "Eclipse Foundation, Inc.", "Emerson Knapp", "Ethan Gao", "Ivan Paunovic", "Jacob Perron", "John Shepherd", "Jose Luis Rivero", "Juan Pablo Samper", "Karsten Knese", "Michael Carroll", "Michel Hidalgo", "Miguel Company", "Mikael Arguedas", "Pete Baughman", "Scott K Logan", "Shane Loretz", "Steve Macenski", "Steven! Ragnarok", "Steven! Ragnar\u00f6k", "Ted Kern", "Tully Foote", "Vincent Rabaud", "William Woodall", "ros-eloquent-ament-cmake-version: 0.8.1-1", "\n", ": 1.0.9000-1", "ros-eloquent-cartographer-ros-dbgsym: 1.0.9000-1", "\n", ": 1.0.9000-1", "ros-eloquent-cartographer-ros-msgs-dbgsym: 1.0.9000-1", "ros-eloquent-cyclonedds-cmake-module: 0.4.1-1", "\n", ": 1.0.3-1", "ros-eloquent-ecl-config-dbgsym: 1.0.3-1", "\n", ": 1.0.3-1", "\n", ": 1.0.3-1", "\n", ": 1.0.3-1", "ros-eloquent-ecl-errors-dbgsym: 1.0.3-1", "\n", ": 1.0.3-1", "ros-eloquent-ecl-io-dbgsym: 1.0.3-1", "\n", ": 1.0.3-1", "\n", ": 1.0.3-1", "ros-eloquent-ecl-sigslots-lite-dbgsym: 1.0.3-1", "\n", ": 1.0.3-1", "ros-eloquent-ecl-time-lite-dbgsym: 1.0.3-1", "ros-eloquent-examples-rclcpp-multithreaded-executor: 0.8.1-1", "ros-eloquent-examples-rclcpp-multithreaded-executor-dbgsym: 0.8.1-1", "\n", ": 0.12.1-2", "\n", ": 2.2.1-1", "\n", ": 2.2.1-1", "\n", ": 1.0.0-1", "ros-eloquent-pcl-msgs-dbgsym: 1.0.0-1", "\n", ": 1.2.1-1", "ros-eloquent-rmw-cyclonedds-cpp: 0.4.1-1", "ros-eloquent-rmw-cyclonedds-cpp-dbgsym: 0.4.1-1", "ros-eloquent-ros2trace: 0.2.9-1", "ros-eloquent-ros2trace-analysis: 0.2.1-1", "ros-eloquent-sophus: 1.1.0-1", "ros-eloquent-system-modes: 0.1.5-1", "ros-eloquent-system-modes-dbgsym: 0.1.5-1", "ros-eloquent-system-modes-examples: 0.1.5-1", "ros-eloquent-system-modes-examples-dbgsym: 0.1.5-1", "\n", ": 2.2.1-1", "ros-eloquent-theora-image-transport-dbgsym: 2.2.1-1", "ros-eloquent-tracetools: 0.2.9-1", "ros-eloquent-tracetools-analysis: 0.2.1-1", "ros-eloquent-tracetools-dbgsym: 0.2.9-1", "ros-eloquent-tracetools-launch: 0.2.9-1", "ros-eloquent-tracetools-read: 0.2.9-1", "ros-eloquent-tracetools-test: 0.2.9-1", "ros-eloquent-tracetools-test-dbgsym: 0.2.9-1", "ros-eloquent-tracetools-trace: 0.2.9-1", "ros-eloquent-action-tutorials-cpp: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-action-tutorials-cpp-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-action-tutorials-interfaces: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-action-tutorials-interfaces-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-action-tutorials-py: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-actionlib-msgs: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-actionlib-msgs-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-clang-format: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-clang-tidy: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-auto: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-clang-format: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-clang-tidy: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-copyright: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-core: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-cppcheck: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-cpplint: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-export-definitions: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-export-dependencies: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-export-include-directories: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-export-interfaces: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-export-libraries: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-export-link-flags: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-flake8: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-gmock: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-gtest: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-include-directories: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-libraries: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-lint-cmake: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-mypy: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-nose: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-pclint: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-pep257: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-pep8: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-pyflakes: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-pytest: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-python: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-target-dependencies: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-test: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-uncrustify: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cmake-xmllint: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-copyright: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cppcheck: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-cpplint: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-flake8: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-index-cpp: 0.7.1-1 -> 0.7.2-1", "ros-eloquent-ament-index-cpp-dbgsym: 0.7.1-1 -> 0.7.2-1", "ros-eloquent-ament-index-python: 0.7.1-1 -> 0.7.2-1", "ros-eloquent-ament-lint: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-lint-auto: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-lint-cmake: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-lint-common: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-mypy: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-package: 0.8.3-1 -> 0.8.4-1", "ros-eloquent-ament-pclint: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-pep257: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-pep8: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-pyflakes: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-uncrustify: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-ament-xmllint: 0.8.0-1 -> 0.8.1-1", "\n", ": 2.2.0-1 -> 2.2.1-1", "ros-eloquent-camera-calibration-parsers-dbgsym: 2.2.0-1 -> 2.2.1-1", "\n", ": 2.2.0-1 -> 2.2.1-1", "ros-eloquent-camera-info-manager-dbgsym: 2.2.0-1 -> 2.2.1-1", "ros-eloquent-common-interfaces: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-composition: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-composition-dbgsym: 0.8.0-1 -> 0.8.1-1", "\n", ": 2.2.0-1 -> 2.2.1-1", "ros-eloquent-compressed-depth-image-transport-dbgsym: 2.2.0-1 -> 2.2.1-1", "\n", ": 2.2.0-1 -> 2.2.1-1", "ros-eloquent-compressed-image-transport-dbgsym: 2.2.0-1 -> 2.2.1-1", "ros-eloquent-connext-cmake-module: 0.8.1-1 -> 0.8.2-1", "\n", ": 2.1.2-1 -> 2.1.3-1", "ros-eloquent-cv-bridge-dbgsym: 2.1.2-1 -> 2.1.3-1", "\n", ": 0.1.0-1 -> 0.1.0-3", "ros-eloquent-cyclonedds-dbgsym: 0.1.0-1 -> 0.1.0-3", "ros-eloquent-demo-nodes-cpp: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-demo-nodes-cpp-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-demo-nodes-cpp-native: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-demo-nodes-cpp-native-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-demo-nodes-py: 0.8.0-1 -> 0.8.1-1", "\n", ": 2.2.2-1 -> 2.2.4-1", "ros-eloquent-depthimage-to-laserscan-dbgsym: 2.2.2-1 -> 2.2.4-1", "ros-eloquent-diagnostic-msgs: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-diagnostic-msgs-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-dummy-map-server: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-dummy-map-server-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-dummy-robot-bringup: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-dummy-sensors: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-dummy-sensors-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-examples-rclcpp-minimal-action-client: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-examples-rclcpp-minimal-action-client-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-examples-rclcpp-minimal-action-server: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-examples-rclcpp-minimal-action-server-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-examples-rclcpp-minimal-client: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-examples-rclcpp-minimal-client-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-examples-rclcpp-minimal-composition: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-examples-rclcpp-minimal-composition-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-examples-rclcpp-minimal-publisher: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-examples-rclcpp-minimal-publisher-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-examples-rclcpp-minimal-service: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-examples-rclcpp-minimal-service-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-examples-rclcpp-minimal-subscriber: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-examples-rclcpp-minimal-subscriber-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-examples-rclcpp-minimal-timer: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-examples-rclcpp-minimal-timer-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-examples-rclpy-executors: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-examples-rclpy-minimal-action-client: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-examples-rclpy-minimal-action-server: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-examples-rclpy-minimal-client: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-examples-rclpy-minimal-publisher: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-examples-rclpy-minimal-service: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-examples-rclpy-minimal-subscriber: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-fastrtps: 1.9.0-3 -> 1.9.2-1", "ros-eloquent-fastrtps-dbgsym: 1.9.0-3 -> 1.9.2-1", "ros-eloquent-foonathan-memory-vendor: 0.1.0-1 -> 0.3.0-1", "ros-eloquent-geometry-msgs: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-geometry-msgs-dbgsym: 0.8.0-1 -> 0.8.1-1", "\n", ": 2.1.2-1 -> 2.1.3-1", "ros-eloquent-image-geometry-dbgsym: 2.1.2-1 -> 2.1.3-1", "ros-eloquent-image-tools: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-image-tools-dbgsym: 0.8.0-1 -> 0.8.1-1", "\n", ": 2.2.0-1 -> 2.2.1-1", "ros-eloquent-image-transport-dbgsym: 2.2.0-1 -> 2.2.1-1", "\n", ": 2.0.0-1 -> 2.0.1-1", "ros-eloquent-interactive-markers-dbgsym: 2.0.0-1 -> 2.0.1-1", "ros-eloquent-intra-process-demo: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-intra-process-demo-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-launch: 0.9.1-1 -> 0.9.3-1", "ros-eloquent-launch-ros: 0.9.1-1 -> 0.9.2-1", "ros-eloquent-launch-testing: 0.9.1-1 -> 0.9.3-1", "ros-eloquent-launch-testing-ament-cmake: 0.9.1-1 -> 0.9.3-1", "ros-eloquent-launch-testing-ros: 0.9.1-1 -> 0.9.2-1", "ros-eloquent-launch-xml: 0.9.1-1 -> 0.9.3-1", "ros-eloquent-launch-yaml: 0.9.1-1 -> 0.9.3-1", "ros-eloquent-lifecycle: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-lifecycle-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-logging-demo: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-logging-demo-dbgsym: 0.8.0-1 -> 0.8.1-1", "\n", ": 3.2.0-1 -> 3.2.1-1", "ros-eloquent-message-filters-dbgsym: 3.2.0-1 -> 3.2.1-1", "ros-eloquent-nav-msgs: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-nav-msgs-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-pendulum-control: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-pendulum-control-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-pendulum-msgs: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-pendulum-msgs-dbgsym: 0.8.0-1 -> 0.8.1-1", "\n", ": 2.4.0-1 -> 2.4.1-1", "ros-eloquent-quality-of-service-demo-cpp: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-quality-of-service-demo-cpp-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-quality-of-service-demo-py: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rcl: 0.8.1-1 -> 0.8.2-1", "ros-eloquent-rcl-action: 0.8.1-1 -> 0.8.2-1", "ros-eloquent-rcl-action-dbgsym: 0.8.1-1 -> 0.8.2-1", "ros-eloquent-rcl-dbgsym: 0.8.1-1 -> 0.8.2-1", "ros-eloquent-rcl-lifecycle: 0.8.1-1 -> 0.8.2-1", "ros-eloquent-rcl-lifecycle-dbgsym: 0.8.1-1 -> 0.8.2-1", "ros-eloquent-rcl-logging-log4cxx: 0.3.2-1 -> 0.3.3-1", "ros-eloquent-rcl-logging-log4cxx-dbgsym: 0.3.2-1 -> 0.3.3-1", "ros-eloquent-rcl-logging-noop: 0.3.2-1 -> 0.3.3-1", "ros-eloquent-rcl-logging-noop-dbgsym: 0.3.2-1 -> 0.3.3-1", "ros-eloquent-rcl-logging-spdlog: 0.3.2-1 -> 0.3.3-1", "ros-eloquent-rcl-logging-spdlog-dbgsym: 0.3.2-1 -> 0.3.3-1", "ros-eloquent-rcl-yaml-param-parser: 0.8.1-1 -> 0.8.2-1", "ros-eloquent-rcl-yaml-param-parser-dbgsym: 0.8.1-1 -> 0.8.2-1", "ros-eloquent-rclcpp: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rclcpp-action: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rclcpp-action-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rclcpp-components: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rclcpp-components-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rclcpp-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rclcpp-lifecycle: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rclcpp-lifecycle-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rclpy: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rclpy-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rcutils: 0.8.1-1 -> 0.8.2-1", "ros-eloquent-rcutils-dbgsym: 0.8.1-1 -> 0.8.2-1", "ros-eloquent-rmw: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rmw-connext-cpp: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rmw-connext-cpp-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rmw-connext-shared-cpp: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rmw-connext-shared-cpp-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rmw-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rmw-fastrtps-cpp: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rmw-fastrtps-cpp-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rmw-fastrtps-dynamic-cpp: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rmw-fastrtps-dynamic-cpp-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rmw-fastrtps-shared-cpp: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rmw-fastrtps-shared-cpp-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rmw-implementation: 0.8.0-4 -> 0.8.1-1", "ros-eloquent-rmw-implementation-cmake: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rmw-implementation-dbgsym: 0.8.0-4 -> 0.8.1-1", "ros-eloquent-rmw-opensplice-cpp: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rmw-opensplice-cpp-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-robot-state-publisher: 2.3.0-1 -> 2.3.1-1", "ros-eloquent-robot-state-publisher-dbgsym: 2.3.0-1 -> 2.3.1-1", "ros-eloquent-ros-environment: 2.4.0-1 -> 2.4.1-1", "ros-eloquent-ros1-bridge: 0.8.0-2 -> 0.8.1-3", "ros-eloquent-ros1-bridge-dbgsym: 0.8.0-2 -> 0.8.1-3", "ros-eloquent-ros2action: 0.8.2-1 -> 0.8.3-1", "ros-eloquent-ros2bag: 0.2.0-1 -> 0.2.1-2", "ros-eloquent-ros2cli: 0.8.2-1 -> 0.8.3-1", "ros-eloquent-ros2component: 0.8.2-1 -> 0.8.3-1", "ros-eloquent-ros2doctor: 0.8.2-1 -> 0.8.3-1", "ros-eloquent-ros2interface: 0.8.2-1 -> 0.8.3-1", "ros-eloquent-ros2launch: 0.9.1-1 -> 0.9.2-1", "ros-eloquent-ros2lifecycle: 0.8.2-1 -> 0.8.3-1", "ros-eloquent-ros2msg: 0.8.2-1 -> 0.8.3-1", "ros-eloquent-ros2multicast: 0.8.2-1 -> 0.8.3-1", "ros-eloquent-ros2node: 0.8.2-1 -> 0.8.3-1", "ros-eloquent-ros2param: 0.8.2-1 -> 0.8.3-1", "ros-eloquent-ros2pkg: 0.8.2-1 -> 0.8.3-1", "ros-eloquent-ros2run: 0.8.2-1 -> 0.8.3-1", "ros-eloquent-ros2service: 0.8.2-1 -> 0.8.3-1", "ros-eloquent-ros2srv: 0.8.2-1 -> 0.8.3-1", "ros-eloquent-ros2topic: 0.8.2-1 -> 0.8.3-1", "ros-eloquent-rosbag2: 0.2.0-1 -> 0.2.1-2", "ros-eloquent-rosbag2-converter-default-plugins: 0.2.0-1 -> 0.2.1-2", "ros-eloquent-rosbag2-converter-default-plugins-dbgsym: 0.2.0-1 -> 0.2.1-2", "ros-eloquent-rosbag2-dbgsym: 0.2.0-1 -> 0.2.1-2", "ros-eloquent-rosbag2-storage: 0.2.0-1 -> 0.2.1-2", "ros-eloquent-rosbag2-storage-dbgsym: 0.2.0-1 -> 0.2.1-2", "ros-eloquent-rosbag2-storage-default-plugins: 0.2.0-1 -> 0.2.1-2", "ros-eloquent-rosbag2-storage-default-plugins-dbgsym: 0.2.0-1 -> 0.2.1-2", "ros-eloquent-rosbag2-test-common: 0.2.0-1 -> 0.2.1-2", "ros-eloquent-rosbag2-tests: 0.2.0-1 -> 0.2.1-2", "ros-eloquent-rosbag2-transport: 0.2.0-1 -> 0.2.1-2", "ros-eloquent-rosbag2-transport-dbgsym: 0.2.0-1 -> 0.2.1-2", "ros-eloquent-rosidl-adapter: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rosidl-cmake: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rosidl-generator-c: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rosidl-generator-c-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rosidl-generator-cpp: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rosidl-generator-py: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rosidl-parser: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rosidl-runtime-py: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rosidl-typesupport-connext-c: 0.8.1-1 -> 0.8.2-1", "ros-eloquent-rosidl-typesupport-connext-c-dbgsym: 0.8.1-1 -> 0.8.2-1", "ros-eloquent-rosidl-typesupport-connext-cpp: 0.8.1-1 -> 0.8.2-1", "ros-eloquent-rosidl-typesupport-connext-cpp-dbgsym: 0.8.1-1 -> 0.8.2-1", "ros-eloquent-rosidl-typesupport-interface: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rosidl-typesupport-introspection-c: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rosidl-typesupport-introspection-c-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rosidl-typesupport-introspection-cpp: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rosidl-typesupport-introspection-cpp-dbgsym: 0.8.0-1 -> 0.8.1-1", "\n", ": 1.0.2-1 -> 1.0.3-1", "\n", ": 1.0.2-1 -> 1.0.3-1", "ros-eloquent-rqt-image-view-dbgsym: 1.0.2-1 -> 1.0.3-1", "ros-eloquent-rttest: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-rttest-dbgsym: 0.8.0-1 -> 0.8.1-1", "\n", ": 7.0.1-1 -> 7.0.2-1", "\n", ": 7.0.1-1 -> 7.0.2-1", "ros-eloquent-rviz-common-dbgsym: 7.0.1-1 -> 7.0.2-1", "\n", ": 7.0.1-1 -> 7.0.2-1", "ros-eloquent-rviz-default-plugins-dbgsym: 7.0.1-1 -> 7.0.2-1", "\n", ": 7.0.1-1 -> 7.0.2-1", "ros-eloquent-rviz-ogre-vendor-dbgsym: 7.0.1-1 -> 7.0.2-1", "\n", ": 7.0.1-1 -> 7.0.2-1", "ros-eloquent-rviz-rendering-dbgsym: 7.0.1-1 -> 7.0.2-1", "ros-eloquent-rviz-rendering-tests: 7.0.1-1 -> 7.0.2-1", "\n", ": 7.0.1-1 -> 7.0.2-1", "\n", ": 7.0.1-1 -> 7.0.2-1", "ros-eloquent-rviz2-dbgsym: 7.0.1-1 -> 7.0.2-1", "ros-eloquent-sensor-msgs: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-sensor-msgs-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-shape-msgs: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-shape-msgs-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-shared-queues-vendor: 0.2.0-1 -> 0.2.1-2", "ros-eloquent-sqlite3-vendor: 0.2.0-1 -> 0.2.1-2", "ros-eloquent-std-msgs: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-std-msgs-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-std-srvs: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-std-srvs-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-stereo-msgs: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-stereo-msgs-dbgsym: 0.8.0-1 -> 0.8.1-1", "\n", ": 2.2.1-1 -> 2.2.2-1", "ros-eloquent-teleop-twist-joy-dbgsym: 2.2.1-1 -> 2.2.2-1", "\n", ": 0.12.0-1 -> 0.12.1-2", "ros-eloquent-tf2-dbgsym: 0.12.0-1 -> 0.12.1-2", "ros-eloquent-tf2-eigen: 0.12.0-1 -> 0.12.1-2", "\n", ": 0.12.0-1 -> 0.12.1-2", "\n", ": 0.12.0-1 -> 0.12.1-2", "\n", ": 0.12.0-1 -> 0.12.1-2", "ros-eloquent-tf2-msgs-dbgsym: 0.12.0-1 -> 0.12.1-2", "\n", ": 0.12.0-1 -> 0.12.1-2", "ros-eloquent-tf2-py-dbgsym: 0.12.0-1 -> 0.12.1-2", "\n", ": 0.12.0-1 -> 0.12.1-2", "ros-eloquent-tf2-ros-dbgsym: 0.12.0-1 -> 0.12.1-2", "\n", ": 0.12.0-1 -> 0.12.1-2", "ros-eloquent-tlsf-cpp: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-tlsf-cpp-dbgsym: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-topic-monitor: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-trajectory-msgs: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-trajectory-msgs-dbgsym: 0.8.0-1 -> 0.8.1-1", "\n", ": 1.0.1-1 -> 1.0.2-1", "ros-eloquent-turtlesim-dbgsym: 1.0.1-1 -> 1.0.2-1", "\n", ": 2.1.2-1 -> 2.1.3-1", "ros-eloquent-visualization-msgs: 0.8.0-1 -> 0.8.1-1", "ros-eloquent-visualization-msgs-dbgsym: 0.8.0-1 -> 0.8.1-1", "Amazon B9", "Amazon ROS Contributions", "Anup Pemmaiah", "Arne Nordmann", "Chris Lalancette", "Christophe Bedard", "Claire Wang", "Daniel Stonier", "David Gossow", "Dirk Thomas", "Eclipse Foundation, Inc.", "Erik Boasson", "Ethan Gao", "Ivan Paunovic", "Jack O\u2019Quin", "Jacob Hassold", "Jacob Perron", "John Shepherd", "Juan Pablo Samper", "Julius Kammerl", "Karsten Knese", "Michael Carroll", "Michel Hidalgo", "Miguel Company", "Mikael Arguedas", "Paul Bovbel", "Pete Baughman", "Scott K Logan", "Shane Loretz", "Steven! Ragnarok", "Steven! Ragnar\u00f6k", "Ted Kern", "Tully Foote", "Vincent Rabaud", "William Woodall"], "url": "https://discourse.ros.org/t/ros-2-eloquent-elusor-call-for-testing-and-package-releases/10923"},
{"title": "ROS2 Navigation's Tiny Ticket Sprint [Reward for winning!]", "thread_contents": ["Hi everyone,", "If you don\u2019t know me I\u2019m Steve, I\u2019m a maintainer/developer on ROS2 Navigation and avid Tiny Ticket enthusiast. If you ever have a few minutes, just find some tiny ticket somewhere and crush it. It feels good, you learn a new skill, and you fix something that otherwise may have just sat around for years.", "In that spirit, and in the spirit of community, I introduced the Navigation working group to my ", " that I would love you to compete in!", "The rules are simple. There is a milestone of Tiny Tickets, and for each that you crush, you\u2019ll be given a point. The winner with the most points will be awarded a minimum of one (1) beer at ROSCon 2019 at an establishment of your choosing with yours truly and probably other members of the Navigation community and the right to ", ". The deadline is midnight Friday October 18th PST.", "The milestone is here: ", "The rules are laid out in the description. If we start running out of tickets, or need to expand to other related repositories in the Navigation ecosystem so be it.", "Happy hunting!", "The first (and last) week of the Tiny Ticket Sprint is upon us.", "2 users are on the scoreboard with one point each with 2 more users working on patches as we speak.", "Lets crush some more tickets!", "Only TWO MORE DAYS in the Tiny Ticket Sprint!", "The scoreboard is looking good with", "\n", " with 3 points", "\n", " with 1 point", "\n", " with 1 point", "If anyone else is interested in pitching in, now\u2019s the time!", "Last day, get your PRs in before midnight!", " with 3 points", "\n", " with 2 point", "\n", " with 1 point", "\n", " with 1 point", "  is the winner of the tiny ticket sprint closing out 4 tiny tickets, and may select a graphic that I will place in my ROSCon presentation in China next week!", "Overall, I\u2019d call this a success! We got pull requests from 3 users that have never before submitted a request to navigation, closed out 8 tickets with another 2-3 tickets with PRs pending to close, out of the 24 total tickets. From the original number of tickets when we started, that represents a nearly ", " drop in tickets as a result of this effort and only 1 of those tickets did I have a hand in.", "I\u2019d love peoples\u2019 feedback on this ad-hoc project and if we like it, hate it, want to continue with some sort of week-prior-to-ROSCon navigation-based competition.", " How about this simple meme?", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-navigations-tiny-ticket-sprint-reward-for-winning/11080"},
{"title": "Safety-critical WG", "thread_contents": ["Some time ago I was asked to lead a working group looking at the use of ROS 2 in safety-critical systems. These are systems that may potentially cause harm to people or the environment, and I think that most of us agree that a large number of robot applications fall into this category.", "The working group will look at topics including:", "In the interests of getting this thing moving rather than stalling while I try to get a nice, formal proposal together, I\u2019m going to begin with just a call for participation and a time for the first meeting.", "ROS 2 Safety-critical WG", "San Francisco, USA Wed, 8 May 2019 at 15:00 PDT", "\nChicago, USA Wed, 8 May 2019 at 17:00 CDT", "\nWashington DC, USA Wed, 8 May 2019 at 18:00 EDT", "\nBarcelona, Spain Thu, 9 May 2019 at 00:00 CEST", "\nBerlin, Germany Thu, 9 May 2019 at 00:00 CEST", "\nTokyo, Japan Thu, 9 May 2019 at 07:00 JST", "\nCorresponding UTC Wed, 8 May 2019 at 22:00", "Please join my meeting from your computer, tablet or smartphone.", "\n", "You can also dial in using your phone.", "\nUnited States: +1 (312) 757-3117", "Access Code: 206-092-957", "More phone numbers", "\nAustralia: +61 2 9091 7603", "\nAustria: +43 7 2081 5337", "\nBelgium: +32 28 93 7002", "\nCanada: +1 (647) 497-9373", "\nDenmark: +45 32 72 03 69", "\nFinland: +358 942 72 0972", "\nFrance: +33 187 210 241", "\nGermany: +49 692 5736 7300", "\nIreland: +353 15 295 146", "\nItaly: +39 0 230 57 81 80", "\nNetherlands: +31 202 251 001", "\nNew Zealand: +64 9 913 2226", "\nNorway: +47 21 93 37 37", "\nSpain: +34 932 75 1230", "\nSweden: +46 853 527 818", "\nSwitzerland: +41 225 4599 60", "\nUnited Kingdom: +44 20 3713 5011", "New to GoToMeeting? Get the app now and be ready when your first meeting starts:", "\n", "One of the things to discuss in that meeting will be the time for and frequency of regular meetings after that, as well as mundane topics like where to keep information.", "As it turns out, safety is not that interesting a topic for most people. Who would\u2019ve guessed? ", "It was just myself and Nick Burek from AWS in the meeting today, but we did throw around a few ideas for  things the working group could do.", "There are many verification tools that would be useful to have supported by ", " in the same way linters are.", "To clarify: the build tool ", " knows nothing about linters. They are being invoked from the build system in either CMake as CTests or in Python packages as unit tests.", "Sorry, I mixed that up. I meant to say ", ", like the existing ament extensions.", "I wanted to be there but the time zone and other problems prevented me from attending ", "I\u2019m still working in the Ada client lib (updating it to Crystal atm). I have little SPARK expertise but it\u2019s definitely one topic in which I want to invest time, so I\u2019ll try to get involved in that part if it ever moves forward.", "If the Ada client library gets completed then that would provide a good base to build a SPARK one on.", "Geoff, sorry we missed the first meeting, we\u2019d like to participate.", " and ", " are looking at safety from the Intel ROS2 team.", "OK, since there have been a few more expressions of support now, let\u2019s take another stab at having a kick-off meeting.", "Let me know your availability through the poll below and we will see if we can find a meeting time that sucks for as few people as possible.", "Doodle is the simplest way to schedule meetings with clients, colleagues, or friends. Find the best time for one-to-ones and team meetings with our user-friendly calendar tool. Get started today!", "Thanks to all those who filled in their preferred times. We will meet at this time:", ".", "If you want a calendar invite, please let me know your email address by PM.", "Please join my meeting from your computer, tablet or smartphone.", "\n", "You can also dial in using your phone.", "\nUnited States: ", "Access Code: 205-619-637", "More phone numbers", "\nAustralia: ", "\nAustria: ", "\nBelgium: ", "\nCanada: ", "\nDenmark: ", "\nFinland: ", "\nFrance: ", "\nGermany: ", "\nIreland: ", "\nItaly: ", "\nNetherlands: ", "\nNew Zealand: ", "\nNorway: ", "\nSpain: ", "\nSweden: ", "\nSwitzerland: ", "\nUnited Kingdom: ", "New to GoToMeeting? Get the app now and be ready when your first meeting starts:", "\n", "Hello ", " ,", "I\u2019m trying to log in but getting", "\n", "Time seems right though:", "I\u2019m seeing the same, so you\u2019re not alone.", "Sorry, everyone. Various problems compounded to make me 35 minutes late for the meeting, by which time most people had given up, it appears. Based on the previous poll, I\u2019d like to reschedule for the following time:", ".", "I will post connection information tomorrow. Please let me know as soon as possible if this time doesn\u2019t work for you.", "Here\u2019s the connection information.", "ROS 2 TSC Safety WG kickoff ", "\nWed, 5 Jun 2019 23:00 - 00:00 JST", "Please join my meeting from your computer, tablet or smartphone.", "\n", "You can also dial in using your phone.", "\nUnited States: ", "Access Code: 282-071-125", "More phone numbers", "\nAustralia: ", "\nAustria: ", "\nBelgium: ", "\nCanada: ", "\nDenmark: ", "\nFinland: ", "\nFrance: ", "\nGermany: ", "\nIreland: ", "\nItaly: ", "\nNetherlands: ", "\nNew Zealand: ", "\nNorway: ", "\nSpain: ", "\nSweden: ", "\nSwitzerland: ", "\nUnited Kingdom: ", "New to GoToMeeting? Get the app now and be ready when your first meeting starts:", "\n", "Thanks for re-organizing ", ", unfortunately I won\u2019t be able to make it today but will look through the notes if they become available ", "Thank you to those who joined the meeting. We had a good discussion and identified some concrete areas where we can take action. We also identified that our biggest roadblock is, as always, resources.", "Here are my notes from the meeting.", "Thanks for the detailed minutes, Geoff.", "As for your last entry on threading models, you may find something of interest in the Ravenscar profile of Ada, which specifically targets multithreading in high-integrity contexts:", "For those of you interested in formal proof of complete systems, above the source code part, this project has been making the rounds in the Ada community a time ago. I think they used Z for the user interface spec (link to github at the end):", "Apologies for the spam if you were already aware.", "Cheers,", "\nAlejandro.", "Thanks for that information! I\u2019m always happy to be introduced to new samples of using Z to learn from.", "I\u2019d like to set our next meeting in the first week of July. It\u2019s a little way off, but we will start doing more frequent meetings when we start getting more active.", "Here\u2019s a poll for the meeting time.", "Doodle is the simplest way to schedule meetings with clients, colleagues, or friends. Find the best time for one-to-ones and team meetings with our user-friendly calendar tool. Get started today!", "After this meeting, I would like to set a regular meeting schedule. I will send out a poll for that later.", "Thanks to those who provided their availability. I have chosen the time that the most people are available for, which is:", ".", "Sorry for the 7AM start for those on the west coast of the USA.", "Here is the meeting participation information. If you want an invite, please send me a DM with your email address.", "ROS 2 Safety WG", "Please join my meeting from your computer, tablet or smartphone.", "\n", "You can also dial in using your phone.", "\nUnited States: ", "Access Code: 485-233-997", "More phone numbers", "\nAustralia: ", "\nAustria: ", "\nBelgium: ", "\nCanada: ", "\nDenmark: ", "\nFinland: ", "\nFrance: ", "\nGermany: ", "\nIreland: ", "\nItaly: ", "\nNetherlands: ", "\nNew Zealand: ", "\nNorway: ", "\nSpain: ", "\nSweden: ", "\nSwitzerland: ", "\nUnited Kingdom: ", "New to GoToMeeting? Get the app now and be ready when your first meeting starts:", "\n", "Dear all,", "I\u2019m truly sorry but recent developments will keep me out of touch during the Jul 2-3 period, so I will miss the meeting.", "Best,", "\nAlejandro.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Documenting how to use ROS 2 in a safety-critical application", "Use of tools to support the above", "Additional processes, tools and methods needed for building a safety-critical robot that are not currently covered by something in ROS but could be", "How to make the client libraries usable in a safety-critical system, and work on safety-focused client libraries (for example, a SPARK client library)", "Cross-over issues with the QA and real-time working groups for infrastructure, tooling and methods", "Cross-over issues with the navigation and manipulation working groups for sample applications", "Anything else safety-related someone brings along", "The most low-hanging fruit identified was to put some resources towards the ", ". Rust is a powerful systems programming language but it also has features that make it useful for safety-critical and real-time systems. Esteve\u2019s client library exists but more work needs to be done and currently not enough resources are going into it.", "Related to the above would be to get the ", " client library into a usable shape and make it feature complete. SPARK is a variant of Ada designed for dependable systems. We discussed how a minimal SPARK client library could be useful for the safety-critical parts of a robot, especially the lower-level parts such as a monitor.", "There are many verification tools that would be useful to have supported by ", " in the same way linters are. Thought needs to be given to exactly what tools would be useful, with an eye to ones that are going to work well in CI. Design verification tools like TLA+ and Spin are possibly going to be less useful in this situation than implementation verification tools like symbolic execution tools like KLEE.", "More abstractedly, we talked about how it would be useful to have formal specifications of nodes in terms of outputs produced from inputs (think of something like a disjoint transfer function) which could be used to generate test cases that are representative of large input spaces without needing to run huge numbers of tests, helping with combinatorial testing of nodes.", "Alejandro Mosteo, author of the Ada client library. Working with drones, and don\u2019t have a specific safety need but it is something that is of interest. Will continue maintaining the Ada client library and interested in SPARK.", "Brad Baillio, working on autonomous vehicles in off-road situations like mining and agriculture. Safety is an obvious need.", "Matt Droter, ROS Agriculture. Using ROS for farming so trying to figure out how to make it safe, what are the general best practices that can be applied.", "Nick Burek, AWS RoboMaker. Multiple groups at Amazon are doing robotics for warehouses, so the robots are safety-critical.", "Geoff Biggs, working on self-driving vehicles at Tier IV, where the importance of safety is obvious.", "Client libraries:\n", "The Ada client library is working with Bouncy version of ", ", and feature complete for Bouncy. Alejandro is now going to update it to work with Dashing ", ".", "Alejandro plans to start working with SPARK in the near future.", "Rust is intriguing as a language that could be useful in safety, but it is not yet widely used in ROS. Working to classify Rust would be a huge job and probably beyond our capabilities.", "\n", "Tools in the work flow useful for safety-critical development with ROS.\n", "AWS work with TSAN and ASAN is now at the stage that reports are being generated in nightlies.", "The Automated Reasoning Group at Amazon uses a tool called C Bounded Model Checker (CBMC) that", "\nallows you to write proofs against your code and allow you to check the whole valid range of inputs and outputs. It does C++ as well now, but is not great at multi-threaded logic. It is a good tool to find the last bugs in your code.", "The same group is also using many other tools. Nick Burek will provide a list of tools being used.", "\n", "ROS QA WG is working on integrating the High Assurance ROS tool into the build farm.\n", "\n", "There is interest in the work that Apex.AI is doing. Are we duplicating their work, or are we trying to make their work open source? Are we competing?", "No one is particularly interested in and/or has the necessary skills to do formal specifications of nodes.", "Classifying tools used in ROS would be particularly valuable.\n", "We could try to classify launch2 or colcon. Both would be valuable for the community.", "We may be able to try and get Apex.AI on board for classifying launch, in particular its input specification.", "\n", "Most of the things discussed so far are tools that support reliability. What could we do to help people make sure their designs using ROS are safe?\n", "One particularly good idea is to come up with sample structures in ROS for common architecture patterns used in safety-critical systems, such as a 2oo3 architecture, or how a safety monitor should be implemented.", "Document how callback groups and how the threading models work with different executors so that people have a guide for how not to deadlock themselves, for example.", "Provide sample safety cases for ROS-based systems. ROS Agriculture has a small lawn tractor application, which is well-defined and has clear safety concerns. This could be a good sample application to work with. ", "\n", "\n", "Things to attempt:\n", "Document threading models used in ROS 2.", "Classify launch, especially its input specification, to find the things you ", " do with it in a safety-critical system.", "Try CMBC and consider how it might be integrated into ament so it can be easily used in CI and the build farm.", "Develop some sample architectures for using ROS in a safety architecture, and document them.", "(Longer term) Produce a sample safety case for the ROS Agriculture small lawn tractor application.", "\n", "Possible effort contributions:\n", "Alejandro Mosteo can contribute some personal time, and if a student with interest comes along\u2026", "Brad Baillio can contribute some personal time.", "Matt Droter can act as a conduit to the ROS QA WG to coordinate related efforts.", "Nick Burek will try and get some time on the next sprint at AWS for trying CMBC on at least one ROS package.", "Geoff Biggs can contribute work on sample architectures for safety-critical systems, will look into documenting the threading models, and over a longer term will work on the sample safety case with Matt.", "\n"], "url": "https://discourse.ros.org/t/safety-critical-wg/8884"},
{"title": "RMW layer for Eclipse Cyclone DDS", "thread_contents": ["Hi everyone,", "The Eclipse Cyclone DDS project (", ") at long last has received an RMW implementation, which can be found at ", ". Eclipse Cyclone DDS is an Eclipse Foundation project and so a true open-source implementation of DDS. That it has excellent performance as well hopefully makes it a rather attractive proposition ", "I\u2019m hoping that this RMW layer will eventually be accepted as a ROS2 package, move to the ROS2 repositories and become part of the set of packages that is built by default, but until then, it\u2019ll be available in this location. Also, it is really still very young, so please test the hell out of it and then be gentle with me when you report the issues you will inevitably encounter \u2026", "To build/use it you need to have a recent commit of Cyclone DDS installed somewhere, say in $CMAKE_INSTALL_PREFIX. Actually building the RMW implementation then follows the standard procedure: clone it in a ROS2 workspace source directory, set CycloneDDS=$CMAKE_INSTALL_PREFIX/share/CycloneDDS and build with colcon as usual.", "update: Eclipse Cyclone DDS has been refactored to build easily with ROS 2 using colcon. Drop it in and build it, try it and give feedback. We really like GitHub issues\ud83d\ude01  ", " in ROS 2 Eloquent.", "tip: if your wifi has problems with multicast, then configuring DDS to use multicast only for discovery (SPDP - Simple Endpoint Discovery Protocol) can fix that", "cyclonedds ", " for SPDP", ", ", " says: ", " today gives you a pretty decent small message latency over loopback on 8 year old 3.5GHz Xeon E3-1270 running Ubuntu 16 \u2026 you see it comes out rather well for the small ones, even though it uses the loopback interface, and fares not so badly against the latencies mentioned earlier using a shared memory  ", "  for the large ones.", "[0] median latency as measured by doing round-trips as fast as possible and halving the measured round-trip time, using reliable communications \u2026", "\n[1] keyless topic of one int32_t, the others have an int32_t key field", "\n(always set to 0) and an octet sequence;", "\n[2] this is with a fragmenting threshold set large enough to not fragment the ones that fit in a single UDP datagram; with the default setting the numbers are worse.", "I\u2019d like to add that we\u2019ve been testing Nav2 with CycloneDDS, it\u2019s looking very reliable when running our system tests 100\u2019s of times. ", "We saw some pretty good results with Nav2 on CycloneDDS as well. ", "ROS 2 dashing w ", " powered ", " + industrial controller are working reliably via WiFi at the Intel + ADLINK + AWS RoboMaker exhibit at Pack Expo despite 666 WiFi APs covering that section of Las Vegas Convention Center. ", " says \u201cthat is a devilish number of APs\u201d", "ros2/rmw_cyclonedds working reliably under challenging wifi conditions is consistent with ", " and other ros2 contributors", "ROS2 RMW layer for Eclipse Cyclone DDS. Contribute to ros2/rmw_cyclonedds development by creating an account on GitHub.", "\n", "\n", "\n", " found 666 APs", "\n", "Awesome! Congrats on the demo! ", " ", " gave terrific talk at ROScon about iRobot using ros2/rmw_cyclonedds, said it beats all iRobot performance targets for low latency, reliability and low RAM. They worked out how to scale fleets using cyclonedds and contributed a new intra-process manager to dashing.", "\n", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/rmw-layer-for-eclipse-cyclone-dds/9552"},
{"title": "ROS2 Real-time Working Group Online Meeting 4 - Oct 16, 2019, 7AM PDT (UTC-7)", "thread_contents": ["Hi real-time folks, time for our 4th meeting.", "Join Zoom Meeting", "\n", "Zoom is the leader in modern enterprise video communications, with an easy, reliable cloud platform for video and audio conferencing, chat, and webinars across mobile, desktop, and room systems. Zoom Rooms is the original software-based conference...", "\n", "Meeting ID: 803 701 270", "\nPassword: 723664", "One tap mobile", "\n+16699006833,803701270# US (San Jose)", "\n+19294362866,803701270# US (New York)", "Dial by your location", "\n+1 669 900 6833 US (San Jose)", "\n+1 929 436 2866 US (New York)", "\nMeeting ID: 803 701 270", "\nFind your local number: ", "Regrettably I\u2019ll be on an airplane at that moment, just coming in to land in Barcelona. If I dial in as the aircraft hits the runway I might make the last half of the call - but obviously if the plane arrives even a little late or other factors come in to play that hour, then I\u2019ll be a no-show.", "David", "I can join, but not much has changed w.r.t. the static executor. I have updated our slides for ROSCon to include the semi-dynamic aspect of the executor. We extended the functionality by having the executor rebuild when a guard condition is triggered.", "This slight change does not warrant another presentation in my opinion. If there are new people joining the meeting I can quickly fill them in. I can also answer any questions people may have.", " the presentation last time was great. As the next steps I would see:", "We have a PR ", ". This is indeed a merge from ", ".", "The version at ", " is a stable dashing example that we don\u2019t plan on changing much anymore (I might extend the flowchart to show the semi-dynamic part we added). The purpose of that page is more to show the idea of the executor and give people a chance to play with it. The PR version from master is the one we are updating more rigorously (and getting up to ROS2 standards).", " Another ping for requesting a time that doesn\u2019t perfectly clash with the Autoware Foundation\u2019s board meeting\u2026", " ", " ", "Single process, real-time rmw_cyclonedds", "i wasn\u2019t clear on this.", "\nI would request more information, if i may.", "Hi Tomoya, ", " and I are sitting in Palo Alto having a lovely vino while thoughtfully considering your questions ", "Q: What is the difference from existing rmw_cyclonedds implementation?", "\nA: the key thing is we want to do this without disturbing the existing RMW working well with Eloquent. We need a separate one to have the freedom to experiment without breaking things for current users.", "\nIn terms of threading the current ros2/rmw_cyclonedds is fine (rmw \u2260 cyclonedds), in terms of memory allocation it is not (yet).", "Q: What is the definition \u201creal-time\u201d?", "\nA: guaranteed upper bounded latency \u2014 which in practice means one must be very careful about threading and allocations.", "Q: Target platform and use cases?", "\nA: use case we target is your typical operational repetitive processing cycle, but not startup and termination. This is really platform independent.", "Q: Concrete problems and goals?", "\nA: eliminate memory allocations in serialization / deserialization (which requires the memory to provided by the application in some way) and achieve zero-copy / zero-allocation intra-process communication. Also, evaluate the wait set interface itself, because the current RMW interface has a pretty bad impedance mismatch with DDS wait sets, making predictable behavior much harder.", "Cheers!", "Hi ", ",", "I apologize for my late reply due to my US travel. I have completely missed your meeting invite.", "We do have some real-time related articles in Tutorials", "\n", "\nwritten by ", ", describes how to run a pendulum demo, not the real-time programming", "\nwritten by ", " for Ubuntu 16.04, need to be updated", "and in the Design section", "\n", "\n", "\nBoth are written by ", " back in 2015 and probably need to be updated", "Should we keep using Design and Tutorial pages for our work?", "Kind Regards,", "\nAndrei", "Hi everyone,", "As we said, ", " and I mainly have been working on a real-time demo based on a inverted pendulum. The demo is finally here:", "This demo is at a early stage and many things need to be polished. One of our goals is the community to take this project as a reference for real-time testing. Not only to benchmark their real-time setups but also to test new features and improve ROS 2 real-time capabilities. Feel free to contribute and we\u2019d very much appreciate your feedback.", " I think that the", "Until we still iterate I would propose:", " I included this into my presentation for ROS 2 real time workshop on Wednesday. See below.", "I will also have the demo ready to be shown at Apex.AI booth at ROSCon 2019.", " will Alias show it as well?", "Anyone else in the RTWG  feel free to show it as well.", "Hi all, if you want to receive calendar invites to the future RTWG meetings, please subscriber to this group: ", ".", "The calendar and group addresses for ROS WG are listed at: ", "Hi ", ",", " I included this into my presentation for ROS 2 real time workshop on Wednesday. See below.", "\nI will also have the demo ready to be shown at Apex.AI booth at ROSCon 2019.", "Thanks, this is fantastic, let us know if you\u2019ve any feedback.", " will Alias show it as well?", "Yes, ", " is going to help us spreading the word. And it will mention this work as well.", "Thanks!", "Regards,", "Members or RTWG and ROS 2 real-time lovers, the slides presented during the ", " workshop are available on ", ".", "The workshop was very well attended and also well received. Many described it as a crash course in real-time.", "RTWG will now work hard to implement what is still missing in ROS 2 in terms of real-time and be shooting for a 2.0 workshop at the next ROSCon.", "Please join us in RTWG if real-time is your thing: ", " (See", "\nReal-time).", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Previous action items: ", " - ", "\n", "ROS 2 real-time workshop at ROSCon 2019: ", "\n", "Progress on real-time and static executor => ", " ", "\n", "Single process, real-time rmw => ", ", ", "\n", "call for additional contributors => ", "\n", "\n", "Progress on static memory audit and improvements => ", "\n", "See ", "\n", "\n", "Update on  tools for static and dynamic code analysis and tracing => ", "\n", "Presentation on performance testing platform for the ROS2 community (tentative)", "How to go from this prototype: ", " to merging it into ", "\n", "Or is it maybe already merged from here: ", "?", "Joe Speed, Erik", "Dejan, Christophe", "Carlos", "William", "Only Anup volunteered to contribute to the real-time rmw implementation based on CycloneDDS. Next steps: find contractors. ", " to create a project on github for this rmw implementation and some issues which we can give to contractors as a SOW.", "Presentation of the \u201cMini buildfarm with resource guarantees\u201d will be done by Silexica in one of the next meetings", "Carlos presented the idea of porting an inverted pendulum demo to ROS2 and use that as an example real-time application ", ". Carlos will open source his port and ADLINK or Apex.AI can present it at ROSCon 2019. Carlos also has a very cool simulation: ", ".", "Link to the PRs for the static executor was wrong, here a corrected link: ", "\n", "Regarding memory audit in rmw, rcl, rclcpp:\n", "work is being done on ", "\n", "There is an issue summarizing the audit work: ", "\n", "There is the gist summarizing the finding of the audit work: ", "\n", "There are preallocations in publish and take part of the code but we are not making use of them", "Adding more tests that use memory tools", "\n", "Create a system for documentation sharing (GDrive, Github project, \u2026) - ", " is this something that you could maybe do?", "\n", " ", " to meet and explore if we can include ", " in the inverted pendulum demo", "\n", " and co to review ", "\n", "\n", " ", "  are there any PRs for the ", " against the main ROS2 branch?", "\n", " to finish reviewing (or find someone to review) ", "\n", "What is the difference from existed rmw_cyclonedds implementation?", "What is the definition \u201creal-time\u201d?", "Target platform and use cases?", "Concrete problems and goals?", "\n", " and", "\n", "\nare good for the documentation but after we have already converged on the implementation.", "Google drive for early designs written in GDoc and Gslides", "Github or Gitlab organization for code contributions. ", " seems to be still available."], "url": "https://discourse.ros.org/t/ros2-real-time-working-group-online-meeting-4-oct-16-2019-7am-pdt-utc-7/10999"},
{"title": "ROS2 for Multi-Robot System", "thread_contents": ["I would like to know if anyone has tried ROS2 for a Multi-Robot System, either in hardware or simulator. It would be great if someone could share their experience. I am trying to evaluate the possibility and challenges in using ROS2 for a Multi-Robot System to accomplish a collaborative task.", "Hey! I am starting to look into this over the next few months, with the goal of doing it in both simulation and hardware.", "My group\u2019s initial thought is to use the ROS 2-1 bridge to control the robot with ROS 1, and then have whitelisted topics transmitted via ROS 2 for a distributed, decentralized multiagent system. Once I start looking at this more in the next month I\u2019ll have more information about what works/doesn\u2019t work.", "Thanks ", ". I look forward to reading your findings.", "\nHow do you plan to co-ordinate between multiple robots, a) Have a centralized entity that talks to all the robots and sends out command for each of them OR b) Have some kind of peer to peer communication between robots to co-ordinate and take action.", "We\u2019re going to focus on a distributed, peer to peer communication. This way, we can showcase a fully distributed system where each robot will have their own maps, nav stack, etc, and can make decisions independent of the other agents.", " you might find helpful to know that ros2/navigation2 now supports having multiple robots in the same ROS domain navigating independently.", "We\u2019re also considering implementing a few other multi-robot features: ", "Let us know if you\u2019d like to see any of these or have other ideas.", "It is fantastic for multi-agent systems. I have used multiple turtlebot 3 robots using ROS2 dashing and it is a real breeze to get them all up and running. I have even crated a ", " on how to give them all different namespaces, which is the sort of challenge you may face if you decide to use turtlebots. Do be aware that the biggest limitation I have run into so far is device drivers for some hardware, but it isn\u2019t too bad. Another is the lack of multi-robot launching from a single launch file. You will need to make launch files generic enough that they can be launched with a couple arguments from a bash script. There is ongoing ", " to update the ", " command with remote machine launching capabilities, so keep an eye out for that.", "A recent experiment of mine had multiple turtlebots sharing images with one another for topological mapping.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-for-multi-robot-system/8619"},
{"title": "ROS 2 Tooling Working Group Announcement", "thread_contents": ["Hello,", "\nThe AWS RoboMaker team is pleased to announce the creation of the ", " .", "The objective of this working group will be to develop and maintain ROS 2 tools. A tool, in this context, is software supporting developer productivity or robot operation. Examples of existing tools under this definition are rviz, rqt, and rosbag.", "Please note that we will try a more structured approach with this working group. Specifically, this working group will manage the roadmap, contribution, and ownership of subprojects. All owned GitHub repositories will live in the working group GitHub organization: ", ". The working group will start by owning the ", ", to try out and iron the new process.", "The first meeting of the ROS 2 Tooling Working Group will be on ", " \u2192 ", ". We will present the ROS 2 WG governance model and discuss improvements to the cross-compilation tool.", "If you have any question about the process, please reach out to me: ", "Thank you!", "Hello Thomas,", "I am happy to see the ROS 2 Tooling WG is formed and thank you for driving the first meeting. In additions to the date and time, do you mind to share the link of the online meeting? Thanks!", "I would like to join, thanks for leading.", "Examples of existing tools under this definition are rviz, rqt, and rosbag.", "i believe that those tools are mandatory for developers and has to be easy, quick and efficient. so at some part.", "Would CLI also fall in this?", "Any particular desire to move rviz to the web?", "Any particular desire to move rviz to the web?", " itself is a Qt application and that won\u2019t change.", "That being said there are multiple web-based alternatives which aim to provide similar functionality as ", " (one example is ", " but there are certainly more and probably more feature rich ones). Both approaches will likely coexist since they satisfy different use cases.", "Is there a particular technical reason why the \u201cprimary\u201d (and I know that\u2019s a wish-y wash-y definition - but the main supported/used tool) robot visualization tool couldn\u2019t/shouldn\u2019t be in the webrviz? Long term, I could in concept think that rviz would sunset for rvizweb.", "I\u2019ve seen other companies with web rviz like things (Cruise, amongst a few others) but none are well supported or full featured to rely on or bother to finish development myself due to lack of long-term support.", "This isn\u2019t probably the place for this conversation, but I\u2019ve been thinking about this recently and a tooling WG seems like a good a place as any I\u2019ve seen.", "Is there a particular technical reason why the \u201cprimary\u201d (and I know that\u2019s a wish-y wash-y definition - but the main supported/used tool) robot visualization tool couldn\u2019t/shouldn\u2019t be in the webrviz?", " is simply the longest existing, most feature rich, most frequently used tool which exists at the moment. That is probably the only reason why you can consider it to be the \u201cprimary\u201d tool. While the web-based alternatives all have there benefits there are simply cases where rviz outperforms them (feature wise, performance wise, or in some other aspect).", "Nothing prevents any other tool to become more used and feature rich. But as you mentioned yourself none are well support or full features at the moment - so some people have to commit the resources to make it a superior choice.", "All good points, I\u2019m just throwing that out there as a potential candidate then for the tooling group should anyone else have a desire for it. I\u2019m not a web developer but I would love to see webrviz/similar be the defacto standard, in lets say, 3 years. In browser seems to be the way things are going.", " Future direction for RViz is an excellent topic of discussion for the working group as we move forward. However, lets not derail this thread by diving too deep into it here ", "The scope is starting small and the plan is to evolve over time as the governance and ownership model for the WG evolve. We want to set the WG up for successful work toward feature development by being careful about focus.", "Hi ", ", is there a google calendar group for this to get automatic invites?", "Thanks", "You should have received an invite Dragan. We\u2019ll be using the same system than ROS 2 Security.", "Anyone can join the ros2-working-groups-calendar-invites Google Group to get an invite: ", "Thanks got it ", ", the odd thing is the top post says it\u2019s on the 18th(Friday), but the invite I received says it\u2019s on the 20th(Sunday).", "Is it on the 18th or the 20th?", "This is a mistake, this Discourse post is correct, the event is on the 18th (Friday)", "I will never understand why anyone could ever desire to have rviz in a web browser\u2026", "I will never understand why anyone could ever desire to have rviz in a web browser\u2026", "Because then I can make at a front end developer to make something for me rather than making me do it ", "User-facing \u201cthis is what the car is seeing\u201d UIs.", "sorry i cannot make it to be there, is there minutes available?", " I personally don\u2019t have the bandwidth to join this working group, but I wanted to point out that the time you have chosen completely excludes anyone in Asia from joining. Please consider either rotating the meeting time through the time zones (so that everyone has a turn at the sucky time), or at least shifting it a couple of hours earlier or few hours later so that it falls outside the midnight-to-6am range for Asia. Probably a couple of hours earlier would work best for America and Europe.", " the minutes are there - ", " I added your suggestion to the agenda for tomorrow.", "The agenda for tomorrow\u2019s meeting is on the doc too. I ran out of time to properly announce this one, we\u2019ll do better next time!", " I would like to suggest, to include in your TWG, the tools used for real-time testing and validation. A set of tools for that was presented at the real-time workshop at ROSCon 19: ", " by Ben from Silexica.", "I do not have the bandwidth to drive that but if you would consider this inclusion, then I can connect you to Ben (if you haven\u2019t been yet).", "D.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros-2-tooling-working-group-announcement/10970"},
{"title": "Robot Development Kit v0.3.0 release", "thread_contents": ["Here comes the v0.3.0 release of Intel\u00ae ", ". Comparing to ", ", CNN based visual grasp detection accelerated by ", "\u2122 and two performance measurement tools are added:", "Any issues please report to", ".", "Good progress for making it done, Thanks!", "That is good, look forward to trying it.", "It\u2019s more convenient to use ROS2 with Intel Technology. Good progress.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Visual Manipulation\n", "\n", " accelerated by OpenVINO\u2122, CNN based grasp planning and detection for industrial robot visual manipulation.", "Unified native APIs for different robot arm and gripper drivers.", "Sample applications for key manipulation usages: Draw \u201cX\u201d, Fixed pick and place, Random pick and place, Recognized pick and place.", "\nSee demo video for ", " and ", " , enjoy!", "\n", "Performance Tools\n", "A profiling tool ", " built to monitor and capture real time performance metrics of ROS2 C++ Application.", "ROS2 topics performance measurement tool ", " to show result in rqt at run time.", "\n"], "url": "https://discourse.ros.org/t/robot-development-kit-v0-3-0-release/11408"},
{"title": "ROS2 Grasp Library (Intel\u00ae OpenVINO\u2122 Grasp Detection + MoveIt Grasp Planning) - Release 0.5.0", "thread_contents": ["Hello,", "\nWe\u2019re happy to announce the second release of ", ", right after ROSCon 2019 ", "In this release, we have made ROS2 Grasp Library an intelligent visual grasp solution for advanced industrial usages, with OpenVINO\u2122 grasp detection and MoveIt Grasp Planning.", "Here\u2019re many exciting changes since last release.", "Thanks,", "\nSharron LIU", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", " established aim to help developers quickly bringing up the solution in a new working environment.", "ROS2 example applications added demonstrating how to use this ROS2 Grasp Library in advanced industrial usages for intelligent visual grasp.\n", "Random picking with OpenVINO grasp planning (", ")", "\n", "\n", "Recognition picking with OpenVINO grasp planning and OpenVINO mask-rcnn object segmentation (", ")", "\n", "\n", "\n"], "url": "https://discourse.ros.org/t/ros2-grasp-library-intel-openvino-grasp-detection-moveit-grasp-planning-release-0-5-0/11409"},
{"title": "ROS 2 alpha8", "thread_contents": ["We\u2019re happy to announce the release of ROS 2 alpha8, aka Hook-and-loop!", "\nInstallation instructions and tutorials can be found on the wiki: ", "\nTo get an idea of what\u2019s in (and what\u2019s not in) this release, be sure", "\nto read the overview page:: ", "\nA key change in this release is that Fast-RTPS is now the default ROS 2 middleware.", "\nThe list of all features available in this alpha can be found here: ", "As always, we invite you to try out the new software, give feedback, report bugs, and suggest features (and contribute code!): ", "The ROS 2 team", "The release notes seem to indicate that PrismTech\u2019s OpenSplice will (for now) not be supported by OSRF anymore (which seems a god thing to me).", "The only justification given is \u201cTo streamline our efforts\u201d, which reveals not that much. Any chance to get a few more sentences about this?", "I could not find any discussion about this, if there is one publicly available, a link should suffice.", "We have support for four different RMW implemenations at the moment:", "While we have been developing the RMW interface, the type support system as well as the ROS client libraries we were using multiple implementation to ensure that our design decision are solid and not specific to a single vendor. Since these interfaces have matured by now we have revisited how many different RMW implementation we should actively support. Since maintaining support for a RMW implementation takes quite some effort and we are a very small team we decided to reduce the set to two implementations for now. That will allow us to spend our time on other things.", "To the question why we chose FastRTPS and Connext:", "For a long time OpenSplice was out default since it comes with an open license (LGPL). But recently FastRTPS has catched up and provides all the feature we need to implement the RMW interface with it as well as changed their license to Apache 2. FastRTPS is actively developed and we have a health relationship with the company behind it (eProsima). For OpenSplice the situation is less optimal atm. The latest release of their DDS implementation is not available as an open source edition. And that is not likely to change within the next twelve month. Also any ticket / pull request is being ignored - their GitHub repo of the open source edition is basically a one-time-code-dump. Therefore we decided that it is time to switch our focus on FastRTPS and not actively work and test with OpenSplice for the mid-term future.", "Connext support is still very important to us despite the fact that its license is not that open. It is the major vendor in the DDS market driving standardization (e.g. the upcoming security spec) and is being used by several parties which support OSRF with funding. Therefore we will continue to actively support the Connext RMW implementation. The dynamic variation will for now also not be actively supported since it is more of a case study and the introspection type support system is sufficiently exercised by FastRTPS.", "So the set for the mid-term future will be:", "Out of interest, was there any reason against ", " or did just nobody look at it? It seems pretty mature to me and the license is also Open Source.", "For OpenSplice I can confirm the ignore on any github activity\u2026", "Quite some time ago we looked at all the available options and decided that OpenSplice was the \u201cbest bet\u201d at the time. One argument at the time against OpenDDS was its internal implementation (TAO, ACE, CORBA). In comparison FastRTPS is a modern implementation of RTPS without building it on top of existing communication libraries. Arguable reuse is a good thing but I would point out that FastRTPS is much more lightweight and with less dependencies because of that \u201cclean rewrite\u201d.", "If someone would like to look into OpenDDS more and implement the RMW interface using it that would be great. We would certainly help in the effort by answering questions and helping to troubleshoot. But we can\u2019t effort the time to work on another RMW implementation - especially without any clear benefits over already supported implementations.", "Thanks, that was informative.", "Also out of curiosity, at some Point Morgan Quigley mentioned that OSRF had been working on a minimalist RTPS implementation (", " ), does this effort still go on?", "Since I gave that talk at ROSCon 2015, FastRTPS moved to an Apache 2 license and has been significantly improved (large message support, etc.). We expect that it can serve as a reasonable liberally-licensed default middleware capable of running on \u201cfull-size\u201d platforms.", "Resource-constrained platforms continue to be of great interest! We love them. But development in that direction has been temporarily paused while we try to hammer out Beta 1 for \u201cfull-size\u201d machines (aka things capable of running ROS 1, plus Windows). We hope to revive it at some point, but as always tough choices have to be made as to where to allocate engineering hours for the highest impact at various timescales.", "Cheers,", "\nMorgan", "Just to be clear FreeRTPS ", " is the minimalist implementation right?", "Yes, that\u2019s right; FreeRTPS is a starting point for a minimalist implementation of the RTPS spec that is capable of running without an operating system (e.g. a microcontroller). It has a long way to go, but that\u2019s what we demo\u2019ed at ROSCon 2015. Current work is on the history_cache branch, but that is in somewhat of a paused disarray at the moment.", "Thanks for the update.", "\nI for one am happy whenever OSRF makes a tough choice for ROS2 against personal preferences to achieve realistic goals, even if I feel sorry for you not being able to pursue what you would love to do best under ideal circumstances.", "Just out of curiosity, when is the \u201cofficial release date\u201d of the ROS2 ? We know that you\u2019re working so hard fot upcoming Beta 2, and is that the final version for the beta version of ROS2?", "\n", "ros2 - The Robot Operating System, is a meta operating system for robots.", "\n", "hi Kei,", "Last year we did a series of ~6-week Alpha releases, with each release adding new core features. That process culminated with Beta 1 in December. Now we\u2019ll be making less frequent Beta releases, with each one adding a combination of new features and new demos. Our next Beta is targeted for this summer, with the evolving feature list (subject to change) coming together here:", "ros2 - The Robot Operating System, is a meta operating system for robots.", "The question of when it\u2019s \u201cfinal\u201d or \u201cdone\u201d really depends on what you\u2019re looking for. If you need core middleware features like pub/sub, services, and params, then Beta 1 might have what you\u2019re looking for. If you need more, then you should keep an eye on the roadmap for when new features are planned to be included. At some point, once we feel that there\u2019s enough functionality included, we\u2019ll stop using the \u201cBeta\u201d label.", "In the meantime, we\u2019d love to have your and others\u2019 help! Here\u2019s a starting point for new contributors:", "ros2 - The Robot Operating System, is a meta operating system for robots.", "brian.", "Thanks you for explanation.I just want to know when we exist beta status,", "\nbecause I have asked from several people very recently. I would answer", "\nthat Beta means It\u2019s almost ready, you can use from today, but still space", "\nto add new features.", "\nAs for contribution, please assign me if here is anything that i can help", "\n", "Agreed, \u201cBeta\u201d means that it may almost (or already) be ready for you, depending on your specific needs, and that it will continue to accrue features and get better in other ways (docs, packaging, etc.).", "Thanks for the offer to help! Based on the ", ", is there something that is interesting to you? Or is there something not listed there that you see as important as a near-term addition to the system?", "It\u2019s an open source project, so of course everybody is free to work on whatever they like, but we\u2019ll have an easier time merging contributions if we do a little coordination up front, at least to know who\u2019s working on what and to agree on general design considerations.", "\u2018Support for non-ASCII strings in messages / services\u2019 seems interesting for me, but quick example shows", "But python publisher is not working", "Reported on ", "I do not think this is short term goal, but IDE/UML/Documentation integration would be an important feature on ROS2 as it support life-cycle management of the component, and I\u2019m just thinking about start discussion with ", "  because he should have experience on this topic with OpenRTM, which I did not realize the importance of this feature 5 years ago.", "\n", "Hi ", ",", "\nNo, you are not missing anything.  You can already pass non-ASCII strings through the string type on ROS2 (and ROS1, for that matter).", "\nThe downsides of the current approach, however, are that the publishers and subscribers don\u2019t know the encoding of the data they are sending/receiving.  If you have a system where everything is UTF-8, then things are just fine, but if you might have strings with different encodings, it can be hard to determine which encoding is coming from which source.", "\nAdditionally, C++ has pretty poor support for dealing with Unicode strings.  It would be nice to have ROS2 have better API support for dealing with Unicode.", "\nAll of the above is laid out in this PR: ", " .  I am looking for feedback on what parts of this are useful, what kinds of problems people have had with Unicode and ROS1 in the past, etc.  Any feedback you (and others) could provide would be great.", "I have made a start with support for OpenDDS but I found out that ROS2 does some tricky things with DDS Guids and InstanceHandle types which are outside of the DDS specification. Adding OpenDDS needs some more structural work but the work done until now is online at ", " and ", ".", "I hope you are aware that the ROS 2 alpha 8 version (of this thread) has been superseded by several new versions. So you might want to make sure to build on top of the latest release which is ", ".", "I found out that ROS2 does some tricky things with DDS Guids and InstanceHandle types which are outside of the DDS specification.", "It would be good to point to specific code snippets when making a statement like that to clarify what exactly you are referring to.", "Also any DDS specific API usage is encapsulated in the RMW implementation for that specific vendor. So each RMW implementation chooses how it wants to implement the RMW interface. If you think some of the implementation could be updated please feel free to fill a ticket (or even better a pull request) in the corresponding repository.", "It is the functionality of DDS_InstanceHandle_to_GUID, that is not something which comes from the DDS specification. I haven\u2019t found a way to do this with OpenDDS (there DDS::InstanceHandle_t is a long) and I need to dive much more in the details of ROS2 to see if this can be done in a different (and spec compliant) way. I reported this as issue  ", ".", "As part of my work I already made several pull requests to rmw_connext, these are all integrated in that RMW implementation, thanks for accepting my proposed changes.", ", I\u2019d like to take you up on this offer to have a discussion about OpenDDS use in ROS2. Please let me know the best way to get ahold of you.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["RTI Connext (using message specific code generation)", "RTI Connext \u201cdynamic\u201d (using generic message introspection)", "OpenSplice (using message specific code generation)", "FastRTPS (using generic message introspection)", "RTI Connext (using message specific code generation)", "FastRTPS (using generic message introspection)", "it seems working. Am I missing something?", "cpp publisher is ok"], "url": "https://discourse.ros.org/t/ros-2-alpha8/548"},
{"title": "Dynamic Reconfigure porting", "thread_contents": ["Hello everyone,", "Has anybody picked up \u201cDynamic Reconfigure\u201d migration work on ROS2?", "\nIf not , I would be interested in doing so.", "\nPlease let me know if anybody has any concern or any update for the same.", "Thanks,", "\nPoonam Deoghare", "Hi Poonam,", "I\u2019ve been working with the team on the Navigation2 stack for ROS2 (", ").  Dynamic Reconfigure is very prevalent throughout this code, so I opened an issue about what we would need to accomplish to replace it in our stack (", ").  I\u2019ve been working in my own fork on an intermediate replacement for Dynamic Reconfigure functionality using the supported ROS2 parameter events and callbacks. I\u2019ll be submitting a PR to our Nav2 repo soon. As I see this as a more temporary replacement, I welcome any contribution and feedback you have to migrating the essential Dynamic Reconfigure features to ROS2.", "Thanks,", "\nBrian Wilcox", "Dynamic reconfigure does intentionally not existing in ROS 2 and its features have been rolled into the ROS 2 parameters. So dynamic reconfigure should not be ported to ROS 2. If any functionality is missing it should be added to the existing ROS 2 parameters.", " - We\u2019ve been having some discussion on this while working on Navigation2. Is there a proposed way for:", "The existing parameters implementation enables each note to \u201creview\u201d incoming parameter change request and either accept or reject them base on an arbitrary policy.", "As a difference to dynamic reconfigure parameters don\u2019t have an introspectable range.", "There is no UI at the moment but in the future an ", " plugin would be one way to provide that functionality.", "As a difference to dynamic reconfigure parameters don\u2019t have an introspectable range.", "Right now\u2026 We always intended to have that functionality at some point, see:", "The existing parameters implementation enables each note to \u201creview\u201d incoming parameter change request and either accept or reject them base on an arbitrary policy.", "See ", " and ", " (I think).", "Thanks everyone for your comments.", "\nI am looking into pcl_ros(under perception_pcl) porting and there I came across dynamic reconfigure dependency.", "\nBut now it is clear that dynamic reconfigure should not be ported on ROS2.", "\nI will look into how Dynamic Reconfigure functionality can be replaced in pcl_ros using ROS2 parameters.", "\nPlease let me know if anybody has any information on this.", "Thanks,", "\nPoonam", "Two questions on this:", "What is the default behavior if no callback is registered \u2013 all parameters update with any value?", "Is there a design doc for parameters somewhere? And, in particular, was their any design doc or other documentation for thoughts on introspectable range?", "Thanks,", "-Fergs", "What is the default behavior if no callback is registered \u2013 all parameters update with any value?", "Yes.", "Is there a design doc for parameters somewhere?", "And, in particular, was their any design doc or other documentation for thoughts on introspectable range?", "No, that idea is only captured in the comment William cited above.", " - a couple questions. When you say introspectable range, do you mean for example for an integer you could specify range 0-100 and that would be enforced by the node itself? And if so, what would it take to implement this?", "I can\u2019t help at all with implementation aspects - but yes, introspectable range means you can tell the client (that is changing the parameter) what the acceptable range is. That might be an integer range, or it might be an enumeration of settings (for instance, camera modes are often done this way). The main use of this introspectable range is for a visual client (in ROS1 this was the rqt_reconfigure GUI), can show set the values of slider bars or drop down menus.", "I think we\u2019d want the introspect-able range for parameter validation to be an automatic operation as opposed to redundant custom validation checks written in code.  My goal was to achieve this in the interim through a ", " with optional upper/lower bound arguments passed for parameters. I do think having this as optional meta-info on the parameters as ", " mentioned as TODO is a better option going forward with perhaps a validation function written in the ROS2 parameters code to protect from parameter changes that violate.", "I\u2019m not sure it solves any of our issues directly, but on the web side of things we have been using ", " and ", " to do input validation via ", ".", "Hey there,", "Any update on this topic ? Was any design document, centralized discussion or such started ?", "Just to mention that introducing some parameter validation scheme will also call for a mean to define the validation rules from the user side, think ", " files in ROS 1.", "While at it, I\u2019d like to mention a ROS 1 package which has a few features that could be interesting to consider here. The package is ", " and is meant as an easy/user-friendly manner to handle parameters. The features to be considered imho are,", "Notice that the last mentioned feature never quite got merged to the main branch tho.", "Any updates on graphical tool to tune the parameters?", "\nShould an attempt to port ", " tool to ROS2 be made?", "Should an attempt to port ", " tool to ROS2 be made?", "That package has already been ported for ROS 2 Dashing: ", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Developers to easily validate the values of their parameters (type, value, range, etc.)", "Users to \u2018tune\u2019 their robot parameters dynamically? The GUI tool before was a convenient / user friendly way of doing that.", "# This is the message to communicate a parameter's descriptor.", "\n", "string name", "uint8 type # Enum defined in ParameterType.msg", "\n", "# TODO: add additional meta data", "\n", "\n", "\n", "\n", "a ", " file similar to ", " for the user to declare/define parameters and rules", "an auto-generated struct that holds the parameters with helper functions (e.g. ", ", ", ")", "a tool to generate a YAML file from the ", " file", "The possibility to compose ", " files through inheritance"], "url": "https://discourse.ros.org/t/dynamic-reconfigure-porting/6497"},
{"title": "Adding Debian as a Tier 2 platform", "thread_contents": ["\nFollowing up from some comments during the last TSC meeting and ", ", I\u2019d like to check what tasks need to be done to get Debian Buster as a Tier 2 supported platform for ROS 2 Eloquent.", "In particular what infrastructure do we need to set up and what do we need to provide to where for the binary packages to be made available?", "This would be a good starting point ", ".", "I am working with ", " for Tier 2 support.", "I installed and ran ROS 2 Eloquent with Buster.", "\nSo next , I want to create a CI for Buster.", "I think the following two are important for Tier 2 support, is it correct?", "First of all, we plan to build and verify Master, Agent (added Debian), and Repo on private servers.", "\nWhat should we do as the next step?", "And what support should we do for CI failures?", "What are your thoughts on this ", "? I know back in July you worked on Tier 2 support for armhf.", "In particular what infrastructure do we need to set up and what do we need to provide to where for the binary packages to be made available?", "I was discussing this with ", " just now and we think that for the moment it would be okay if you added a Debian Buster build to ", " via pull requests to ", " as the shortest path to shareable results. To make developing that PR easier it might make sense to set up a local CI clone which would require at least two virtual machines, one for the master and one for the agent.", "Create a Debian Agent with ROS Buildfarm and test it with the same frequency as other Tier1 and Tier2.", "Linux builds on ", " and ros_buildfarm are run inside Docker containers, so it is not necessary for either setup to have agents running Debian natively and I\u2019d expect there to be some problems doing so since the configuration management for buildfarm_deployment and the instructions available for setting up ", " infrastructure all assume Ubuntu 16.04.", "This would be a good starting point ", ".", " this article uses ROS from Buster repositories and is not going to be much use when supporting mainline ROS 2 development on Debian Buster since they\u2019ll need tool versions from our repositories not Debian\u2019s.", "What are your thoughts on this ", "? I know back in July you worked on Tier 2 support for armhf.", "armhf required additional agents because none of our existing agents, which are amd64 and arm64, had support for the armhf instruction set. Adding support for Debian builds is a matter of configuration, either forking ", " or adding a config file to ", " (this route also has binary release requirements, see ", ").", "Thanks for the response.", "\nWe will start building the Debian agent with Docker and incorporating it into Buildfarm.", "I have an additional question.", "I was discussing this with ", " just now and we think that for the moment it would be okay if you added a Debian Buster build to ", " via pull requests to ", " as the shortest path to shareable results.", "If PR is merged, Debian will be added to ros2/ci. What\u2019s the difference between Tier1 and Tier2?", "Thanks for the detailed response, ", ".", "If PR is merged, Debian will be added to ros2/ci. What\u2019s the difference between Tier1 and Tier2?", "Support tiers are defined ", ".", "ros2/ci has many different job types", "\nRight now support tiers describe what may block a release, automated testing frequency requirements, and, on platforms where per-package binaries are available, what type of binaries we provide. In the past it\u2019s been easier to add additional nightly jobs for tier 2 platforms rather than create a separate periodic job type. But only the Tier 1 platforms are triggered as part of a pull request review process and even with nightly jobs running that does not mean that our on-call build farmer is required to respond to issues on other platforms. Once the jobs are running on CI we\u2019ll expect that the community members who want to support Debian will do the work of checking the periodic jobs and getting them on par with the other platforms.", "I understand the difference.  Thank you for the detailed explanation ", ".", "\nWe prepared the buildfarm using virtual machines, and create a job using ", ", but I have one question.", "The sub-module ", " included in ", " seems to be private.", "\nNow, comment out the part of the Dockerfile that adds the license and run the job with the option not to use Connext. Do we have to contract and prepare our own RTI Connext DDS license?", "The logic in ", " has two options to use Connext:", "Sticking to just the first option is probably fine for you.", "Thank you for your response. ", "\nI will try the first option in my local environment.", "\nWe modified the ", " and finished testing with jenkins. The build was successful, but some test fail. The test summary is as follows.", "Should we fix all these errors before sending PR to ros2/ci?", "Should we fix all these errors before sending PR to ros2/ci?", "Please try another build with the latest state. I would assume most of these errors should have been resolved by now.", "Please feel free to create the PR whenever you are ready. Once that is the case we will kick off some jobs anyway to check their status.", "Thank you for answering. ", "Please try another build with the latest state. I would assume most of these errors should have been resolved by now.", "When I tried from the latest commit, test results have been improved.", "\nThere are still some errors, but it seems to be caused by the version difference of apt package.", "I also created a PR.", "\n", "\nPlease let me know if there is any additional work.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Create a Debian Agent with ROS Buildfarm and test it with the same frequency as other Tier1 and Tier2.", "Provide support for CI failures.", "Create a Debian Agent with ROS Buildfarm and test it with the same frequency as other Tier1 and Tier2.", "Provide support for CI failures.", "either install the Debian package available (which implies accepting the embedded license) or install Connext on macOS / Windows machines", "or build Connext from source (that is what the ", " repo is for). Since this repo is private you would need to talk to RTI if you want access to their sources in a similar way."], "url": "https://discourse.ros.org/t/adding-debian-as-a-tier-2-platform/10789"},
{"title": "micro-ROS Eloquent", "thread_contents": ["As part of the work done to prepare for the upcoming Eloquent Elusor release of ROS 2, eProsima made ", " fully compatible with ", ".", "Check out the following video explaining what micro-ROS is and why you need it!", "Fast RTPS 1.9 is the default DDS implementation shipped with the Eloquent release so that Micro XRCE-DDS will be compatible with this new version. Micro XRCE-DDS brings the DDS world to microcontrollers without dynamic memory allocations and using ~2 KB of the stack.", "Micro XRCE-DDS is the underlying protocol implementation used in the ", " project. With this alignment and with further development to come following Eloquent release, mainly merging and adapting RMW implementation and examples to the new ROS core layers. micro-ROS will be compatible with Eloquent. This will grant the possibility to easily integrate your microcontroller with Eloquent applications and using the same look and feel. We are bringing the ROS 2 concepts to microcontrollers!", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/micro-ros-eloquent/11604"},
{"title": "Exploring package dependencies", "thread_contents": ["I think that rqt_dep is not available yet in ROS2. Would there be another way of exploring package dependencies besides than through ament list_dependencies or following the sources?", "Thanks", "The new build tool ", " which has been introduced with ROS 2 Bouncy does provide a way to output:", "For the last two you can narrow the set of shown packages by using ", " or similar options.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["a list of dependencies for a package (", ")", "the topological ordered list of packages using \u201cASCII art\u201d (", ")", "a dot graph to visualize the dependency hierarchy (", ")"], "url": "https://discourse.ros.org/t/exploring-package-dependencies/4719"},
{"title": "ROS 2 robot_state_publisher improvements", "thread_contents": ["I\u2019m currently near the end of a ", " of ", ".  There are a few goals to this rewrite:", "I want to discuss the last point a bit further, and get some thoughts from the community.  To start with, I want to make it clear that I am ", " trying to solve the entire problem of \u201cmake a URDF changeable across a robot\u201d.  That involves a lot more pieces than just ", ".  However, adding some level of dynamicity to ", " at least solves part of the problem.", "With ROS 2, we have a bunch of tools that make solving the problem of a dynamic ", " possible.  We have the ability to get and set parameters (and get notified when they change), we have the ability to publish ", " (latched) topics, etc.  Here are a few different ways I\u2019ve though about to make the ", " changeable:", "Make the ", " a required parameter during node startup.  To access the ", ", consumers have to do the equivalent of ", ", and to change it, the equivalent of ", ".", "Make the ", " a required parameter during node startup.  Publish the current ", " on a latched topic.  To change ", ", the equivalent of ", " has to be run.", "Make the ", " a required parameter during node startup.  Publish the current ", " on a latched topic.  Provide a service to allow changes to the ", ", which would then propagate to the topic.", "Make the ", " ", " provided during node startup.  ", " would do nothing until something called a service to set the ", ", at which point it would start publishing transforms.  Changes to the ", " would be done via the same service call.  There would be a latched topic that publishes the current state of ", " for downstream consumers.", "These are the options I\u2019ve thought of; there are some others in this same vein.  The ", " currently implements solution 2, but I\u2019m looking for opinions from the community on any of these options, or an option I haven\u2019t thought of.  Thoughts?", "Ping ", ", ", ", ", ", ", ", ", " as a (non-exhaustive) list of people who have expressed interest in this topic.", "Make the ", " a required parameter during node startup. Publish the current ", " on a latched topic. Provide a service to allow changes to the ", " , which would then propagate to the topic.", "I think option ", " is the best.", "Option 4 I don\u2019t like having to have something external on startup give it the current information. Option 1 I think is also a reasonable choice but I prefer 3 because if its a topic, then as it updates, it will automatically update the state of all the subscriber nodes that depend on it. Also having a node need to talk to another node\u2019s parametesr seems to break (?) the intent of separation of parameters across nodes.", "Option 2 is similar enough to 3, but I like having a service call so that if someone makes ", " it can be a drop in replacement if it advertises the same service.", "A 5th alternative: using a topic on which nodes publish urdf (sdf?) ", " and consumers of ", " (not the parameter any more here) would have to compute a consistent view of the current ", " based on the fragments they\u2019ve received so far.", "This would make the robot description similar to how TF works, where consumers listen in on updates and a utility library does the heavy lifting of piecing together a consistent view of the current state.", "Adding a temporal dimension to the fragment stream could then allow \u201ctime travel\u201d similar to how TF has it, and it would automagically support dynamically updating robots.", " could still be a private parameter of nodes to provide them their fragment(s), if those are static for instance, but it would no longer need to be.", "This could of course make use of parameter update events to keep track of changes, of latched topics to reduce traffic and computational overhead and to quickly seed the local view for late-joiners, and if needed could be based on techniques for achieving coherent shared state from the distributed algorithms domain (distributed file systems, distributed shared state, lock-stepping, transactions, atomic updates, quora, etc).", "Hm, perhaps this falls in the \u201ctry[\u2026] to solve the entire problem of \u2018make a URDF changeable across a robot\u2019\u201d category.", "However, adding some level of dynamicity to ", " at least solves part of the problem.", "Does it though? Without support in other parts of the system I don\u2019t think it does that much\u2026", "You could dynamically change the robot description and perhaps use it in part of your own code which uses the robot description, but then rviz probably wouldn\u2019t work right (unless we\u2019ve verified it can handle this). I\u2019d personally prefer to see a proposal for how to do dynamic robot descriptions on both sides before assuming that one of the options you proposed solves part of it. As ", " said, perhaps you need to have some \u201cdistributed consensus\u201d or \u201ceventually consistent\u201d pattern in place and that might require more information or a different pattern of communication. It\u2019s not obvious to me that any of these options will be part of the solution without exploring it at least a bit.", "The reason for using a topic in ROS 2 was primarily so that it could be recorded easily with ", ", at least until recording parameters is a thing.", "W.r.t. accessing the robot description anonymously, I actually don\u2019t think that\u2019s the case now, as you need to know the topic name it\u2019s on. I don\u2019t actually think having to know the node name to access the parameter is any different. You just have to make sure that the node name is \u201cX\u201d where \u201cX\u201d is the agreed convention, and any tools that \u201cread\u201d it need to be configurable on which one they access. The only slight advantage of the topic (that I see) is that you can use remapping on both sides, where as you would need a parameter or something to configure the \u201crobot description parameter address\u201d for nodes that read it.", "However, for writing the robot description (changing it) I again don\u2019t view the service name (let\u2019s say ", ") to be any different really from a parameter address (let\u2019s say something like ", ").", "For ", "\u2019s idea about having multiple contributors to the robot description, then the topic becomes much more viable when reading it, but I still think for setting the value, using the parameter infrastructure is ok.", "So if you really want to do one of these, I\u2019d vote for option 2, since it avoids extra services, which themselves have overhead. The parameter ones are already there anyways.", "Following my own logic, having the topic is redundant and not any more anonymous than a parameter (imo), but I think it\u2019s fine to keep since that keeps compatability with what is in ROS 2 now, and it allows it to be easily recorded with ", ".", "Does it though? Without support in other parts of the system I don\u2019t think it does that much\u2026", "You could dynamically change the robot description and perhaps use it in part of your own code which uses the robot description, but then rviz probably wouldn\u2019t work right (unless we\u2019ve verified it can handle this).", "This is the case that I\u2019m trying to address; at least give people the option to handle it in their own code.  As I said, on its own this definitely won\u2019t completely solve the problem, but I feel like it is incremental progress towards some use cases.  Basically, having this ability (even in a limited form) seems better than people forking ", " to do their own dynamic thing.  And we can always improve/change it later, including updating rviz2 more dynamicallly.", "The reason for using a topic in ROS 2 was primarily so that it could be recorded easily with ", " , at least until recording parameters is a thing.", "Make sense.", "W.r.t. accessing the robot description anonymously, I actually don\u2019t think that\u2019s the case now, as you need to know the topic name it\u2019s on.", "But I feel like that ", " anonymous, or at least, anonymous in the ROS sense.  Any node can publish to the ", " topic, so downstream consumers don\u2019t have to care which node is publishing.  Accessing parameters on a node, on the other hand, ties you to that node.  I guess you could argue that you could rename ", " to ", ", and thus parameters would work, but that seems pretty icky to me.  In any case, you aren\u2019t actually arguing against the ", " topic as far as I can tell, so no reason to discuss further here :).", "So if you really want to do one of these, I\u2019d vote for option 2, since it avoids extra services, which themselves have overhead. The parameter ones are already there anyways.", "That\u2019s sort of what I thought when I initially implemented what I have now.  After I wrote up the alternatives, 2 seemed the best to me as well, but 3 isn\u2019t far behind.", "Hm, perhaps this falls in the \u201ctry[\u2026] to solve the entire problem of \u2018make a URDF changeable across a robot\u2019\u201d category.", "This is an interesting proposal, and would probably solve more of the problems, but it is honestly outside of the scope of what I have the time to do here.  So I\u2019d be all for someone proposing the pieces to do this, but it likely won\u2019t be me (and may not be ", " at all, for that matter).", "Hi, just a quick thought now. I think there\u2019s long been the misconception that robot_state_publisher is a somewhat superior \u201cconsumer\u201d of robot_description. It isn\u2019t.", "I think the problem isn\u2019t whether robot_state_publisher should become an \u201cowner\u201d of the robot model. If you stick to the Linux paradigm of simple tools doing one thing precisely, then robot_state_publisher is a thing that takes a robot description and joint states, and publishes some TFs generated from these.", "You see, from this point of view, it isn\u2019t different from e.g. RViz or robot_body_filter, which are also tools that need to somehow receive the current model of the robot and do some nice stuff with it.", "So I suggest this rewrite should go in this direction - i.e. do not care about how the model is generated. And in no way take ownership of the model. The only thing that needs to be agreed upon is how to transmit the model to the \u201cclients\u201d (topic/parameter). You don\u2019t even have to take care about the \u201cpublishers\u201d of the model during the rewrite.", "What follows from this idea is that ROS could be \u201crobot-model-producer\u201d independent. There can be several ways of generating the robot model, ranging from simple parsing of a URDF file as ROS 1 does, to some segment-based construction as others suggest. I would leave this logic to the community. ROS2 could for example implement just some simple robot_model_publisher, which could take the robot model from some (private) parameter/URDF file/whatever, and publish it either as a topic or make it available as its public parameter. People who need more flexibility could then write more complicated generators, segment assemblers and so on. The only requirement for \u201cclients\u201d would then be to be able to accept the whole generated URDF model.", "Basically, having this ability (even in a limited form) seems better than people forking ", " to do their own dynamic thing. And we can always improve/change it later, including updating rviz2 more dynamicallly.", "I\u2019m concerned that gives someone the impression that dynamically changing the robot description should \u201cjust work\u201d, which isn\u2019t true. I\u2019d prefer someone forking it until it supposed to actually work with at least the standard tools like rviz and rqt.", "I guess you could argue that you could rename ", " to ", " , and thus parameters would work, but that seems pretty icky to me.", "That\u2019s exactly what I\u2019m saying. Why is it \u201cicky\u201d?", "At the end of the day a topic and a parameter (and a node name too) are just a resource name. The only benefit for the topic is that there can be multiple publishers and they replaying from a bag is easier.", "To be clear, I think we should keep the topic for reading the value. It\u2019s setting where I find having an additional service to be questionable.", "Note related to the ", " though, but can we make sure that at any point in time, there is a full state of the robot? The issue I frequently had in ROS1 was the use of latched topics for static transforms (", ") where static TFs were only published once at the beginning, leading to a loss of those messages when a bagfile is not replayed from t=0.", "\nAs far as I know, there are no latched topics in ROS2. I just want to make sure that we do not run into the same issue again with ROS2. To make it clear: Randomly accessing any point in time in a logfile that logged the ", " should produce a full and valid robot state of all joints that have been published up until then.", "What follows from this idea is that ROS could be \u201crobot-model-producer\u201d independent. There can be several ways of generating the robot model, ranging from simple parsing of a URDF file as ROS 1 does, to some segment-based construction as others suggest. I would leave this logic to the community. ROS2 could for example implement just some simple robot_model_publisher, which could take the robot model from some (private) parameter/URDF file/whatever, and publish it either as a topic or make it available as its public parameter. People who need more flexibility could then write more complicated generators, segment assemblers and so on. The only requirement for \u201cclients\u201d would then be to be able to accept the whole generated URDF model.", "I tend to agree with this. A topic for readers seems like something everyone is on board with, though it does dodge the question of what to do when it changes during runtime (republished). The main reason it\u2019s loaded into ", " is convenience. And the main reason I\u2019m somewhat hesitant to endorse having a way for ", " (or the proposed ", ") to change it is that it\u2019s setting up for an expectation that changed robot models are supported OOB by at least the standard tools.", "As far as I know, there are no latched topics in ROS2.", "There\u2019s the \u201cdurability\u201d QoS:", "I just want to make sure that we do not run into the same issue again with ROS2. To make it clear: Randomly accessing any point in time in a logfile that logged the ", " should produce a full and valid robot state of all joints that have been published up until then.", "I don\u2019t think there\u2019s a solution for that in ", ", I think that this is just a corner case that needs to be addressed by the playback tool.", "w.r.t. the ", ", I think it\u2019s a step sideways since in ROS 1 you had to manually load the parameter value into the parameter server (and also be careful to record it) as the bag could not capture it at all.", "Well, I think every tool has to decide whether it can react to robot model changes or not. If it can\u2019t, it should e.g. write an error to rosout, restart itself, or do whatever seems to be correct if the model changed and the tool can\u2019t process it.", "What are actually the tools using the robot model? In ROS 1, I can remember just robot_state_publisher, rviz, the few attempts at robot_*_filter, and that\u2019s probably it. Or am I missing something? You can of course have more tools involved, like moveit (but there the robot model itself isn\u2019t sufficient as you need the whole SRDF).", "Well, I think every tool has to decide whether it can react to robot model changes or not. If it can\u2019t, it should e.g. write an error to rosout, restart itself, or do whatever seems to be correct if the model changed and the tool can\u2019t process it.", "I suppose that\u2019s true, but it would be nice to make sure at least the standard tools do something reasonable, which I\u2019m not convinced about. Currently the only tool that publishes to the topic doesn\u2019t allow you to change it without restarting, but that\u2019s essentially the same thing as republishing it.", "What are actually the tools using the robot model? In ROS 1, I can remember just robot_state_publisher, rviz, the few attempts at robot_*_filter, and that\u2019s probably it. Or am I missing something? You can of course have more tools involved, like moveit (but there the robot model itself isn\u2019t sufficient as you need the whole SRDF).", "I don\u2019t know of any others, but that\u2019s part of my hesitation because I know that this has been discussed in the past around end-effectors and planning/self-filtering, and in those cases I don\u2019t know if you need something more or not. I just don\u2019t know what the use case for dynamically updating the robot model is right now, and so I cannot say whether or not this will be sufficient or not.", "I find ", "\u2019s idea intriguing.", "For ", "'s port in general I agree with ", ". We should have a separate tool for providing the robot description from the tool that turns joint states into TF information.", "Do we want to allow multiple robot descriptions? (Within a single DDS domain?) If so, then I think the robot description must be provided via a name-spaced topic. So far the discussion seems to be implicitly assuming a single robot.", "Do we want to allow multiple robot descriptions? (Within a single DDS domain?) If so, then I think the robot description must be provided via a name-spaced topic. So far the discussion seems to be implicitly assuming a single robot.", "For what it\u2019s worth, all of my considerations above were thinking about allowing more than one robot description per domain. All of topics, services, and parameter\u2019s (including node names) are namespace-able, and so allow having more than one at a time.", "What follows from this idea is that ROS could be \u201crobot-model-producer\u201d independent. There can be several ways of generating the robot model, ranging from simple parsing of a URDF file as ROS 1 does, to some segment-based construction as others suggest. I would leave this logic to the community. ROS2 could for example implement just some simple robot_model_publisher, which could take the robot model from some (private) parameter/URDF file/whatever, and publish it either as a topic or make it available as its public parameter. People who need more flexibility could then write more complicated generators, segment assemblers and so on. The only requirement for \u201cclients\u201d would then be to be able to accept the whole generated URDF model.", "I\u2019m not sure I understand what the role of ", " is here.  It\u2019s just a node that takes a file from disk and publishes it?  I\u2019m not sure that has too much value; you can do the same thing by running a global ", " today, no special node needed.  On the other hand, people definitely do depend on ", " publishing the TF transforms for their robot, so it is unclear to me where that would come from in this model.", "That\u2019s exactly what I\u2019m saying. Why is it \u201cicky\u201d?", "I guess it is a matter of perspective.  We allow changing the node name for some good reasons, but I still think of it more like an \u201cidentifier\u201d, rather than a totally fungible resource.  So renaming yourself to \u201cbecome\u201d another node seems like a lie to me.  I view topics, on the other hand, as fungible.  But you are right, your method would work.", "what the role of ", " is here. It\u2019s just a node that takes a file from disk and publishes it?", "In the simplest case, it would be as you describe. Read a file from disk and expose its contents as a param. But, as many people here mention, there is need for more complicated robot model \u201cgenerators\u201d (e.g. assembly of URDF fragments coming on a topic). There, the model publisher would be a more complicated thing.", " I\u2019m really happy to see some attention being paid to ", ". I was going to look into some dynamic behaviors, so I\u2019m glad you\u2019ve started us down that path!", "One thing I\u2019d really like to see is an ability to call a service to change one of the fields that would have been parsed out of the xml.", "For example, it might be desirable to call a service to change the color of a link\u2019s mesh. This would be extremely useful.", "That said, I share ", "\u2019s concern with respect to RViz and its ability to refresh this in a performant fashion. While I have seen RViz change to a different robot model, it takes several seconds to actually occur. I would want these changes to happen much faster, and without reloading the entire model. Maybe there could be a way to forward the delta on the URDF to RViz in a way that would make it so that RViz doesn\u2019t have to reload the entire model?", "I guess it is a matter of perspective. We allow changing the node name for some good reasons, but I still think of it more like an \u201cidentifier\u201d, rather than a totally fungible resource. So renaming yourself to \u201cbecome\u201d another node seems like a lie to me. I view topics, on the other hand, as fungible. But you are right, your method would work.", "I agree. I don\u2019t like the idea of remapping the node name of my ", " to ", " just to make sure the params map up correctly. If they both just expose global topic ", " and service ", " it entirely goes around the issue of making it dependent on an implementation.", "I view the robot state publisher as something that reads a URDF and gives me some static transforms. If some of these transforms are changing, they\u2019re probably not being given out by the URDF but by TF updates. I could see for MoveIt if you want to add tools or if you have some extremely funky robot and want to have some dynamically-changing-static transformations that would be nice, but I don\u2019t see what any of that has to do with the initial discussion. I agree with William and Hunter on this front for what its worth.", "I don\u2019t like the idea of remapping the node name of my ", " to ", " just to make sure the params map up correctly. If they both just expose global topic ", " and service ", " it entirely goes around the issue of making it dependent on an implementation.", "The only case where the node name would be used (in my proposal) would be setting the description remotely, which I think will be uncommon, and in that case you don\u2019t need to change the node name of the ", ", but instead you just make the \u201ccaller\u201d that\u2019s setting the description change the parameter on the ", " rather than the ", " node.", "The only reason I think a parameter could be a good fit here is that this service, e.g. ", ", only has one side effect which is to change the robot description which was likely initialized with a parameter and is likely stored in one too, just for convenience, and therefore it seems like we could just request to set the parameter instead, saving the need for an additional service server. But in the end, I don\u2019t actually mind if there one or the other or both.", "I think everyone agrees that using a topic for reading the description is more convenient and future proof.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Simplify the code, as it was too complicated before.", "Bring the code up to modern ROS 2 standards.", "Reinstate some of the features that were missed during the original port.", "Allow the ", " to be changed during runtime.", "\n", "\n", "Pros: Most like ROS 1 in concept.  Makes ", " the \u201cowner\u201d of the ", ".  Uses existing ROS 2 parameter infrastructure to the fullest.", "Cons: Most unlike existing ROS 2 (meaning we have to make changes to things like rviz2).  Makes ", " the \u201cowner\u201d of the ", ".  The ", " is no longer anonymous; consumers have to know the name of the ", " node.", "\n", "\n", "\n", "Pros: Uses the parameter infrastructure for initial configuration and setting.  Keeps the topic \u201canonymous\u201d for getting the ", ".  Doesn\u2019t require changes to RViz2.", "Cons: Setting the ", " isn\u2019t anonymous; the name of the node is necessary.  Is a bit inconsistent, in that getting and setting the ", " is done via different mechanisms.", "\n", "\n", "\n", "Pros: Makes getting the ", " anonymous, so ", " no longer \u201cowns\u201d the ", ".  Same for the service.  RViz2 doesn\u2019t have to change.", "Cons: Only uses parameters as an \u201cinitialization\u201d mechanism; doesn\u2019t take full advantage of the parameters infrastructure.", "\n", "\n", "\n", "Pros: Ensures that ", " isn\u2019t  the \u201cowner\u201d of the ", ".  Doesn\u2019t require changes to RViz2.", "Cons: ", " is no longer standalone; it needs an external \u201csomething\u201d to tell it the initial ", ".", "\n"], "url": "https://discourse.ros.org/t/ros-2-robot-state-publisher-improvements/11521"},
{"title": "ROS 2 Real-time Working Group Online Meeting 6 - Nov 27, 2019, 7AM PDT (UTC-8)", "thread_contents": ["Hi all, below the agenda for our next meeting:", "Meeting coordinates:", "\nTopic: ROS 2 Real-time Working Group Online Meeting 5 - Nov 17, 2019, 7AM PDT", "\nTime: Nov 27, 2019 07:00 AM Pacific Time (US and Canada)", "Join Zoom Meeting", "\n", "Zoom is the leader in modern enterprise video communications, with an easy, reliable cloud platform for video and audio conferencing, chat, and webinars across mobile, desktop, and room systems. Zoom Rooms is the original software-based conference...", "\n", "Meeting ID: 599 123 651", "One tap mobile", "\n+16699006833,599123651# US (San Jose)", "\n+19294362866,599123651# US (New York)", "Dial by your location", "\n+1 669 900 6833 US (San Jose)", "\n+1 929 436 2866 US (New York)", "\nMeeting ID: 599 123 651", "\nFind your local number: ", "i could not make it, could you share the minute?", "Best", " and all, here are the minutes:", " ", " ", " I see that PR in the point 2 above is a little bit at the stall point. Could you 3 maybe have a separate meeting about this and discuss where it is the best to implement   LET executor? Or Alternatively, Jan/Ralph should reply to William/Jacob\u2019s comments from 4 days ago.", ", ", ", ", "  We will pose the PR to rclc instead of rcl. In addition, we will extend the documentation by use-cases/examples when and how to use the LET principle.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Action items from earlier meeting: ", "\n", "Silexica will present on Dec 11 - Performance Testing Platform", "AI: Dejan to write a longer Discourse post on how to measure performance correctly\n", "Dejan did not have time", "\n", "AI3: ", " to finalize the issues for single-process, real-time rmw", "\n", "\n", " LET executor: ", "\n", "\n", " architecture of single-process, real-time rmw", "\n", " do you have ETA for landing of this Static Executor PR ", "?", "Is anyone from from this WG active in ", "?", "Christophe (Apex.AI)", "Jaime (eProsima)", "Ralph (Bosch)", "Geoff (Tier IV)", "Carlos (Apex.AI)", "and others", "Action items from last meeting:\n", "Mentioned that Silexica will present their Performance Testing Platform on or around Dec 11", "Discourse post on how to measure performance correctly\n", "3rd point: ", "\n", "Dejan did not have time", "\n", " talked about eProsima\u2019s test setup/system", "AI for next meeting: follow-up on this", "\n", "\n", "LET executor ", "\n", "\n", " might not be the right place given the current architecture, so might split it up", "\n", " mentioned that it might be a good idea to push things down to ", " so that executors could be implemented somewhere other than ", " while avoiding code duplication", "AI for next meeting: have someone from OR comment on the idea above, perhaps in the meeting directly", "\n", "Architecture of single-process, real-time ", "\n", "Will come back to it in the next meeting", "\n", "Static executor ", "\n", "Latest update ", "\n", "PR efforts halted; will be offered as a separate package", "Will wait for changes to the ", " executor planned for Foxy", "\n", "Tooling WG\n", "No one from the RT WG participated", "Tracing tools could fit into that, ", " plans to attend the next meeting", "\n", "\n", "AI for next meeting: have someone from OR comment on the idea above, perhaps in the meeting directly", "\n"], "url": "https://discourse.ros.org/t/ros-2-real-time-working-group-online-meeting-6-nov-27-2019-7am-pdt-utc-8/11673"},
{"title": "ROS 2 for Consumer Robotics", "thread_contents": ["Hi all,", "\nI\u2019m Alberto, from iRobot.", "\nAs you may know, my colleague Juan and I gave a presentation at ROSCon about using ROS 2 in consumer robotics application.", "\nIf you missed it, you can find it here ", "The purpose of our talk was to discuss about a performance gap in ROS 2 that was preventing it from being effectively used on a particular class of platforms:", "\nwe thought that Linux-based, low cost, embedded platforms (as RaspberryPi) were not taken enough into consideration.", "During our talk we highlighted the most relevant problems of the current (Dashing) release and we suggested some improvements.", "\nAll the experiments presented in the talk or in this blog post have been performed using our open-source performance evaluation framework: it\u2019s a very simple framework that measures some fundamental performance metrics; its peculiarity is that it allows to simulate any type of arbitrarily complex ROS 2 system through a JSON file.", "\nYou can find it here ", ".", "We want to thank all of you for the interest you showed in the problems that we presented and we are extremely happy to see all the work that is going on to address these issues.", "First of all, we can have a look at the default performance of the current ROS 2 master.", "\n", "The performance are already a lot better than what we measured for Dashing, in particular the CPU usage and the latency improved and we have a reduction of ~40 Mb of RAM. We have no more \u201ctoo late\u201d or \u201clost\u201d messages (we are in a single process scenario, so this is highly desirable!)", "However, what is really interesting is all the work that is currently going on and will be part of the next releases", "CycloneDDS", "\nRefactor of the serialization procedure: this made the code cleaner and it reduced latency and CPU usage, especially for big messages.", "\n", " (results ", ")", "\nThis has been recently merged to master.", "\nImproving the deserialization procedure will be the next step and many more features are coming since this DDS has been added to the list of ROS 2 stable sources.", "FastRTPS", "\nSubstantial improvements on the memory side: before most of the memory allocation was happening at startup to target real-time use cases, while now the default behavior will be more memory efficient in scenario where real-time constraints are not present.", "\nThe RAM usage in our benchmark goes from 116 Mb to 33 Mb.", "\nPart of this is already available in master, while other works will be ready for the next Eloquent relase.", "\n", "\n", "RMW Iceoryx", "\nA new RMW, completely based on a shared memory layer in order to ensure best performances for inter-process communication.", "\nThis is already available and it\u2019s receiving a lot of interst and support.", "\n", "Static Executor", "\nA first step towards the refactor of executors in ", ". This new executor performs the best when most of the nodes are already available at startup, but is still able to recognize new publisher/subscriptions.", "\nUnfortunately, it is not updated to the current master, so I haven\u2019t been able to test it extensively, but the CPU usage looks definitely better!", "\nIt\u2019s targeting the next ROS 2 release, Foxy.", "\n", "\n", "With all this work going on, I think that we can say that if Dashing and Eloquent were the releases that added to ROS 2 most of the required features, with the next release, Foxy, the ROS 2 performances will get a big improvement!", "Let\u2019s keep going in this direction, to make ROS 2 a success!", "Hi Alberto,", "As you said, Fast RTPS and rmw_fastrtps default settings are designed for ", ":", "1.- ", ": We allocate some memory at startup to avoid dynamic allocations. While this is good for many applications, it is not if you are looking for minimum memory usage.", "2.- ", ": The user thread is not publishing directly the message but copies the data to a buffer, and a middleware thread does the actual publication. This is good for real-time determinism as the user thread returns immediately. But is not good if you are looking for minimum latency.", "Also, the Fast RTPS for dashing didn\u2019t count with an intra-process mechanism.", "Therefore in your initial comparison, you were comparing:", "But, if you setup Fast RTPS with the recommended settings for this case and use the latest version, you get:", "This experiment includes the whitelist mechanism you recommended in your presentation (10 mb less of memory usage). A lot better, and matching your requirements.", "The documentation to setup the rmw of fast RTPS is in the readme of the rmw: ", "Also is worth to comment ROS2 is creating a DDS participant per publication or subscription, leading to a lot of participants. That is not the recommended use of DDS, and in this case leads to a lot of participants. For the next ROS2 release this behaviour is going to be fixed:", "We did an experiment using your framework with an equivalent topology, but just a single DDS participant. In that case:", "With 1-to-1 mapping, both the memory and the CPU usage improve a lot, as it is the recommended way to use DDS.", ":", "Also, to easily reproduce these results and the different experiments, we created a complete Rosject:", "Get your copy of the ROSject iRobot performance test dds comparison by @2960bd0df664", "Important Note: iRobot scenario uses a Raspberry Pi with raspbian. The rosject creates a cloud instance using linux, and the memory page size is bigger than in a raspberry PI, so the memory measures are higher for any configuration, but it is useful to understand the differences.", "As conclusion, ROS2 with Fast RTPS is highly configurable, ", ", and for Foxy we will focus on performance, so as you predict, it will be even better.", "For a how-to on how to change the basics:", "\n", " (readme)", "\nAnd for detailed documentation of all the available options, see:", "\n", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "Fast RTPS: Static Allocations + Async Pub + Loopback (Dashing)", "Cyclone DDS: Dynamic Allocations + Sync Pub + Intraprocess (Latest)"], "url": "https://discourse.ros.org/t/ros-2-for-consumer-robotics/11860"},
{"title": "ROS 2 Real-time Working Group Online Meeting 7 - Dec 11, 2019, 7AM PDT (UTC-8)", "thread_contents": ["RTWG folks, here is an agenda for our next meeting. Please add your topics if you have them.", "Zoom coordinates: TBD.", "More information from the meeting recording:", "I\u2019ll let ", " add more details on Wednesday!", "Hi Dejan,", "Both Ishu and I are busy/not in the office tomorrow, so we won\u2019t be able to attend this meeting.", "To address points 5.1-5.3:", "\nOur reasoning is as follows: We are very excited that our static_executor has gotten as much attention as it did (this was very unexpected for us) and we hope some of our work will end up in the core of ROS2 (this would be amazing!), but we\u2019ve always seen the static-executor more as a POC w.r.t. \u201cjust\u201d CPU utilization. The executor in ROS2 has some more flaws (i.e. scheduling as highlighted in the paper by Tobias) and our static-executor POC is build on top of legacy that blocks/prevents neat minimal code and further other improvements.", "It is difficult to rework rclcpp, rcl and rmw with everything sitting on top of it and equally difficult from the other perspective to keep up with API changes. We want to see what design OSRF/William/the community can come up with and what changes to ROS2 will (need to) happen to realize that design.", "With the limited manpower we have, we decided the nicest thing we could do was to wrap the static-executor into a separate library for both dashing and eloquent users to use. When we get closer to the F release and the design has been settled on, then we are definitely willing to contribute and help port the static-executor if desired. However, keeping up our PR with master in (what is expected to be) a quite tumultuous time w.r.t. rclcpp, rcl and rmw, is not really possible (especially since both Ishu and I are on different projects atm that take up a lot of our time).", "My apologies for the long explanation, but hopefully this shines a light on our point of view. We hope for your understanding and look forward to the design discussions and of course the final design for F turtle ", "Zoom coordinates: TBD.", "is that available now?", "At all, sorry for being late but here are the meeting coordinates:", "Topic: RTWG Meeting 7", "\nTime: Dec 11, 2019 07:00 AM Pacific Time (US and Canada)", "Join Zoom Meeting", "\n", "Zoom is the leader in modern enterprise video communications, with an easy, reliable cloud platform for video and audio conferencing, chat, and webinars across mobile, desktop, and room systems. Zoom Rooms is the original software-based conference...", "\n", "Meeting ID: 910 363 819", "\nPassword: 935893", "One tap mobile", "\n+16699006833,910363819# US (San Jose)", "\n+19294362866,910363819# US (New York)", "Dial by your location", "\n+1 669 900 6833 US (San Jose)", "\n+1 929 436 2866 US (New York)", "\nMeeting ID: 910 363 819", "\nFind your local number: ", "\n", "about ", " only to connect specific device/robot, yesterday you mentioned some new feature is submitted by ", "  to DDSI-RTPS, right? is it already ready on ", "?", "could you enlighten me a little bit more? I\u2019d like to catch up this.", "Best", "Hi Tomoya, Yes, Erik ", " added domainTag to ", " and implemented iRobot\u2019s use case in Eclipse Cyclone DDS:", "Find Roomba by serial # among ~1,000 robots on the network", "With ", " things talk if domain and the tag (e.g. robot serial #) are matched.", "Happy to chat about that and other ", " contributions to the ROS community.", "\u201cEclipse Cyclone DDS makes ROS 2 Easier, Smaller, Faster\u201d talk today at ROS-Industrial Stuttgart RICEU2019 is a good overview of the ", " ", " and interesting use cases from the community ", "\n", "thanks, will look into it.", "Meeting minutes (thx ", " for help):", "Video recordings: ", " Jan 8 2020 (skipping the one on Dec 25 2019).", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Presentation: SLX ROS Performance Testing Platform by Silexica", "Discourse post on how to measure performance correctly\n", "Jaime\u2019s talk transcribed", "\n", "LET executor ", " => ", " ", " ", "\n", "Architecture of single-process, real-time rmw => ", "\n", "\n", " would now be a good time?", "\n", "static_executor recap:\n", "William suggests to change executor design in ROS 2 F: ", "\n", "Martin agrees and offers the current version as an ", " library", "After the changes in ROS 2 F, we will port some parts from ", " to rclcpp?", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "Discourse post on how to measure performance correctly\n", "Jaime\u2019s talk transcribed", "\n", "eProsima published latency tests results, looking at the median value of multiple runs", "using a clone of the system and same configuration as the one used by their competition", "with open source code for reproducibility", "Presentation: SLX ROS Performance Testing Platform ", "  by Silexica/Ben\n", "\n", " Ask Amazon if they want to host HW for performance testing platform (on ", ")", "Ben to give regular updates in the RTWG", "\n", "LET executor\n", "\n", " comments on the rcl PR (", ") will be addressed and then the PR will be re-directed to rclc (", ")", "Bosch will also provide the documentation and the use case description for LET executor", "William is OK with the full restructure of the rclc project", "\n", "Architecture of single-process, real-time rmw\n", "Erik\u2019s comment on memory allocation for the data path in rmw_cyclconedds: ", "\n", "\n", "  Members of the RTWG should provide feedback", "Doing it from scratch vs. building on rmw_cyclonedds => 2nd option is preferred", "Erik thinks it makes sense to implement the zero-copy interface (from Bosch) first", "ROS 2 F => Erik thinks that we should start making use of DDS keys\n", "\n", " take this request to ROS 2 TSC", "\n", "\n", "static_executor work to be done for ROS 2 F:\n", "be able to use more than one executor per node.", "Implement Waitset similar to the one at Apex => ", " to work with William", "Interface clean up around the executor", "\n", "ROS 2 F Roadmap will be finalized early 2020\n", "Input to the roadmap: brainstorming of ROS 2 team@OSRF & others", "\n", " provide your input for the ROS 2 F roadmap", "\n", "DDS direct access (", ")\n", "There exist 2 different solutions/approaches: DDS configuration vs accessing DDS APIs", "Borja\u2019s use case in microROS => configuring vendor specific implementation", "William => 3 ways to expose more DDS features:\n", "out of bound for configuration of the underlying DDS implementation", "programmatically (e.g. rmw_init(payload) which has been done at Apex, but it is not portable across DDS vendors,", "ROS way with lots of abstraction and which must be portable", "AI ", " ", ": provide more concrete set of requirements for this use case", "\n", "\n"], "url": "https://discourse.ros.org/t/ros-2-real-time-working-group-online-meeting-7-dec-11-2019-7am-pdt-utc-8/11863"},
{"title": "ROS2 Security Working Group December Meeting", "thread_contents": ["Hey All - The December 2019 ROS2 security working group meeting will be on Wednesday the 11th at 23:00 UTC", "Real-time meetings by Google. Using your browser, share your video, desktop, and presentations with teammates and customers.", "\u202a+1 385-325-0281\u202c PIN: \u202a422 295\u202c#", "Agenda: ", "We try to have these meetings on the last Tuesday of each month, but this month many folks will be out because of end of year breaks. However if folks want to change it, we are flexible.", "I look forward to chatting with you all.", "Cheers,", "\n-Joe", "As always, if you\u2019d like to add something to the agenda, feel free to make a comment here and we\u2019ll add it, or you can add it to the document yourself.", "Meeting minutes and video are now posted ", ".", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-security-working-group-december-meeting/11798"},
{"title": "Plain C API", "thread_contents": ["Hi to all. I\u2019m new here. My background is embedded stuff, networking, educational robotics and Lua language.", "One point of ROS1 that I found limiting was that the API is C++:", "Related to this, system written in C is VASTLY more portable than C++.", "ROS 2 is taking exactly the approach you are proposing.", "RCL is a pretty cool layer I agree ", "Others already mentioned it, but we do have a C API in ROS 2, which we use to provide bindings in Python, and community members have used to provide bindings in Java, Rust, and others. Here\u2019s a brief description of the architecture:", "The C++ API (rclcpp) is itself based onto the C API (rcl).", "Thanks to all!", "\nThis actually looks great. Looking through the tutorials for ROS2 I was misguided by the usual mention of C++ and Python APIs.", "\nBut now I\u2019m having CORBA flashbacks ", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["You can have C code that want to link against ROS libraries.", "You may have to write a binding to another language besides Python\n", "which are designed to bind against plain C, like Lua", "which are not OO or whose OO is not C++like, like Lua or Java", "\nHaving a conventional low level procedural old-school API is been much better in his regard.", "\nA C++ API for final programs would be a wrapper around this C API.", "\n"], "url": "https://discourse.ros.org/t/plain-c-api/11911"},
{"title": "No Safety working group meeting this week (20191219)", "thread_contents": ["I will be on a plane somewhere over the Pacific Ocean during the working group time, so I will not be able to run it. The plane will have Internet access but I\u2019m not sure 5MB or whatever pittance of data they give us these days will last long with a teleconference.", "If someone else wants to run the meeting, then please feel free to do so! Reply here, keep some minutes and I will follow up with you later.", "Because next week is Christmas for me, and then New Year\u2019s for most of the world the week after that, I will not delay the meeting a week. Let\u2019s pick this activity up early in the new year.", "For those who have no idea what I\u2019m talking about, ", " to get enthusiastic and join us in the new year!", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/no-safety-working-group-meeting-this-week-20191219/11957"},
{"title": "Survey about ROS2 usage in companies?", "thread_contents": ["For ", " I am looking for companies which are \u201cusing\u201d ROS2 (means working with ROS2 in research departments). A lot of companies search for employees with ROS2 know how. However most of the time ROS2 is mentioned as \u201cbonus\u201d and it\u2019s not easy to figure out if companies actually use ROS2. Probably this topic is worth a survey?", "I would also like that.", "\nMaybe we should even include questions about ROS1 & ROS2 - which are they using.", "\nAnd also ask if they use ROS1 / ROS2 in their commercial products.", "\nDo you already have an idea on how you would want to publish such a survey?", "Maybe we should even include questions about ROS1 & ROS2 - which are they using.", "\nAnd also ask if they use ROS1 / ROS2 in their commercial products.", "Answers to questions like these would be enlightening. However I\u2019m pretty sure most companies won\u2019t answer due to various reasons. I\u2019d not answer questions in much detail myself.", "Do you already have an idea on how you would want to publish such a survey?", "Not any idea yet\u2026", "However I\u2019m pretty sure most companies won\u2019t answer due to various reasons.", "If you\u2019re using ROS or ROS2 in your product, both the BSD and the Apache-2.0 license require you to declare that.", "Of course, companies are not obliged to answer a survey, but they would have to put it into their product documentation for their customers.", "Right. However I\u2019m not very motiavted to search for and browse through product documents ", "I am a bit skeptical of surveys. Generally any survey is only going to  be as effective as its reach; and if the community is always doing surveys there is going to be a bit of fatigue. I feel like what might be more effective is if we collect all of the data the community wants into one big survey and send that out once a year.", "I think the problem is more general. How can the ROS community create such an awesome list with the community by the community? A central blog and package index with some kind of usage statistic is missing from my point of view. To measure usage, quality and actuality of all the packages needs to be done by the community in a cooperated way.", "Are you interested to create a better concept with me finding a way to idendify the gems in ROS and who is using them? I think this is should be on of the major duties to stop reinventing the wheel.", "We could for example join forces for the Awesome Robotic Tooling list and the Awesome Robot Operating System 2 List.", "This talk form ROSCon 2019 is very related on this topic:", "\n", "\n", "A central blog and package index with some kind of usage statistic is missing from my point of view.", "Much of what you ask for does exist in one form or another. Probably more of a problem is the lack of a centralised place to obtain the information.", "For example, there is the ", ".", "Pretty much anything ", " touches ", ".", ", although it is more about their news than a general ROS blog.", "The ", " is a marvel.", "Another resource for finding out about ROS news is ", " where there\u2019s a aggregated news feed from several members of the community. If you have community relevant content that provides a feed you\u2019re encouraged to submit it to be aggregated there too.", "Are you interested to create a better concept with me finding a way to idendify the gems in ROS and who is using them? I think this is should be on of the major duties to stop reinventing the wheel.", "We could for example join forces for the Awesome Robotic Tooling list and the Awesome Robot Operating System 2 List", "Preventing reinventing the wheel was a major motivation for creating this list. A lot of good resources existing now have not been existing when I created the list. After recognizing the existence of these other resources I stopped adding usual packages. The only type of content", "\nwhat I am still adding are things most ros users are not aware of like e.g. the forks of ROS2 of Apex.ai and VXWorks or w.r.t. ROS2 deveolpment. And companies using ROS2. ROS2 is great because it\u2019s possible to create robust products. I join any initiative which ensures that more people learn about ROS2. I don\u2019t think the list is a long time solution. But I still miss one single entry point which enables people to get a broad and fast overview about ROS2 without creating cognitive overload the people do not need (yet).", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/survey-about-ros2-usage-in-companies/11619"},
{"title": "ROS2 TypeScript client library available", "thread_contents": ["A new version of the ROS2 JavaScript client library ", " (v. 0.11.1) has been released. Key enhancements include:", "For TypeScript developers, the introduction of TypeScript declaration files (*.d.ts) enables smart coding tools such as VS Code and Eclipse CodeMix to help improve their coding efficiency and quality. If you want to stick with classic JavaScript no problem as the base library api is based on JavaScript ES6.", "One key requirement to note before installing the library from npm is that it requires a node.js version between [6.x - 10.x].", "To learn more visit:", "\n", "\n", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Support for TypeScript coding", "Compatibility with the latest ROS2, Eloquent release"], "url": "https://discourse.ros.org/t/ros2-typescript-client-library-available/11980"},
{"title": "STVL & NPVL Available in Navigation2 (ROS2)", "thread_contents": ["Hi,", "Just wanted to drop by and mention that STVL (spatio-temporal voxel layer) [1] and NPVL (nonpersistent voxel layer) [2] are now both available in ROS2 Dashing and Eloquent for use. Documentation on how to add it to the Navigation2 stack can be seen in [3].", "A few folks that have already moved to ROS2 Navigation have asked for them and wanted to outwardly just mention it for future passersby that this is now available and fully-featured in ROS2.", "[1] ", "\n[2] ", "\n[3] ", "Didn\u2019t you mention these in your talk at ROSCon? Should I post a link to the talk so everyone can realize how amazingly cool these tools are?", "how amazingly cool these tools are", "So cool in fact, by googling ", " it appears on my computer on the ", " page of search results (and\u2026 I wrote it\u2026 I think google knows that\u2019s something I\u2019m probably interested in ", " ). Maybe I should have picked another acronym, though I think abbreviation rights go to David Tsai. Until \u201cSTVL\u201d I used it call it \u201cthat voxel work\u201d because \u201cthe spatio-temporal voxel layer\u201d doesn\u2019t exactly roll off the tongue.  STVL still a major improvement over that unnamed work in the corner.", "Anyhow, yes, here\u2019s the talk:", "\n          ", "\n", "Thinking back on this, actually about 2/3 of the \u201cfuture work\u201d stuff is done now. It supports fully 3D lidars and a couple of companies are using that for indoor/outdoor VLP 16 navigation.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/stvl-npvl-available-in-navigation2-ros2/11984"},
{"title": "Navigation2 WG Meeting Notes 12/5 and 12/12/19", "thread_contents": ["\nAttendees:", "Use more complex world models in CI (", ")", "Eloquent Release", "\nAttendees:", "Topics:", "\nReplan immediately on plan invalidation (", ") and Rearchitect Behavior Tree / Nodes (", ")", "Potential Migration from QMCL to AMCL(", ")", "Default SLAM for ROS2(", ")", "Rectify & describe map server tickets(", ")", "Costmap Filters (", ")", "Thanks to ", " for taking notes!", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Mohammad Haghighipanah", "Carlos Orduno", "Carl Delsey", "Melih Erdogan", "Matt Hansen", "Mike Jeronimo", "Brian Wilcox", "Francisco Martin Rico", "Geoffrey Biggs", "Jeremy Adams", "Shivang Patel", "Turtlebot 3 world is very simple and is no longer a good test for navigation", "It would be nice to have better worlds to be a more thorough system test", "The models identified in the issue are big so we may have problems with with CI", "We can maybe use github Filesystem ", "  There are problems with storing big binary objects in Git, so this is an alternative", "Add the files to the system test first and we\u2019ll add it to bringup later if appropriate", "Still 15 outstanding issues and PRs. Please close any issues that can\u2019t make it in before the eloquent release.", "eloquent-devel branch created. Any new PRs that go in will need to be backported to that branch. The dynamic params changes are broken on master due to upstream changes. They have been backed out of master but are still on the eloquent-devel branch.", "Mohammad Haghighipanah", "Carl Delsey", "Carlos Ordunu", "Melih Erdogan", "Yuthartha Tuladhar", "Casimir Sowinski", "Francisco Martin Rico", "Geoffery Biggs", "Steve Macenski", "discussed the need to replan immediately in case of an error and also need to support the use case where the robot is not replanning at a regular interval. This could possibly be achieved with the existing ComputePathToPose node by creating another instance in the recovery behaviors.", "Discussed the possibility of breaking up action BT nodes into separate nodes for requests and responses and getting feedback etc. This gives us more fine grained control on how we interact with actions within the behavior tree. This could give us the ability to cancel or otherwise interact with an existing request from different parts of the behavior tree. It was noted that we can cancel a current action by causing the behavior tree to halt the action node, however that is a less direct way of controller the action.", "QMCL is a much cleaner implementation of a Monte Carlo localizer. It could be used to replace AMCL, however it needs some work - convert to ROS 2, add missing features.", "The maintainer is open to using a more permissive license like MPL. It is currently GPL", "QMCL needs testing to determine how it compares to AMCL in terms of localization quality.", "We need testers for that.", "Deferred to next week", "We need to remove and/or clean up redundant map related tickets.", "The team at Intel is planning to tackle many of those tickets in 2020. We can clean up those tickets then.", "There is a lot of commonality between the implementations of traffic lanes, slow zones and keep out zones. Steve proposed they could all be implemented at a separate costmap layer.", "Keep out zones could just be another static layer map.", "Slow zones could be a special costmap layer plugin that publishes on a topic when the robot is in an area where is needs to go slow.", "Traffic lanes - there was a mismatch in the understanding the requirements for this feature. One possibity is that traffic lanes are areas where the robot should preferentially travel - sort of the opposite of a keep out zone. In that case, there is no directionality to the lanes. The other thought was that traffic lanes are more like road lanes, where robots going in opposite directions should prefer to stay on opposite sides. We need to clarify the requirments on this one."], "url": "https://discourse.ros.org/t/navigation2-wg-meeting-notes-12-5-and-12-12-19/12020"},
{"title": "ROS 2 Tooling WG - Dec 12, 9AM PDT (UTC-8)", "thread_contents": ["The next meeting of the ROS Tooling Working Group will be tomorrow ", " \u2192 ", ".", "This week, Devin will be presenting system_metrics_collector, a lightweight node to aggregate performance data (CPU/memory usage per process and for the whole system).", "  : The link for the meeting is in the Google Groups invite - you can join that here ", "  :  ", " \u2192 ", "  :", "If you have anything you\u2019d like to add to this or a future meeting\u2019s agenda, please feel free to let us know at the beginning of the meeting, we have a light agenda tomorrow so we should be able to fit one additional topic.", "  :", "  :", "\nThe objective of this working group will be to develop and maintain select ROS 2 tools. We define a tool to be: software supporting developer productivity or robot operation, outside of the middleware communications functionality. This definition remains intentionally broad until it needs to be narrowed.", "The Tooling WG will focus on the roadmap, contribution, maintenance, and ownership of adopted subprojects. WG-owned GitHub repositories for subprojects will primarily live in the working group GitHub organization: ", ".", "Thanks to everyone who joined today, I added the meeting note on the Google doc: ", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Attendance", "Last meeting action items review", "System_metrics_collector presentation (Devin)", "Project Status Update\n", "Cross_compile", "System Metrics Collector", "Rosbag2", "GitHub Action", "\n", "Project Board Review"], "url": "https://discourse.ros.org/t/ros-2-tooling-wg-dec-12-9am-pdt-utc-8/12036"},
{"title": "ROS2 Tooling WG - no meeting tomorrow", "thread_contents": ["There were 2 major US holidays since the last meeting so it\u2019s unlikely that much happened, we\u2019re cancelling the Tooling working group meeting this week.", "The next meeting will be Friday, January 17.", "For anything until then, please feel free to talk here or open issues on ", "Happy new year ", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros2-tooling-wg-no-meeting-tomorrow/12147"},
{"title": "Feature Request: rclcpp publisher/subscription work without IDL when intra process", "thread_contents": ["Hi All,", "\nI want to ask if we could support publisher/subscription work without IDL when intra process?", "\nBecause producer-consumer is a very popular coding model, and we want to use publisher/subscription to implement it to transport any type of message when intra process, in which situation the publisher could not support remote subscription.", "Excuse my ignorance, but what is it exactly that you want to do and why is it currently impossible in ROS2? I think I require some more clarification w.r.t. IDL and why it prevents the producer-consumer model. Can you elaborate more, maybe with a simple example / use-case?", "In case this subject is completely over my head, I think ", ", may be able to help with this. He was involved in making changes to how intra-process currently works in ROS2. It\u2019s more likely he will understand what you are talking about / trying to do ", "Thanks for quick reply!", "\nYeah, the current ROS2 support IDL msg type Publisher/Subscription, but it requires a IDL file.", "\nAnd this way prevents us to use it easily\u2026 like:", "\nnode1->create_publisher", "()", "\nnode2->create_subscription", "()", "Indeed, from rclcpp code source, I don\u2019t see what the IDL for when intra-process. We want use publisher/subscription for any type easily without any IDL file\u2026", "How would you imagine this to work without an IDL description of the message content? Will you just pass a pointer to shared memory or an address between the publisher and subscriber? You would then still need to tell the subscriber what it is receiving right (size of the data, type, structure)?", "I think it is easier to just fill an existing message type with the data of cv::Mat() and on the other side unpack it and store it back into a cv::Mat() object. Or if existing message types don\u2019t fit your data-format you could create a custom message to handle it.", "Or am I misunderstanding what you are trying to do?", "In intra-process, the publisher will pass the Message pointer to subscriber, no pack or unpack needed.", "\nOnly needed is the unique_ptr or shared_ptr of message and its copy method.", "The feature you are talking about is often referred to as ", "It\u2019s already in the roadmap, but I don\u2019t think that it will be part of the next release (unless someone steps up and implement it).", "More details here", "\n", "Thanks for your reply!", "\n\" So conceivably you could have the image pipeline with a single  ", "  which never gets copied by the middleware. To do this requires some additional intelligence in the intra process manager, but we\u2019ve already got a design and some proof of concepts in the works.\"", "\nDo you have some design draft that can be shared with us?", "\nI modified the rclcpp code a little, let intra-process publisher/subscription with native type don\u2019t go into rmw layer, now it can transfer pointers, but the problem is the executor/trigger/callbacks are implemented in rmw layer\u2026  So I hope to see a better design ", "There are changes planned to the executor design for the Foxy release, you could voice your request (or an offer to help) to the people involved with that. The interest in a new design was to some extent kick-started by this discussion: ", "(which I was part of).", "I don\u2019t know exactly where the follow-up discussion is taking place, but if you feel like you have useful input to the discussion you could try contacting some people (I\u2019m pretty sure wjwwood is involved).", "Although, I\u2019m also pretty sure they will see this thread ", " so no immediate action is necessary. Just depends on how pro-active you want to be and how soon you will need this feature.", "Thanks, this is very helpful!", "Perhaps I am not understanding but can you not just make a string message and pass the pointer as a string through intra process shared memory?", "Emmm, maybe the purpose is not passing a pointer, but use the publisher/subscriber to implement the producer-consumer model of any type data.", "There are few tangled things being discussed in this thread, I\u2019ll try to reply in line to separate them and describe what is possible and what is planned.", "I want to ask if we could support publisher/subscription work without IDL when intra process?", "Currently that is neither possible nor planned, but I should emphasize that I specifically mean the ", " part. More below.", "Because producer-consumer is a very popular coding model, and we want to use publisher/subscription to implement it to transport any type of message when intra process, in which situation the publisher could not support remote subscription.", "This is also not currently a goal for us (or at least for me and as far as I know my colleagues and our partners). That doesn\u2019t mean \u201cnever\u201d, it\u2019s just that I don\u2019t think we plan to have it.", "Inherent in our communication system is really three things, not just pub/sub but also discovery and serialization/deserialization. The discovery is just convenience and helps with composition and reusability. The (de)serialization is used not only for network (inter-process) transport but also for recording and playback.", "We require a type to be defined by IDL mostly for the serialization part. For discovery we could just have a type \u201cname\u201d which could be made up and just agreed on by both sides. The type doesn\u2019t really influence the pub/sub part, especially at the intra-process level, except to ensure the two communicating end points are using the same type.", "For these reasons we need to at least associate a type with an equivalent IDL type. As pointed out by ", ", this is what we (I) refer to as ", ", i.e. you define a relationship between a user type and an IDL type which allows the user type to masquerade as the IDL type in all of our APIs.", "We don\u2019t yet have type masquerading in ROS 2, but we did have it in ROS 1. We plan to implement this, but the changes go far beyond changes to the Executor in rclcpp.", "However, in both cases, ROS 1 and our ideas on how to do it in ROS 2, you still need a ROS type defined in IDL, in case the user wants to record it to disk or send it over the network.", "We don\u2019t have plans to support \u201clocal-only, non-recordable\u201d pub/sub. Requiring a user to associate a user type to a ROS type is a lot of work, but in ROS 1 it worked well as we provided existing mappings for commonly used types like ", " and ", ", and that was enough. This has the added benefit that users may remotely introspect any publisher, even if normally it is local only and never serialized. As well as the ability to record instances of them to disk.", "And this way prevents us to use it easily\u2026 like:", "\n", "\n", "As I said above, something like this could be possible (though ", " lacks some information that the ROS image message has, e.g. timestamp), but the pcl types are supported, see:", "Indeed, from rclcpp code source, I don\u2019t see what the IDL for when intra-process.", "It\u2019s always possible for a remote subscription to come up and that case has to be handled, so there is no case currently where it is only intra-process in ROS.", "Do you have some design draft that can be shared with us?", "Unfortunately I don\u2019t think there exists such a document at the moment.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/feature-request-rclcpp-publisher-subscription-work-without-idl-when-intra-process/12016"},
{"title": "Navigation2 WG - no meetings until Jan 9th 2020", "thread_contents": ["Just an FYI - I cancelled the Navigation2 WG meetings from now unti 1/9/2020, due to having just finished Eloquent and the team enjoying the holidays in the US.", "(Aside) Wow it\u2019s going to be 2020! Where\u2019s my personal flying car / drone, and my home butler robot? We better get on that! ", " ", " ", "I didn\u2019t know ROS was also targetting flying cars!", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/navigation2-wg-no-meetings-until-jan-9th-2020/12003"},
{"title": "SROS2 API after moving to one Participant per Context", "thread_contents": ["There have been some discussion about moving from one Participant per Node to one Participant per Context in ", ".", "\nThis change will affect sros2 API, here are the details of a discussion on how will affect it:", "\n", "Any proposal and comments are more than welcome.", "Hey everybody!", "We\u2019re planning to have a meeting to discuss the changes on January 8th (to confirm).", "\nIf anybody wants to join to the discussion, please let me know.", "Best,", "\nIvan", "Great work!!!", "\nI really would like to join that meeting, though i will be in San Diego for other things to attend to. if i can squeeze the time, i will be there.", "Best,", " I sent you an invitation.", "\nHope you can attend.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/sros2-api-after-moving-to-one-participant-per-context/10448"},
{"title": "Can we chat about breaking changes in stable releases?", "thread_contents": ["Hey folks, Dashing user here. Something concerning happened a few weeks ago that is continuing to have ripple effects in our work. That \u201csomething concerning\u201d is this:", "I\u2019ve read through ", " addressed by that PR and I have no argument with any of it. What I want to discuss is this: why was this introduced in a stable release? An LTS, no less? These marker files didn\u2019t need to be specifically installed, and now all of a sudden they do. Our CI broke without us changing anything, which turned into a flag day trying to find what broke and fix it, holding up releases and development. Several other ROS 2 packages broke, which sadly burned another team member\u2019s time tracking down the same issue.", "This is continuing to effect us, weeks later. My understanding is that we have a policy of breaking changes being okay between releases (e.g. this would have been fine landing into Eloquent), but can someone please explain how this made it back to Dashing?", "We\u2019ve had a few confused users on ROS Answers as well: ", " and ", ".", "I\u2019m not trying to justify it, but from a technical perspective, colcon is not part of the release. It is released for each operating system. So we cannot change this particular item in just Eloquent and not Dashing.", "This level of regression was certainly unforeseen and unfortunate.", "why was this introduced in a stable release?", "In general the pure Python packages (like ", ") are not ROS distro specific. On non-Debian platforms they are installed via ", " and on Debian-based platforms there are ", " packages available across all targeted Ubuntu/Debian distros. As such an update can\u2019t be made available for only ROS Eloquent but not for ROS Dashing (since both target the very same Ubuntu distro).", "If the level of issues would have been foreseen I would guess the change wouldn\u2019t have been merged as is. What made this hard to find was that if you had an existing workspace these marker files already existed so just testing the patch didn\u2019t show any problems. Also on CI for running the tests this wasn\u2019t a problem (and where it was it got resolved by PRs).", "Adding a warning (as now proposed in ", ") before removing the automagic creation of the marker files would have certainly been the better approach.", "Adding a warning (as now proposed in ", ") before removing the automagic creation of the marker files would have certainly been the better approach.", "While the warning is appreciated, it only would have helped track down the issue once everything broke, not prevented the breakage in the first place.", "from a technical perspective, colcon is not part of the release.", "As such an update can\u2019t be made available for only ROS Eloquent but not for ROS Dashing (since both target the very same Ubuntu distro).", "Thank you for the explanation. While there is certainly a technical difference, utilities used within stable releases tend to be lumped into \u201cthe stable release\u201d by us users, especially ones so pivotal as the build system. Breaking those tools feels the same as breaking the release. This seems like an unfortunate design decision, but it\u2019s one we need to own, not hide behind. I\u2019m assuming we can\u2019t/don\u2019t want to change it, but it backs us into a bit of a corner. As far as I can see, there are two possible paths afforded by such a decision:", "To be completely frank, in my opinion (1) would be the responsible ownership of this design. That does not seem to be the path we\u2019re on. If you insist on (2), can we at least come up with a strict scheduled deprecate-then-remove policy?", "Developing colcon is hard because you can essentially never break it as all stable releases are using the same version.", "That is the very same for each and every Python package we ship. And yes, while it is making things difficult we have managed pretty ok for the past ten+ years with that approach.", "Also I don\u2019t think the alternative (releasing different version into each ROS distro) would make things easier. E.g. you wouldn\u2019t be able to call any command until you have sourced a distro (chick-egg-problem) which isn\u2019t really feasible for a build tool which you need to bootstrap your very first build.", "The main issue here is awareness. When we do know changes are breaking stuff we are very carefully considering how to roll them out and/or modify the change to be compatible (e.g. REPs for evolving the rosdistro database).", "If preferred by the community I am absolutely fine with reverting the change for now and only go with the proposed warning. I think though there needs to be a possible transition to move forward at some point (after giving users a transition period and then breaking them if they haven\u2019t acted on it in a visible way). Otherwise we look us into the current state with no possibility to evolve in favor of stability.", "That is the very same for each and every Python package we ship. And yes, while it is making things difficult we have managed pretty ok for the past ten+ years with that approach.", "snip\u2026", "When we do know changes are breaking stuff we are very carefully considering how to roll them out and/or modify the change to be compatible [\u2026].", "I\u2019m a bit stunned by this response. I tried to create this thread to talk about exactly this. Are you implying that you see nothing wrong with what happened? There are no improvements to be had?", "Also I don\u2019t think the alternative (releasing different version into each ROS distro) would make things easier. E.g. you wouldn\u2019t be able to call any command until you have sourced a distro (chick-egg-problem) which isn\u2019t really feasible for a build tool which you need to bootstrap your very first build.", "To be clear, I\u2019m not suggesting that colcon be shipped in the underlay, it could just be a namespaced binary package frozen on a major colcon version (I\u2019ll ignore the fact that this change was introduced in the same major version ", "), ", " or some such thing. The challenge there is having the ability to have both D\u2019s colcon and E\u2019s colcon co-installable.", "If preferred by the community I am absolutely fine with reverting the change for now and only go with the proposed warning.", "I do indeed think it should be reverted, but of course I\u2019m only part of \u201cthe community.\u201d", "I think though there needs to be a possible transition to move forward at some point [\u2026]. Otherwise we look us into the current state with no possibility to evolve in favor of stability.", "I agree, but progress should never come at the expense of your users. I guess we\u2019ll agree to disagree on that point. If you must continue with the current design and if you cannot maintain backwards compatibility for utilities used within stable releases, then can we please establish a deprecate-then-remove policy with a clear schedule?", "it could just be a namespaced binary package frozen on a major colcon version, ", " or some such thing. The challenge there is having the ability to have both D\u2019s colcon and E\u2019s colcon co-installable.", "Your suggestion seems to be very Debian-centric. How should that be done for other platforms (e.g. macOS and Windows) where users install the Python packages from ", "? I doubt there is any precedence in the Python community for doing N parallel releases of the same package based on the major version.", "Anyway the infrastructure we use to release Python packages doesn\u2019t support such a workflow. If you would like to see a drastic change like this that would probably require a thorough design ticket / REP to motivate the change, describe how each and every piece in the pipeline should change as well as coming up with patches to realize that proposal.", "Imo such a drastic change is neither needed nor warranted by this case. As mentioned already before if this problem would have been catched during review it would not have been merged and released in the first place. So the main area of improvement I see is that such changes should be reviewed more carefully - which also implies by more people which have to volunteer to do so.", "I\u2019ll ignore the fact that this change was introduced in the same major version ", "On a side note: following semver when the major version if zero breaks can happen even on a minor version bump.", "That being said: the change was introduced in a patch release. Again: this only happened because we were not aware of that significant regression. Otherwise we would have not only bumped the minor version but actually revised the PR before it got merged and release.", "then can we please establish a deprecate-then-remove policy with a clear schedule?", "A tick-tock cycle is certainly desired.", "One problem is that deprecations as they are done in Python are by default not visible. So commonly nobody notices them during the \u201ctick\u201d cycle and only gets hit when stuff breaks during \u201ctock\u201d.", " introduces an option to change that. The goal would be to recommend to everyone (e.g. CI) who wants to catch deprecations / warnings early to set the flag so something other than the default. Similar to what the Python ", " module recommends to test framework developers ", ".", "For this specific case the PR ", " reverts the change and adds warnings in the case where ", " installs the files implicitly for the package. Please feel free to provide feedback on that ticket (and its open questions).", "How should that be done for other platforms (e.g. macOS and Windows) where users install the Python packages from ", " ? I doubt there is any precedence in the Python community for doing N parallel releases of the same package based on the major version.", "requirements.txt? constraints.txt? No need to release separate pip packages, that\u2019s pretty well-defined as long as you follow semver.", "Anyway the infrastructure we use to release Python packages doesn\u2019t support such a workflow. If you would like to see a drastic change like this that would probably require a thorough design ticket / REP to motivate the change, describe how each and every piece in the pipeline should change as well as coming up with patches to realize that proposal.", "I\u2019m not advocating for a new design so much as pointing out that there are others that better jive with your preferred style of maintenance.", "A tick-tock cycle is certainly desired.", "One problem is that deprecations as they are done in Python are by default not visible. So commonly nobody notices them during the \u201ctick\u201d cycle and only gets hit when stuff breaks during \u201ctock\u201d.", " introduces an option to change that. The goal would be to recommend to everyone (e.g. CI) who wants to catch deprecations / warnings early to set the flag so something other than the default. Similar to what the Python ", " module recommends to test framework developers ", ".", "Excellent! How long of a tick/tock cycle are we talking?", "For this specific case the PR ", " reverts the change and adds warnings in the case where ", " installs the files implicitly for the package. Please feel free to provide feedback on that ticket (and its open questions).", "Thank you for that. I\u2019ve provided some feedback, we can continue discussion on this specific case there.", "requirements.txt? constraints.txt? No need to release separate pip packages, that\u2019s pretty well-defined as long as you follow semver.", "Can you expand on how you would use this to fix the issue for macOS and Windows (or even non-deb based Linux distros)? I think it is easy to point out related features/technology, but difficult to apply it in practice. The \u201cdevil\u2019s in the details\u201d and all that.", "I can imagine a few ways to use those features in our stack/release process but none that jump out at me as being strictly better.", "I think it\u2019s worth reiterating these two points as well: a) it was an unintentional break (we would have done it differently had we known impact), and b) colcon is following semver, but colcon is not >= 1.0.0 yet so the rules are much less strict. So in this particular case, I don\u2019t think using anything but an exact version number constraint would have helped avoid the issue.", "Can you expand on how you would use this to fix the issue for macOS and Windows (or even non-deb based Linux distros)? I think it is easy to point out related features/technology, but difficult to apply it in practice. The \u201cdevil\u2019s in the details\u201d and all that.", "I can imagine a few ways to use those features in our stack/release process but none that jump out at me as being strictly better.", "Fair criticism. Again, though, my point is less to debate the design and more to point out that the design on which you have settled has ramifications that I don\u2019t currently feel are being respected.", "a) it was an unintentional break (we would have done it differently had we known impact)", "Then why not immediately revert and go a different path? I see ", " pull requests to ", " fixing the fallout from this. There were ", " ", " about it. But not until I whined was anything done about it. In my opinion, if it was truly unintentional, it should have been reverted as soon as you noticed breakage.", "I appreciate that things are happening now, thank you both for that. However, I\u2019d like to see some lessons learned and changes made, or this type of thing can easily happen again, further harming ROS 2\u2019s reputation. Defining a tick/tock cycle and sticking to it is a satisfactory change.", "Then why not immediately revert and go a different path?", "Unless I misunderstand (I am not following colcon development extremely closely right now), that is what\u2019s happening. We\u2019re unbreaking people and introducing a warning instead, as soon as possible.", "I see ", " pull requests to ", " fixing the fallout from this, but not until I whined was anything done about it.", "Those were to master (will become Eloquent) which we knew needed to be fixed. Our mistake was failing to imagine what would happen (if anything) to Dashing. Normally we wouldn\u2019t do that. Dirk even asked in a ROS 2 meeting with everyone there and no one thought to bring this up.", "In fact, I think the idea was to make the change and use our nightly to find the problems and fix them, which in retrospect was reckless, but again we didn\u2019t think about the fact that it affected all the distributions immediately. We were in our most commonly correct mindset of \u201cthe latest release only affects master\u201d.", "However, I\u2019d like to see some lessons learned and changes made, or this type of thing can easily happen again. Defining a tick/tock cycle and sticking to it is a satisfactory change.", "Sorry you and others were on the bleeding edge on this one, but I still haven\u2019t heard a suggestion of what to change that we can act on. We already use tick-tock situationally between releases, and in the \u201cextra-distro\u201d python packages where it is possible.", "We would have used that here, but we didn\u2019t notice the issue until too late. I think the plan is to use it now,  retroactively.", "we didn\u2019t think about the fact that it affected all the distributions immediately.", "That\u2019s exactly the ramification of the design choice that I was referring to ", " that I didn\u2019t feel was respected. It\u2019s an easy mistake to make (because you designed it that way), and I see nothing preventing it from happening again. Again, not trying to debate the design, just saying you gotta own it. We\u2019re trying to convince customers that this is the choice for production robotics. \u201cOops, won\u2019t do it again\u201d doesn\u2019t tend to convince customers that well.", "Sorry you and others were on the bleeding edge on this one", "Haha, the stable release is the bleeding edge?", "I think the plan is to use it now, retroactively.", "Alright, thank you.", "Let\u2019s say we created a repo of packages for each maintained ROS 2 distro. These packages are built and their tests are run each time colcon changes. Colcon releases are blocked on those tests being green. That way each time a breakage like this happens, we add a new package/test to ensure it doesn\u2019t happen again.", "Thoughts?", "Then why not immediately revert and go a different path? I see ", " pull requests to ", " fixing the fallout from this. There were ", " ", " about it. But not until I whined was anything done about it.", "Again, making such statements after the fact doesn\u2019t help. Now in retrospect it is easy to state what could have been done differently (nobody argues about that). The numerous PRs were aiming to fix the problems - the scope just got bigger over time - and now we are moving forward with the revert.", "The fact that we do have such an important PR to revert the change pending and it doesn\u2019t get much attention in terms of feedback / review is one part of the problem. When it comes to the build tool or the build system in ROS 2 it often comes down to me doing all the work without others stepping up. I pretty frequently have to beg people to add their +1 in order to get PRs merged. If you ask me that fact is significantly contributing to this problem.", "I think the idea was to make the change and use our nightly to find the problems and fix them, which in retrospect was reckless,", "I don\u2019t think that was ever the intention. A lot of our CI builds turned over just fine because these missing files are only an issue in very specific scenarios.", "Let\u2019s say we created a repo of packages for each maintained ROS 2 distro. These packages are built and their tests are run each time colcon changes. Colcon releases are blocked on those tests being green. That way each time a breakage like this happens, we add a new package/test to ensure it doesn\u2019t happen again.", "We do have numerous CI jobs already. Pretty much all of them can be run (and are being run) for proposed changes. Additionally nightly jobs ensure that the current state works. But as with any kind of automated tests not all cases are covered by those. In some use cases users ran into problem where they used ", " on an installed underlay which lacked some package manifests and therefore didn\u2019t install the necessary dependencies.", "There is a limit to what you can do and cover by automated tests. I am not saying we shouldn\u2019t try. But just stating \u201ccreate a repo with packages and build and test it\u201d isn\u2019t going to cut it imo since it is completely unclear what the difference to the existing CI would be.", "A possibility that is not yet being discussed is the use of virtual environments. Installing colcon and other pure python packages in a virtualenv would allow you to not pollute the system-level site packages.", "Pardon my ignorance, but is it possible to freeze colcon releases for ros2 releases as a separate package instead to putting them in deb files that ", " suggested (or was this what you were suggesting in your latest post)?", "Something like:", "This was users that want the bleeding edge can just use this instead of being on the bleeding edge with the normal package?", "We do have numerous CI jobs already. Pretty much all of them can be run (and are being run) for proposed changes. Additionally nightly jobs ensure that the current state works. But as with any kind of automated tests not all cases are covered by those. In some use cases users ran into problem where they used ", " on an installed underlay which lacked some package manifests and therefore didn\u2019t install the necessary dependencies.", "There is a limit to what you can do and cover by automated tests. I am not saying we shouldn\u2019t try. But just stating \u201ccreate a repo with packages and build and test it\u201d isn\u2019t going to cut it imo since it is completely unclear what the difference to the existing CI would be.", "Look, obviously there\u2019s a gap in the existing tests, which is natural, but we should be able to plug it. Is there already a suite of end-to-end tests that use Dashing + the new Colcon release? If so I\u2019d happily add such a test there.", "I just want a sensible retrospective here. \u201cColcon accidentally broke. We\u2019re awfully sorry about that. In order to help ensure it doesn\u2019t happen again, we _____\u201d. Can we finish that sentence with something other than \u201chope\u201d?", "How long of a tick/tock cycle are we talking?", "Please consider to comment on ", " for this question. I refrained for now from making any suggestions.", "A possibility that is not yet being discussed is the use of virtual environments. Installing colcon and other pure python packages in a virtualenv would allow you to not pollute the system-level site packages.", "is it possible to freeze colcon releases for ros2 releases as a separate package instead to putting them in deb files that ", " suggested (or was this what you were suggesting in your latest post)?", "While that is certainly an option users would need to maintain separate venvs for each ROS distribution. Especially on Debian-based platforms that would mean not using Debian packages for ", ". That in itself posed a huge drawback since the venv doesn\u2019t get updated by the package manager. Imo the overhead pushed onto each and every user significantly outweighs the isolation advantage.", "Is there already a suite of end-to-end tests that use Dashing + the new Colcon release?", "Every existing CI job uses colcon to build a workspace. There are specific jobs for Dashing which by default use the released version of colcon but can be parameterized to use any branch. The problem is that these jobs might not fail for this specific case. Why? Because the tests often don\u2019t require the presence of e.g. the package manifest. The use case described in ", " as an example where the missing manifests were a problem doesn\u2019t exist in the CI jobs which only build a single workspace.", "In the meantime the ", " which had been pending for a while got reviewed, merged and released as ", " 0.1.13 which should be available from Debian as well as PyPI for users to update.", "It really is a shame that Debian doesn\u2019t provide something like Gentoo\u2019s versatile slots and eselect mechanism, but I think it would probably go against the nature of the platform.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Developing colcon is hard because you can essentially never break it as all stable releases are using the same version.", "Using colcon is hard because all stable releases are using the same version which means non-backward-compatible changes hit all users, even those of stable releases."], "url": "https://discourse.ros.org/t/can-we-chat-about-breaking-changes-in-stable-releases/10689"},
{"title": "Ament_lint for pure-python packages?", "thread_contents": ["We\u2019re looking to create a pure-python package that lives outside the ROS2 ecosystem, but are big fans the linting quality held for Python in ROS2 via the ament_lint packages.", "Is there an easy way that a setuptools-only Python package could take advantage of these linter wrappers? They\u2019re not on pip, but I\u2019m wondering 1) how hard it would be to release them to PyPI or 2) if there\u2019s another way we could take advantage of them without a ROS2 installation.", "We\u2019d like to use them on Ubuntu, OSX, and Windows, so the option to just add the ros2 apt repo and install only the ament linters doesn\u2019t seem like a solution, because Mac and Windows only can grab full fat binary installations for all of ROS2 (that I know of)", "This is probably mostly in ", " expertise but if anybody else has ideas I\u2019d like to hear them ", "how hard it would be to release them to PyPI", "While not hard I would rather not duplicate our release effort.", "if there\u2019s another way we could take advantage of them without a ROS2 installation.", "How about installing these package using ", " pointing to the GitHub repos?", "How about installing these package using  ", "  pointing to the GitHub repos?", "Oh - I hadn\u2019t even thought of that! I think that will work perfectly, thanks for the tip!", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ament-lint-for-pure-python-packages/12247"},
{"title": "Spawning a robot entity using a node with Gazebo and ROS 2", "thread_contents": ["I thought this might be helpful for newbies wanting to use ros2 and Gazebo.", "Instead of using a service call or generating a ", " file containing the robot, you can create a node that can place robots in gazebo and use them in a launch file. For this example, I\u2019m going to assume you have the turtlebot3 ros2 files ", " and have done the simulations section of the ", ". To start, go into the ", " folder of the ros2 workspace that you created for the turtlebot3 (As an additional assumption, I will assume the workspace is the same name as the one created in the turtlebot3 guide):", "Next, we are going to make this a python file only, so we will need to change delete the ", " file and create a ", " and ", " file containing the following:", "Now, we edit the ", " file to add the necessary dependencies to run the program:", "Finally, we create our ", " file. Before we do that, however, we need to look at the current structure of our package.", "because in our ", " file we defined the ", " and the ", ", we need to make our package structure look like this:", "Within the second ", " folder will we be placing our ", " file!", "In this node, we will essentially be making the service call within the node like the following:", "I want to give credit to Dirk Thomas (can\u2019t seem to find the link to the code\u2026) for this, because it is a modification of his code that inspired me to do this. Now build using ", ", source the install, and export the path to the turtlebot3 model like this:", "To run the node, we first start a new terminal, source the installation, and start gazebo:", "Notice that we are using ", " instead of ", " as used in the turtlebot3 and other tutorials. That is because only ", " contains the service call to ", "! Finally, back in your original terminal, use the following command to add a robot!", "The first two arguments are the robot\u2019s name in gazebo and a namespace for the robot if you would like to add more than one. Hope that helps!", "EDIT: An initial version of this post used the ", " for the model loaded in gazebo. This version of the sdf file does not work. If you try giving a linear velocity to the model in gazebo, it will results in the wheels rotating off axis\u2026it\u2019s weird. Anyways, the one that works is ", " which I fixed in the ", " code above.", "Thanks for writing up this tutorial ", "You may be interested in ", ", where ", " is adding a similar script to the ", " package. It\u2019s a port from the ", " node from ROS 1, see the ", ".", "Oh nice, thanks Louise! The last time I looked at the guide that section wasn\u2019t on it, but I\u2019m glad that you guys are going to add it. Do you need any help with the pull request?", "Btw, I\u2019m probably going to post more of these guides as I start progressing with my ros2 project. I hope that is ok with everyone.", "Do you need any help with the pull request?", "You\u2019re more than welcome to try it out and leave a review! Thanks ", "You can also launch it directly from launch file. Hope this helps!", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/spawning-a-robot-entity-using-a-node-with-gazebo-and-ros-2/9985"},
{"title": "Clarification / Documentation on Ros2 Message generation", "thread_contents": ["One of my personal projects that I hope to continue work on is a proper swift implementation of RCL. Implementing the core RCL functionality is simple and straightforward, but message generation is still a point of confusion. I tried using some of esteve\u2019s client libraries as a reference, but these are rather old and need updating. I see this in the Roadmap for ros2, \u201cCatch-up message generation for languages not support out-of-the-box.\u201d A lot of the documentation on ros2 Design is also old in this respect. I checked out rclpy and rclcpp\u2019s implementations but these are spread across multiple repo\u2019s and it\u2019s not necessarily clear how the whole process is supposed to work. Should we all be using just .idl now? Are .msg, .srv files still the go-to or are they more legacy? I know updating documentation takes a lot of time and effort, but would anyone be able to help clarify the best current practice for how we are supposed to implement message generation/serialization for community client libraries?", "Catch-up message generation for languages not support out-of-the-box", "You don\u2019t need this feature. You can simply build ROS 2 from source with a custom packages for a new language and it will be used. The item on the roadmap would only enable to e.g. install Debian (which don\u2019t use your custom generator) and then build your custom package which then generates code for the message packages already installed.", "Should we all be using just .idl now? Are .msg, .srv files still the go-to or are they more legacy?", "If you don\u2019t need any of the features which is exclusively available in ", " you should just stick to ", " / ", " / ", " files.", "would anyone be able to help clarify the best current practice for how we are supposed to implement message generation/serialization for community client libraries?", "The high level summary:", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["declare that you package contains a message generator or provides resources needed for generated messages (runtime):\n", "for C++ that is both done by a single package: ", "\n", "for Python these two aspects are separated:\n", "\n", "\n", "\n", " which performs the code generation to be invoked by interface packages", "\n", " performing the code generation\n", "commonly that involved ", " to parse the interface files and then ", " for your target language", "(depending on the targeted language those expanded templates might need to be compiled)", "all the artifacts need to be installed (", " by flags passed from the message package)", "\n"], "url": "https://discourse.ros.org/t/clarification-documentation-on-ros2-message-generation/12044"}
]